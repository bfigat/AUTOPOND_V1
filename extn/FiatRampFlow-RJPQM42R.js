import{a as ke,b as we}from"./chunk-4KFGKT5B.js";import{a as be}from"./chunk-SVW4WYQN.js";import"./chunk-4P3F3ICM.js";import{d as Ce}from"./chunk-VL5EYDTL.js";import{b as Te}from"./chunk-3P3EBL6I.js";import"./chunk-OVQZ6HTN.js";import{b as he}from"./chunk-EQDXPIVC.js";import"./chunk-RBBZHETH.js";import{a as ge}from"./chunk-EQXZ32NI.js";import"./chunk-GS2UJNU3.js";import{Ac as re,_c as ie}from"./chunk-R5HJQXZQ.js";import"./chunk-WFPABEAU.js";import"./chunk-PPMPQKRK.js";import"./chunk-UDFQ3C42.js";import"./chunk-P4LRI3S3.js";import{h as K}from"./chunk-GBKSQA4Y.js";import{a as de,b as me}from"./chunk-ALR5MBQI.js";import{a as se,d as le,h as ce,i as I,k as P}from"./chunk-UFPGJN5T.js";import{$ as ye,C as fe,a as g,b as E,c as pe,k as j,n as L,o as S,t as ue}from"./chunk-BFV33OZC.js";import"./chunk-MT5RYI7C.js";import"./chunk-EMR4O6UP.js";import{Cb as ee,Mb as te,Yb as oe,de as ne,gb as A,gd as ae,yb as Z}from"./chunk-S6KJ2BHO.js";import"./chunk-7ZZNCPHU.js";import{a as H,m as J}from"./chunk-MNQ7RLHG.js";import"./chunk-N7UFQNLW.js";import{D as U}from"./chunk-NMZ7IVPZ.js";import{U as X,V as Y,c as z,ia as G}from"./chunk-H6ILHDLW.js";import{a as M}from"./chunk-7X4NV6OJ.js";import"./chunk-UNDMYLJW.js";import{f as R,h as k,n as w}from"./chunk-3KENBVE7.js";k();w();var D=R(M());k();w();var o=R(M());k();w();var B=R(M());k();w();var m=R(M());var Ae=i=>{if(!i)return E.colors.legacy.textTertiary;if(i>0)return E.colors.legacy.accentSuccess;if(i<0)return E.colors.legacy.accentAlert},Se=m.default.memo(i=>{let{tokenAddress:n,walletAddress:a,balance:s,chainMetadata:e,currencyValue:h,currencyChange:c,isLoadingPrices:y,logoUri:t,name:p,onClick:C,onMouseEnter:b,showCurrencyValues:r=!0,hideEmptyCurrency:l=!1,showBalance:d=!0,symbol:T,type:u,tooltip:_}=i,v=n?K(n):void 0,N=T??v??"",$=h!==void 0?G(h):l?"":"\u2013",O=c!==void 0?G(c,{includePlusPrefix:!0}):l?"":"-",W=d?`${ie(s)} ${N}`:N,F=`${T??(n&&K(n))}`,x=`fungible-token-row-${A.getChainName(e.id).toLowerCase()}-${F}`;return a&&oe(e.id,a)&&(x+=`-${ee(e.id,a)}`),m.default.createElement("div",{className:f.container,"data-testid":x,onMouseEnter:b,onClick:C,role:"button"},m.default.createElement(he,{image:{type:"fungible",src:t,fallback:T||n},tokenType:u,chainMeta:e}),m.default.createElement("div",{className:f.tokenDetailContainer},m.default.createElement("div",{className:f.styledRowTop},m.default.createElement(S,{className:f.textLeft,font:"body",style:f.textLeftStyles},p),r?y?m.default.createElement(j,{font:"caption",width:75,height:8,borderRadius:8}):m.default.createElement(S,{font:"caption",className:f.formattedCurrencyValueText},$):null),m.default.createElement("div",{className:f.styledRowBottom},m.default.createElement(S,{font:"caption",className:f.textLeft,style:{...f.textLeftStyles,color:"#777777"}},W),r?y?m.default.createElement(j,{font:"caption",width:35,height:8,borderRadius:8}):m.default.createElement(S,{font:"caption",className:f.formattedCurrencyChangeText,style:{color:Ae(c)}},O):null)))}),Fe={display:"flex",flexDirection:"row",justifyContent:"space-between",gap:16},f={container:g({backgroundColor:{base:"bgRow",hover:"bgButton"},cursor:"pointer",borderRadius:16,alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"row",gap:12,padding:"base"}),tokenDetailContainer:g({flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",overflow:"hidden"}),styledRow:g({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:16}),styledRowTop:g({...Fe,marginBottom:2}),styledRowBottom:g({...Fe,marginTop:2}),textLeft:g({textAlign:"left",overflow:"hidden",wordBreak:"break-all",whiteSpace:"nowrap"}),textLeftStyles:{WebkitLineClamp:1,WebkitBoxOrient:"vertical",textOverflow:"ellipsis"},formattedCurrencyValueText:g({textAlign:"right",fontWeight:"medium"}),formattedCurrencyChangeText:g({textAlign:"right"})};var q=B.default.memo(i=>{let{data:n,index:a,style:s}=i,{listItems:e,moveToNextPage:h,availableAddresses:c}=n,y=e[a],{token:t,addressType:p}=y,{caip19:C}=t,{chainId:b}=C,r=t.caip19.resourceType==="address"?t.caip19.address:void 0,l=c?.find(d=>p?d.addressType===p&&d.networkID===b:d.networkID===b)?.address??"";return B.default.createElement("div",{key:`${t.symbol}-${t.caip19.chainId}-${r}-${a}`,style:s?{...s,top:`${parseFloat(s.top)+ke}px`}:void 0},B.default.createElement(Se,{chainMetadata:Z(t.caip19.chainId),logoUri:t.logoURI,name:t.name??"",symbol:t.symbol,tokenAddress:r,walletAddress:l,onClick:()=>h(y),type:re(t.caip19),showBalance:!1,showCurrencyValues:!1,balance:new z(0),currencyValue:void 0,currencyChange:void 0}))},Ce);var Ie=({onSelect:i})=>{let{t:n}=J(),{fiatRampGroupedTokens:a,isSearching:s,searchResults:e,handleSearch:h,moveToNextPage:c,isLoading:y,availableAddresses:t,enabledAddressTypes:p}=ve({onSelect:i}),C=P(),b=(0,o.useMemo)(()=>s?o.default.createElement(L,{gap:8,marginTop:16,marginBottom:96},e.map(({token:r,addressType:l},d)=>l&&!p.includes(l)?null:o.default.createElement(q,{key:`${r.symbol}-${r.caip19.chainId}-${d}`,index:d,data:{listItems:e,moveToNextPage:c,availableAddresses:t}}))):o.default.createElement(o.default.Fragment,null,o.default.createElement(ge,null),a?.groups?.map((r,l)=>o.default.createElement(L,{key:`${r.groupName}-${l}`,gap:8,marginTop:l===0?16:24,marginBottom:l===a.groups.length-1?96:0},o.default.createElement(S,{font:"bodyMedium",color:"textSecondary",align:"left",children:r.groupName}),r.tokens.map(({token:d,addressType:T},u)=>T&&!p.includes(T)?null:o.default.createElement(q,{key:`${d.symbol}-${d.caip19.chainId}-${u}`,index:u,data:{listItems:r.tokens,moveToNextPage:c,availableAddresses:t}}))))),[t,p,a?.groups,s,c,e]);return o.default.createElement(we,{isLoading:y,isEmpty:e.length===0,emptyStateText:n("noBuyOptionsAvailableInCountry"),header:o.default.createElement(fe,{id:"search",label:"Search",showLabel:!1,placeholder:n("assetListSearch"),onChange:h,maxLength:te},o.default.createElement(pe.Search,{size:16,color:"textSecondary"})),content:b,footer:o.default.createElement(L,null,o.default.createElement(ue,{onClick:()=>void C.popStack()},n("commandClose")))})},xe=Ie,ve=({onSelect:i})=>{let{setState:n}=I(),{data:a}=ne(),s=Array.from(new Set(a?.addresses?.map(u=>u.addressType))),e=ae(),{data:h,isLoading:c,isError:y}=de("web-embedded",U,H.language),{data:t=[]}=me("web-embedded",U,H.language),[p,C]=(0,o.useState)(""),b=X(p)??"",r=u=>C(u.currentTarget.value),l=p.length>0,d=Y(t,b,se),T=u=>{let{token:_,addressType:v,quickSelectDenominations:N}=u,{name:$,symbol:O,caip19:W}=_,{chainId:F}=W,x=a?.addresses.find(V=>v?V.addressType===v&&V.networkID===F:V.networkID===F)?.address??"";A.isEVMNetworkID(F)&&(x=x.toLowerCase()),e.capture("fiatOnrampFungibleSelected",{data:{networkId:F,chainId:A.getChainID(F),asset:{name:$,symbol:O,type:"fungible"}}}),n({...ce,ownerPublicKey:x,fungible:_,quickSelectDenominations:N??le}),i()};return Te(()=>void e.capture("fiatOnrampInitiated")),{fiatRampGroupedTokens:h,isSearching:l,searchResults:d,handleSearch:r,moveToNextPage:T,isLoading:c||y,availableAddresses:a?.addresses,enabledAddressTypes:s}};var bt=()=>{let i=P(),n=I(e=>e.fungible),a=I(e=>e.reset),s=()=>{a(),i.popStack()};return D.default.createElement(ye,{onClose:s,initialStep:n==null?0:1},[({nextStep:e})=>D.default.createElement(xe,{onSelect:e}),()=>D.default.createElement(be,{onClose:s})])};export{bt as FiatRampFlow};
//# sourceMappingURL=FiatRampFlow-RJPQM42R.js.map
