import{O as et,c as Y,d as x,e as P,f as D,g as b,h as E,r as tt}from"./chunk-ZSQU2ZM6.js";import{c as H}from"./chunk-PKAXVJFX.js";import{F as _,Qa as V,Ra as h,Va as X,Wa as q,Xa as j,Ya as z,cb as Z,fa as W,ha as G,l as F,m as R,q as U,qa as K,r as $,t as O}from"./chunk-R5HJQXZQ.js";import{d as J,h as Q}from"./chunk-PPMPQKRK.js";import{K as S,L as g,c as gt,gb as T,gd as v,r as yt}from"./chunk-S6KJ2BHO.js";import{p as B}from"./chunk-7ZZNCPHU.js";import{N as M,X as L,Y as Tt}from"./chunk-H6ILHDLW.js";import{f as C,h as n,l as ft,m as Buffer,n as o}from"./chunk-3KENBVE7.js";n();o();n();o();var I=C(gt(),1);var nt=C(yt(),1);var rt=(0,I.struct)([(0,I.u8)("instruction"),X("amount")]);function ot(t,e,r,a,i=[],l=h){let s=j([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),m=Buffer.alloc(rt.span);return rt.encode({instruction:q.Burn,amount:BigInt(a)},m),new nt.TransactionInstruction({keys:s,programId:l,data:m})}var bt=({t,apiErrors:e,clientErrors:r})=>{let a={title:t("collectiblesSellStatusErrorTitle"),subtitle:t("collectiblesSellStatusErrorSubtitle")};return e.isSellErrorCode?e?.sellStepsError?.code===1?{title:t("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:t("collectiblesSellRecentlyTransferedNFTSubtitle")}:e?.sellStepsError?.code===3?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:e?.sellStepsError?.code===9?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:a:r.hasEnoughGas?r.executeSellError?r.executeSellError.message===et?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:a:null:{title:t("collectiblesSellInsufficientFundsTitle"),subtitle:t("collectiblesSellInsufficientFundsSubtitle")}};n();o();var Ct=t=>E(t)?t.standard==="ERC1155":b(t)?t.standard==="SemiFungible":!1;n();o();var St=t=>t.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim(),ht=(t,e)=>{if(t.name&&t.name.length>0)return t.name;if(t.externalUrl){let r=M({url:t.externalUrl,format:"domain"});if(r)return r}if(e?.name){let r=St(e.name);if(r)return r}if(e?.symbol)return e.symbol};n();o();var k=C(ft());n();o();async function at(t){let{mint:e}=t,r=new S.Transaction,a=await tt({networkID:"solana:101",mintAddress:e});return r.add(await U({...t,...a})),r}var It=async({mintAddress:t,owner:e,amountToBurn:r,collectionPubKey:a,tokenEdition:i,compression:l,programId:s,isProgrammable:m,connection:A})=>{let u=new S.Transaction,p=new g.PublicKey(t),d=await z(p,e);if(l?.compressed)return at({compression:l,mint:t});if(s===R)return V({mint:t,connection:A,owner:e.toBase58()});if(m)return O({senderAddress:e,senderAccount:d,mintAddress:new g.PublicKey(t)});if(i===null||!Y(i)){let f=ot(d,p,e,r),y=H(d,e,e);u.add(f,y)}else{let f=k.Buffer.from(p.toBytes()),y=x(f),lt=P(f),w;if(a!==null){let ut=new g.PublicKey(a),dt=k.Buffer.from(ut.toBytes());w=D(dt)}let ct={metadata:y,owner:e,mint:p,tokenAccount:d,masterEditionAccount:lt,splTokenProgram:h,collectionMetadata:w},{createBurnNftInstruction:mt}=await $(),pt=mt(ct,F);u.add(pt)}return u},At=async({mintAddress:t,owner:e,amountToBurn:r,collectionPubKey:a,tokenEdition:i,chainId:l,compression:s,programId:m,isProgrammable:A})=>{let u=G(l),p=await It({mintAddress:t,owner:e,amountToBurn:r,collectionPubKey:a,tokenEdition:i,compression:s,programId:m,isProgrammable:A,connection:u});p.recentBlockhash=(await u.getLatestBlockhash("confirmed")).blockhash,p.feePayer=e;let d=await K(p,{connection:u}),f=await Z(l,[d.compileMessage()]),y=_(f);return{burnTxWithPriority:d,networkFeeUiAmount:y}};n();o();function it({chainID:t,amount:e,collectible:r,symbol:a}){let i=Q(t);switch(i.chainName){case"solana":return{...i,asset:{amount:e.toString(),mint:"mint"in r?r.mint:"UNKNOWN",symbol:a,type:"collectible"}};case"ethereum":case"polygon":case"base":case"monad":return{...i,asset:{amount:e.toString(),address:"contract"in r?r.contract:"UNKNOWN",symbol:a,type:"collectible"}};case"bitcoin":return{...i,asset:{id:"firstCreatedInscriptionId"in r?r.firstCreatedInscriptionId:"UNKNOWN",symbol:a,type:"collectible"}};case"sui":return{...i,asset:{amount:e.toString(),address:"not yet implemented",symbol:a,type:"collectible"}}}}n();o();var xt="list",st=t=>new J(t,xt),Pt=L(v,t=>st(t));n();o();n();o();n();o();var Dt=(t,e="standard",r,a,i,l,s)=>{if(T.isEVMNetworkID(t)){let m=W.get(t).transactionSpeedSeconds(e);return{ownerAddress:r.address,networkID:t,data:{hash:"",nonce:"",unsignedTransaction:B.parse({from:r.address}),estimatedTimeToMineInSeconds:m},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${l} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}},detail:{header:`${l} ${a}`,uiRecipient:i}}}}else{if(T.isSolanaNetworkID(t))return{ownerAddress:r.address,networkID:t,data:{signature:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${l} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}}}};if(T.isBitcoinNetworkID(t))return{ownerAddress:r.address,networkID:t,data:{txID:"",psbtHex:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${l} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}}}};if(T.isSuiNetworkID(t))return{ownerAddress:r.address,networkID:t,data:{digest:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${l} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${t}}`)}};n();o();var Et=(t,e)=>{if(b(t.chainData))return{standard:t.chainData.standard,pubkey:t.chainData.tokenAccount,mintPubKey:t.chainData.mint,ownerPubKey:e,decimals:parseInt(t.decimals??"0",10),amount:t.balance??"0",delegate:null,delegatedAmount:"",logoURI:null,name:t.name??null,symbol:t.symbol??null,state:"initialized",collectionPubKey:t.collection.id,uses:null,creators:[],uri:t.uri??"",collectionName:t.collection.name??void 0,collectibleImage:t.media?.previews?.medium??void 0}};n();o();var N=C(Tt()),kt=1e6,Nt=1e4,wt=t=>t>kt?">1M":t<Nt?(0,N.default)(t).format("0,0.[000]"):(0,N.default)(t).format("0.[0]a").toUpperCase();n();o();export{bt as a,Ct as b,Dt as c,ht as d,Et as e,wt as f,At as g,it as h,Pt as i};
//# sourceMappingURL=chunk-UFMTTPZ2.js.map
