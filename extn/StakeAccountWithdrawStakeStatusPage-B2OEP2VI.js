import{a as F}from"./chunk-6NE4K622.js";import{a as f}from"./chunk-4KHCU4YV.js";import{a as z,b as v,c as B}from"./chunk-FILAMIP6.js";import"./chunk-E4RFPRVO.js";import"./chunk-DQ537XS3.js";import"./chunk-SHAEZV7V.js";import{e as H,j as _}from"./chunk-RNS57IWG.js";import"./chunk-RE3FKPVD.js";import"./chunk-X5D7DNCH.js";import"./chunk-3P3EBL6I.js";import"./chunk-7PWA24OU.js";import"./chunk-7KE5H3S3.js";import"./chunk-W27Z2YZM.js";import{b as m}from"./chunk-VDM5O2ZT.js";import"./chunk-7ZVEM3WY.js";import"./chunk-BL5NQCM4.js";import{db as h}from"./chunk-ONJA4ZEG.js";import"./chunk-RBBZHETH.js";import"./chunk-2THQDEWP.js";import{t as O}from"./chunk-O5D25TI4.js";import"./chunk-PKAXVJFX.js";import"./chunk-DUJHHCZR.js";import"./chunk-BTKBODVJ.js";import{g as I,h as P,ia as x,ja as N}from"./chunk-R5HJQXZQ.js";import"./chunk-WFPABEAU.js";import"./chunk-PPMPQKRK.js";import"./chunk-UDFQ3C42.js";import"./chunk-P4LRI3S3.js";import"./chunk-GBKSQA4Y.js";import"./chunk-MT5RYI7C.js";import"./chunk-EMR4O6UP.js";import{L as w,de as L,gb as y}from"./chunk-S6KJ2BHO.js";import"./chunk-7ZZNCPHU.js";import{m as b}from"./chunk-MNQ7RLHG.js";import"./chunk-N7UFQNLW.js";import"./chunk-NMZ7IVPZ.js";import"./chunk-H6ILHDLW.js";import{a as J}from"./chunk-7X4NV6OJ.js";import"./chunk-UNDMYLJW.js";import{f as G,h as D,n as E}from"./chunk-3KENBVE7.js";D();E();var t=G(J());var X=r=>{let s={stakePubkey:r.stakeAccountPubkey,amount:r.amount,usdPerSol:r.usdPerSol,onClose:r.onClose},{t:e}=b(),{withdrawStake:c,needsLedgerApproval:d,txHash:n,confirmationStatus:i,isError:u,error:l,onDeny:a}=Y(s);if(d)return t.default.createElement(v,{ledgerAction:c,cancel:a});if(u){let o=l,k=o?.message,S=z(o),A=o?.message.includes(P),C=o?.message.includes(I);return S?t.default.createElement(B,{ledgerActionError:o,onRetryClick:c,onCancelClick:a}):A||C?t.default.createElement(F,{onCancelClick:a}):t.default.createElement(m,{icon:"error",title:e("stakeAccountWithdrawStakeWithdrawalFailed"),onClose:a,showButton:!!n},t.default.createElement(h,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},k??e("stakeAccountWithdrawStakeWithdrawalFailedDescription")),t.default.createElement(f,{txHash:n},e("stakeAccountWithdrawStakeViewTransaction")))}return i==="confirmed"||i==="finalized"?t.default.createElement(m,{icon:"success",title:e("stakeAccountWithdrawStakeSolWithdrawn"),onClose:r.onClose,iconSize:"large"},t.default.createElement(h,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},e("stakeAccountWithdrawStakeSolWithdrawnDescription.part1"),t.default.createElement("br",null)," ",e("stakeAccountWithdrawStakeSolWithdrawnDescription.part2")),t.default.createElement(f,{txHash:n},e("stakeAccountWithdrawStakeViewTransaction"))):t.default.createElement(m,{icon:"loading",title:e("stakeAccountWithdrawStakeWithdrawingSol"),onClose:r.onClose,iconSize:"large"},t.default.createElement(h,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},e("stakeAccountWithdrawStakeWithdrawingSolDescription")),t.default.createElement(f,{txHash:n},e("stakeAccountWithdrawStakeViewTransaction")))},ht=X,Y=({onClose:r,...s})=>{let{data:e,isSuccess:c}=L(),{accountIdentifier:d,isLedgerAccount:n,solanaChainAddress:i,solanaPublicKey:u,connection:l,networkID:a}=(0,t.useMemo)(()=>{let V=e?.identifier??"",p=(e?.addresses??[]).find(q=>y.isSolanaNetworkID(q.networkID)),Q=new w.PublicKey(p?.address??""),U=e?.type==="ledger",T=p?.networkID,j=x(N(T));return{accountIdentifier:V,isLedgerAccount:U,solanaChainAddress:p,solanaPublicKey:Q,connection:j,networkID:T}},[e]),o=_(l),k=(0,t.useCallback)(()=>{o.mutate({...s,accountIdentifier:d,senderAddress:i,stakePubkey:new w.PublicKey(s.stakePubkey),authorizedPubkey:u})},[d,s,i,u,o]),S=O(),A=(0,t.useCallback)(()=>{S.denied({chainType:"solana",chainName:"solana",networkId:y.getSolanaNetworkIDValue(a),type:"withdraw"}),r()},[a,r,S]);(0,t.useEffect)(()=>{if(c){if(!e||!i)throw new Error("Selected account undefined when trying to perform stake transaction.");n||k()}},[c]);let W=o.data?.id,g=H(l,2e3,W),K=n&&(o.isIdle||o.isPending),M=g.data?.value?.confirmationStatus;return{withdrawStake:k,onDeny:A,needsLedgerApproval:K,txHash:W,confirmationStatus:M,isError:o.isError||g.isError,error:o.error||g.error}};export{X as StakeAccountWithdrawStakeStatusPage,ht as default};
//# sourceMappingURL=StakeAccountWithdrawStakeStatusPage-B2OEP2VI.js.map
