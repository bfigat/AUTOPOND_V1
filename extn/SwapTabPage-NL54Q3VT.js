import{a as Kt}from"./chunk-RYC3X2PY.js";import{d as Zt,e as jt}from"./chunk-Z4DXHJCM.js";import"./chunk-CBWWDRZS.js";import{a as Te,b as Yt,c as Ie}from"./chunk-4JSROWN4.js";import{a as Xt}from"./chunk-KO76HHMR.js";import{a as Ke}from"./chunk-JCAQA4CC.js";import{J as $t,P as _t,Q as Qe,W as Ut,c as Qt,ca as Ht,d as fe,ja as qt,ma as Gt,s as ve,xa as Ye,za as K}from"./chunk-R3TVD7ZG.js";import"./chunk-5L73R4BT.js";import"./chunk-KZ5DTHAI.js";import"./chunk-KTETFJNC.js";import{a as ke}from"./chunk-MZXI3U4A.js";import"./chunk-DDDNAWUZ.js";import"./chunk-YEA3RDR6.js";import"./chunk-XQXZVJWW.js";import"./chunk-6OVSPI3T.js";import"./chunk-U2ESYN6B.js";import"./chunk-MVPAPIC5.js";import"./chunk-FQHIVBIR.js";import{o as re,q as We}from"./chunk-WF7GYM4L.js";import"./chunk-M5BU2PW7.js";import"./chunk-44CPIUAN.js";import{h as j}from"./chunk-D4L3JZNR.js";import"./chunk-2LWT7HCH.js";import{a as Xe}from"./chunk-IWKHOUY6.js";import{f as Ge}from"./chunk-KLYKJSXB.js";import"./chunk-64KUFJMR.js";import{a as Vt}from"./chunk-QCLMZS5E.js";import"./chunk-FTVLZLLN.js";import"./chunk-WGGKE3W4.js";import"./chunk-5ANSHKRX.js";import{Ea as bt,Ga as xt,Va as Pt,Vb as It,Wa as Ft,Wb as At,Ya as Ct,Yb as qe,Za as vt,Zb as Dt,_ as Ee,ba as Me,cc as Nt,dc as Lt,ea as ft,fc as Bt,gc as Et,ha as wt,ia as rt,ra as St,rb as kt,sa as yt,ub as Tt,xa as ht,ya as He}from"./chunk-DC74PDKK.js";import"./chunk-SYKKPS5X.js";import"./chunk-N37TUQ6O.js";import"./chunk-6QNUOYSW.js";import"./chunk-T66NYVB2.js";import"./chunk-CXKBWI2Z.js";import"./chunk-T7KN34I4.js";import{Ca as Ce,X as gt}from"./chunk-4MBFYWFI.js";import"./chunk-DR6UT56S.js";import"./chunk-54A4UP2W.js";import"./chunk-CWW3WR5J.js";import"./chunk-K5JGLO2R.js";import{c as Ot}from"./chunk-SOBOWLRY.js";import{C as zt,db as nt,j as Mt,l as Wt,m as U}from"./chunk-OA5YQ6R3.js";import"./chunk-6QC2YHQA.js";import"./chunk-TEXQAPAF.js";import"./chunk-IHGFL7KF.js";import"./chunk-2UCAAWZM.js";import"./chunk-OYJH24PS.js";import{c as dt}from"./chunk-FVJIE3BT.js";import"./chunk-MW7L7CKT.js";import"./chunk-GYYECUZK.js";import"./chunk-XA7AAXB6.js";import"./chunk-C5GK3F6I.js";import{Ef as _e,Te as mt,Wb as ot,df as $e,nb as xe,tb as le}from"./chunk-S3GUIRR4.js";import"./chunk-JAJRGPOT.js";import{$ as M,T as tt,l as ct}from"./chunk-AG2PIQR6.js";import{Ca as A,Ea as P,Ha as se,Ia as c,Ja as v,M as m,Mb as Fe,R as S,c as x,eb as ut,ib as te,nb as ce,ob as Ue,pb as oe,qb as Pe}from"./chunk-DAZNTGG2.js";import"./chunk-2POO4JJE.js";import"./chunk-PQWATTJB.js";import"./chunk-OLIHMAK6.js";import{f as b,h as p,n as l}from"./chunk-YJSZZTEX.js";p();l();var T=b(x());p();l();var L=b(x());p();l();var pe=b(x()),_o=pe.default.memo(({retryString:e,message:t,errorCode:o,onRetry:r})=>o==="InsufficientSellAmount"?pe.default.createElement(c,{width:"100%"},pe.default.createElement(Fe,{level:"1-critical-alert"},t)):pe.default.createElement(c,{gap:10,width:"100%"},pe.default.createElement(c,{width:"100%"},pe.default.createElement(Fe,{level:"2-alert",actions:[{children:e,onPress:r}]},t)))),Jt=pe.default.memo(({message:e,errorCode:t,onRetry:o})=>{let{t:r}=S(),n=r("swapQuestionRetry");return pe.default.createElement(_o,{retryString:n,message:e,errorCode:t,onRetry:o})});p();l();var Oe=b(x());p();l();var Q=b(x());var Rt={disclaimerText:A({textAlign:"left"}),secondaryTooltipText:A({textAlign:"left",marginLeft:4,marginRight:4})},eo=({networkFee:e,tokenAccountFee:t,bridgeFee:o,phantomFeePercent:r,destinationNetworkFee:n,liquidityProviderFee:i})=>Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(ze,{...e}),Q.default.createElement(ze,{...o}),Q.default.createElement(ze,{...t}),Q.default.createElement(ze,{...n}),Q.default.createElement(ze,{...i}),r?.value&&Q.default.createElement(v,{className:Rt.disclaimerText,font:"captionItalic",color:"textTertiary",children:r.label})),ze=({label:e,maxValueUsd:t,valueUsd:o})=>{let{t:r}=S();return o?Q.default.createElement(We,null,Q.default.createElement(re,null,e,t&&Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(v,{children:` ${r("swapperMax")} \xB7 `,className:Rt.secondaryTooltipText,color:"textTertiary",font:"captionItalic"}),Q.default.createElement(fe,{color:"textTertiary",font:"captionItalic",minimumResolutionValue:1e-4,value:t}))),Q.default.createElement(re,null,Q.default.createElement(fe,{font:"caption",minimumResolutionValue:1e-4,value:o}))):null};p();l();var we=b(x());var at={row:A({display:"flex",flexDirection:"row",minWidth:0}),iconContainer:A({position:"relative",top:1,marginLeft:4})},to=({label:e,tooltipContent:t,isLoading:o,value:r,disabled:n,onClick:i,accessoryIcon:s})=>{let a=s?we.default.createElement("span",null,s==="chevron-right"?we.default.createElement(se.ChevronRight,{className:at.iconContainer,color:"textSecondary",size:16}):we.default.createElement(se.Swap,{className:at.iconContainer,color:"textSecondary",size:16})):null;return we.default.createElement(Te,{label:e,tooltipContent:t,isLoading:o,onClick:n?void 0:i},we.default.createElement("div",{className:at.row},we.default.createElement(Ie,null,r),n?null:a))};p();l();var V=b(x());var oo=({label:e,value:t,tooltipContent:o,onClick:r})=>{let[n,i]=(0,V.useState)(t),[s,a]=(0,V.useState)(!1),g=(0,V.useRef)(!1);(0,V.useEffect)(()=>{if(t===n)return;if(g.current){g.current=!1,i(t);return}a(!0);let w=setTimeout(()=>{let F=setTimeout(()=>{a(!1),i(t)},150);return()=>clearTimeout(F)},150);return()=>clearTimeout(w)},[n,t]);let u=(0,V.useMemo)(()=>s?V.default.createElement(ke,{width:"75px",height:"15px",borderRadius:"50px",backgroundColor:P.colors.legacy.borderSecondary}):V.default.createElement(Ie,{onClick:()=>{r&&(g.current=!0,r())}},n),[s,r,n]);return V.default.createElement(c,{direction:"row",gap:16,backgroundColor:"bgRow",padding:16,alignItems:"center",justifyContent:"space-between"},V.default.createElement(Ke,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:400,info:o?V.default.createElement(Yt,{tooltipContent:o}):null,textColor:P.colors.legacy.textPrimary},e),u)};p();l();var ro=b(x()),no=e=>{switch(e.type){case"provider":return{type:"generic",label:m.t("swapFeesProvider"),isLoading:e.isFetchingQuote,value:e.provider,tooltipContent:m.t("swapFeesProviderDisclaimer")};case"providerPressable":return{type:"generic",label:m.t("swapFeesProvider"),isLoading:e.isFetchingQuote,value:e.provider,accessoryIcon:"chevron-right",disabled:!e.selectProviderEnabled,onClick:e.showProviders,tooltipContent:m.t("swapFeesProviderDisclaimer")};case"exchangeRate":return{type:"generic",label:m.t("swapFeesRate"),tooltipContent:m.t("swapFeesRateDisclaimerMultichain"),isLoading:e.isFetchingQuote,value:e.exchangeRate.rate,onClick:e.exchangeRate.flip,accessoryIcon:"swap"};case"pricing":return{type:"generic",label:m.t("swapFeesPricing"),tooltipContent:m.t("swapFeesRateDisclaimerMultichain"),value:e.exchangeRate.rate,isLoading:e.isFetchingQuote,accessoryIcon:"chevron-right",onClick:e.showSwapPricing};case"slippage":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapFeesSlippage"),value:e.slippage?`${e.slippage.prefix}${e.slippage.text}`:void 0,tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage})};case"slippagePressable":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapFeesSlippage"),value:e.slippage?`${e.slippage.prefix}${e.slippage.text}`:void 0,tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage}),onClick:e.showSwapSettings,accessoryIcon:"chevron-right"};case"priceImpact":return{type:"generic",isLoading:e.isFetchingQuote,value:e.priceImpact?.text,label:m.t("swapFeesPriceImpact"),tooltipContent:m.t("swapFeesPriceImpactDisclaimer")};case"network":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("nounNetwork"),value:`${e.sellNetwork} \u2794 ${e.buyNetwork}`};case"executionDuration":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapEstimatedTimeShort"),value:e.uiEstimatedTime,tooltipContent:m.t("swapEstimatedTimeDisclaimer")};case"fees":return{type:"generic",label:m.t("swapFeesFees"),isLoading:e.isFetchingQuote||e.fees.isFetchingFees,value:ro.default.createElement(fe,{font:"caption",value:e.fees.totalFees.amountUsd})};case"highPriceImpact":return{type:"warning",isLoading:e.isFetchingQuote,value:e.priceImpact?.text,label:m.t("swapFeesHighPriceImpact"),tooltipContent:m.t("swapFeesPriceImpactDisclaimer")};case"highSlippage":return{type:"warning",isLoading:e.isFetchingQuote,value:e.slippage?.text,label:m.t("swapFeesHighSlippage"),tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage})};case"transferFees":return{type:"warning",isLoading:e.isFetchingQuote,value:`${e.transferFees.totalPercentFees}%`,label:m.t("swapTransferFee"),tooltipContent:e.transferFees.fees.length>1?m.t("swapTransferFeeDisclaimerMany",{feePercent:e.transferFees.totalPercentFees}):m.t("swapTransferFeeDisclaimer",{symbol:e.transferFees.fees[0].symbol,feePercent:e.transferFees.fees[0].percentFee})}}};p();l();var Ze=b(x());var ao=({label:e,tooltipContent:t,isLoading:o,value:r})=>Ze.default.createElement(Te,{label:e,icon:Ze.default.createElement(zt,{width:"14",height:"14",fill:P.colors.legacy.bgWallet}),tooltipContent:t,customBackground:P.colors.legacy.accentWarning,color:P.colors.legacy.bgWallet,isLoading:o},Ze.default.createElement(Ie,{color:P.colors.legacy.bgWallet},r));var io=e=>{let t=no(e);switch(t?.type){case"generic":let o=t,r=e.type==="fees"?e.feeBreakdown&&Oe.default.createElement(eo,{...e.feeBreakdown}):o.tooltipContent;return e.rowDisplayStrategy===0?Oe.default.createElement(to,{tooltipContent:r,...t}):Oe.default.createElement(oo,{tooltipContent:r,...t});case"warning":return Oe.default.createElement(ao,{...t});default:return null}};var qo=e=>{let{t}=S(),{handleShowModalVisibility:o}=K(),r=(0,L.useCallback)(()=>{o("swapProviders",void 0,{event:"showSwapModal",payload:{data:{uiContext:"SwapProviders"}}})},[o]),n=(0,L.useCallback)(()=>{o("swapSettings")},[o]),i=(0,L.useCallback)(()=>{o("swapPricingLegacy")},[o]),s=At({isSwapReview:e,showProviders:r,showSwapSettings:n,showSwapPricing:i}),{exchangeRate:a,fees:g}=s,u=a.rate?a.isBestRate?P.colors.legacy.accentSuccess:P.colors.legacy.textPrimary:"",w=Ct(g);return{...s,exchangeRateColor:u,feeBreakdown:w,isSwapReview:e,showSwapProvidersModal:r,t}},Go=L.default.memo(({displayPhantomFeeRow:e,fees:t,isFetchingQuote:o,rows:r,t:n,sharedRowProps:i,rowDisplayStrategy:s})=>{let a=!!t.phantomFee.pct,g=(0,L.useMemo)(()=>{switch(s){case 1:return e&&a;case 0:return e&&a&&!o}},[o,e,a,s]),u=r.map((w,F)=>L.default.createElement(io,{key:`r-${F}`,...i,type:w,rowDisplayStrategy:s}));return L.default.createElement(c,{gap:1,width:"100%"},L.default.createElement(c,{borderTopRadius:8,borderBottomRadius:8,gap:1,overflow:"hidden"},u),g?L.default.createElement(c,{borderBottomRadius:8,overflow:"hidden"},L.default.createElement(Te,{customBackground:P.colors.legacy.bgWallet,fontWeight:400,lineHeight:18,label:n("swapQuoteFeeDisclaimer",{feePercentage:M(t.phantomFee.pct)}),tooltipContent:n("swapFeesPhantomFeeDisclaimer",{feePercentage:M(t.phantomFee.pct)}),color:P.colors.legacy.textSecondary})):null)}),Xo=({isSwapReview:e,rowDisplayStrategy:t})=>{let o=qo(e);return L.default.createElement(Go,{...o,rowDisplayStrategy:t})},so={direction:"row",marginY:10,width:"100%"},po=({isSwapReview:e,rowDisplayStrategy:t})=>{let o=Ee(s=>s.hasNoRoutes),r=Ee(s=>s.error),{clearQuotes:n}=ht(),i=(0,L.useCallback)(()=>{n()},[n]);return r&&o?L.default.createElement(c,{...so},L.default.createElement(Jt,{message:r.message,errorCode:r.code,onRetry:i})):L.default.createElement(c,{...so},L.default.createElement(Xo,{isSwapReview:e,rowDisplayStrategy:t??0}))};p();l();var H=b(x());p();l();var D=b(x());p();l();var Yo=b(x());var ne=U.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,Qn=U.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var Wn=U.div`
  color: ${P.colors.legacy.accentPrimary};
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: ${P.colors.legacy.bgButton};
  }
`;p();l();var $=b(x()),ae=({input:e,isLoading:t,onSelectorPress:o,perspective:r,selectorIcon:n,selectorLabel:i,spamStatus:s,accessories:a,footer:g})=>{let{t:u}=S(),w=u(r==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),F=(0,$.useMemo)(()=>{if(a)return $.default.createElement(c,{display:"flex",direction:"row",alignItems:"center",gap:6,marginTop:6},a)},[a]);(0,$.useEffect)(()=>{r==="buy"?Me.markFrame("buyTokenUpdated"):Me.markFrame("sellTokenUpdated")},[i,r]);let C=$.default.createElement(c,{display:"flex",direction:"column",gap:0,backgroundColor:"bgRow",borderRadius:"table",padding:20},$.default.createElement(v,{font:"labelSemibold",color:"textTertiary",children:w}),$.default.createElement(c,{display:"flex",direction:"row",alignItems:"center",minHeight:48},e,$.default.createElement(c,{flex:1}),t?$.default.createElement(oe,{width:112,height:24}):$.default.createElement(c,{onPress:o,display:"flex",gap:8,direction:"row",backgroundColor:{base:"gray",hover:"borderPrimary"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer",testID:`${r}-token-button`},n,$.default.createElement(Qt,{spamStatus:s,children:i,font:"captionSemibold"}),$.default.createElement(se.ChevronDown,{size:14}))),F);return Ko(C,g)},Ko=(e,t)=>t?$.default.createElement(c,{direction:"column",backgroundColor:"bgRow",borderRadius:"table"},e,t):e;p();l();var me=b(x()),lo=({warnings:e})=>{let{t}=S();if(e.length===0)return null;let o=e[0],r=s=>{switch(s.level){case"warn":return{backgroundColor:"accentWarning",textColor:"bgWallet"};case"info":return{backgroundColor:"bgRow",textColor:"textPrimary"}}},{backgroundColor:n,textColor:i}=r(o);return me.default.createElement(me.default.Fragment,null,me.default.createElement(c,{width:"100%",height:1,backgroundColor:"bgWallet"}),me.default.createElement(c,{gap:8,direction:"row",backgroundColor:n,padding:"screen",borderBottomRadius:"table"},me.default.createElement(c,{flexShrink:0},me.default.createElement(se.AlertTriangle,{color:i,size:18})),me.default.createElement(v,{flexShrink:1,font:"caption",color:i,children:t(o.titleKey,o.options)})))};p();l();var Ae="_4ag7710",co=32,mo="_4ag7712 _4ag7711 _51gaznxf _51gazn13m _51gaznyw";p();l();var ue=b(x()),uo={secondaryContainer:A({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),pointer:A({cursor:"pointer"})},go=({isLoading:e,usdAmount:t,cryptoSubtitle:o,supportsCurrencyDenominationSwitching:r,switchCurrencyDenomination:n})=>{let i=Ee(a=>a.primaryCurrency),s=(0,ue.useMemo)(()=>e?ue.default.createElement(oe,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"}):i==="crypto"&&t!==void 0?ue.default.createElement(fe,{font:"caption",color:"textSecondary",value:t,intlNumberFormatOptions:{notation:"compact"}}):i==="fiat"&&o?ue.default.createElement(v,{font:"caption",color:"textSecondary",children:o}):null,[o,i,e,t]);return ue.default.createElement("div",{className:uo.secondaryContainer,onClick:n},s,r?ue.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderPrimary"},color:"textSecondary",className:uo.pointer}):null)};var it={filters:A({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),currencyPrefix:A({marginRight:2}),accessoryContainer:A({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:A({flex:1})},fo=({asset:e,perspective:t,onInputChange:o,onFungibleTap:r,onFilterTap:n,switchCurrencyDenomination:i,onBalanceTap:s})=>{let{amount:a,balance:g,fungible:u,isAmountEditable:w,isAmountLoading:F,isSecondaryCryptoSubtitleLoading:C,isWarning:d,secondaryCryptoSubtitle:y,amountPrefix:k,selectedFilter:f,filters:I,supportsCurrencyDenominationSwitching:X,usdAmount:R}=e,{t:ee}=S(),_=D.default.createElement(ve,{image:{type:"fungible",src:u.data?.logoUri,fallback:u.data?.symbol||u.data?.tokenAddress},size:32,tokenType:u.type,chainMeta:u.data?.chain}),he=O=>O.length>16?16:O.length>14?18:O.length>12?20:22,Be=(0,D.useMemo)(()=>{let O=he(a);return F?D.default.createElement(oe,{width:100,height:18,borderRadius:12}):D.default.createElement(ne,{hasWarning:d,fontSize:O},D.default.createElement(v,{font:"heading3",children:k,className:it.currencyPrefix}),D.default.createElement(j,{name:"amount",border:"0",placeholder:"0",warning:d,value:a,decimalLimit:u.data?.decimals,disabled:!w,onUserInput:o}))},[F,d,k,a,u.data?.decimals,w,o]),ge=(0,D.useMemo)(()=>D.default.createElement(go,{isLoading:C,usdAmount:R,cryptoSubtitle:y,supportsCurrencyDenominationSwitching:X,switchCurrencyDenomination:i}),[C,R,y,X,i]),be=(0,D.useMemo)(()=>{let O=Y=>{switch(Y){case .25:return"25%";case .5:return"50%";case 1:return ee("swapAssetCardMaxButton")}};return I.map(Y=>D.default.createElement(ce,{key:Y,active:Y===f,children:O(Y),onChange:()=>n(Y),className:Ae}))},[I,ee,f,n]),Re=(0,D.useMemo)(()=>D.default.createElement(D.default.Fragment,null,ge,D.default.createElement("div",{className:it.spacer}),D.default.createElement(v,{font:"caption",color:{base:"textSecondary",hover:s?"textPrimary":void 0},children:g,onPress:s}),D.default.createElement("div",{className:it.filters},be)),[g,be,s,ge]),et=(0,D.useMemo)(()=>{if(e.warnings.length!==0)return D.default.createElement(lo,{warnings:e.warnings})},[e.warnings]);return D.default.createElement(ae,{perspective:t,input:Be,selectorIcon:_,selectorLabel:u.data?.symbol??"",spamStatus:u.data?.spamStatus,onSelectorPress:r,accessories:Re,footer:et})};p();l();var De=b(x());var wo=({onSelectorTap:e,perspective:t})=>{let{t:o}=S();return De.default.createElement(ae,{perspective:t,input:De.default.createElement(ne,{hasWarning:!1,fontSize:32},De.default.createElement(j,{name:"amount",border:"0",placeholder:"0",warning:!1,value:"",decimalLimit:0,disabled:!0,onUserInput:()=>{}})),selectorIcon:De.default.createElement(te,{icon:"Plus",size:28,shape:"circle",color:"textPrimary",backgroundColor:"bgArea"}),selectorLabel:o("commandSelect"),spamStatus:null,onSelectorPress:e,accessories:De.default.createElement(v,{font:"caption",color:"textSecondary",children:"$0"})})};p();l();var B=b(x());var st={filters:A({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),secondaryContainer:A({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),currencyPrefix:A({marginRight:2}),accessoryContainer:A({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:A({flex:1})},Zo=[.5,1],So=({perspective:e})=>{let{t}=S(),o=(0,B.useMemo)(()=>{let s=Number(P.typography.font.heading3.fontSize.replace("px",""));return B.default.createElement(ne,{fontSize:s},B.default.createElement(j,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),r=(0,B.useMemo)(()=>B.default.createElement(v,{font:"caption",color:"textSecondary",children:"$0"}),[]),n=(0,B.useMemo)(()=>{let s=a=>{switch(a){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}};return Zo.map(a=>B.default.createElement(ce,{active:!1,children:s(a),onChange:()=>{},className:Ae}))},[t]),i=(0,B.useMemo)(()=>B.default.createElement(B.default.Fragment,null,B.default.createElement("div",{className:st.secondaryContainer},r,e==="sell"?B.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textSecondary"}):null),B.default.createElement("div",{className:st.spacer}),B.default.createElement(Pe,{font:"caption",width:64}),e==="sell"?B.default.createElement("div",{className:st.filters},n):null),[n,r,e]);return B.default.createElement(ae,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:i})};var yo={container:A({display:"flex",flexDirection:"column",flex:1}),assets:A({gap:12,display:"flex",flexDirection:"column"})},ho=({onSelectAsset:e,isLoadingInitialAssets:t})=>{let{buy:o,sell:r,switchPerspective:n,setAmount:i,switchCurrencyDenomination:s,setFilter:a}=Ft(),{t:g}=S(),u=(0,H.useCallback)(C=>{Me.startTrace("switchButtonClick",C),n()},[n]),w=(0,H.useCallback)(async(C,d)=>{await dt.capture("swapperSwapDefaultQuoteSelected",{data:{quotePercentageValue:C}}),a(C,d)},[a]),F=(0,H.useMemo)(()=>[{perspective:"sell",asset:r},{perspective:"buy",asset:o}].map(({asset:C,perspective:d})=>{if(!C)return H.default.createElement(wo,{key:d+"select",perspective:d,onSelectorTap:()=>e(d)});if(t)return H.default.createElement(So,{key:d+"loading",perspective:d});let y=C.filters.length>0?()=>a(1,d):void 0,k=H.default.createElement(fo,{key:d,asset:C,perspective:d,switchCurrencyDenomination:s,onFungibleTap:()=>e(d),onInputChange:f=>{i(d,f)},onFilterTap:f=>w(f,d),onBalanceTap:y});return d==="buy"?H.default.createElement(c,{position:"relative",key:d+"swap-button"},k,H.default.createElement("div",{className:mo,style:{pointerEvents:"none"}},H.default.createElement(Ue,{label:g("swapperSwitchTokens"),size:co,shape:"circle",onClick:u,backgroundColor:{base:"accentPrimary",hover:"accentPrimaryLight"},icon:"SwapVertical"}))):k}),[r,o,t,s,w,e,i,a,u,g]);return H.default.createElement("div",{className:yo.container},H.default.createElement("div",{className:yo.assets},F))};p();l();var z=b(x());var jo=z.default.memo(({rankAlgo:e,limit:t})=>{let{t:o}=S(),r=mt(),n=Qe(f=>f.sortBy),i=Qe(f=>f.sortDirection),s=Qe(f=>f.timeFrame),a=Qe(f=>f.network),{data:g,error:u,isLoading:w,refetch:F}=Tt({sortBy:n,sortDirection:i,timeFrame:s,limit:t,rankAlgo:e,network:a}),{pushDetailView:C}=Ge(),d=(0,z.useCallback)(({item:f,index:I})=>{let X=le({chainId:f.chainId,address:f.address,resourceType:"address"});r.capture("onExploreListItemClickedByUser",{data:{explore:{context:"swap",listName:"tokens",itemDetails:{position:I,title:f.name||f.symbol,id:`${f.address}-${f.chainId}`}}}}),C(z.default.createElement(Ye,{caip19:X,title:f.name??void 0,entryPoint:"exploreInSwap"}))},[r,C]),y=!!u||g?.items.length===0,k=w||typeof g>"u";return z.default.createElement(c,{direction:"column",paddingTop:24,flex:1,width:"100%"},z.default.createElement(c,{paddingX:"screen",paddingBottom:10},z.default.createElement(v,{font:"title2",color:"textPrimary"},o("exploreTokens"))),z.default.createElement(qt,{isError:y,isLoading:k,refetch:F,filters:z.default.createElement(Zt,null),listHeader:z.default.createElement(Ut,null),rows:(g?.items??[]).map((f,I)=>({...Ht({item:f,sortBy:n,image:z.default.createElement(jt,{index:I,displayRank:!0,image:z.default.createElement(ve,{image:{type:"fungible",src:f.logoUrl,fallback:f.symbol||f.name},size:48,badge:{type:"network",preset:xe.getChainID(f.chainId)}})}),t:o}),onClick:()=>d({item:f,index:I})}))}))});function Jo(){let e=kt("tokens");return e?z.default.createElement(_t,{sortByOptions:e.sortBy,sortBy:e.sortByDefault,sortDirection:e.sortDirectionDefault,networkOptions:e.network,network:e.networkDefault,timeFrameOptions:e.timeFrame,timeFrame:e.timeFrameDefault},z.default.createElement(jo,{rankAlgo:e.rankAlgo,limit:10})):null}var je=z.default.memo(Jo);p();l();var Po=b(x());p();l();var bo=b(x());var Ro={autoSlippageOptIn:"autoSlippageOptIn"},xo=()=>{let{handleShowModalVisibility:e}=K();return(0,bo.useCallback)(t=>{let o=Ro[t];if(!o)throw new Error(`Swap review interceptor modal not found or configured for ${t}.`);e(o)},[e])};var Fo=()=>{let{goToInsufficientBalance:e,goToSwapTermsOfService:t,goToConfirmation:o}=Kt(),r=xo(),{disabled:n,title:i,type:s,onClick:a}=It({goToInsufficientBalance:e,goToSwapTermsOfService:t,goToConfirmation:o,showOverlay:r,showFungibleDetails:()=>{},showBuyFungibleScreen:()=>{},navigateToSwapper:()=>{}});function g(u){return u==="primary"?"primary":u==="alert"?"warning":"default"}return Po.default.createElement(Ot,{type:"submit",theme:g(s),disabled:n,onClick:a,width:"90%"},i)};p();l();var Se=b(x());p();l();var Z=b(x());var er=U.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,tr=U.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,or=U.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${tt(P.colors.legacy.bgWallet,.75)};
`,Co=U.div`
  background-color: ${tt(P.colors.brand.yellowMoon,.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,vo=U(nt).attrs({size:14,lineHeight:19,weight:500,color:P.colors.legacy.textPrimary,textAlign:"left"})``,Ne=({message:e,swapDisabled:t=!0,children:o})=>t?Z.default.createElement(Z.default.Fragment,null,Z.default.createElement(or,{"data-testid":"disable-overlay"},Z.default.createElement(Co,null,Z.default.createElement(vo,null,e))),Z.default.createElement(tr,{"data-testid":"disable-wrapper"},o)):Z.default.createElement(er,null,Z.default.createElement(Co,null,Z.default.createElement(vo,null,e)),Z.default.createElement(Z.default.Fragment,null,o));var rr=U.div`
  display: flex;
  flex: 1;
  padding-bottom: 16px;
  margin-bottom: -16px; // fix extension padding issue when scrollable or not
`,ko=Se.default.memo(({children:e})=>{let t=$e(),o=t.every(a=>xe.isMainnetNetworkID(a)),n=He().some(a=>t.includes(a)),{t:i}=S(),s=(0,Se.useMemo)(()=>({availableOnlyOnMainnet:i("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:i("swapNotAvailableOnSelectedNetwork")}),[i]);return o?n?Se.default.createElement(rr,null,e):Se.default.createElement(Ne,{message:s.notAvailableOnSelectedNetwork,swapDisabled:!0},e):Se.default.createElement(Ne,{message:s.availableOnlyOnMainnet,swapDisabled:!0},e)});p();l();var J=b(x());p();l();var To="f8uvp90";var Io="f8uvp92 f8uvp91 _51gaznxf _51gazn13m _51gaznyw",Ao="f8uvp93";p();l();var q=b(x());p();l();var N=b(x());p();l();var ie=b(x()),Do=({warnings:e})=>{let{t}=S(),o=e[0],{backgroundColor:r,textColor:n}=(0,ie.useMemo)(()=>{if(!o)return{backgroundColor:"bgRow",textColor:"textPrimary"};switch(o.level){case"warn":return{backgroundColor:"accentWarning",textColor:"bgWallet"};case"info":return{backgroundColor:"bgRow",textColor:"textPrimary"}}},[o]);return e.length===0?null:ie.default.createElement(ie.default.Fragment,null,ie.default.createElement(c,{width:"100%",height:1,backgroundColor:"bgWallet"}),ie.default.createElement(c,{gap:8,direction:"row",backgroundColor:r,padding:"screen",borderBottomRadius:"table"},ie.default.createElement(c,{flexShrink:0},ie.default.createElement(se.AlertTriangle,{color:n,size:18})),ie.default.createElement(v,{flexShrink:1,font:"caption",color:n,children:t(o.titleKey,o.options)})))};p();l();var Ve=b(x()),No=({isLoading:e,secondaryAmount:t,supportsCurrencyDenominationSwitching:o,switchCurrencyDenomination:r})=>{if(e)return Ve.default.createElement(oe,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"});let n=t?Ve.default.createElement(v,{font:"caption",color:"textSecondary",children:t}):null;return o?Ve.default.createElement(c,{direction:"row",alignItems:"center",gap:6,cursor:"pointer",onPress:r},n,Ve.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderPrimary"},color:"textSecondary"})):n};var Lo=({asset:e,perspective:t,currentPercentage:o,onPercentageTap:r,onInputChange:n,onFungibleTap:i,switchCurrencyDenomination:s,onBalanceTap:a})=>{let{amount:g,balance:u,fungible:w,isAmountEditable:F,isAmountLoading:C,isSecondaryAmountLoading:d,hasAmountWarning:y,secondaryAmount:k,amountPrefix:f,percentages:I,supportsCurrencyDenominationSwitching:X,warnings:R}=e,{t:ee}=S(),_=N.default.createElement(ve,{image:{type:"fungible",src:w.data?.logoUri,fallback:w.data?.symbol||w.data?.tokenAddress},size:32,tokenType:w.type,chainMeta:w.data?.chain}),he=O=>O.length>16?16:O.length>14?18:O.length>12?20:22,Be=(0,N.useMemo)(()=>{let O=he(g);return C?N.default.createElement(oe,{width:100,height:18,borderRadius:12}):N.default.createElement(ne,{hasWarning:y,fontSize:O},f&&N.default.createElement(v,{font:"heading3",children:f,marginRight:2}),N.default.createElement(j,{name:"amount",border:"0",placeholder:"0",warning:y,value:g,decimalLimit:w.data?.decimals,disabled:!F,onUserInput:n}))},[C,y,f,g,w.data?.decimals,F,n]),ge=(0,N.useMemo)(()=>N.default.createElement(No,{isLoading:d,secondaryAmount:k,supportsCurrencyDenominationSwitching:X,switchCurrencyDenomination:s}),[d,k,X,s]),be=(0,N.useMemo)(()=>{let O=Y=>{switch(Y.percentage){case .25:return"25%";case .5:return"50%";case 1:return ee("swapAssetCardMaxButton")}};return I.map(Y=>N.default.createElement(ce,{key:Y.percentage,active:Y.percentage===o?.percentage,children:O(Y),onChange:()=>r(Y),className:Ae}))},[I,ee,o,r]),Re=(0,N.useMemo)(()=>N.default.createElement(N.default.Fragment,null,ge,N.default.createElement(c,{flex:1}),u&&N.default.createElement(v,{font:"caption",color:{base:"textSecondary",hover:a?"textPrimary":void 0},children:u,onPress:a}),be&&N.default.createElement(c,{direction:"row",alignItems:"center",gap:4,marginLeft:2},be)),[u,be,a,ge]),et=(0,N.useMemo)(()=>{if(R.length!==0)return N.default.createElement(Do,{warnings:R})},[R]);return N.default.createElement(ae,{perspective:t,input:Be,selectorIcon:_,selectorLabel:w.data?.symbol??"",spamStatus:w.data?.spamStatus,onSelectorPress:i,accessories:Re,footer:et})};p();l();var E=b(x());var nr=[.5,1],Bo=({perspective:e})=>{let{t}=S(),o=(0,E.useMemo)(()=>{let s=Number(P.typography.font.heading3.fontSize.replace("px",""));return E.default.createElement(ne,{fontSize:s},E.default.createElement(j,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),r=(0,E.useMemo)(()=>E.default.createElement(v,{font:"caption",color:"textSecondary",children:"$0"}),[]),n=(0,E.useMemo)(()=>{let s=a=>{switch(a){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}};return nr.map(a=>E.default.createElement(ce,{active:!1,children:s(a),onChange:()=>{},className:To}))},[t]),i=(0,E.useMemo)(()=>E.default.createElement(E.default.Fragment,null,E.default.createElement(c,{direction:"row",alignItems:"center",gap:6},r,e==="sell"?E.default.createElement(te,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textSecondary"}):null),E.default.createElement(c,{flex:1}),E.default.createElement(Pe,{font:"caption",width:64}),e==="sell"?E.default.createElement(c,{direction:"row",alignItems:"center",gap:4,marginLeft:2},n):null),[n,r,e]);return E.default.createElement(ae,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:i})};var ar=32,Eo=({isInitializingTokens:e,tokens:t,currentSellPercentage:o,setInputAmount:r,setSellPercentage:n,setInputPerspective:i,switchCurrencyDenomination:s,switchTokens:a,onSelectToken:g})=>{let{t:u}=S(),w=(0,q.useCallback)(y=>{let k=y.percentages.find(f=>f.percentage===1);k&&n(k,y.fungible)},[n]),F=(0,q.useCallback)(y=>{g(y)},[g]),C=(0,q.useCallback)((y,k)=>{n(y,k)},[n]),d=(0,q.useMemo)(()=>["sell","buy"].map(y=>{let k=t.find(I=>I.perspective===y);if(!k||e)return q.default.createElement(Bo,{key:`loading-${y}`,perspective:y});let f=q.default.createElement(Lo,{key:y,asset:k,perspective:y,switchCurrencyDenomination:s,currentPercentage:o,onFungibleTap:()=>F(y),onPercentageTap:I=>C(I,k.fungible),onInputChange:I=>{i(y),r(I,y)},onBalanceTap:()=>w(k)});return y==="buy"?q.default.createElement(c,{position:"relative",key:y+"-swap-button"},f,q.default.createElement("div",{className:Io,style:{pointerEvents:"none"}},q.default.createElement(Ue,{label:u("swapperSwitchTokens"),size:ar,shape:"circle",onClick:a,backgroundColor:{base:"accentPrimary",hover:"accentPrimaryLight"},icon:"SwapVertical"}))):f}),[t,e,s,o,F,C,r,i,w,u,a]);return q.default.createElement(c,{display:"flex",direction:"column",flex:1,paddingX:"screen",paddingTop:"screen"},q.default.createElement(c,{display:"flex",direction:"column",gap:12},d))};p();l();var de=b(x());var Mo=({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:r,quoteProcessorState:n,currentPerspective:i,sellPercentages:s,onPress:a,resetSwapper:g})=>{let u=_e(),w=Gt(),{handleShowModalVisibility:F}=K(),{pushDetailView:C}=Ge(),d=(0,de.useCallback)(_=>{let he=le(Ce(_));C(de.default.createElement(Ye,{caip19:he,title:_.data.name??void 0,entryPoint:"exploreInSwap"}))},[C]),{openBuy:y}=$t({caip19:ir(o)||"",context:"modal",analyticsEvent:"fiatOnrampFromInsufficientBalance"}),k=(0,de.useCallback)(_=>{w({sellFungible:_.sell,buyFungible:_.buy,sellAmount:_.amount.amount})},[w]),f=(0,de.useCallback)((_,he)=>{let Be=_.networkId,ge={balance:_.balance,required:_.required};F("insufficientBalance",{networkId:Be,token:ge},{event:"showSwapModal",payload:{data:{uiContext:"InsufficientBalance"}}})},[F]),{buttonState:I,swap:X}=Et({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:r,quoteProcessorState:n,currentPerspective:i,sellPercentages:s,showFungibleDetails:d,showBuyFungibleScreen:y,retryAndNavigateToSwapper:k,resetSwapper:g,goToInsufficientFunds:f}),R=(0,de.useCallback)(()=>{a?.(),u?F("swapLedgerSigning",{executeSwap:X}):X()},[a,X,u,F]);return["idle","error"].includes(n.type)?null:de.default.createElement(ut,{theme:I.type==="insufficientBalance"?"destructive":["untradable"].includes(I.type)?"secondary":"primary",disabled:I.type!=="tradable",onPress:R},I.label)};function ir(e){if(!(e.type!=="pair"&&e.type!=="refreshing"))return le(Ce(e.sellToken))}p();l();var W=b(x());p();l();var pt=b(x());var Qo=({phantom:e,gasless:t})=>pt.default.createElement(c,{paddingY:16,paddingX:32},pt.default.createElement(Ke,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:500,noWrap:!1,showInfoIcon:!1,info:t?m.t("swapFeesPhantomFeeGaslessDisclaimer",{feePercentage:M(e),gaslessFeePercentage:M(t)}):m.t("swapFeesPhantomFeeRegularDisclaimer",{feePercentage:M(e)})},t?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:M(e),gaslessFeePercentage:M(t)}):m.t("swapQuoteFeeDisclaimer",{feePercentage:M(e)})));p();l();var G=b(x());var sr=({entry:e,fromUsd:t,currencySymbol:o})=>{let r=e.quoteFees.fees,n=r.find(a=>a.type==="phantom"),i=r.find(a=>a.type==="gasless"),s=r.filter(a=>!["gasless","phantom"].includes(a.type)).sort((a,g)=>Je(a)&&!Je(g)?-1:!Je(a)&&Je(g)?1:0).map(a=>{let g=a.amountUsd.toNumber(),u=`${o}${t(g,2)}`;switch(a.type){case"ata":return G.default.createElement(G.default.Fragment,{key:a.type},G.default.createElement(We,null,G.default.createElement(re,null,m.t(a.type)),G.default.createElement(re,null,u)),G.default.createElement(re,{style:{color:P.colors.legacy.textTertiary,fontSize:"12px",marginTop:4,textAlign:"left"}},m.t("accountCreationFeeBody")));default:return G.default.createElement(We,{key:a.type},G.default.createElement(re,null,m.t(a.type)),G.default.createElement(re,null,u))}});return G.default.createElement(G.default.Fragment,null,s,n&&G.default.createElement(re,{style:{fontStyle:"italic",color:P.colors.legacy.textTertiary,marginTop:8,textAlign:"left"}},i?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:M(n.percentage.toNumber()),gaslessFeePercentage:M(i.percentage.toNumber())}):m.t("swapQuoteFeeDisclaimer",{feePercentage:M(n.percentage.toNumber())})))};function lt({entry:e,currencySymbol:t,fromUsd:o,showSwapSettings:r,showSwapPricing:n}){let i,s,a;switch(e.type){case"pricing":{s=m.t("swapFeesPricing"),i=e.exchangeRate,a=n;break}case"slippage":{s=m.t("swapFeesSlippage"),i=e.slippageType==="auto"?m.t("swapTokenDetailEntryAutoSlippage",{slippage:e.slippage}):m.t("swapTokenDetailEntryFixedSlippage",{slippage:e.slippage}),a=r;break}case"priceImpact":{s=m.t("swapFeesPriceImpact"),i=e.priceImpactPercentage;break}case"fees":{s=m.t("swapFeesFees"),i=`${t}${o(e.quoteFees.totalFees.toString(),2)}`;break}case"transferFees":{s=m.t("swapFeesTransferFees"),i=m.t("swapTransferFeeDisclaimer",{symbol:e.transferTokenSymbol,feePercent:e.transferFees});break}default:throw new Error(`Unsupported entry type: ${e.type}`)}return{title:s,content:pr(e,i),tooltipContent:lr(e,o,t),color:cr(e),onClick:a}}function pr(e,t){return e.type==="transferFees"?t:e.warning?m.t("swapTokenDetailsWarningVeryHigh",{value:t}):e.alert?m.t("swapTokenDetailsAlertHigh",{value:t}):t}function lr(e,t,o){switch(e.type){case"pricing":return m.t("swapFeesRateDisclaimerMultichain");case"slippage":return m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage});case"priceImpact":return m.t("swapFeesPriceImpactDisclaimer");case"fees":{if(t&&o)return G.default.createElement(sr,{entry:e,fromUsd:t,currencySymbol:o});let r=e.quoteFees.fees.find(i=>i.type==="phantom"),n=e.quoteFees.fees.find(i=>i.type==="gasless");return r?n?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:M(r.percentage.toNumber()),gaslessFeePercentage:M(n.percentage.toNumber())}):m.t("swapQuoteFeeDisclaimer",{feePercentage:M(r.percentage.toNumber())}):void 0}default:return}}function cr(e){return e.warning?P.colors.legacy.accentAlert:e.alert?P.colors.legacy.accentWarning:P.colors.legacy.textSecondary}function Wo(e){switch(e){case"slippage":return{title:m.t("swapFeesSlippage")};case"priceImpact":return{title:m.t("swapFeesPriceImpact")};case"fees":return{title:m.t("swapFeesFees")};case"pricing":return{title:m.t("swapFeesPricing")};case"transferFees":return{title:m.t("swapFeesTransferFees")};default:return ct(e)}}var Je=e=>{switch(e.type){case"solanaNetwork":case"evmGas":case"suiNetwork":return!0;default:return!1}};p();l();var Le=b(x()),zo=({message:e,errorCode:t,onRetry:o})=>{let{t:r}=S(),n=r("swapQuestionRetry");return t==="InsufficientSellAmount"?Le.default.createElement(c,{width:"100%"},Le.default.createElement(Fe,{level:"1-critical-alert"},e)):Le.default.createElement(c,{gap:10,width:"100%"},Le.default.createElement(c,{width:"100%"},Le.default.createElement(Fe,{level:"2-alert",actions:[{children:n,onPress:o}]},e)))};var mr=["pricing","slippage","priceImpact","fees"],Oo=({quoteProcessorState:e})=>{let t=wt();switch(e.type){case"idle":return W.default.createElement(c,{style:{marginTop:-16}},W.default.createElement(je,null));case"starting":case"firstQuoteReceived":case"quoteProcessed":return W.default.createElement(ur,{quoteProcessorState:e});case"error":return W.default.createElement(c,{paddingX:"screen"},W.default.createElement(zo,{message:e.error.message,errorCode:e.error.code,onRetry:()=>t.refreshQuoteProcessor()}))}},ur=({quoteProcessorState:e})=>{let{currencySymbol:t,fromUsd:o}=gt(),{handleShowModalVisibility:r}=K(),n=dr(e),i=n.filter(d=>d.type!=="transferFees"),s=n.find(d=>d.type==="transferFees"),a=n.find(d=>d.type==="fees"),g=a?.quoteFees.fees.find(d=>d.type==="phantom"),u=a?.quoteFees.fees.find(d=>d.type==="gasless"),w=(0,W.useCallback)(()=>{r("swapSettings")},[r]),F=(0,W.useCallback)(()=>{r("swapPricing")},[r]),C=(0,W.useMemo)(()=>mr.map(d=>{let y=i.find(k=>k.type===d);return y?gr(lt({entry:y,currencySymbol:t,fromUsd:o,showSwapSettings:w,showSwapPricing:F})):fr(Wo(d))}),[i,t,o,w,F]);return W.default.createElement(c,{direction:"column",gap:4},W.default.createElement(c,{paddingX:"screen"},W.default.createElement(Xt,{rows:C,borderRadius:"8px"})),g&&W.default.createElement(Qo,{phantom:g.percentage.toNumber(),gasless:u?.percentage.toNumber()}),s&&W.default.createElement(v,{font:"label",color:"accentWarning",paddingX:32},lt({entry:s,currencySymbol:t,fromUsd:o,showSwapSettings:w,showSwapPricing:F}).content))};function dr(e){switch(e.type){case"firstQuoteReceived":case"quoteProcessed":return e.quoteDetails.entries;default:return[]}}function gr(e){return{label:e.title,value:e.content,tooltipContent:e.tooltipContent,color:e.color,onClick:e.onClick}}function fr(e){return{label:e.title,value:W.default.createElement(Pe,{width:60,font:"caption"})}}p();l();var ye=b(x());var Vo=ye.default.memo(({children:e})=>{let t=$e(),o=t.every(a=>xe.isMainnetNetworkID(a)),n=He().some(a=>t.includes(a)),{t:i}=S(),s=(0,ye.useMemo)(()=>({availableOnlyOnMainnet:i("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:i("swapNotAvailableOnSelectedNetwork")}),[i]);return o?n?ye.default.createElement(c,{display:"flex",flex:1,paddingBottom:16,style:{marginBottom:"-16px"}},e):ye.default.createElement(Ne,{message:s.notAvailableOnSelectedNetwork,swapDisabled:!0},e):ye.default.createElement(Ne,{message:s.availableOnlyOnMainnet,swapDisabled:!0},e)});var wr=[.5,1],$o=()=>{let e=Lt();return J.default.createElement(Sr,{swapMode:e})},Sr=({swapMode:e})=>{let{inputPerspective:t,tokens:o,tokenState:r,quotedAmounts:n,quoteProcessorState:i,inputErrors:s,currentSellPercentage:a,sellPercentages:g,setInputAmount:u,setSellPercentage:w,switchCurrencyDenomination:F,switchTokens:C,clearInput:d,setInputPerspective:y}=Bt(e,wr),{handleShowModalVisibility:k}=K(),f=(0,J.useCallback)(ee=>{rt(r)&&k(ee==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect",{selectStrategy:{type:"navigateToClassic",sellCaip19:le(Ce(r.sellToken)),buyCaip19:le(Ce(r.buyToken)),isCashEligible:!1}})},[k,r]),I=qe({goToAssetSelect:f}),X=(0,J.useCallback)(ee=>{rt(r)&&I(ee)},[r,I]),R=Nt();return J.default.createElement(Vo,null,J.default.createElement(c,{direction:"column",gap:16,paddingBottom:72},J.default.createElement(Eo,{isInitializingTokens:R,tokens:o,currentSellPercentage:a,setInputAmount:u,setSellPercentage:w,setInputPerspective:y,switchCurrencyDenomination:F,switchTokens:C,onSelectToken:X}),J.default.createElement(Oo,{quoteProcessorState:i})),yr(i)&&J.default.createElement(c,{position:"fixed",bottom:72,left:16,right:16,backgroundColor:"bgWallet",borderRadius:16,className:Ao},J.default.createElement(Mo,{swapMode:e,quotedAmounts:n,tokenState:r,inputErrors:s,quoteProcessorState:i,currentPerspective:t,sellPercentages:g,resetSwapper:d})))};function yr(e){return["quoteProcessed","firstQuoteReceived","starting"].includes(e.type)}var hr=U(Xe)`
  position: fixed;
  bottom: 70px;
  left: 16px;
  padding: 16px;
`,br=()=>{let[e]=Mt(),t=e.get("sellFungible")??void 0,o=e.get("sellAmount")??void 0,r=e.get("buyFungible")??void 0,n=vt(),{getSwapQuotesStrategy:i,onSwapTabExit:s}=yt();Pt({getSwapQuotesStrategy:i,skipInitialBuyFungible:!0}),bt();let{isLoading:a}=xt({paramsSellFungible:t,paramsSellAmount:o,paramsBuyFungible:r});return(0,T.useLayoutEffect)(()=>()=>{s(),n()},[s,n]),{isLoadingInitialAssets:a}},xr=({isLoadingInitialAssets:e})=>{let{t}=S(),{quoteResponse:o,hasNoRoutes:r}=ft(),{handleShowModalVisibility:n}=K(),i=(0,T.useCallback)(w=>{n(w==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect")},[n]),s=qe({goToAssetSelect:i}),a=(0,T.useCallback)(()=>{n("messageOverlay",{title:t("swapProviderAutoUpdateTitle"),message:t("swapProviderAutoUpdateMessage")})},[n,t]);Dt({showDefaultAutoProvider:a});let g=(0,T.useMemo)(()=>T.default.createElement(ho,{onSelectAsset:s,isLoadingInitialAssets:e}),[e,s]),u=(0,T.useMemo)(()=>!o&&!r,[o,r]);return T.default.createElement(ko,null,T.default.createElement(Xe,{justify:"space-between",flex:1},T.default.createElement(Xe,{align:"normal",padding:"16px 16px 0 16px",margin:o?"0 0 70px 0":"0"},g,o||r?T.default.createElement(po,null):null),u?T.default.createElement(je,null):null,T.default.createElement(hr,null,o?T.default.createElement(Vt,{removeFooterExpansion:!1,cssOverride:Wt`
                background: ${P.colors.legacy.bgRow};
              `},T.default.createElement(Fo,null)):null)))},Pr=()=>T.default.createElement(St,null,T.default.createElement(Fr,null)),Fr=()=>{let e=_e(),t=ot("enable-classic-swapper-ext"),o=ot("enable-ledger-swaps-ext");return e&&!o||!t?T.default.createElement(Cr,null):T.default.createElement($o,null)},Cr=()=>{let{isLoadingInitialAssets:e}=br();return e?T.default.createElement(c,{gap:1,padding:16},T.default.createElement(ke,{height:"120px",borderRadius:"8px 8px 0 0"}),T.default.createElement(ke,{height:"120px",borderRadius:"0 0 8px 8px"})):T.default.createElement(xr,{isLoadingInitialAssets:e})},uc=Pr;export{uc as default};
//# sourceMappingURL=SwapTabPage-NL54Q3VT.js.map
