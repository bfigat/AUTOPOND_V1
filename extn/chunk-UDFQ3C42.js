import{ba as m,ca as d,da as R,fa as N}from"./chunk-P4LRI3S3.js";import{S as g,V as p}from"./chunk-S6KJ2BHO.js";import{Ra as L,ma as E}from"./chunk-NMZ7IVPZ.js";import{b as i,x}from"./chunk-H6ILHDLW.js";import{a as _}from"./chunk-7X4NV6OJ.js";import{f as I,h as e,n as r}from"./chunk-3KENBVE7.js";e();r();e();r();e();r();e();r();e();r();var w="/currency_exchange/v1/rates",h=async()=>{let n=await g.api().get(`${w}?from=USD&currencies=${Object.keys(m).join(",")}`);if(!p(n))throw new Error("Failed to fetch exchange rates");return await n.data};var T=x({hours:2}),f=n=>E({queryKey:R.currencyExchangeRates(),queryFn:h,enabled:!!n,staleTime:T,select(t){return n?t?.rates[n]:1}});var c=I(_()),P=(0,c.createContext)(null),D=({children:n})=>{let{data:[t]}=L(["enable-multi-currency"]),{data:o}=N(t),{data:a,isLoading:z}=f(o),y=t&&o&&a?m[o].languageCode:d.languageCode,C=t&&o?o:d.value,U=t&&o&&a?m[o].symbol:d.symbol,v=(0,c.useCallback)((u,l)=>Intl.NumberFormat(y,{style:"currency",currency:C,...l}).format(u),[C,y]),F=(0,c.useCallback)(u=>!t||!o||!a?Number(u):i(u).div(i(a)).toNumber(),[t,o,a]),O=(0,c.useCallback)((u,l)=>{if(!t||!o||!a)return Number(u);let b=i(u).times(i(a));return l===void 0?b.toNumber():b.decimalPlaces(l).toNumber()},[t,o,a]),S={isMultiCurrencyEnabled:t,isLoading:z,currencyLocale:y,currencySymbol:U,currencyCode:C,toUsd:F,fromUsd:O,formatLocalizedPrice:v};return c.default.createElement(P.Provider,{value:S},n)},M=()=>{let n=(0,c.useContext)(P);if(!n)throw new Error("useLocalizedCurrency must be used within a LocalizedCurrencyProvider");return n};e();r();e();r();export{D as a,M as b};
//# sourceMappingURL=chunk-UDFQ3C42.js.map
