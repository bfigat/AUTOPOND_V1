import{a as Ie}from"./chunk-6AZR5PPQ.js";import{a as ke,b as Ae,c as ve,e as Ee,f as Be,i as Ve,j as De,k as Le,l as Me}from"./chunk-6DSQPSZN.js";import{a as Z}from"./chunk-CGOTMQG6.js";import{a as Ce}from"./chunk-PKNIHC54.js";import{s as he,za as v}from"./chunk-R3TVD7ZG.js";import{a as xe}from"./chunk-KZ5DTHAI.js";import{a as be}from"./chunk-YEA3RDR6.js";import{f as Pe}from"./chunk-U2ESYN6B.js";import{b as ye}from"./chunk-M5BU2PW7.js";import{e as we}from"./chunk-D4L3JZNR.js";import{a as Te}from"./chunk-2LWT7HCH.js";import{a as K}from"./chunk-IWKHOUY6.js";import{f as A,j}from"./chunk-KLYKJSXB.js";import{b as ue}from"./chunk-6QNUOYSW.js";import{n as U}from"./chunk-CXKBWI2Z.js";import{Ja as pe,ga as ce}from"./chunk-4MBFYWFI.js";import{a as Fe,c as Se,d as z}from"./chunk-SOBOWLRY.js";import{_ as fe,c as ge,db as E,m as S}from"./chunk-OA5YQ6R3.js";import{e as de}from"./chunk-FVJIE3BT.js";import{Dc as oe,Ge as re,nb as ee}from"./chunk-S3GUIRR4.js";import{T as X}from"./chunk-AG2PIQR6.js";import{$b as le,Ca as ne,Ea as u,Ha as te,Ia as a,Ja as L,Oa as ie,R,Sa as se,bc as me,c as D,eb as Y,kb as ae}from"./chunk-DAZNTGG2.js";import{f as I,h as w,n as x}from"./chunk-YJSZZTEX.js";w();x();var e=I(D());w();x();var G=I(D());var B=({children:r})=>{let{popDetailView:n}=A(),{handleHideModalVisibility:t}=v(),l=(0,G.useCallback)(()=>{n(),t("sendFungibleForm"),t("sendFungibleSelect")},[n,t]);return G.default.createElement(ke,{goHome:l},r)};w();x();var C=I(D());var He=({networkID:r})=>{let{t:n}=R();return ee.isBitcoinNetworkID(r)?C.default.createElement(Xe,null,C.default.createElement(me,{alignment:"rightCenter",index:0,content:C.default.createElement(Ge,null,C.default.createElement(Je,null,n("sendFungibleSatProtectionExplainer")," ",C.default.createElement("span",{onClick:()=>void ue({url:pe})},n("commandLearnMore")))),closeOnSecondClick:!1},C.default.createElement(Qe,null,C.default.createElement(fe,{width:16}),C.default.createElement(Ne,null," ",n("sendFungibleSatProtectionTitle"))))):null},Ge=S.div`
  padding: 16px;
  width: 256px;
`,Je=S(E).attrs({size:15,lineHeight:20,color:u.colors.legacy.textPrimary})`
  text-align: left;
  span {
    color: ${u.colors.legacy.accentPrimary};
    cursor: pointer;
  }
`,Qe=S.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
`,Ne=S(E).attrs({size:14,color:u.colors.legacy.textPrimary,hoverColor:u.colors.legacy.accentPrimary})`
  display: flex;
  align-items: center;
`,Xe=S.div`
  padding: 15px;
  background: ${u.colors.legacy.bgRow};
  border-radius: 9px;
  width: 100%;
  cursor: pointer;
  position: relative;

  &:hover {
    ${Ne} {
      color: ${u.colors.legacy.accentPrimary};
    }
    svg {
      fill: ${u.colors.legacy.accentPrimary};
      path {
        fill: ${u.colors.legacy.accentPrimary};
      }
    }
  }
`;w();x();var i=I(D());w();x();var o=I(D());var Ye=S(K).attrs({align:"center"})`
  height: 100%;
`,Ze=S(K).attrs({align:"center",justify:"center"})`
  flex: 1;
  flex-grow: 1;
`,Re=S(K).attrs({align:"center",justify:"center",margin:"0 0 15px 0"})`
  position: relative;
  border-radius: 50%;
  background-color: ${X(u.colors.legacy.accentPrimary,.2)};
  box-shadow: 0 0 0 20px ${X(u.colors.legacy.accentPrimary,.2)};
`,eo=S(E).attrs({size:28,lineHeight:33.89,weight:500,margin:"20px 0 10px 0"})``,oo=S(E).attrs({size:16,lineHeight:20.8,weight:500,color:u.colors.legacy.accentPrimary})`
  margin-top: 12px;
`,ro=()=>{let{popDetailView:r}=A(),{handleHideModalVisibility:n}=v(),{closeAllModals:t}=ye(),l=ge(),[p,g]=(0,o.useState)(!0),[d,y]=(0,o.useState)(),f=(0,o.useCallback)(k=>{self.open(k)},[]),b=(0,o.useCallback)(()=>{r(),n("sendFungibleForm"),n("sendFungibleSelect")},[r,n]),h=(0,o.useCallback)(k=>{switch(b(),k){case"history":l("/notifications");break;case"home":l("/",{state:{defaultTab:"fungibles",nonce:Date.now()}});break}},[l,b]),{handleTokenTransfer:F,isLedger:c,ledgerApp:s,...m}=Ve({sendSequenceAnalytics:de.send,onTransactionLinkPress:f,onClose:h,onCancel:b,onBack:r,mobileSignWithLedger:!1,ledgerSupported:!0}),V=(0,o.useCallback)(async()=>{c?y(o.default.createElement(Pe,{ledgerAction:async()=>{await F(),g(!1)},cancel:t,ledgerApp:s})):await F()},[c,F,t,s]);return{...m,isLedger:c,ledgerApp:s,handleTokenTransfer:V,needsLedgerApproval:p,ledgerContent:d}},no=o.default.memo(({isLedger:r,isError:n,isSuccess:t,MessageElement:l,txReceipt:p,handleTransactionLinkPress:g,i18nStrings:d,handleRetry:y,handleClose:f,handleCancel:b,handleTokenTransfer:h,isLoadingSelectedAccountStatus:F,ledgerContent:c,needsLedgerApproval:s})=>{let m=F;return(0,o.useEffect)(()=>{m||(!r||s)&&h()},[m]),r&&s?o.default.createElement(o.default.Fragment,null,c??null):o.default.createElement(Ye,null,o.default.createElement(Ze,null,o.default.createElement(ie,{mode:"wait",initial:!0},o.default.createElement(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},n?o.default.createElement(Z,{type:"failure"}):t?o.default.createElement(Z,{type:"success"}):o.default.createElement(Re,null,o.default.createElement(Fe,{diameter:54,color:u.colors.legacy.accentPrimary,trackColor:u.colors.legacy.bgArea})))),o.default.createElement(eo,null,d.titleText),l,p&&o.default.createElement(oo,{onClick:g},d.viewTransactionText)),n&&o.default.createElement(z,{primaryText:d.retryText,onPrimaryClicked:y,secondaryText:d.cancelText,onSecondaryClicked:b}),!n&&!!p&&o.default.createElement(be,{justify:"center"},o.default.createElement(Se,{onClick:f},d.closeText)))}),to=()=>{let r=ro();return o.default.createElement(no,{...r})},We=()=>o.default.createElement(B,null,o.default.createElement(to,null));var io=()=>{let{popDetailView:r,pushDetailView:n}=A(),{handleHideModalVisibility:t,handleShowModalVisibility:l}=v(),p=(0,i.useCallback)(({transactionSpeed:f,transactionUnitAmount:b,networkID:h,sendFormValues:F,setSendFormValues:c})=>{n(i.default.createElement(Ce,{onSelectTransactionSpeed:s=>{c({...F,transactionSpeed:s})},selectedTransactionSpeed:f,networkID:h,transactionUnitAmount:b,closeModal:r}))},[r,n]),g=(0,i.useCallback)(f=>{l("txSubmissionCheckFailure",{...f,onButtonClick:()=>{t("txSubmissionCheckFailure")}})},[t,l]),d=(0,i.useCallback)(()=>{r(),t("sendFungibleForm"),t("sendFungibleSelect")},[r,t]),y=(0,i.useCallback)(()=>{n(i.default.createElement(We,null))},[n]);return Ee({onNext:y,onClose:d,onTransactionSpeedChange:p,onSubmissionCheckFail:g,copyToClipboard:Te})},so=i.default.memo(({canSend:r,summaryRows:n,i18nStrings:t,handleNext:l,handleClose:p,networkID:g,senderAddress:d})=>i.default.createElement(a,{height:"100%"},i.default.createElement(j,null,t.title),i.default.createElement(a,{height:"100%",overflow:"scroll",marginBottom:8},i.default.createElement(a,{width:"100%",flex:1},i.default.createElement(Le,null),i.default.createElement(Me,{networkId:g,senderAddress:d}),i.default.createElement(le,{rows:n}))),i.default.createElement(ae,{direction:"row"},i.default.createElement(Y,{onClick:p,theme:"secondary"},t.cancel),i.default.createElement(Y,{disabled:!r,onClick:l,theme:"primary"},t.send)))),ao=()=>{let r=io();return i.default.createElement(so,{...r})},Oe=()=>i.default.createElement(B,null,i.default.createElement(ao,null));var lo={form:ne({width:"100%"})},mo=()=>{let{popDetailView:r,pushDetailView:n}=A(),{handleHideModalVisibility:t}=v(),l=(0,e.useCallback)(()=>{r(),t("sendFungibleForm"),t("sendFungibleSelect")},[r,t]),p=(0,e.useCallback)(()=>{n(e.default.createElement(Oe,null))},[n]),{canGoNext:g,...d}=Be({onClose:l,onNext:p}),[y,f]=(0,e.useState)(oe),{data:b=[]}=re(),{networkID:h,senderAddress:F}=Ae(),c=U(T=>T.sendFormValues.recipient),s=U(T=>T.sendFormValues),m=U(T=>T.setSendFormValues),{addressBookRecipient:V}=s,{recipientError:k,disabledDueToRecipient:M,isStaleRecipient:H,isRecipientLoading:J}=ce(c,h),{sendAddressWarning:N,sendAddressVariant:W}=ve({senderAddress:F.address,senderAccounts:b,networkID:h,recipient:c}),O=c&&!!N&&!k&&!H,Q=(0,e.useCallback)(T=>{f(_=>({..._,recipientError:void 0})),m({...s,recipient:T,addressBookRecipient:T})},[s,m]);return{...d,canGoNext:g&&!M&&W!=="danger",senderAddress:F.address,addressBookRecipient:V,isStaleRecipient:H,recipientError:k,isRecipientLoading:J,sendAddressWarning:O?N:null,sendAddressVariant:W,sendFormValues:s,sendFormErrors:y,handleAddressSelection:Q,setSendFormValues:m,setSendFormErrors:f}},uo=e.default.memo(({networkID:r,handleClose:n,handleInputChange:t,handleNext:l,primaryText:p,primarySymbol:g,toggleDenomination:d,errorText:y,secondaryText:f,formattedMaxAmount:b,symbol:h,decimals:F,logoUri:c,canGoNext:s,i18nStrings:m,handleSetMax:V,showSecondaryText:k,canSendCurrencyAmount:M,isMemoEnabled:H,memo:J,handleMemoChange:N,senderAddress:W,addressBookRecipient:O,isStaleRecipient:Q,recipientError:$,isRecipientLoading:T,sendAddressWarning:_,sendAddressVariant:$e,sendFormValues:_e,sendFormErrors:Ue,handleAddressSelection:ze,setSendFormValues:je,setSendFormErrors:Ke})=>{let qe=k?e.default.createElement(a,{direction:"row",justifyContent:"space-between",width:"100%"},e.default.createElement(a,{direction:"row",alignItems:"center",cursor:"pointer",color:{base:"textTertiary",hover:"accentPrimary"}},e.default.createElement(L,{font:"caption",onPress:M?d:void 0},f),M?e.default.createElement(a,{marginLeft:4},e.default.createElement(te.Swap2Vertical,{size:12})):null),e.default.createElement(L,{font:"caption",color:"textTertiary"},`${m.available} ${b}`)):null;return e.default.createElement(a,{justifyContent:"space-between",height:"100%"},e.default.createElement(a,null,e.default.createElement(j,null,m.pageTitle),e.default.createElement(a,{marginBottom:20,marginTop:10,marginLeft:"auto",marginRight:"auto"},e.default.createElement(he,{image:{type:"fungible",src:c,fallback:h},size:72})),e.default.createElement("form",{onSubmit:l,className:lo.form},e.default.createElement(a,{marginBottom:10},e.default.createElement(De,{addressBookRecipient:O,networkID:r,senderAddress:W,symbol:g,sendFormValues:_e,sendFormErrors:Ue,recipientError:$,handleAddressSelection:ze,setSendFormValues:je,setSendFormErrors:Ke,isLoading:T})),!O&&!Q&&$&&e.default.createElement(a,{marginBottom:10},e.default.createElement(L,{children:$,color:"accentAlert",font:"body"})),e.default.createElement(a,{marginBottom:10},e.default.createElement(a,{position:"relative"},e.default.createElement(xe,{name:"amount",value:p,symbol:g,alignSymbol:"right",buttonText:m.maxInput,width:47,maxLength:20,decimalLimit:F,warning:!!y,placeholder:m.inputAmountPlaceholder,onSetTarget:V,onKeyPress:P=>s&&P.key==="Enter"&&P.preventDefault(),onUserInput:t}))),H&&e.default.createElement(a,{marginBottom:10},e.default.createElement(we,{name:"memo",placeholder:m.memoPlaceholder,value:J,maxLength:240,onKeyDown:P=>s&&P.key==="Enter"&&P.preventDefault(),onChange:P=>{P.target.validity.valid?N(P.target.value):P.preventDefault()}}))),y?e.default.createElement(a,null,e.default.createElement(L,{color:"accentAlert",font:"body"},y)):qe,e.default.createElement(a,{marginTop:16},e.default.createElement(He,{networkID:r})),_&&e.default.createElement(Ie,{message:_,variant:$e,actions:[]})),e.default.createElement(z,{primaryText:m.next,secondaryText:m.cancel,onPrimaryClicked:l,onSecondaryClicked:n,primaryTheme:s?"primary":"default",primaryDisabled:!s}))}),co=()=>{let r=mo();return e.default.createElement(uo,{...r})},po=()=>e.default.createElement(B,null,e.default.createElement(co,null)),Lr=po;export{Lr as a};
//# sourceMappingURL=chunk-TSIVGRAM.js.map
