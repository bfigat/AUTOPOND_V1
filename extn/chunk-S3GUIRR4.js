import{a as ar,b as Lp,c as mb,e as Fa,f as qa,g as ts,h as On,i as Mx,j as qn,k as kx,l as eI,m as Es,o as hae,p as Fp,r as pae,s as mae,t as yae,w as qp,x as Kp,y as tI}from"./chunk-JAJRGPOT.js";import{Z as nI,b as t3,l as Ct,ma as vae,n as LF,y as Hp}from"./chunk-AG2PIQR6.js";import{B as r3,D as gae,M as jp,R as Zh,T as PLe,U as RLe,V as BLe,X as CLe,Y as iI,a as lae,aa as FF,b as dae,ba as OLe,c as Er,ca as NLe,d as XT,da as qF,ea as KF,fa as bae,ga as DLe,ha as ULe,ia as zF,ja as LLe,ka as FLe,l as O,la as qLe,ma as pce,n as mc,na as KLe,oa as VLe,p as Vp,pa as HLe,q as rI,qa as jLe,r as yb,ra as WF,sa as mce,ta as zLe,ua as WLe,wa as GLe}from"./chunk-DAZNTGG2.js";import{e as hce}from"./chunk-2POO4JJE.js";import{$ as Gae,A as Rae,Aa as mI,B as Bae,Ba as cce,C as Cae,Ca as uce,D as aI,Da as fce,E as jF,F as Oae,I as Rx,J as Nae,K as Dae,L as Uae,M as ta,N as Lae,O as Fae,P as cI,Q as uI,R as i3,T as qae,U as Kae,V as Vae,W as Hae,X as Bx,Y as jae,Z as zae,_ as Wae,a as bo,aa as $ae,b as xae,ba as Wp,bb as lce,c as wae,ca as fI,cb as dce,d as Sd,da as Yae,e as Sae,ea as Zae,f as oI,fa as Qae,g as Aae,ga as Jae,h as zp,ha as Xae,i as Eae,j as _ae,ja as lI,k as Tae,ka as ece,l as VF,la as Qh,m as Px,ma as tce,n as Iae,o as pi,oa as dI,p as n3,pa as Cx,q as Mae,qa as rce,ra as nce,s as sI,sa as ice,ta as oce,u as ru,ua as hI,w as HF,wa as sce,x as kae,xa as Ox,ya as pI,z as Pae,za as ace}from"./chunk-PQWATTJB.js";import{a as e3}from"./chunk-OLIHMAK6.js";import{a as uae,c as K,d as UF,e as Yh,f as Ke,h as d,i as T,j as fae,k as kLe,l as Fn,m as Buffer,n as h}from"./chunk-YJSZZTEX.js";var s3=K(Lx=>{"use strict";d();h();var GF=fae(),Dx=kLe(),yce=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Lx.Buffer=ze;Lx.SlowBuffer=XLe;Lx.INSPECT_MAX_BYTES=50;var yI=2147483647;Lx.kMaxLength=yI;ze.TYPED_ARRAY_SUPPORT=$Le();!ze.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function $Le(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(ze.prototype,"parent",{enumerable:!0,get:function(){if(ze.isBuffer(this))return this.buffer}});Object.defineProperty(ze.prototype,"offset",{enumerable:!0,get:function(){if(ze.isBuffer(this))return this.byteOffset}});function Jh(t){if(t>yI)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,ze.prototype),e}function ze(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return QF(t)}return xce(t,e,r)}ze.poolSize=8192;function xce(t,e,r){if(typeof t=="string")return ZLe(t,e);if(ArrayBuffer.isView(t))return QLe(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Ad(t,ArrayBuffer)||t&&Ad(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ad(t,SharedArrayBuffer)||t&&Ad(t.buffer,SharedArrayBuffer)))return YF(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return ze.from(n,e,r);let i=JLe(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ze.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ze.from=function(t,e,r){return xce(t,e,r)};Object.setPrototypeOf(ze.prototype,Uint8Array.prototype);Object.setPrototypeOf(ze,Uint8Array);function wce(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function YLe(t,e,r){return wce(t),t<=0?Jh(t):e!==void 0?typeof r=="string"?Jh(t).fill(e,r):Jh(t).fill(e):Jh(t)}ze.alloc=function(t,e,r){return YLe(t,e,r)};function QF(t){return wce(t),Jh(t<0?0:JF(t)|0)}ze.allocUnsafe=function(t){return QF(t)};ze.allocUnsafeSlow=function(t){return QF(t)};function ZLe(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ze.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Sce(t,e)|0,n=Jh(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function $F(t){let e=t.length<0?0:JF(t.length)|0,r=Jh(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function QLe(t){if(Ad(t,Uint8Array)){let e=new Uint8Array(t);return YF(e.buffer,e.byteOffset,e.byteLength)}return $F(t)}function YF(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,ze.prototype),n}function JLe(t){if(ze.isBuffer(t)){let e=JF(t.length)|0,r=Jh(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||eq(t.length)?Jh(0):$F(t);if(t.type==="Buffer"&&Array.isArray(t.data))return $F(t.data)}function JF(t){if(t>=yI)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+yI.toString(16)+" bytes");return t|0}function XLe(t){return+t!=t&&(t=0),ze.alloc(+t)}ze.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ze.prototype};ze.compare=function(e,r){if(Ad(e,Uint8Array)&&(e=ze.from(e,e.offset,e.byteLength)),Ad(r,Uint8Array)&&(r=ze.from(r,r.offset,r.byteLength)),!ze.isBuffer(e)||!ze.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};ze.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ze.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ze.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=ze.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(Ad(s,Uint8Array))o+s.length>i.length?(ze.isBuffer(s)||(s=ze.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(ze.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Sce(t,e){if(ze.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Ad(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ZF(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Rce(t).length;default:if(i)return n?-1:ZF(t).length;e=(""+e).toLowerCase(),i=!0}}ze.byteLength=Sce;function eFe(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return fFe(this,e,r);case"utf8":case"utf-8":return Ece(this,e,r);case"ascii":return cFe(this,e,r);case"latin1":case"binary":return uFe(this,e,r);case"base64":return sFe(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lFe(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ze.prototype._isBuffer=!0;function gb(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}ze.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)gb(this,r,r+1);return this};ze.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)gb(this,r,r+3),gb(this,r+1,r+2);return this};ze.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)gb(this,r,r+7),gb(this,r+1,r+6),gb(this,r+2,r+5),gb(this,r+3,r+4);return this};ze.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Ece(this,0,e):eFe.apply(this,arguments)};ze.prototype.toLocaleString=ze.prototype.toString;ze.prototype.equals=function(e){if(!ze.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ze.compare(this,e)===0};ze.prototype.inspect=function(){let e="",r=Lx.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};yce&&(ze.prototype[yce]=ze.prototype.inspect);ze.prototype.compare=function(e,r,n,i,o){if(Ad(e,Uint8Array)&&(e=ze.from(e,e.offset,e.byteLength)),!ze.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,c=n-r,l=Math.min(s,c),m=this.slice(i,o),w=e.slice(r,n);for(let b=0;b<l;++b)if(m[b]!==w[b]){s=m[b],c=w[b];break}return s<c?-1:c<s?1:0};function Ace(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,eq(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=ze.from(e,n)),ze.isBuffer(e))return e.length===0?-1:gce(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):gce(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function gce(t,e,r,n,i){let o=1,s=t.length,c=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,c/=2,r/=2}function l(w,b){return o===1?w[b]:w.readUInt16BE(b*o)}let m;if(i){let w=-1;for(m=r;m<s;m++)if(l(t,m)===l(e,w===-1?0:m-w)){if(w===-1&&(w=m),m-w+1===c)return w*o}else w!==-1&&(m-=m-w),w=-1}else for(r+c>s&&(r=s-c),m=r;m>=0;m--){let w=!0;for(let b=0;b<c;b++)if(l(t,m+b)!==l(e,b)){w=!1;break}if(w)return m}return-1}ze.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ze.prototype.indexOf=function(e,r,n){return Ace(this,e,r,n,!0)};ze.prototype.lastIndexOf=function(e,r,n){return Ace(this,e,r,n,!1)};function tFe(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let c=parseInt(e.substr(s*2,2),16);if(eq(c))return s;t[r+s]=c}return s}function rFe(t,e,r,n){return gI(ZF(e,t.length-r),t,r,n)}function nFe(t,e,r,n){return gI(mFe(e),t,r,n)}function iFe(t,e,r,n){return gI(Rce(e),t,r,n)}function oFe(t,e,r,n){return gI(yFe(e,t.length-r),t,r,n)}ze.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return tFe(this,e,r,n);case"utf8":case"utf-8":return rFe(this,e,r,n);case"ascii":case"latin1":case"binary":return nFe(this,e,r,n);case"base64":return iFe(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oFe(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};ze.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function sFe(t,e,r){return e===0&&r===t.length?GF.fromByteArray(t):GF.fromByteArray(t.slice(e,r))}function Ece(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,c=o>239?4:o>223?3:o>191?2:1;if(i+c<=r){let l,m,w,b;switch(c){case 1:o<128&&(s=o);break;case 2:l=t[i+1],(l&192)===128&&(b=(o&31)<<6|l&63,b>127&&(s=b));break;case 3:l=t[i+1],m=t[i+2],(l&192)===128&&(m&192)===128&&(b=(o&15)<<12|(l&63)<<6|m&63,b>2047&&(b<55296||b>57343)&&(s=b));break;case 4:l=t[i+1],m=t[i+2],w=t[i+3],(l&192)===128&&(m&192)===128&&(w&192)===128&&(b=(o&15)<<18|(l&63)<<12|(m&63)<<6|w&63,b>65535&&b<1114112&&(s=b))}}s===null?(s=65533,c=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=c}return aFe(n)}var bce=4096;function aFe(t){let e=t.length;if(e<=bce)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=bce));return r}function cFe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function uFe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function fFe(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=gFe[t[o]];return i}function lFe(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ze.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,ze.prototype),i};function rs(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ze.prototype.readUintLE=ze.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||rs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};ze.prototype.readUintBE=ze.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||rs(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};ze.prototype.readUint8=ze.prototype.readUInt8=function(e,r){return e=e>>>0,r||rs(e,1,this.length),this[e]};ze.prototype.readUint16LE=ze.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||rs(e,2,this.length),this[e]|this[e+1]<<8};ze.prototype.readUint16BE=ze.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||rs(e,2,this.length),this[e]<<8|this[e+1]};ze.prototype.readUint32LE=ze.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||rs(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ze.prototype.readUint32BE=ze.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||rs(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ze.prototype.readBigUInt64LE=Gp(function(e){e=e>>>0,Ux(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&o3(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});ze.prototype.readBigUInt64BE=Gp(function(e){e=e>>>0,Ux(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&o3(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});ze.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||rs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};ze.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||rs(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};ze.prototype.readInt8=function(e,r){return e=e>>>0,r||rs(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ze.prototype.readInt16LE=function(e,r){e=e>>>0,r||rs(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ze.prototype.readInt16BE=function(e,r){e=e>>>0,r||rs(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ze.prototype.readInt32LE=function(e,r){return e=e>>>0,r||rs(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ze.prototype.readInt32BE=function(e,r){return e=e>>>0,r||rs(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ze.prototype.readBigInt64LE=Gp(function(e){e=e>>>0,Ux(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&o3(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});ze.prototype.readBigInt64BE=Gp(function(e){e=e>>>0,Ux(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&o3(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});ze.prototype.readFloatLE=function(e,r){return e=e>>>0,r||rs(e,4,this.length),Dx.read(this,e,!0,23,4)};ze.prototype.readFloatBE=function(e,r){return e=e>>>0,r||rs(e,4,this.length),Dx.read(this,e,!1,23,4)};ze.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||rs(e,8,this.length),Dx.read(this,e,!0,52,8)};ze.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||rs(e,8,this.length),Dx.read(this,e,!1,52,8)};function yc(t,e,r,n,i,o){if(!ze.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ze.prototype.writeUintLE=ze.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;yc(this,e,r,n,c,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};ze.prototype.writeUintBE=ze.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;yc(this,e,r,n,c,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};ze.prototype.writeUint8=ze.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,1,255,0),this[r]=e&255,r+1};ze.prototype.writeUint16LE=ze.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ze.prototype.writeUint16BE=ze.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ze.prototype.writeUint32LE=ze.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ze.prototype.writeUint32BE=ze.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function _ce(t,e,r,n,i){Pce(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Tce(t,e,r,n,i){Pce(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}ze.prototype.writeBigUInt64LE=Gp(function(e,r=0){return _ce(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ze.prototype.writeBigUInt64BE=Gp(function(e,r=0){return Tce(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ze.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let l=Math.pow(2,8*n-1);yc(this,e,r,n,l-1,-l)}let o=0,s=1,c=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&c===0&&this[r+o-1]!==0&&(c=1),this[r+o]=(e/s>>0)-c&255;return r+n};ze.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let l=Math.pow(2,8*n-1);yc(this,e,r,n,l-1,-l)}let o=n-1,s=1,c=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&c===0&&this[r+o+1]!==0&&(c=1),this[r+o]=(e/s>>0)-c&255;return r+n};ze.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ze.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ze.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ze.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ze.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ze.prototype.writeBigInt64LE=Gp(function(e,r=0){return _ce(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ze.prototype.writeBigInt64BE=Gp(function(e,r=0){return Tce(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ice(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Mce(t,e,r,n,i){return e=+e,r=r>>>0,i||Ice(t,e,r,4,34028234663852886e22,-34028234663852886e22),Dx.write(t,e,r,n,23,4),r+4}ze.prototype.writeFloatLE=function(e,r,n){return Mce(this,e,r,!0,n)};ze.prototype.writeFloatBE=function(e,r,n){return Mce(this,e,r,!1,n)};function kce(t,e,r,n,i){return e=+e,r=r>>>0,i||Ice(t,e,r,8,17976931348623157e292,-17976931348623157e292),Dx.write(t,e,r,n,52,8),r+8}ze.prototype.writeDoubleLE=function(e,r,n){return kce(this,e,r,!0,n)};ze.prototype.writeDoubleBE=function(e,r,n){return kce(this,e,r,!1,n)};ze.prototype.copy=function(e,r,n,i){if(!ze.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};ze.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ze.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=ze.isBuffer(e)?e:ze.from(e,i),c=s.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%c]}return this};var Nx={};function XF(t,e,r){Nx[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}XF("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);XF("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);XF("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=vce(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=vce(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function vce(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function dFe(t,e,r){Ux(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&o3(e,t.length-(r+1))}function Pce(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",c;throw o>3?e===0||e===BigInt(0)?c=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:c=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:c=`>= ${e}${s} and <= ${r}${s}`,new Nx.ERR_OUT_OF_RANGE("value",c,t)}dFe(n,i,o)}function Ux(t,e){if(typeof t!="number")throw new Nx.ERR_INVALID_ARG_TYPE(e,"number",t)}function o3(t,e,r){throw Math.floor(t)!==t?(Ux(t,r),new Nx.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Nx.ERR_BUFFER_OUT_OF_BOUNDS:new Nx.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var hFe=/[^+/0-9A-Za-z-_]/g;function pFe(t){if(t=t.split("=")[0],t=t.trim().replace(hFe,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function ZF(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function mFe(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function yFe(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Rce(t){return GF.toByteArray(pFe(t))}function gI(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Ad(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function eq(t){return t!==t}var gFe=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Gp(t){return typeof BigInt>"u"?bFe:t}function bFe(){throw new Error("BigInt not supported")}});var vI=K(Ka=>{"use strict";d();h();Object.defineProperty(Ka,"__esModule",{value:!0});Ka.output=Ka.exists=Ka.hash=Ka.bytes=Ka.bool=Ka.number=void 0;function bI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Ka.number=bI;function Bce(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Ka.bool=Bce;function tq(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Ka.bytes=tq;function Cce(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bI(t.outputLen),bI(t.blockLen)}Ka.hash=Cce;function Oce(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Ka.exists=Oce;function Nce(t,e){tq(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ka.output=Nce;var vFe={number:bI,bool:Bce,bytes:tq,hash:Cce,exists:Oce,output:Nce};Ka.default=vFe});var Dce=K(xI=>{"use strict";d();h();Object.defineProperty(xI,"__esModule",{value:!0});xI.crypto=void 0;xI.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Fx=K(_r=>{"use strict";d();h();Object.defineProperty(_r,"__esModule",{value:!0});_r.randomBytes=_r.wrapConstructorWithOpts=_r.wrapConstructor=_r.checkOpts=_r.Hash=_r.concatBytes=_r.toBytes=_r.utf8ToBytes=_r.asyncLoop=_r.nextTick=_r.hexToBytes=_r.bytesToHex=_r.isLE=_r.rotr=_r.createView=_r.u32=_r.u8=void 0;var wI=Dce(),xFe=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);_r.u8=xFe;var wFe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));_r.u32=wFe;var SFe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);_r.createView=SFe;var AFe=(t,e)=>t<<32-e|t>>>e;_r.rotr=AFe;_r.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_r.isLE)throw new Error("Non little-endian hardware is not supported");var EFe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _Fe(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=EFe[t[r]];return e}_r.bytesToHex=_Fe;function TFe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}_r.hexToBytes=TFe;var IFe=async()=>{};_r.nextTick=IFe;async function MFe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,_r.nextTick)(),n+=o)}}_r.asyncLoop=MFe;function Uce(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}_r.utf8ToBytes=Uce;function nq(t){if(typeof t=="string"&&(t=Uce(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}_r.toBytes=nq;function kFe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}_r.concatBytes=kFe;var rq=class{clone(){return this._cloneInto()}};_r.Hash=rq;var PFe=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function RFe(t,e){if(e!==void 0&&(typeof e!="object"||!PFe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}_r.checkOpts=RFe;function BFe(t){let e=n=>t().update(nq(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}_r.wrapConstructor=BFe;function CFe(t){let e=(n,i)=>t(i).update(nq(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}_r.wrapConstructorWithOpts=CFe;function OFe(t=32){if(wI.crypto.web)return wI.crypto.web.getRandomValues(new Uint8Array(t));if(wI.crypto.node)return new Uint8Array(wI.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}_r.randomBytes=OFe});var sq=K(SI=>{"use strict";d();h();Object.defineProperty(SI,"__esModule",{value:!0});SI.SHA2=void 0;var iq=vI(),a3=Fx();function NFe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var oq=class extends a3.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,a3.createView)(this.buffer)}update(e){iq.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,a3.toBytes)(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=(0,a3.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){iq.default.exists(this),iq.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;NFe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=(0,a3.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};SI.SHA2=oq});var uq=K(Wu=>{"use strict";d();h();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.add=Wu.toBig=Wu.split=Wu.fromBig=void 0;var AI=BigInt(2**32-1),aq=BigInt(32);function cq(t,e=!1){return e?{h:Number(t&AI),l:Number(t>>aq&AI)}:{h:Number(t>>aq&AI)|0,l:Number(t&AI)|0}}Wu.fromBig=cq;function Lce(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=cq(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}Wu.split=Lce;var DFe=(t,e)=>BigInt(t>>>0)<<aq|BigInt(e>>>0);Wu.toBig=DFe;var UFe=(t,e,r)=>t>>>r,LFe=(t,e,r)=>t<<32-r|e>>>r,FFe=(t,e,r)=>t>>>r|e<<32-r,qFe=(t,e,r)=>t<<32-r|e>>>r,KFe=(t,e,r)=>t<<64-r|e>>>r-32,VFe=(t,e,r)=>t>>>r-32|e<<64-r,HFe=(t,e)=>e,jFe=(t,e)=>t,zFe=(t,e,r)=>t<<r|e>>>32-r,WFe=(t,e,r)=>e<<r|t>>>32-r,GFe=(t,e,r)=>e<<r-32|t>>>64-r,$Fe=(t,e,r)=>t<<r-32|e>>>64-r;function Fce(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}Wu.add=Fce;var YFe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),ZFe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,QFe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),JFe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,XFe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),eqe=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,tqe={fromBig:cq,split:Lce,toBig:Wu.toBig,shrSH:UFe,shrSL:LFe,rotrSH:FFe,rotrSL:qFe,rotrBH:KFe,rotrBL:VFe,rotr32H:HFe,rotr32L:jFe,rotlSH:zFe,rotlSL:WFe,rotlBH:GFe,rotlBL:$Fe,add:Fce,add3L:YFe,add3H:ZFe,add4L:QFe,add4H:JFe,add5H:eqe,add5L:XFe};Wu.default=tqe});var qce=K(Gu=>{"use strict";d();h();Object.defineProperty(Gu,"__esModule",{value:!0});Gu.sha384=Gu.sha512_256=Gu.sha512_224=Gu.sha512=Gu.SHA512=void 0;var rqe=sq(),yr=uq(),EI=Fx(),[nqe,iqe]=yr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),$p=new Uint32Array(80),Yp=new Uint32Array(80),bb=class extends rqe.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let P=0;P<16;P++,r+=4)$p[P]=e.getUint32(r),Yp[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=$p[P-15]|0,V=Yp[P-15]|0,H=yr.default.rotrSH(F,V,1)^yr.default.rotrSH(F,V,8)^yr.default.shrSH(F,V,7),re=yr.default.rotrSL(F,V,1)^yr.default.rotrSL(F,V,8)^yr.default.shrSL(F,V,7),J=$p[P-2]|0,ie=Yp[P-2]|0,S=yr.default.rotrSH(J,ie,19)^yr.default.rotrBH(J,ie,61)^yr.default.shrSH(J,ie,6),a=yr.default.rotrSL(J,ie,19)^yr.default.rotrBL(J,ie,61)^yr.default.shrSL(J,ie,6),f=yr.default.add4L(re,a,Yp[P-7],Yp[P-16]),p=yr.default.add4H(f,H,S,$p[P-7],$p[P-16]);$p[P]=p|0,Yp[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:B,Hh:R,Hl:U}=this;for(let P=0;P<80;P++){let F=yr.default.rotrSH(b,E,14)^yr.default.rotrSH(b,E,18)^yr.default.rotrBH(b,E,41),V=yr.default.rotrSL(b,E,14)^yr.default.rotrSL(b,E,18)^yr.default.rotrBL(b,E,41),H=b&I^~b&k,re=E&M^~E&B,J=yr.default.add5L(U,V,re,iqe[P],Yp[P]),ie=yr.default.add5H(J,R,F,H,nqe[P],$p[P]),S=J|0,a=yr.default.rotrSH(n,i,28)^yr.default.rotrBH(n,i,34)^yr.default.rotrBH(n,i,39),f=yr.default.rotrSL(n,i,28)^yr.default.rotrBL(n,i,34)^yr.default.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;R=k|0,U=B|0,k=I|0,B=M|0,I=b|0,M=E|0,{h:b,l:E}=yr.default.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=yr.default.add3L(S,f,y);n=yr.default.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=yr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=yr.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=yr.default.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=yr.default.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=yr.default.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=yr.default.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:B}=yr.default.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:R,l:U}=yr.default.add(this.Hh|0,this.Hl|0,R|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,B,R,U)}roundClean(){$p.fill(0),Yp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Gu.SHA512=bb;var fq=class extends bb{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},lq=class extends bb{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},dq=class extends bb{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Gu.sha512=(0,EI.wrapConstructor)(()=>new bb);Gu.sha512_224=(0,EI.wrapConstructor)(()=>new fq);Gu.sha512_256=(0,EI.wrapConstructor)(()=>new lq);Gu.sha384=(0,EI.wrapConstructor)(()=>new dq)});var Xh=K((ZLt,pq)=>{"use strict";d();h();var hq=65536,oqe=4294967295;function sqe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var aqe=ar().Buffer,_I=self.crypto||self.msCrypto;_I&&_I.getRandomValues?pq.exports=cqe:pq.exports=sqe;function cqe(t,e){if(t>oqe)throw new RangeError("requested too many random bytes");var r=aqe.allocUnsafe(t);if(t>0)if(t>hq)for(var n=0;n<t;n+=hq)_I.getRandomValues(r.slice(n,n+hq));else _I.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}});var Xt=K((XLt,mq)=>{d();h();typeof Object.create=="function"?mq.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:mq.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var yq=K((rFt,Kce)=>{d();h();Kce.exports=e3().EventEmitter});var c3=K(()=>{d();h()});var zce=K((uFt,jce)=>{"use strict";d();h();function Vce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uqe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vce(Object(r),!0).forEach(function(n){fqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vce(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fqe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dqe(t,e,r){return e&&Hce(t.prototype,e),r&&Hce(t,r),t}var hqe=Fn(),TI=hqe.Buffer,pqe=c3(),gq=pqe.inspect,mqe=gq&&gq.custom||"inspect";function yqe(t,e,r){TI.prototype.copy.call(t,e,r)}jce.exports=function(){function t(){lqe(this,t),this.head=null,this.tail=null,this.length=0}return dqe(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return TI.alloc(0);for(var n=TI.allocUnsafe(r>>>0),i=this.head,o=0;i;)yqe(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,c=r>s.length?s.length:r;if(c===s.length?o+=s:o+=s.slice(0,r),r-=c,r===0){c===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(c));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=TI.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,c=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,c),r-=c,r===0){c===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(c));break}++o}return this.length-=o,n}},{key:mqe,value:function(r,n){return gq(this,uqe({},n,{depth:0,customInspect:!1}))}}]),t}()});var vq=K((dFt,Gce)=>{"use strict";d();h();function gqe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(bq,this,t)):process.nextTick(bq,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(II,r):(r._writableState.errorEmitted=!0,process.nextTick(Wce,r,o)):process.nextTick(Wce,r,o):e?(process.nextTick(II,r),e(o)):process.nextTick(II,r)}),this)}function Wce(t,e){bq(t,e),II(t)}function II(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function bqe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function bq(t,e){t.emit("error",e)}function vqe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}Gce.exports={destroy:gqe,undestroy:bqe,errorOrDestroy:vqe}});var vb=K((mFt,Zce)=>{"use strict";d();h();function xqe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Yce={};function $u(t,e,r){r||(r=Error);function n(o,s,c){return typeof e=="string"?e:e(o,s,c)}var i=function(o){xqe(s,o);function s(c,l,m){return o.call(this,n(c,l,m))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Yce[t]=i}function $ce(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function wqe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Sqe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Aqe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}$u("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);$u("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&wqe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Sqe(t," argument"))i="The ".concat(t," ").concat(n," ").concat($ce(e,"type"));else{var o=Aqe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat($ce(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);$u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");$u("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});$u("ERR_STREAM_PREMATURE_CLOSE","Premature close");$u("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});$u("ERR_MULTIPLE_CALLBACK","Callback called multiple times");$u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");$u("ERR_STREAM_WRITE_AFTER_END","write after end");$u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);$u("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);$u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Zce.exports.codes=Yce});var xq=K((bFt,Qce)=>{"use strict";d();h();var Eqe=vb().codes.ERR_INVALID_OPT_VALUE;function _qe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Tqe(t,e,r,n){var i=_qe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Eqe(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}Qce.exports={getHighWaterMark:Tqe}});var Sq=K((wFt,Jce)=>{d();h();Jce.exports=Iqe;function Iqe(t,e){if(wq("noDeprecation"))return t;var r=!1;function n(){if(!r){if(wq("throwDeprecation"))throw new Error(e);wq("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function wq(t){try{if(!self.localStorage)return!1}catch{return!1}var e=self.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var PI=K((EFt,iue)=>{"use strict";d();h();iue.exports=Qi;function eue(t){var e=this;this.next=null,this.entry=null,this.finish=function(){eKe(e,t)}}var qx;Qi.WritableState=f3;var Mqe={deprecate:Sq()},tue=yq(),kI=Fn().Buffer,kqe=self.Uint8Array||function(){};function Pqe(t){return kI.from(t)}function Rqe(t){return kI.isBuffer(t)||t instanceof kqe}var Eq=vq(),Bqe=xq(),Cqe=Bqe.getHighWaterMark,Zp=vb().codes,Oqe=Zp.ERR_INVALID_ARG_TYPE,Nqe=Zp.ERR_METHOD_NOT_IMPLEMENTED,Dqe=Zp.ERR_MULTIPLE_CALLBACK,Uqe=Zp.ERR_STREAM_CANNOT_PIPE,Lqe=Zp.ERR_STREAM_DESTROYED,Fqe=Zp.ERR_STREAM_NULL_VALUES,qqe=Zp.ERR_STREAM_WRITE_AFTER_END,Kqe=Zp.ERR_UNKNOWN_ENCODING,Kx=Eq.errorOrDestroy;Xt()(Qi,tue);function Vqe(){}function f3(t,e,r){qx=qx||Qp(),t=t||{},typeof r!="boolean"&&(r=e instanceof qx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Cqe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Yqe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new eue(this)}f3.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(f3.prototype,"buffer",{get:Mqe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var MI;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(MI=Function.prototype[Symbol.hasInstance],Object.defineProperty(Qi,Symbol.hasInstance,{value:function(e){return MI.call(this,e)?!0:this!==Qi?!1:e&&e._writableState instanceof f3}})):MI=function(e){return e instanceof this};function Qi(t){qx=qx||Qp();var e=this instanceof qx;if(!e&&!MI.call(Qi,this))return new Qi(t);this._writableState=new f3(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),tue.call(this)}Qi.prototype.pipe=function(){Kx(this,new Uqe)};function Hqe(t,e){var r=new qqe;Kx(t,r),process.nextTick(e,r)}function jqe(t,e,r,n){var i;return r===null?i=new Fqe:typeof r!="string"&&!e.objectMode&&(i=new Oqe("chunk",["string","Buffer"],r)),i?(Kx(t,i),process.nextTick(n,i),!1):!0}Qi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&Rqe(t);return o&&!kI.isBuffer(t)&&(t=Pqe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Vqe),n.ending?Hqe(this,r):(o||jqe(this,n,t,r))&&(n.pendingcb++,i=Wqe(this,n,o,t,e,r)),i};Qi.prototype.cork=function(){this._writableState.corked++};Qi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&rue(this,t))};Qi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Kqe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Qi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function zqe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=kI.from(e,r)),e}Object.defineProperty(Qi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Wqe(t,e,r,n,i,o){if(!r){var s=zqe(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=e.objectMode?1:n.length;e.length+=c;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var m=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},m?m.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Aq(t,e,!1,c,n,i,o);return l}function Aq(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Lqe("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Gqe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(u3,t,e),t._writableState.errorEmitted=!0,Kx(t,n)):(i(n),t._writableState.errorEmitted=!0,Kx(t,n),u3(t,e))}function $qe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Yqe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Dqe;if($qe(r),e)Gqe(t,r,n,e,i);else{var o=nue(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&rue(t,r),n?process.nextTick(Xce,t,r,o,i):Xce(t,r,o,i)}}function Xce(t,e,r,n){r||Zqe(t,e),e.pendingcb--,n(),u3(t,e)}function Zqe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function rue(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,Aq(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new eue(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,m=r.encoding,w=r.callback,b=e.objectMode?1:l.length;if(Aq(t,e,!1,b,l,m,w),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Qi.prototype._write=function(t,e,r){r(new Nqe("_write()"))};Qi.prototype._writev=null;Qi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Xqe(this,n,r),this};Object.defineProperty(Qi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function nue(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Qqe(t,e){t._final(function(r){e.pendingcb--,r&&Kx(t,r),e.prefinished=!0,t.emit("prefinish"),u3(t,e)})}function Jqe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Qqe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function u3(t,e){var r=nue(e);if(r&&(Jqe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Xqe(t,e,r){e.ending=!0,u3(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function eKe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Qi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Qi.prototype.destroy=Eq.destroy;Qi.prototype._undestroy=Eq.undestroy;Qi.prototype._destroy=function(t,e){e(t)}});var Qp=K((IFt,sue)=>{"use strict";d();h();var tKe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};sue.exports=Ed;var oue=CI(),Tq=PI();Xt()(Ed,oue);for(_q=tKe(Tq.prototype),RI=0;RI<_q.length;RI++)BI=_q[RI],Ed.prototype[BI]||(Ed.prototype[BI]=Tq.prototype[BI]);var _q,BI,RI;function Ed(t){if(!(this instanceof Ed))return new Ed(t);oue.call(this,t),Tq.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",rKe)))}Object.defineProperty(Ed.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ed.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ed.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function rKe(){this._writableState.ended||process.nextTick(nKe,this)}function nKe(t){t.end()}Object.defineProperty(Ed.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Vx=K(cue=>{"use strict";d();h();var Mq=ar().Buffer,aue=Mq.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function iKe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function oKe(t){var e=iKe(t);if(typeof e!="string"&&(Mq.isEncoding===aue||!aue(t)))throw new Error("Unknown encoding: "+t);return e||t}cue.StringDecoder=l3;function l3(t){this.encoding=oKe(t);var e;switch(this.encoding){case"utf16le":this.text=lKe,this.end=dKe,e=4;break;case"utf8":this.fillLast=cKe,e=4;break;case"base64":this.text=hKe,this.end=pKe,e=3;break;default:this.write=mKe,this.end=yKe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Mq.allocUnsafe(e)}l3.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};l3.prototype.end=fKe;l3.prototype.text=uKe;l3.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Iq(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function sKe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Iq(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Iq(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Iq(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function aKe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function cKe(t){var e=this.lastTotal-this.lastNeed,r=aKe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function uKe(t,e){var r=sKe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function fKe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function lKe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function dKe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function hKe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function pKe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function mKe(t){return t.toString(this.encoding)}function yKe(t){return t&&t.length?this.write(t):""}});var d3=K((CFt,lue)=>{"use strict";d();h();var uue=vb().codes.ERR_STREAM_PREMATURE_CLOSE;function gKe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function bKe(){}function vKe(t){return t.setHeader&&typeof t.abort=="function"}function fue(t,e,r){if(typeof e=="function")return fue(t,null,e);e||(e={}),r=gKe(r||bKe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||c()},s=t._writableState&&t._writableState.finished,c=function(){i=!1,s=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,m=function(){n=!1,l=!0,i||r.call(t)},w=function(M){r.call(t,M)},b=function(){var M;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(M=new uue),r.call(t,M);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(M=new uue),r.call(t,M)},E=function(){t.req.on("finish",c)};return vKe(t)?(t.on("complete",c),t.on("abort",b),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",m),t.on("finish",c),e.error!==!1&&t.on("error",w),t.on("close",b),function(){t.removeListener("complete",c),t.removeListener("abort",b),t.removeListener("request",E),t.req&&t.req.removeListener("finish",c),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",c),t.removeListener("end",m),t.removeListener("error",w),t.removeListener("close",b)}}lue.exports=fue});var hue=K((DFt,due)=>{"use strict";d();h();var OI;function Jp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xKe=d3(),Xp=Symbol("lastResolve"),xb=Symbol("lastReject"),h3=Symbol("error"),NI=Symbol("ended"),wb=Symbol("lastPromise"),kq=Symbol("handlePromise"),Sb=Symbol("stream");function em(t,e){return{value:t,done:e}}function wKe(t){var e=t[Xp];if(e!==null){var r=t[Sb].read();r!==null&&(t[wb]=null,t[Xp]=null,t[xb]=null,e(em(r,!1)))}}function SKe(t){process.nextTick(wKe,t)}function AKe(t,e){return function(r,n){t.then(function(){if(e[NI]){r(em(void 0,!0));return}e[kq](r,n)},n)}}var EKe=Object.getPrototypeOf(function(){}),_Ke=Object.setPrototypeOf((OI={get stream(){return this[Sb]},next:function(){var e=this,r=this[h3];if(r!==null)return Promise.reject(r);if(this[NI])return Promise.resolve(em(void 0,!0));if(this[Sb].destroyed)return new Promise(function(s,c){process.nextTick(function(){e[h3]?c(e[h3]):s(em(void 0,!0))})});var n=this[wb],i;if(n)i=new Promise(AKe(n,this));else{var o=this[Sb].read();if(o!==null)return Promise.resolve(em(o,!1));i=new Promise(this[kq])}return this[wb]=i,i}},Jp(OI,Symbol.asyncIterator,function(){return this}),Jp(OI,"return",function(){var e=this;return new Promise(function(r,n){e[Sb].destroy(null,function(i){if(i){n(i);return}r(em(void 0,!0))})})}),OI),EKe),TKe=function(e){var r,n=Object.create(_Ke,(r={},Jp(r,Sb,{value:e,writable:!0}),Jp(r,Xp,{value:null,writable:!0}),Jp(r,xb,{value:null,writable:!0}),Jp(r,h3,{value:null,writable:!0}),Jp(r,NI,{value:e._readableState.endEmitted,writable:!0}),Jp(r,kq,{value:function(o,s){var c=n[Sb].read();c?(n[wb]=null,n[Xp]=null,n[xb]=null,o(em(c,!1))):(n[Xp]=o,n[xb]=s)},writable:!0}),r));return n[wb]=null,xKe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[xb];o!==null&&(n[wb]=null,n[Xp]=null,n[xb]=null,o(i)),n[h3]=i;return}var s=n[Xp];s!==null&&(n[wb]=null,n[Xp]=null,n[xb]=null,s(em(void 0,!0))),n[NI]=!0}),e.on("readable",SKe.bind(null,n)),n};due.exports=TKe});var mue=K((FFt,pue)=>{d();h();pue.exports=function(){throw new Error("Readable.from is not available in the browser")}});var CI=K((HFt,_ue)=>{"use strict";d();h();_ue.exports=fn;var Hx;fn.ReadableState=vue;var VFt=e3().EventEmitter,bue=function(e,r){return e.listeners(r).length},m3=yq(),DI=Fn().Buffer,IKe=self.Uint8Array||function(){};function MKe(t){return DI.from(t)}function kKe(t){return DI.isBuffer(t)||t instanceof IKe}var Pq=c3(),Tr;Pq&&Pq.debuglog?Tr=Pq.debuglog("stream"):Tr=function(){};var PKe=zce(),Uq=vq(),RKe=xq(),BKe=RKe.getHighWaterMark,UI=vb().codes,CKe=UI.ERR_INVALID_ARG_TYPE,OKe=UI.ERR_STREAM_PUSH_AFTER_EOF,NKe=UI.ERR_METHOD_NOT_IMPLEMENTED,DKe=UI.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,jx,Rq,Bq;Xt()(fn,m3);var p3=Uq.errorOrDestroy,Cq=["error","close","destroy","pause","resume"];function UKe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function vue(t,e,r){Hx=Hx||Qp(),t=t||{},typeof r!="boolean"&&(r=e instanceof Hx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=BKe(this,t,"readableHighWaterMark",r),this.buffer=new PKe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(jx||(jx=Vx().StringDecoder),this.decoder=new jx(t.encoding),this.encoding=t.encoding)}function fn(t){if(Hx=Hx||Qp(),!(this instanceof fn))return new fn(t);var e=this instanceof Hx;this._readableState=new vue(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),m3.call(this)}Object.defineProperty(fn.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});fn.prototype.destroy=Uq.destroy;fn.prototype._undestroy=Uq.undestroy;fn.prototype._destroy=function(t,e){e(t)};fn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=DI.from(t,e),e=""),n=!0),xue(this,t,e,!1,n)};fn.prototype.unshift=function(t){return xue(this,t,null,!0,!1)};function xue(t,e,r,n,i){Tr("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,qKe(t,o);else{var s;if(i||(s=LKe(o,e)),s)p3(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==DI.prototype&&(e=MKe(e)),n)o.endEmitted?p3(t,new DKe):Oq(t,o,e,!0);else if(o.ended)p3(t,new OKe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?Oq(t,o,e,!1):Dq(t,o)):Oq(t,o,e,!1)}else n||(o.reading=!1,Dq(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function Oq(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&LI(t)),Dq(t,e)}function LKe(t,e){var r;return!kKe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new CKe("chunk",["string","Buffer","Uint8Array"],e)),r}fn.prototype.isPaused=function(){return this._readableState.flowing===!1};fn.prototype.setEncoding=function(t){jx||(jx=Vx().StringDecoder);var e=new jx(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var yue=1073741824;function FKe(t){return t>=yue?t=yue:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function gue(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=FKe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}fn.prototype.read=function(t){Tr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Tr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Nq(this):LI(this),null;if(t=gue(t,e),t===0&&e.ended)return e.length===0&&Nq(this),null;var n=e.needReadable;Tr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Tr("length less than watermark",n)),e.ended||e.reading?(n=!1,Tr("reading or ended",n)):n&&(Tr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=gue(r,e)));var i;return t>0?i=Aue(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Nq(this)),i!==null&&this.emit("data",i),i};function qKe(t,e){if(Tr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?LI(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,wue(t)))}}function LI(t){var e=t._readableState;Tr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Tr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(wue,t))}function wue(t){var e=t._readableState;Tr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Lq(t)}function Dq(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(KKe,t,e))}function KKe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Tr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}fn.prototype._read=function(t){p3(this,new NKe("_read()"))};fn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Tr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?c:k;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(B,R){Tr("onunpipe"),B===r&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,w())}function c(){Tr("onend"),t.end()}var l=VKe(r);t.on("drain",l);var m=!1;function w(){Tr("cleanup"),t.removeListener("close",I),t.removeListener("finish",M),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",k),r.removeListener("data",b),m=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",b);function b(B){Tr("ondata");var R=t.write(B);Tr("dest.write",R),R===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Eue(n.pipes,t)!==-1)&&!m&&(Tr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function E(B){Tr("onerror",B),k(),t.removeListener("error",E),bue(t,"error")===0&&p3(t,B)}UKe(t,"error",E);function I(){t.removeListener("finish",M),k()}t.once("close",I);function M(){Tr("onfinish"),t.removeListener("close",I),k()}t.once("finish",M);function k(){Tr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Tr("pipe resume"),r.resume()),t};function VKe(t){return function(){var r=t._readableState;Tr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&bue(t,"data")&&(r.flowing=!0,Lq(t))}}fn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Eue(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};fn.prototype.on=function(t,e){var r=m3.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Tr("on readable",n.length,n.reading),n.length?LI(this):n.reading||process.nextTick(HKe,this)),r};fn.prototype.addListener=fn.prototype.on;fn.prototype.removeListener=function(t,e){var r=m3.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Sue,this),r};fn.prototype.removeAllListeners=function(t){var e=m3.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Sue,this),e};function Sue(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function HKe(t){Tr("readable nexttick read 0"),t.read(0)}fn.prototype.resume=function(){var t=this._readableState;return t.flowing||(Tr("resume"),t.flowing=!t.readableListening,jKe(this,t)),t.paused=!1,this};function jKe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(zKe,t,e))}function zKe(t,e){Tr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Lq(t),e.flowing&&!e.reading&&t.read(0)}fn.prototype.pause=function(){return Tr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Tr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Lq(t){var e=t._readableState;for(Tr("flow",e.flowing);e.flowing&&t.read()!==null;);}fn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Tr("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Tr("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var c=e.push(s);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(c){return function(){return t[c].apply(t,arguments)}}(i));for(var o=0;o<Cq.length;o++)t.on(Cq[o],this.emit.bind(this,Cq[o]));return this._read=function(s){Tr("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(fn.prototype[Symbol.asyncIterator]=function(){return Rq===void 0&&(Rq=hue()),Rq(this)});Object.defineProperty(fn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(fn.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(fn.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});fn._fromList=Aue;Object.defineProperty(fn.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Aue(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Nq(t){var e=t._readableState;Tr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(WKe,e,t))}function WKe(t,e){if(Tr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(fn.from=function(t,e){return Bq===void 0&&(Bq=mue()),Bq(fn,t,e)});function Eue(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var KI=K((WFt,Iue)=>{"use strict";d();h();Iue.exports=e0;var FI=vb().codes,GKe=FI.ERR_METHOD_NOT_IMPLEMENTED,$Ke=FI.ERR_MULTIPLE_CALLBACK,YKe=FI.ERR_TRANSFORM_ALREADY_TRANSFORMING,ZKe=FI.ERR_TRANSFORM_WITH_LENGTH_0,qI=Qp();Xt()(e0,qI);function QKe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new $Ke);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function e0(t){if(!(this instanceof e0))return new e0(t);qI.call(this,t),this._transformState={afterTransform:QKe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",JKe)}function JKe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Tue(t,e,r)}):Tue(this,null,null)}e0.prototype.push=function(t,e){return this._transformState.needTransform=!1,qI.prototype.push.call(this,t,e)};e0.prototype._transform=function(t,e,r){r(new GKe("_transform()"))};e0.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};e0.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};e0.prototype._destroy=function(t,e){qI.prototype._destroy.call(this,t,function(r){e(r)})};function Tue(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new ZKe;if(t._transformState.transforming)throw new YKe;return t.push(null)}});var Fq=K((YFt,kue)=>{"use strict";d();h();kue.exports=y3;var Mue=KI();Xt()(y3,Mue);function y3(t){if(!(this instanceof y3))return new y3(t);Mue.call(this,t)}y3.prototype._transform=function(t,e,r){r(null,t)}});var Kq=K((JFt,Cue)=>{"use strict";d();h();var qq;function XKe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Bue=vb().codes,eVe=Bue.ERR_MISSING_ARGS,tVe=Bue.ERR_STREAM_DESTROYED;function Pue(t){if(t)throw t}function rVe(t){return t.setHeader&&typeof t.abort=="function"}function nVe(t,e,r,n){n=XKe(n);var i=!1;t.on("close",function(){i=!0}),qq===void 0&&(qq=d3()),qq(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,rVe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new tVe("pipe"))}}}function Rue(t){t()}function iVe(t,e){return t.pipe(e)}function oVe(t){return!t.length||typeof t[t.length-1]!="function"?Pue:t.pop()}function sVe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=oVe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new eVe("streams");var i,o=e.map(function(s,c){var l=c<e.length-1,m=c>0;return nVe(s,l,m,function(w){i||(i=w),w&&o.forEach(Rue),!l&&(o.forEach(Rue),n(i))})});return e.reduce(iVe)}Cue.exports=sVe});var VI=K((Yu,Oue)=>{d();h();Yu=Oue.exports=CI();Yu.Stream=Yu;Yu.Readable=Yu;Yu.Writable=PI();Yu.Duplex=Qp();Yu.Transform=KI();Yu.PassThrough=Fq();Yu.finished=d3();Yu.pipeline=Kq()});var Vq=K((nqt,Due)=>{"use strict";d();h();var HI=ar().Buffer,Nue=VI().Transform,aVe=Xt();function cVe(t,e){if(!HI.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function tm(t){Nue.call(this),this._block=HI.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}aVe(tm,Nue);tm.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};tm.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};tm.prototype.update=function(t,e){if(cVe(t,"Data"),this._finalized)throw new Error("Digest already called");HI.isBuffer(t)||(t=HI.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,s=t.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this};tm.prototype._update=function(){throw new Error("_update is not implemented")};tm.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};tm.prototype._digest=function(){throw new Error("_digest is not implemented")};Due.exports=tm});var WI=K((sqt,Lue)=>{"use strict";d();h();var uVe=Xt(),Uue=Vq(),fVe=ar().Buffer,lVe=new Array(16);function jI(){Uue.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}uVe(jI,Uue);jI.prototype._update=function(){for(var t=lVe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,o=this._d;r=ra(r,n,i,o,t[0],3614090360,7),o=ra(o,r,n,i,t[1],3905402710,12),i=ra(i,o,r,n,t[2],606105819,17),n=ra(n,i,o,r,t[3],3250441966,22),r=ra(r,n,i,o,t[4],4118548399,7),o=ra(o,r,n,i,t[5],1200080426,12),i=ra(i,o,r,n,t[6],2821735955,17),n=ra(n,i,o,r,t[7],4249261313,22),r=ra(r,n,i,o,t[8],1770035416,7),o=ra(o,r,n,i,t[9],2336552879,12),i=ra(i,o,r,n,t[10],4294925233,17),n=ra(n,i,o,r,t[11],2304563134,22),r=ra(r,n,i,o,t[12],1804603682,7),o=ra(o,r,n,i,t[13],4254626195,12),i=ra(i,o,r,n,t[14],2792965006,17),n=ra(n,i,o,r,t[15],1236535329,22),r=na(r,n,i,o,t[1],4129170786,5),o=na(o,r,n,i,t[6],3225465664,9),i=na(i,o,r,n,t[11],643717713,14),n=na(n,i,o,r,t[0],3921069994,20),r=na(r,n,i,o,t[5],3593408605,5),o=na(o,r,n,i,t[10],38016083,9),i=na(i,o,r,n,t[15],3634488961,14),n=na(n,i,o,r,t[4],3889429448,20),r=na(r,n,i,o,t[9],568446438,5),o=na(o,r,n,i,t[14],3275163606,9),i=na(i,o,r,n,t[3],4107603335,14),n=na(n,i,o,r,t[8],1163531501,20),r=na(r,n,i,o,t[13],2850285829,5),o=na(o,r,n,i,t[2],4243563512,9),i=na(i,o,r,n,t[7],1735328473,14),n=na(n,i,o,r,t[12],2368359562,20),r=ia(r,n,i,o,t[5],4294588738,4),o=ia(o,r,n,i,t[8],2272392833,11),i=ia(i,o,r,n,t[11],1839030562,16),n=ia(n,i,o,r,t[14],4259657740,23),r=ia(r,n,i,o,t[1],2763975236,4),o=ia(o,r,n,i,t[4],1272893353,11),i=ia(i,o,r,n,t[7],4139469664,16),n=ia(n,i,o,r,t[10],3200236656,23),r=ia(r,n,i,o,t[13],681279174,4),o=ia(o,r,n,i,t[0],3936430074,11),i=ia(i,o,r,n,t[3],3572445317,16),n=ia(n,i,o,r,t[6],76029189,23),r=ia(r,n,i,o,t[9],3654602809,4),o=ia(o,r,n,i,t[12],3873151461,11),i=ia(i,o,r,n,t[15],530742520,16),n=ia(n,i,o,r,t[2],3299628645,23),r=oa(r,n,i,o,t[0],4096336452,6),o=oa(o,r,n,i,t[7],1126891415,10),i=oa(i,o,r,n,t[14],2878612391,15),n=oa(n,i,o,r,t[5],4237533241,21),r=oa(r,n,i,o,t[12],1700485571,6),o=oa(o,r,n,i,t[3],2399980690,10),i=oa(i,o,r,n,t[10],4293915773,15),n=oa(n,i,o,r,t[1],2240044497,21),r=oa(r,n,i,o,t[8],1873313359,6),o=oa(o,r,n,i,t[15],4264355552,10),i=oa(i,o,r,n,t[6],2734768916,15),n=oa(n,i,o,r,t[13],1309151649,21),r=oa(r,n,i,o,t[4],4149444226,6),o=oa(o,r,n,i,t[11],3174756917,10),i=oa(i,o,r,n,t[2],718787259,15),n=oa(n,i,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0};jI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=fVe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function zI(t,e){return t<<e|t>>>32-e}function ra(t,e,r,n,i,o,s){return zI(t+(e&r|~e&n)+i+o|0,s)+e|0}function na(t,e,r,n,i,o,s){return zI(t+(e&n|r&~n)+i+o|0,s)+e|0}function ia(t,e,r,n,i,o,s){return zI(t+(e^r^n)+i+o|0,s)+e|0}function oa(t,e,r,n,i,o,s){return zI(t+(r^(e|~n))+i+o|0,s)+e|0}Lue.exports=jI});var $I=K((uqt,zue)=>{"use strict";d();h();var Hq=Fn().Buffer,dVe=Xt(),jue=Vq(),hVe=new Array(16),g3=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b3=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v3=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x3=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],w3=[0,1518500249,1859775393,2400959708,2840853838],S3=[1352829926,1548603684,1836072691,2053994217,0];function GI(){jue.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}dVe(GI,jue);GI.prototype._update=function(){for(var t=hVe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=this._a|0,l=this._b|0,m=this._c|0,w=this._d|0,b=this._e|0,E=0;E<80;E+=1){var I,M;E<16?(I=Fue(r,n,i,o,s,t[g3[E]],w3[0],v3[E]),M=Hue(c,l,m,w,b,t[b3[E]],S3[0],x3[E])):E<32?(I=que(r,n,i,o,s,t[g3[E]],w3[1],v3[E]),M=Vue(c,l,m,w,b,t[b3[E]],S3[1],x3[E])):E<48?(I=Kue(r,n,i,o,s,t[g3[E]],w3[2],v3[E]),M=Kue(c,l,m,w,b,t[b3[E]],S3[2],x3[E])):E<64?(I=Vue(r,n,i,o,s,t[g3[E]],w3[3],v3[E]),M=que(c,l,m,w,b,t[b3[E]],S3[3],x3[E])):(I=Hue(r,n,i,o,s,t[g3[E]],w3[4],v3[E]),M=Fue(c,l,m,w,b,t[b3[E]],S3[4],x3[E])),r=s,s=o,o=Ab(i,10),i=n,n=I,c=b,b=w,w=Ab(m,10),m=l,l=M}var k=this._b+i+w|0;this._b=this._c+o+b|0,this._c=this._d+s+c|0,this._d=this._e+r+l|0,this._e=this._a+n+m|0,this._a=k};GI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Hq.alloc?Hq.alloc(20):new Hq(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Ab(t,e){return t<<e|t>>>32-e}function Fue(t,e,r,n,i,o,s,c){return Ab(t+(e^r^n)+o+s|0,c)+i|0}function que(t,e,r,n,i,o,s,c){return Ab(t+(e&r|~e&n)+o+s|0,c)+i|0}function Kue(t,e,r,n,i,o,s,c){return Ab(t+((e|~r)^n)+o+s|0,c)+i|0}function Vue(t,e,r,n,i,o,s,c){return Ab(t+(e&n|r&~n)+o+s|0,c)+i|0}function Hue(t,e,r,n,i,o,s,c){return Ab(t+(e^(r|~n))+o+s|0,c)+i|0}zue.exports=GI});var Eb=K((dqt,Gue)=>{d();h();var Wue=ar().Buffer;function YI(t,e){this._block=Wue.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}YI.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Wue.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,o=this._len,s=0;s<i;){for(var c=o%n,l=Math.min(i-s,n-c),m=0;m<l;m++)r[c+m]=t[s+m];o+=l,s+=l,o%n===0&&this._update(r)}return this._len+=i,this};YI.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};YI.prototype._update=function(){throw new Error("_update must be implemented by subclass")};Gue.exports=YI});var Zue=K((mqt,Yue)=>{d();h();var pVe=Xt(),$ue=Eb(),mVe=ar().Buffer,yVe=[1518500249,1859775393,-1894007588,-899497514],gVe=new Array(80);function A3(){this.init(),this._w=gVe,$ue.call(this,64,56)}pVe(A3,$ue);A3.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function bVe(t){return t<<5|t>>>27}function vVe(t){return t<<30|t>>>2}function xVe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}A3.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var l=0;l<80;++l){var m=~~(l/20),w=bVe(r)+xVe(m,n,i,o)+s+e[l]+yVe[m]|0;s=o,o=i,i=vVe(n),n=r,r=w}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};A3.prototype._hash=function(){var t=mVe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Yue.exports=A3});var Xue=K((bqt,Jue)=>{d();h();var wVe=Xt(),Que=Eb(),SVe=ar().Buffer,AVe=[1518500249,1859775393,-1894007588,-899497514],EVe=new Array(80);function E3(){this.init(),this._w=EVe,Que.call(this,64,56)}wVe(E3,Que);E3.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function _Ve(t){return t<<1|t>>>31}function TVe(t){return t<<5|t>>>27}function IVe(t){return t<<30|t>>>2}function MVe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}E3.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=_Ve(e[c-3]^e[c-8]^e[c-14]^e[c-16]);for(var l=0;l<80;++l){var m=~~(l/20),w=TVe(r)+MVe(m,n,i,o)+s+e[l]+AVe[m]|0;s=o,o=i,i=IVe(n),n=r,r=w}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};E3.prototype._hash=function(){var t=SVe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Jue.exports=E3});var jq=K((wqt,tfe)=>{d();h();var kVe=Xt(),efe=Eb(),PVe=ar().Buffer,RVe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],BVe=new Array(64);function _3(){this.init(),this._w=BVe,efe.call(this,64,56)}kVe(_3,efe);_3.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function CVe(t,e,r){return r^t&(e^r)}function OVe(t,e,r){return t&e|r&(t|e)}function NVe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function DVe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function UVe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function LVe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}_3.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=this._f|0,l=this._g|0,m=this._h|0,w=0;w<16;++w)e[w]=t.readInt32BE(w*4);for(;w<64;++w)e[w]=LVe(e[w-2])+e[w-7]+UVe(e[w-15])+e[w-16]|0;for(var b=0;b<64;++b){var E=m+DVe(s)+CVe(s,c,l)+RVe[b]+e[b]|0,I=NVe(r)+OVe(r,n,i)|0;m=l,l=c,c=s,s=o+E|0,o=i,i=n,n=r,r=E+I|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=c+this._f|0,this._g=l+this._g|0,this._h=m+this._h|0};_3.prototype._hash=function(){var t=PVe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};tfe.exports=_3});var nfe=K((Eqt,rfe)=>{d();h();var FVe=Xt(),qVe=jq(),KVe=Eb(),VVe=ar().Buffer,HVe=new Array(64);function ZI(){this.init(),this._w=HVe,KVe.call(this,64,56)}FVe(ZI,qVe);ZI.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};ZI.prototype._hash=function(){var t=VVe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};rfe.exports=ZI});var zq=K((Iqt,ffe)=>{d();h();var jVe=Xt(),ufe=Eb(),zVe=ar().Buffer,ife=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],WVe=new Array(160);function T3(){this.init(),this._w=WVe,ufe.call(this,128,112)}jVe(T3,ufe);T3.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function ofe(t,e,r){return r^t&(e^r)}function sfe(t,e,r){return t&e|r&(t|e)}function afe(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function cfe(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function GVe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function $Ve(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function YVe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function ZVe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function ns(t,e){return t>>>0<e>>>0?1:0}T3.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,c=this._fh|0,l=this._gh|0,m=this._hh|0,w=this._al|0,b=this._bl|0,E=this._cl|0,I=this._dl|0,M=this._el|0,k=this._fl|0,B=this._gl|0,R=this._hl|0,U=0;U<32;U+=2)e[U]=t.readInt32BE(U*4),e[U+1]=t.readInt32BE(U*4+4);for(;U<160;U+=2){var P=e[U-30],F=e[U-15*2+1],V=GVe(P,F),H=$Ve(F,P);P=e[U-2*2],F=e[U-2*2+1];var re=YVe(P,F),J=ZVe(F,P),ie=e[U-7*2],S=e[U-7*2+1],a=e[U-16*2],f=e[U-16*2+1],p=H+S|0,y=V+ie+ns(p,H)|0;p=p+J|0,y=y+re+ns(p,J)|0,p=p+f|0,y=y+a+ns(p,f)|0,e[U]=y,e[U+1]=p}for(var g=0;g<160;g+=2){y=e[g],p=e[g+1];var A=sfe(r,n,i),_=sfe(w,b,E),v=afe(r,w),u=afe(w,r),x=cfe(s,M),q=cfe(M,s),L=ife[g],C=ife[g+1],W=ofe(s,c,l),ee=ofe(M,k,B),ne=R+q|0,Ve=m+x+ns(ne,R)|0;ne=ne+ee|0,Ve=Ve+W+ns(ne,ee)|0,ne=ne+C|0,Ve=Ve+L+ns(ne,C)|0,ne=ne+p|0,Ve=Ve+y+ns(ne,p)|0;var ae=u+_|0,G=v+A+ns(ae,u)|0;m=l,R=B,l=c,B=k,c=s,k=M,M=I+ne|0,s=o+Ve+ns(M,I)|0,o=i,I=E,i=n,E=b,n=r,b=w,w=ne+ae|0,r=Ve+G+ns(w,ne)|0}this._al=this._al+w|0,this._bl=this._bl+b|0,this._cl=this._cl+E|0,this._dl=this._dl+I|0,this._el=this._el+M|0,this._fl=this._fl+k|0,this._gl=this._gl+B|0,this._hl=this._hl+R|0,this._ah=this._ah+r+ns(this._al,w)|0,this._bh=this._bh+n+ns(this._bl,b)|0,this._ch=this._ch+i+ns(this._cl,E)|0,this._dh=this._dh+o+ns(this._dl,I)|0,this._eh=this._eh+s+ns(this._el,M)|0,this._fh=this._fh+c+ns(this._fl,k)|0,this._gh=this._gh+l+ns(this._gl,B)|0,this._hh=this._hh+m+ns(this._hl,R)|0};T3.prototype._hash=function(){var t=zVe.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};ffe.exports=T3});var dfe=K((Pqt,lfe)=>{d();h();var QVe=Xt(),JVe=zq(),XVe=Eb(),eHe=ar().Buffer,tHe=new Array(160);function QI(){this.init(),this._w=tHe,XVe.call(this,128,112)}QVe(QI,JVe);QI.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};QI.prototype._hash=function(){var t=eHe.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};lfe.exports=QI});var JI=K((t0,hfe)=>{d();h();var t0=hfe.exports=function(e){e=e.toLowerCase();var r=t0[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};t0.sha=Zue();t0.sha1=Xue();t0.sha224=nfe();t0.sha256=jq();t0.sha384=dfe();t0.sha512=zq()});var mfe=K((Nqt,pfe)=>{d();h();pfe.exports=Zu;var Wq=e3().EventEmitter,rHe=Xt();rHe(Zu,Wq);Zu.Readable=CI();Zu.Writable=PI();Zu.Duplex=Qp();Zu.Transform=KI();Zu.PassThrough=Fq();Zu.finished=d3();Zu.pipeline=Kq();Zu.Stream=Zu;function Zu(){Wq.call(this)}Zu.prototype.pipe=function(t,e){var r=this;function n(w){t.writable&&t.write(w)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",c));var o=!1;function s(){o||(o=!0,t.end())}function c(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function l(w){if(m(),Wq.listenerCount(this,"error")===0)throw w}r.on("error",l),t.on("error",l);function m(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",m),r.removeListener("close",m),t.removeListener("close",m)}return r.on("end",m),r.on("close",m),t.on("close",m),t.emit("pipe",r),t}});var r0=K((Lqt,bfe)=>{d();h();var yfe=ar().Buffer,gfe=mfe().Transform,nHe=Vx().StringDecoder,iHe=Xt();function al(t){gfe.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}iHe(al,gfe);al.prototype.update=function(t,e,r){typeof t=="string"&&(t=yfe.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};al.prototype.setAutoPadding=function(){};al.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};al.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};al.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};al.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};al.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};al.prototype._finalOrDigest=function(t){var e=this.__final()||yfe.alloc(0);return t&&(e=this._toString(e,t,!0)),e};al.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new nHe(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};bfe.exports=al});var rm=K((Kqt,xfe)=>{"use strict";d();h();var oHe=Xt(),sHe=WI(),aHe=$I(),cHe=JI(),vfe=r0();function XI(t){vfe.call(this,"digest"),this._hash=t}oHe(XI,vfe);XI.prototype._update=function(t){this._hash.update(t)};XI.prototype._final=function(){return this._hash.digest()};xfe.exports=function(e){return e=e.toLowerCase(),e==="md5"?new sHe:e==="rmd160"||e==="ripemd160"?new aHe:new XI(cHe(e))}});var Afe=K((jqt,Sfe)=>{"use strict";d();h();var uHe=Xt(),_b=ar().Buffer,wfe=r0(),fHe=_b.alloc(128),zx=64;function eM(t,e){wfe.call(this,"digest"),typeof e=="string"&&(e=_b.from(e)),this._alg=t,this._key=e,e.length>zx?e=t(e):e.length<zx&&(e=_b.concat([e,fHe],zx));for(var r=this._ipad=_b.allocUnsafe(zx),n=this._opad=_b.allocUnsafe(zx),i=0;i<zx;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}uHe(eM,wfe);eM.prototype._update=function(t){this._hash.push(t)};eM.prototype._final=function(){var t=this._alg(_b.concat(this._hash));return this._alg(_b.concat([this._opad,t]))};Sfe.exports=eM});var Gq=K((Gqt,Efe)=>{d();h();var lHe=WI();Efe.exports=function(t){return new lHe().update(t).digest()}});var Zq=K((Zqt,Tfe)=>{"use strict";d();h();var dHe=Xt(),hHe=Afe(),_fe=r0(),I3=ar().Buffer,pHe=Gq(),$q=$I(),Yq=JI(),mHe=I3.alloc(128);function M3(t,e){_fe.call(this,"digest"),typeof e=="string"&&(e=I3.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new $q:Yq(t);e=n.update(e).digest()}else e.length<r&&(e=I3.concat([e,mHe],r));for(var i=this._ipad=I3.allocUnsafe(r),o=this._opad=I3.allocUnsafe(r),s=0;s<r;s++)i[s]=e[s]^54,o[s]=e[s]^92;this._hash=t==="rmd160"?new $q:Yq(t),this._hash.update(i)}dHe(M3,_fe);M3.prototype._update=function(t){this._hash.update(t)};M3.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new $q:Yq(this._alg);return e.update(this._opad).update(t).digest()};Tfe.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new M3("rmd160",r):e==="md5"?new hHe(pHe,r):new M3(e,r)}});var Qq=K((Xqt,yHe)=>{yHe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var Mfe=K((eKt,Ife)=>{"use strict";d();h();Ife.exports=Qq()});var Jq=K((nKt,kfe)=>{d();h();var gHe=Math.pow(2,30)-1;kfe.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>gHe||e!==e)throw new TypeError("Bad key length")}});var Xq=K((sKt,Rfe)=>{d();h();var tM;self.process&&self.process.browser?tM="utf-8":self.process&&self.process.version?(Pfe=parseInt(process.version.split(".")[0].slice(1),10),tM=Pfe>=6?"utf-8":"binary"):tM="utf-8";var Pfe;Rfe.exports=tM});var tK=K((uKt,Bfe)=>{d();h();var eK=ar().Buffer;Bfe.exports=function(t,e,r){if(eK.isBuffer(t))return t;if(typeof t=="string")return eK.from(t,e);if(ArrayBuffer.isView(t))return eK.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var rK=K((dKt,Dfe)=>{d();h();var bHe=Gq(),vHe=$I(),xHe=JI(),Tb=ar().Buffer,wHe=Jq(),Cfe=Xq(),Ofe=tK(),SHe=Tb.alloc(128),rM={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Nfe(t,e,r){var n=AHe(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Tb.concat([e,SHe],i));for(var o=Tb.allocUnsafe(i+rM[t]),s=Tb.allocUnsafe(i+rM[t]),c=0;c<i;c++)o[c]=e[c]^54,s[c]=e[c]^92;var l=Tb.allocUnsafe(i+r+4);o.copy(l,0,0,i),this.ipad1=l,this.ipad2=o,this.opad=s,this.alg=t,this.blocksize=i,this.hash=n,this.size=rM[t]}Nfe.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function AHe(t){function e(n){return xHe(t).update(n).digest()}function r(n){return new vHe().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?bHe:e}function EHe(t,e,r,n,i){wHe(r,n),t=Ofe(t,Cfe,"Password"),e=Ofe(e,Cfe,"Salt"),i=i||"sha1";var o=new Nfe(i,t,e.length),s=Tb.allocUnsafe(n),c=Tb.allocUnsafe(e.length+4);e.copy(c,0,0,e.length);for(var l=0,m=rM[i],w=Math.ceil(n/m),b=1;b<=w;b++){c.writeUInt32BE(b,e.length);for(var E=o.run(c,o.ipad1),I=E,M=1;M<r;M++){I=o.run(I,o.ipad2);for(var k=0;k<m;k++)E[k]^=I[k]}E.copy(s,l),l+=m}return s}Dfe.exports=EHe});var Hfe=K((mKt,Vfe)=>{d();h();var qfe=ar().Buffer,_He=Jq(),Ufe=Xq(),Lfe=rK(),Ffe=tK(),nM,k3=self.crypto&&self.crypto.subtle,THe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},nK=[];function IHe(t){if(self.process&&!self.process.browser||!k3||!k3.importKey||!k3.deriveBits)return Promise.resolve(!1);if(nK[t]!==void 0)return nK[t];nM=nM||qfe.alloc(8);var e=Kfe(nM,nM,10,128,t).then(function(){return!0}).catch(function(){return!1});return nK[t]=e,e}var Ib;function iK(){return Ib||(self.process&&self.process.nextTick?Ib=self.process.nextTick:self.queueMicrotask?Ib=self.queueMicrotask:self.setImmediate?Ib=self.setImmediate:Ib=self.setTimeout,Ib)}function Kfe(t,e,r,n,i){return k3.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(o){return k3.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},o,n<<3)}).then(function(o){return qfe.from(o)})}function MHe(t,e){t.then(function(r){iK()(function(){e(null,r)})},function(r){iK()(function(){e(r)})})}Vfe.exports=function(t,e,r,n,i,o){typeof i=="function"&&(o=i,i=void 0),i=i||"sha1";var s=THe[i.toLowerCase()];if(!s||typeof self.Promise!="function"){iK()(function(){var c;try{c=Lfe(t,e,r,n,i)}catch(l){return o(l)}o(null,c)});return}if(_He(r,n),t=Ffe(t,Ufe,"Password"),e=Ffe(e,Ufe,"Salt"),typeof o!="function")throw new Error("No callback provided to pbkdf2");MHe(IHe(s).then(function(c){return c?Kfe(t,e,r,n,s):Lfe(t,e,r,n,i)}),o)}});var iM=K(oK=>{d();h();oK.pbkdf2=Hfe();oK.pbkdf2Sync=rK()});var sK=K(Qu=>{"use strict";d();h();Qu.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};Qu.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};Qu.ip=function(e,r,n,i){for(var o=0,s=0,c=6;c>=0;c-=2){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>>l+c&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>>l+c&1}for(var c=6;c>=0;c-=2){for(var l=1;l<=25;l+=8)s<<=1,s|=r>>>l+c&1;for(var l=1;l<=25;l+=8)s<<=1,s|=e>>>l+c&1}n[i+0]=o>>>0,n[i+1]=s>>>0};Qu.rip=function(e,r,n,i){for(var o=0,s=0,c=0;c<4;c++)for(var l=24;l>=0;l-=8)o<<=1,o|=r>>>l+c&1,o<<=1,o|=e>>>l+c&1;for(var c=4;c<8;c++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+c&1,s<<=1,s|=e>>>l+c&1;n[i+0]=o>>>0,n[i+1]=s>>>0};Qu.pc1=function(e,r,n,i){for(var o=0,s=0,c=7;c>=5;c--){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+c&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>l+c&1}for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+c&1;for(var c=1;c<=3;c++){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+c&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+c&1}for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+c&1;n[i+0]=o>>>0,n[i+1]=s>>>0};Qu.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var oM=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Qu.pc2=function(e,r,n,i){for(var o=0,s=0,c=oM.length>>>1,l=0;l<c;l++)o<<=1,o|=e>>>oM[l]&1;for(var l=c;l<oM.length;l++)s<<=1,s|=r>>>oM[l]&1;n[i+0]=o>>>0,n[i+1]=s>>>0};Qu.expand=function(e,r,n){var i=0,o=0;i=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)i<<=6,i|=e>>>s&63;for(var s=11;s>=3;s-=4)o|=e>>>s&63,o<<=6;o|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=o>>>0};var jfe=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Qu.substitute=function(e,r){for(var n=0,i=0;i<4;i++){var o=e>>>18-i*6&63,s=jfe[i*64+o];n<<=4,n|=s}for(var i=0;i<4;i++){var o=r>>>18-i*6&63,s=jfe[4*64+i*64+o];n<<=4,n|=s}return n>>>0};var zfe=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Qu.permute=function(e){for(var r=0,n=0;n<zfe.length;n++)r<<=1,r|=e>>>zfe[n]&1;return r>>>0};Qu.padSplit=function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var o=[],s=0;s<r;s+=n)o.push(i.slice(s,s+n));return o.join(" ")}});var nu=K((EKt,Gfe)=>{d();h();Gfe.exports=Wfe;function Wfe(t,e){if(!t)throw new Error(e||"Assertion failed")}Wfe.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var sM=K((IKt,$fe)=>{"use strict";d();h();var kHe=nu();function Ju(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}$fe.exports=Ju;Ju.prototype._init=function(){};Ju.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};Ju.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n};Ju.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};Ju.prototype._updateEncrypt=function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,o=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(o,n)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,o,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return o};Ju.prototype._updateDecrypt=function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,o=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(o,n);return r+=this._buffer(e,r),o};Ju.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};Ju.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};Ju.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};Ju.prototype._unpad=function(e){return e};Ju.prototype._finalDecrypt=function(){kHe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var aK=K((PKt,Qfe)=>{"use strict";d();h();var Yfe=nu(),PHe=Xt(),Ro=sK(),Zfe=sM();function RHe(){this.tmp=new Array(2),this.keys=null}function _d(t){Zfe.call(this,t);var e=new RHe;this._desState=e,this.deriveKeys(e,t.key)}PHe(_d,Zfe);Qfe.exports=_d;_d.create=function(e){return new _d(e)};var BHe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];_d.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),Yfe.equal(r.length,this.blockSize,"Invalid key length");var n=Ro.readUInt32BE(r,0),i=Ro.readUInt32BE(r,4);Ro.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=BHe[o>>>1];n=Ro.r28shl(n,s),i=Ro.r28shl(i,s),Ro.pc2(n,i,e.keys,o)}};_d.prototype._update=function(e,r,n,i){var o=this._desState,s=Ro.readUInt32BE(e,r),c=Ro.readUInt32BE(e,r+4);Ro.ip(s,c,o.tmp,0),s=o.tmp[0],c=o.tmp[1],this.type==="encrypt"?this._encrypt(o,s,c,o.tmp,0):this._decrypt(o,s,c,o.tmp,0),s=o.tmp[0],c=o.tmp[1],Ro.writeUInt32BE(n,s,i),Ro.writeUInt32BE(n,c,i+4)};_d.prototype._pad=function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0};_d.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)Yfe.equal(e[n],r);return e.slice(0,e.length-r)};_d.prototype._encrypt=function(e,r,n,i,o){for(var s=r,c=n,l=0;l<e.keys.length;l+=2){var m=e.keys[l],w=e.keys[l+1];Ro.expand(c,e.tmp,0),m^=e.tmp[0],w^=e.tmp[1];var b=Ro.substitute(m,w),E=Ro.permute(b),I=c;c=(s^E)>>>0,s=I}Ro.rip(c,s,i,o)};_d.prototype._decrypt=function(e,r,n,i,o){for(var s=n,c=r,l=e.keys.length-2;l>=0;l-=2){var m=e.keys[l],w=e.keys[l+1];Ro.expand(s,e.tmp,0),m^=e.tmp[0],w^=e.tmp[1];var b=Ro.substitute(m,w),E=Ro.permute(b),I=s;s=(c^E)>>>0,c=I}Ro.rip(s,c,i,o)}});var Xfe=K(Jfe=>{"use strict";d();h();var CHe=nu(),OHe=Xt(),aM={};function NHe(t){CHe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function DHe(t){function e(o){t.call(this,o),this._cbcInit()}OHe(e,t);for(var r=Object.keys(aM),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=aM[i]}return e.create=function(s){return new e(s)},e}Jfe.instantiate=DHe;aM._cbcInit=function(){var e=new NHe(this.options.iv);this._cbcState=e};aM._update=function(e,r,n,i){var o=this._cbcState,s=this.constructor.super_.prototype,c=o.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)c[l]^=e[r+l];s._update.call(this,c,0,n,i);for(var l=0;l<this.blockSize;l++)c[l]=n[i+l]}else{s._update.call(this,e,r,n,i);for(var l=0;l<this.blockSize;l++)n[i+l]^=c[l];for(var l=0;l<this.blockSize;l++)c[l]=e[r+l]}}});var rle=K((DKt,tle)=>{"use strict";d();h();var UHe=nu(),LHe=Xt(),ele=sM(),nm=aK();function FHe(t,e){UHe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[nm.create({type:"encrypt",key:r}),nm.create({type:"decrypt",key:n}),nm.create({type:"encrypt",key:i})]:this.ciphers=[nm.create({type:"decrypt",key:i}),nm.create({type:"encrypt",key:n}),nm.create({type:"decrypt",key:r})]}function Mb(t){ele.call(this,t);var e=new FHe(this.type,this.options.key);this._edeState=e}LHe(Mb,ele);tle.exports=Mb;Mb.create=function(e){return new Mb(e)};Mb.prototype._update=function(e,r,n,i){var o=this._edeState;o.ciphers[0]._update(e,r,n,i),o.ciphers[1]._update(n,i,n,i),o.ciphers[2]._update(n,i,n,i)};Mb.prototype._pad=nm.prototype._pad;Mb.prototype._unpad=nm.prototype._unpad});var nle=K(Wx=>{"use strict";d();h();Wx.utils=sK();Wx.Cipher=sM();Wx.DES=aK();Wx.CBC=Xfe();Wx.EDE=rle()});var sle=K((VKt,ole)=>{d();h();var ile=r0(),n0=nle(),qHe=Xt(),kb=ar().Buffer,P3={"des-ede3-cbc":n0.CBC.instantiate(n0.EDE),"des-ede3":n0.EDE,"des-ede-cbc":n0.CBC.instantiate(n0.EDE),"des-ede":n0.EDE,"des-cbc":n0.CBC.instantiate(n0.DES),"des-ecb":n0.DES};P3.des=P3["des-cbc"];P3.des3=P3["des-ede3-cbc"];ole.exports=cM;qHe(cM,ile);function cM(t){ile.call(this);var e=t.mode.toLowerCase(),r=P3[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;kb.isBuffer(i)||(i=kb.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=kb.concat([i,i.slice(0,8)]));var o=t.iv;kb.isBuffer(o)||(o=kb.from(o)),this._des=r.create({key:i,iv:o,type:n})}cM.prototype._update=function(t){return kb.from(this._des.update(t))};cM.prototype._final=function(){return kb.from(this._des.final())}});var ale=K(cK=>{d();h();cK.encrypt=function(t,e){return t._cipher.encryptBlock(e)};cK.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Gx=K(($Kt,cle)=>{d();h();cle.exports=function(e,r){for(var n=Math.min(e.length,r.length),i=new Buffer(n),o=0;o<n;++o)i[o]=e[o]^r[o];return i}});var fle=K(uK=>{d();h();var ule=Gx();uK.encrypt=function(t,e){var r=ule(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};uK.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return ule(n,r)}});var hle=K(dle=>{d();h();var R3=ar().Buffer,KHe=Gx();function lle(t,e,r){var n=e.length,i=KHe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=R3.concat([t._prev,r?e:i]),i}dle.encrypt=function(t,e,r){for(var n=R3.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=R3.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=R3.concat([n,lle(t,e.slice(0,i),r)]),e=e.slice(i);else{n=R3.concat([n,lle(t,e,r)]);break}return n}});var mle=K(ple=>{d();h();var fK=ar().Buffer;function VHe(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=fK.concat([t._prev.slice(1),fK.from([r?e:i])]),i}ple.encrypt=function(t,e,r){for(var n=e.length,i=fK.allocUnsafe(n),o=-1;++o<n;)i[o]=VHe(t,e[o],r);return i}});var gle=K(yle=>{d();h();var uM=ar().Buffer;function HHe(t,e,r){for(var n,i=-1,o=8,s=0,c,l;++i<o;)n=t._cipher.encryptBlock(t._prev),c=e&1<<7-i?128:0,l=n[0]^c,s+=(l&128)>>i%8,t._prev=jHe(t._prev,r?c:l);return s}function jHe(t,e){var r=t.length,n=-1,i=uM.allocUnsafe(t.length);for(t=uM.concat([t,uM.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}yle.encrypt=function(t,e,r){for(var n=e.length,i=uM.allocUnsafe(n),o=-1;++o<n;)i[o]=HHe(t,e[o],r);return i}});var vle=K(ble=>{d();h();var zHe=Gx();function WHe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}ble.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,WHe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),zHe(e,r)}});var lK=K((dVt,xle)=>{d();h();function GHe(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}xle.exports=GHe});var hK=K(Sle=>{d();h();var $He=Gx(),wle=ar().Buffer,YHe=lK();function ZHe(t){var e=t._cipher.encryptBlockRaw(t._prev);return YHe(t._prev),e}var dK=16;Sle.encrypt=function(t,e){var r=Math.ceil(e.length/dK),n=t._cache.length;t._cache=wle.concat([t._cache,wle.allocUnsafe(r*dK)]);for(var i=0;i<r;i++){var o=ZHe(t),s=n+i*dK;t._cache.writeUInt32BE(o[0],s+0),t._cache.writeUInt32BE(o[1],s+4),t._cache.writeUInt32BE(o[2],s+8),t._cache.writeUInt32BE(o[3],s+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),$He(e,c)}});var pK=K((bVt,QHe)=>{QHe.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var lM=K((vVt,Ale)=>{d();h();var JHe={ECB:ale(),CBC:fle(),CFB:hle(),CFB8:mle(),CFB1:gle(),OFB:vle(),CTR:hK(),GCM:hK()},fM=pK();for(mK in fM)fM[mK].module=JHe[fM[mK].mode];var mK;Ale.exports=fM});var B3=K((SVt,_le)=>{d();h();var dM=ar().Buffer;function gK(t){dM.isBuffer(t)||(t=dM.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function yK(t){for(var e=0;e<t.length;t++)t[e]=0}function Ele(t,e,r,n,i){for(var o=r[0],s=r[1],c=r[2],l=r[3],m=t[0]^e[0],w=t[1]^e[1],b=t[2]^e[2],E=t[3]^e[3],I,M,k,B,R=4,U=1;U<i;U++)I=o[m>>>24]^s[w>>>16&255]^c[b>>>8&255]^l[E&255]^e[R++],M=o[w>>>24]^s[b>>>16&255]^c[E>>>8&255]^l[m&255]^e[R++],k=o[b>>>24]^s[E>>>16&255]^c[m>>>8&255]^l[w&255]^e[R++],B=o[E>>>24]^s[m>>>16&255]^c[w>>>8&255]^l[b&255]^e[R++],m=I,w=M,b=k,E=B;return I=(n[m>>>24]<<24|n[w>>>16&255]<<16|n[b>>>8&255]<<8|n[E&255])^e[R++],M=(n[w>>>24]<<24|n[b>>>16&255]<<16|n[E>>>8&255]<<8|n[m&255])^e[R++],k=(n[b>>>24]<<24|n[E>>>16&255]<<16|n[m>>>8&255]<<8|n[w&255])^e[R++],B=(n[E>>>24]<<24|n[m>>>16&255]<<16|n[w>>>8&255]<<8|n[b&255])^e[R++],I=I>>>0,M=M>>>0,k=k>>>0,B=B>>>0,[I,M,k,B]}var XHe=[0,1,2,4,8,16,32,64,128,27,54],vo=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,c=0,l=0;l<256;++l){var m=c^c<<1^c<<2^c<<3^c<<4;m=m>>>8^m&255^99,r[s]=m,n[m]=s;var w=t[s],b=t[w],E=t[b],I=t[m]*257^m*16843008;i[0][s]=I<<24|I>>>8,i[1][s]=I<<16|I>>>16,i[2][s]=I<<8|I>>>24,i[3][s]=I,I=E*16843009^b*65537^w*257^s*16843008,o[0][m]=I<<24|I>>>8,o[1][m]=I<<16|I>>>16,o[2][m]=I<<8|I>>>24,o[3][m]=I,s===0?s=c=1:(s=w^t[t[t[E^w]]],c^=t[t[c]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function Xu(t){this._key=gK(t),this._reset()}Xu.blockSize=4*4;Xu.keySize=256/8;Xu.prototype.blockSize=Xu.blockSize;Xu.prototype.keySize=Xu.keySize;Xu.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<n;o++){var s=i[o-1];o%e===0?(s=s<<8|s>>>24,s=vo.SBOX[s>>>24]<<24|vo.SBOX[s>>>16&255]<<16|vo.SBOX[s>>>8&255]<<8|vo.SBOX[s&255],s^=XHe[o/e|0]<<24):e>6&&o%e===4&&(s=vo.SBOX[s>>>24]<<24|vo.SBOX[s>>>16&255]<<16|vo.SBOX[s>>>8&255]<<8|vo.SBOX[s&255]),i[o]=i[o-e]^s}for(var c=[],l=0;l<n;l++){var m=n-l,w=i[m-(l%4?0:4)];l<4||m<=4?c[l]=w:c[l]=vo.INV_SUB_MIX[0][vo.SBOX[w>>>24]]^vo.INV_SUB_MIX[1][vo.SBOX[w>>>16&255]]^vo.INV_SUB_MIX[2][vo.SBOX[w>>>8&255]]^vo.INV_SUB_MIX[3][vo.SBOX[w&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c};Xu.prototype.encryptBlockRaw=function(t){return t=gK(t),Ele(t,this._keySchedule,vo.SUB_MIX,vo.SBOX,this._nRounds)};Xu.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=dM.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Xu.prototype.decryptBlock=function(t){t=gK(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Ele(t,this._invKeySchedule,vo.INV_SUB_MIX,vo.INV_SBOX,this._nRounds),n=dM.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Xu.prototype.scrub=function(){yK(this._keySchedule),yK(this._invKeySchedule),yK(this._key)};_le.exports.AES=Xu});var Mle=K((_Vt,Ile)=>{d();h();var $x=ar().Buffer,eje=$x.alloc(16,0);function tje(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function Tle(t){var e=$x.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function C3(t){this.h=t,this.state=$x.alloc(16,0),this.cache=$x.allocUnsafe(0)}C3.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};C3.prototype._multiply=function(){for(var t=tje(this.h),e=[0,0,0,0],r,n,i,o=-1;++o<128;){for(n=(this.state[~~(o/8)]&1<<7-o%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=Tle(e)};C3.prototype.update=function(t){this.cache=$x.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};C3.prototype.final=function(t,e){return this.cache.length&&this.ghash($x.concat([this.cache,eje],16)),this.ghash(Tle([0,t,0,e])),this.state};Ile.exports=C3});var bK=K((MVt,Rle)=>{d();h();var rje=B3(),gc=ar().Buffer,kle=r0(),nje=Xt(),Ple=Mle(),ije=Gx(),oje=lK();function sje(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}function aje(t,e,r){if(e.length===12)return t._finID=gc.concat([e,gc.from([0,0,0,1])]),gc.concat([e,gc.from([0,0,0,2])]);var n=new Ple(r),i=e.length,o=i%16;n.update(e),o&&(o=16-o,n.update(gc.alloc(o,0))),n.update(gc.alloc(8,0));var s=i*8,c=gc.alloc(8);c.writeUIntBE(s,0,8),n.update(c),t._finID=n.state;var l=gc.from(t._finID);return oje(l),l}function Pb(t,e,r,n){kle.call(this);var i=gc.alloc(4,0);this._cipher=new rje.AES(e);var o=this._cipher.encryptBlock(i);this._ghash=new Ple(o),r=aje(this,r,o),this._prev=gc.from(r),this._cache=gc.allocUnsafe(0),this._secCache=gc.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}nje(Pb,kle);Pb.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=gc.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Pb.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=ije(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&sje(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Pb.prototype.getAuthTag=function(){if(this._decrypt||!gc.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Pb.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Pb.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};Rle.exports=Pb});var xK=K((RVt,Cle)=>{d();h();var cje=B3(),vK=ar().Buffer,Ble=r0(),uje=Xt();function hM(t,e,r,n){Ble.call(this),this._cipher=new cje.AES(e),this._prev=vK.from(r),this._cache=vK.allocUnsafe(0),this._secCache=vK.allocUnsafe(0),this._decrypt=n,this._mode=t}uje(hM,Ble);hM.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};hM.prototype._final=function(){this._cipher.scrub()};Cle.exports=hM});var O3=K((OVt,Ole)=>{d();h();var Rb=ar().Buffer,fje=WI();function lje(t,e,r,n){if(Rb.isBuffer(t)||(t=Rb.from(t,"binary")),e&&(Rb.isBuffer(e)||(e=Rb.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,o=Rb.alloc(i),s=Rb.alloc(n||0),c=Rb.alloc(0);i>0||n>0;){var l=new fje;l.update(c),l.update(t),e&&l.update(e),c=l.digest();var m=0;if(i>0){var w=o.length-i;m=Math.min(i,c.length),c.copy(o,w,0,m),i-=m}if(m<c.length&&n>0){var b=s.length-n,E=Math.min(n,c.length-m);c.copy(s,b,m,m+E),n-=E}}return c.fill(0),{key:o,iv:s}}Ole.exports=lje});var Lle=K(wK=>{d();h();var Nle=lM(),dje=bK(),i0=ar().Buffer,hje=xK(),Dle=r0(),pje=B3(),mje=O3(),yje=Xt();function N3(t,e,r){Dle.call(this),this._cache=new pM,this._cipher=new pje.AES(e),this._prev=i0.from(r),this._mode=t,this._autopadding=!0}yje(N3,Dle);N3.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return i0.concat(n)};var gje=i0.alloc(16,16);N3.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(gje))throw this._cipher.scrub(),new Error("data not multiple of block length")};N3.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function pM(){this.cache=i0.allocUnsafe(0)}pM.prototype.add=function(t){this.cache=i0.concat([this.cache,t])};pM.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};pM.prototype.flush=function(){for(var t=16-this.cache.length,e=i0.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return i0.concat([this.cache,e])};function Ule(t,e,r){var n=Nle[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=i0.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=i0.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new hje(n.module,e,r):n.type==="auth"?new dje(n.module,e,r):new N3(n.module,e,r)}function bje(t,e){var r=Nle[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=mje(e,!1,r.key,r.iv);return Ule(t,n.key,n.iv)}wK.createCipheriv=Ule;wK.createCipher=bje});var Vle=K(SK=>{d();h();var vje=bK(),Yx=ar().Buffer,Fle=lM(),xje=xK(),qle=r0(),wje=B3(),Sje=O3(),Aje=Xt();function D3(t,e,r){qle.call(this),this._cache=new mM,this._last=void 0,this._cipher=new wje.AES(e),this._prev=Yx.from(r),this._mode=t,this._autopadding=!0}Aje(D3,qle);D3.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return Yx.concat(n)};D3.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return Eje(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};D3.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function mM(){this.cache=Yx.allocUnsafe(0)}mM.prototype.add=function(t){this.cache=Yx.concat([this.cache,t])};mM.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};mM.prototype.flush=function(){if(this.cache.length)return this.cache};function Eje(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function Kle(t,e,r){var n=Fle[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Yx.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Yx.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new xje(n.module,e,r,!0):n.type==="auth"?new vje(n.module,e,r,!0):new D3(n.module,e,r)}function _je(t,e){var r=Fle[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=Sje(e,!1,r.key,r.iv);return Kle(t,n.key,n.iv)}SK.createDecipher=_je;SK.createDecipheriv=Kle});var yM=K(cl=>{d();h();var Hle=Lle(),jle=Vle(),Tje=pK();function Ije(){return Object.keys(Tje)}cl.createCipher=cl.Cipher=Hle.createCipher;cl.createCipheriv=cl.Cipheriv=Hle.createCipheriv;cl.createDecipher=cl.Decipher=jle.createDecipher;cl.createDecipheriv=cl.Decipheriv=jle.createDecipheriv;cl.listCiphers=cl.getCiphers=Ije});var zle=K(o0=>{d();h();o0["des-ecb"]={key:8,iv:0};o0["des-cbc"]=o0.des={key:8,iv:8};o0["des-ede3-cbc"]=o0.des3={key:24,iv:8};o0["des-ede3"]={key:24,iv:0};o0["des-ede-cbc"]={key:16,iv:8};o0["des-ede"]={key:16,iv:0}});var Zle=K(ul=>{d();h();var Wle=sle(),AK=yM(),im=lM(),s0=zle(),Gle=O3();function Mje(t,e){t=t.toLowerCase();var r,n;if(im[t])r=im[t].key,n=im[t].iv;else if(s0[t])r=s0[t].key*8,n=s0[t].iv;else throw new TypeError("invalid suite type");var i=Gle(e,!1,r,n);return $le(t,i.key,i.iv)}function kje(t,e){t=t.toLowerCase();var r,n;if(im[t])r=im[t].key,n=im[t].iv;else if(s0[t])r=s0[t].key*8,n=s0[t].iv;else throw new TypeError("invalid suite type");var i=Gle(e,!1,r,n);return Yle(t,i.key,i.iv)}function $le(t,e,r){if(t=t.toLowerCase(),im[t])return AK.createCipheriv(t,e,r);if(s0[t])return new Wle({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function Yle(t,e,r){if(t=t.toLowerCase(),im[t])return AK.createDecipheriv(t,e,r);if(s0[t])return new Wle({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function Pje(){return Object.keys(s0).concat(AK.getCiphers())}ul.createCipher=ul.Cipher=Mje;ul.createCipheriv=ul.Cipheriv=$le;ul.createDecipher=ul.Decipher=kje;ul.createDecipheriv=ul.Decipheriv=Yle;ul.listCiphers=ul.getCiphers=Pje});var _K=K((Qle,EK)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Lp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var q=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)q*=f;this.imuln(q),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var q=this.clone();for(q.negative=0;!q.isZero();){var L=q.modn(x).toString(a);q=q.idivn(x),q.isZero()?p=L+p:p=m[u-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,q=v&67108863,L=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=L;C++){var W=u-C|0;y=S.words[W]|0,g=a.words[C]|0,A=y*g+q,x+=A/67108864|0,q=A&67108863}f.words[u]=q|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,q=y[0]|0,L=q&8191,C=q>>>13,W=y[1]|0,ee=W&8191,ne=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Wr=y[6]|0,Ie=Wr&8191,we=Wr>>>13,yn=y[7]|0,ve=yn&8191,Re=yn>>>13,_n=y[8]|0,Be=_n&8191,Ce=_n>>>13,Bn=y[9]|0,De=Bn&8191,Me=Bn>>>13,Tn=g[0]|0,_e=Tn&8191,Se=Tn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,an=g[2]|0,Ee=an&8191,ke=an>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Br=g[4]|0,be=Br&8191,xe=Br>>>13,In=g[5]|0,Pe=In&8191,Oe=In>>>13,Un=g[6]|0,me=Un&8191,Ne=Un>>>13,Z=g[7]|0,z=Z&8191,j=Z>>>13,N=g[8]|0,Q=N&8191,X=N>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(L,_e),u=Math.imul(L,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(L,Ae)|0,u=u+Math.imul(L,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(G,_e)|0,x=Math.imul(G,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(L,Ee)|0,u=u+Math.imul(L,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(G,Ae)|0,x=x+Math.imul(G,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(L,Ue)|0,u=u+Math.imul(L,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(G,Ee)|0,x=x+Math.imul(G,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(L,be)|0,u=u+Math.imul(L,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(G,Ue)|0,x=x+Math.imul(G,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(L,Pe)|0,u=u+Math.imul(L,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(G,be)|0,x=x+Math.imul(G,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(L,me)|0,u=u+Math.imul(L,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Re,_e)|0,x=Math.imul(Re,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(G,Pe)|0,x=x+Math.imul(G,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(L,z)|0,u=u+Math.imul(L,j)|0,u=u+Math.imul(C,z)|0,x=x+Math.imul(C,j)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Be,_e),u=Math.imul(Be,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Re,Ae)|0,x=x+Math.imul(Re,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(G,me)|0,x=x+Math.imul(G,Ne)|0,v=v+Math.imul(ee,z)|0,u=u+Math.imul(ee,j)|0,u=u+Math.imul(ne,z)|0,x=x+Math.imul(ne,j)|0,v=v+Math.imul(L,Q)|0,u=u+Math.imul(L,X)|0,u=u+Math.imul(C,Q)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Be,Ae)|0,u=u+Math.imul(Be,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Re,Ee)|0,x=x+Math.imul(Re,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,z)|0,u=u+Math.imul(ae,j)|0,u=u+Math.imul(G,z)|0,x=x+Math.imul(G,j)|0,v=v+Math.imul(ee,Q)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Q)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(L,oe)|0,u=u+Math.imul(L,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Be,Ee)|0,u=u+Math.imul(Be,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Re,Ue)|0,x=x+Math.imul(Re,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,z)|0,u=u+Math.imul(te,j)|0,u=u+Math.imul(ce,z)|0,x=x+Math.imul(ce,j)|0,v=v+Math.imul(ae,Q)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(G,Q)|0,x=x+Math.imul(G,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Be,Ue)|0,u=u+Math.imul(Be,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Re,be)|0,x=x+Math.imul(Re,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,z)|0,u=u+Math.imul(se,j)|0,u=u+Math.imul(le,z)|0,x=x+Math.imul(le,j)|0,v=v+Math.imul(te,Q)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Q)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(G,oe)|0,x=x+Math.imul(G,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Be,be)|0,u=u+Math.imul(Be,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Re,Pe)|0,x=x+Math.imul(Re,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,z)|0,u=u+Math.imul(ge,j)|0,u=u+Math.imul(ye,z)|0,x=x+Math.imul(ye,j)|0,v=v+Math.imul(se,Q)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Q)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Be,Pe)|0,u=u+Math.imul(Be,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Re,me)|0,x=x+Math.imul(Re,Ne)|0,v=v+Math.imul(Ie,z)|0,u=u+Math.imul(Ie,j)|0,u=u+Math.imul(we,z)|0,x=x+Math.imul(we,j)|0,v=v+Math.imul(ge,Q)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Q)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Be,me)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,z)|0,u=u+Math.imul(ve,j)|0,u=u+Math.imul(Re,z)|0,x=x+Math.imul(Re,j)|0,v=v+Math.imul(Ie,Q)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Q)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Be,z)|0,u=u+Math.imul(Be,j)|0,u=u+Math.imul(Ce,z)|0,x=x+Math.imul(Ce,j)|0,v=v+Math.imul(ve,Q)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Re,Q)|0,x=x+Math.imul(Re,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,z),u=Math.imul(De,j),u=u+Math.imul(Me,z)|0,x=Math.imul(Me,j),v=v+Math.imul(Be,Q)|0,u=u+Math.imul(Be,X)|0,u=u+Math.imul(Ce,Q)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Re,oe)|0,x=x+Math.imul(Re,ue)|0;var Ze=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,v=Math.imul(De,Q),u=Math.imul(De,X),u=u+Math.imul(Me,Q)|0,x=Math.imul(Me,X),v=v+Math.imul(Be,oe)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var qe=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(qe>>>26)|0,qe&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=qe,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,q=S.words[x]|0,L=a.words[u]|0,C=q*L,W=C&67108863;A=A+(C/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function B(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=B(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),q=0;q<g;q+=v)for(var L=u,C=x,W=0;W<_;W++){var ee=p[q+W],ne=y[q+W],Ve=p[q+W+_],ae=y[q+W+_],G=L*Ve-C*ae;ae=L*ae+C*Ve,Ve=G,p[q+W]=ee+Ve,y[q+W]=ne+ae,p[q+W+_]=ee-Ve,y[q+W+_]=ne-ae,W!==v&&(G=u*L-x*C,C=u*C+x*L,L=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),q=new Array(y),L=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,q,L,y,g);for(var W=0;W<y;W++){var ee=v[W]*q[W]-u[W]*L[W];u[W]=v[W]*L[W]+u[W]*q[W],v[W]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),B(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var q=this.words[u]|0;this.words[u]=x<<26-g|q>>>g,x=q&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var q=y.clone()._ishlnsubmul(g,1,v);q.negative===0&&(y=q,u&&(u.words[v]=1));for(var L=v-1;L>=0;L--){var C=(y.words[g.length+L]|0)*67108864+(y.words[g.length+L-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,L);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,L),y.isZero()||(y.negative^=1);u&&(u.words[L]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var q=0,L=1;!(f.words[0]&L)&&q<26;++q,L<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,W=1;!(p.words[0]&W)&&C<26;++C,W<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var q;return f.cmpn(1)===0?q=y:q=g,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function H(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new V;else if(a==="p192")f=new H;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),q=this.pow(a,y.addn(1).iushrn(1)),L=this.pow(a,y),C=g;L.cmp(A)!==0;){for(var W=L,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));q=q.redMul(ne),x=ne.redSqr(),L=L.redMul(x),C=ee}return q},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],q=u-1;q>=0;q--){var L=x>>q&1;if(A!==y[0]&&(A=this.sqr(A)),L===0&&_===0){v=0;continue}_<<=1,_|=L,v++,!(v!==p&&(g!==0||q!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,J),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof EK>"u"||EK,Qle)});var Xle=K((Jle,TK)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Lp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var q=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)q*=f;this.imuln(q),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var q=this.clone();for(q.negative=0;!q.isZero();){var L=q.modn(x).toString(a);q=q.idivn(x),q.isZero()?p=L+p:p=m[u-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,q=v&67108863,L=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=L;C++){var W=u-C|0;y=S.words[W]|0,g=a.words[C]|0,A=y*g+q,x+=A/67108864|0,q=A&67108863}f.words[u]=q|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,q=y[0]|0,L=q&8191,C=q>>>13,W=y[1]|0,ee=W&8191,ne=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Wr=y[6]|0,Ie=Wr&8191,we=Wr>>>13,yn=y[7]|0,ve=yn&8191,Re=yn>>>13,_n=y[8]|0,Be=_n&8191,Ce=_n>>>13,Bn=y[9]|0,De=Bn&8191,Me=Bn>>>13,Tn=g[0]|0,_e=Tn&8191,Se=Tn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,an=g[2]|0,Ee=an&8191,ke=an>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Br=g[4]|0,be=Br&8191,xe=Br>>>13,In=g[5]|0,Pe=In&8191,Oe=In>>>13,Un=g[6]|0,me=Un&8191,Ne=Un>>>13,Z=g[7]|0,z=Z&8191,j=Z>>>13,N=g[8]|0,Q=N&8191,X=N>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(L,_e),u=Math.imul(L,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(L,Ae)|0,u=u+Math.imul(L,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(G,_e)|0,x=Math.imul(G,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(L,Ee)|0,u=u+Math.imul(L,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(G,Ae)|0,x=x+Math.imul(G,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(L,Ue)|0,u=u+Math.imul(L,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(G,Ee)|0,x=x+Math.imul(G,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(L,be)|0,u=u+Math.imul(L,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(G,Ue)|0,x=x+Math.imul(G,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(L,Pe)|0,u=u+Math.imul(L,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(G,be)|0,x=x+Math.imul(G,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(L,me)|0,u=u+Math.imul(L,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Re,_e)|0,x=Math.imul(Re,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(G,Pe)|0,x=x+Math.imul(G,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(L,z)|0,u=u+Math.imul(L,j)|0,u=u+Math.imul(C,z)|0,x=x+Math.imul(C,j)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Be,_e),u=Math.imul(Be,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Re,Ae)|0,x=x+Math.imul(Re,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(G,me)|0,x=x+Math.imul(G,Ne)|0,v=v+Math.imul(ee,z)|0,u=u+Math.imul(ee,j)|0,u=u+Math.imul(ne,z)|0,x=x+Math.imul(ne,j)|0,v=v+Math.imul(L,Q)|0,u=u+Math.imul(L,X)|0,u=u+Math.imul(C,Q)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Be,Ae)|0,u=u+Math.imul(Be,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Re,Ee)|0,x=x+Math.imul(Re,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,z)|0,u=u+Math.imul(ae,j)|0,u=u+Math.imul(G,z)|0,x=x+Math.imul(G,j)|0,v=v+Math.imul(ee,Q)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Q)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(L,oe)|0,u=u+Math.imul(L,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Be,Ee)|0,u=u+Math.imul(Be,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Re,Ue)|0,x=x+Math.imul(Re,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,z)|0,u=u+Math.imul(te,j)|0,u=u+Math.imul(ce,z)|0,x=x+Math.imul(ce,j)|0,v=v+Math.imul(ae,Q)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(G,Q)|0,x=x+Math.imul(G,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Be,Ue)|0,u=u+Math.imul(Be,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Re,be)|0,x=x+Math.imul(Re,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,z)|0,u=u+Math.imul(se,j)|0,u=u+Math.imul(le,z)|0,x=x+Math.imul(le,j)|0,v=v+Math.imul(te,Q)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Q)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(G,oe)|0,x=x+Math.imul(G,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Be,be)|0,u=u+Math.imul(Be,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Re,Pe)|0,x=x+Math.imul(Re,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,z)|0,u=u+Math.imul(ge,j)|0,u=u+Math.imul(ye,z)|0,x=x+Math.imul(ye,j)|0,v=v+Math.imul(se,Q)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Q)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Be,Pe)|0,u=u+Math.imul(Be,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Re,me)|0,x=x+Math.imul(Re,Ne)|0,v=v+Math.imul(Ie,z)|0,u=u+Math.imul(Ie,j)|0,u=u+Math.imul(we,z)|0,x=x+Math.imul(we,j)|0,v=v+Math.imul(ge,Q)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Q)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Be,me)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,z)|0,u=u+Math.imul(ve,j)|0,u=u+Math.imul(Re,z)|0,x=x+Math.imul(Re,j)|0,v=v+Math.imul(Ie,Q)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Q)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Be,z)|0,u=u+Math.imul(Be,j)|0,u=u+Math.imul(Ce,z)|0,x=x+Math.imul(Ce,j)|0,v=v+Math.imul(ve,Q)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Re,Q)|0,x=x+Math.imul(Re,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,z),u=Math.imul(De,j),u=u+Math.imul(Me,z)|0,x=Math.imul(Me,j),v=v+Math.imul(Be,Q)|0,u=u+Math.imul(Be,X)|0,u=u+Math.imul(Ce,Q)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Re,oe)|0,x=x+Math.imul(Re,ue)|0;var Ze=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,v=Math.imul(De,Q),u=Math.imul(De,X),u=u+Math.imul(Me,Q)|0,x=Math.imul(Me,X),v=v+Math.imul(Be,oe)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var qe=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(qe>>>26)|0,qe&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=qe,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,q=S.words[x]|0,L=a.words[u]|0,C=q*L,W=C&67108863;A=A+(C/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function B(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=B(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),q=0;q<g;q+=v)for(var L=u,C=x,W=0;W<_;W++){var ee=p[q+W],ne=y[q+W],Ve=p[q+W+_],ae=y[q+W+_],G=L*Ve-C*ae;ae=L*ae+C*Ve,Ve=G,p[q+W]=ee+Ve,y[q+W]=ne+ae,p[q+W+_]=ee-Ve,y[q+W+_]=ne-ae,W!==v&&(G=u*L-x*C,C=u*C+x*L,L=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),q=new Array(y),L=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,q,L,y,g);for(var W=0;W<y;W++){var ee=v[W]*q[W]-u[W]*L[W];u[W]=v[W]*L[W]+u[W]*q[W],v[W]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),B(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var q=this.words[u]|0;this.words[u]=x<<26-g|q>>>g,x=q&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var q=y.clone()._ishlnsubmul(g,1,v);q.negative===0&&(y=q,u&&(u.words[v]=1));for(var L=v-1;L>=0;L--){var C=(y.words[g.length+L]|0)*67108864+(y.words[g.length+L-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,L);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,L),y.isZero()||(y.negative^=1);u&&(u.words[L]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var q=0,L=1;!(f.words[0]&L)&&q<26;++q,L<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,W=1;!(p.words[0]&W)&&C<26;++C,W<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var q;return f.cmpn(1)===0?q=y:q=g,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function H(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new V;else if(a==="p192")f=new H;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),q=this.pow(a,y.addn(1).iushrn(1)),L=this.pow(a,y),C=g;L.cmp(A)!==0;){for(var W=L,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));q=q.redMul(ne),x=ne.redSqr(),L=L.redMul(x),C=ee}return q},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],q=u-1;q>=0;q--){var L=x>>q&1;if(A!==y[0]&&(A=this.sqr(A)),L===0&&_===0){v=0;continue}_<<=1,_|=L,v++,!(v!==p&&(g!==0||q!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,J),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof TK>"u"||TK,Jle)});var gM=K((rHt,kK)=>{d();h();var IK;kK.exports=function(e){return IK||(IK=new om(null)),IK.generate(e)};function om(t){this.rand=t}kK.exports.Rand=om;om.prototype.generate=function(e){return this._rand(e)};om.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?om.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?om.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof self=="object"&&(om.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(MK=sm(),typeof MK.randomBytes!="function")throw new Error("Not supported");om.prototype._rand=function(e){return MK.randomBytes(e)}}catch{}var MK});var PK=K((oHt,ede)=>{d();h();var Bb=Xle(),Rje=gM();function Cb(t){this.rand=t||new Rje.Rand}ede.exports=Cb;Cb.create=function(e){return new Cb(e)};Cb.prototype._randbelow=function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new Bb(this.rand.generate(n));while(i.cmp(e)>=0);return i};Cb.prototype._randrange=function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))};Cb.prototype.test=function(e,r,n){var i=e.bitLength(),o=Bb.mont(e),s=new Bb(1).toRed(o);r||(r=Math.max(1,i/48|0));for(var c=e.subn(1),l=0;!c.testn(l);l++);for(var m=e.shrn(l),w=c.toRed(o),b=!0;r>0;r--){var E=this._randrange(new Bb(2),c);n&&n(E);var I=E.toRed(o).redPow(m);if(!(I.cmp(s)===0||I.cmp(w)===0)){for(var M=1;M<l;M++){if(I=I.redSqr(),I.cmp(s)===0)return!1;if(I.cmp(w)===0)break}if(M===l)return!1}}return b};Cb.prototype.getDivisor=function(e,r){var n=e.bitLength(),i=Bb.mont(e),o=new Bb(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var l=e.shrn(c),m=s.toRed(i);r>0;r--){var w=this._randrange(new Bb(2),s),b=e.gcd(w);if(b.cmpn(1)!==0)return b;var E=w.toRed(i).redPow(l);if(!(E.cmp(o)===0||E.cmp(m)===0)){for(var I=1;I<c;I++){if(E=E.redSqr(),E.cmp(o)===0)return E.fromRed().subn(1).gcd(e);if(E.cmp(m)===0)break}if(I===c)return E=E.redSqr(),E.fromRed().subn(1).gcd(e)}}return!1}});var DK=K((dHt,nde)=>{d();h();var Bje=Xh();nde.exports=NK;NK.simpleSieve=CK;NK.fermatTest=OK;var _s=_K(),Cje=new _s(24),Oje=PK(),tde=new Oje,Nje=new _s(1),BK=new _s(2),Dje=new _s(5),cHt=new _s(16),uHt=new _s(8),Uje=new _s(10),Lje=new _s(3),fHt=new _s(7),Fje=new _s(11),rde=new _s(4),lHt=new _s(12),RK=null;function qje(){if(RK!==null)return RK;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),o=0;o<r&&e[o]<=i&&n%e[o]!==0;o++);r!==o&&e[o]<=i||(e[r++]=n)}return RK=e,e}function CK(t){for(var e=qje(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function OK(t){var e=_s.mont(t);return BK.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function NK(t,e){if(t<16)return e===2||e===5?new _s([140,123]):new _s([140,39]);e=new _s(e);for(var r,n;;){for(r=new _s(Bje(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(Nje),r.testn(1)||r.iadd(BK),e.cmp(BK)){if(!e.cmp(Dje))for(;r.mod(Uje).cmp(Lje);)r.iadd(rde)}else for(;r.mod(Cje).cmp(Fje);)r.iadd(rde);if(n=r.shrn(1),CK(n)&&CK(r)&&OK(n)&&OK(r)&&tde.test(n)&&tde.test(r))return r}}});var ide=K((mHt,Kje)=>{Kje.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var cde=K((yHt,ade)=>{d();h();var ef=_K(),Vje=PK(),ode=new Vje,Hje=new ef(24),jje=new ef(11),zje=new ef(10),Wje=new ef(3),Gje=new ef(7),sde=DK(),$je=Xh();ade.exports=a0;function Yje(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new ef(t),this}function Zje(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new ef(t),this}var bM={};function Qje(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in bM)return bM[n];var i=0;if(t.isEven()||!sde.simpleSieve||!sde.fermatTest(t)||!ode.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,bM[n]=i,i;ode.test(t.shrn(1))||(i+=2);var o;switch(r){case"02":t.mod(Hje).cmp(jje)&&(i+=8);break;case"05":o=t.mod(zje),o.cmp(Wje)&&o.cmp(Gje)&&(i+=8);break;default:i+=4}return bM[n]=i,i}function a0(t,e,r){this.setGenerator(e),this.__prime=new ef(t),this._prime=ef.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=Yje,this.setPrivateKey=Zje):this._primeCode=8}Object.defineProperty(a0.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Qje(this.__prime,this.__gen)),this._primeCode}});a0.prototype.generateKeys=function(){return this._priv||(this._priv=new ef($je(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};a0.prototype.computeSecret=function(t){t=new ef(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new Buffer(n.length-r.length);i.fill(0),r=Buffer.concat([i,r])}return r};a0.prototype.getPublicKey=function(e){return vM(this._pub,e)};a0.prototype.getPrivateKey=function(e){return vM(this._priv,e)};a0.prototype.getPrime=function(t){return vM(this.__prime,t)};a0.prototype.getGenerator=function(t){return vM(this._gen,t)};a0.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new ef(t),this};function vM(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}});var lde=K(Zx=>{d();h();var Jje=DK(),ude=ide(),UK=cde();function Xje(t){var e=new Buffer(ude[t].prime,"hex"),r=new Buffer(ude[t].gen,"hex");return new UK(e,r)}var eze={binary:!0,hex:!0,base64:!0};function fde(t,e,r,n){return Buffer.isBuffer(e)||eze[e]===void 0?fde(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,n)),typeof t=="number"?new UK(Jje(t,r),r,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,e)),new UK(t,r,!0)))}Zx.DiffieHellmanGroup=Zx.createDiffieHellmanGroup=Zx.getDiffieHellman=Xje;Zx.createDiffieHellman=Zx.DiffieHellman=fde});var LK=K((SHt,dde)=>{d();h();dde.exports=e3().EventEmitter});var bde=K((_Ht,gde)=>{"use strict";d();h();function hde(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hde(Object(r),!0).forEach(function(n){tze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hde(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tze(t,e,r){return e=yde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yde(n.key),n)}}function nze(t,e,r){return e&&mde(t.prototype,e),r&&mde(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yde(t){var e=ize(t,"string");return typeof e=="symbol"?e:String(e)}function ize(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oze=Fn(),xM=oze.Buffer,sze=c3(),FK=sze.inspect,aze=FK&&FK.custom||"inspect";function cze(t,e,r){xM.prototype.copy.call(t,e,r)}gde.exports=function(){function t(){rze(this,t),this.head=null,this.tail=null,this.length=0}return nze(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return xM.alloc(0);for(var n=xM.allocUnsafe(r>>>0),i=this.head,o=0;i;)cze(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,c=r>s.length?s.length:r;if(c===s.length?o+=s:o+=s.slice(0,r),r-=c,r===0){c===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(c));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=xM.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,c=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,c),r-=c,r===0){c===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(c));break}++o}return this.length-=o,n}},{key:aze,value:function(r,n){return FK(this,pde(pde({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var KK=K((MHt,xde)=>{"use strict";d();h();function uze(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(qK,this,t)):process.nextTick(qK,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(wM,r):(r._writableState.errorEmitted=!0,process.nextTick(vde,r,o)):process.nextTick(vde,r,o):e?(process.nextTick(wM,r),e(o)):process.nextTick(wM,r)}),this)}function vde(t,e){qK(t,e),wM(t)}function wM(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function fze(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function qK(t,e){t.emit("error",e)}function lze(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}xde.exports={destroy:uze,undestroy:fze,errorOrDestroy:lze}});var Ob=K((RHt,Ade)=>{"use strict";d();h();function dze(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Sde={};function tf(t,e,r){r||(r=Error);function n(o,s,c){return typeof e=="string"?e:e(o,s,c)}var i=function(o){dze(s,o);function s(c,l,m){return o.call(this,n(c,l,m))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Sde[t]=i}function wde(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function hze(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function pze(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function mze(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}tf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);tf("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&hze(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(pze(t," argument"))i="The ".concat(t," ").concat(n," ").concat(wde(e,"type"));else{var o=mze(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(wde(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);tf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");tf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});tf("ERR_STREAM_PREMATURE_CLOSE","Premature close");tf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});tf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");tf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");tf("ERR_STREAM_WRITE_AFTER_END","write after end");tf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);tf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);tf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ade.exports.codes=Sde});var VK=K((OHt,Ede)=>{"use strict";d();h();var yze=Ob().codes.ERR_INVALID_OPT_VALUE;function gze(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function bze(t,e,r,n){var i=gze(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new yze(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}Ede.exports={getHighWaterMark:bze}});var zK=K((UHt,Pde)=>{"use strict";d();h();Pde.exports=Ji;function Tde(t){var e=this;this.next=null,this.entry=null,this.finish=function(){zze(e,t)}}var Qx;Ji.WritableState=L3;var vze={deprecate:Sq()},Ide=LK(),AM=Fn().Buffer,xze=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function wze(t){return AM.from(t)}function Sze(t){return AM.isBuffer(t)||t instanceof xze}var jK=KK(),Aze=VK(),Eze=Aze.getHighWaterMark,am=Ob().codes,_ze=am.ERR_INVALID_ARG_TYPE,Tze=am.ERR_METHOD_NOT_IMPLEMENTED,Ize=am.ERR_MULTIPLE_CALLBACK,Mze=am.ERR_STREAM_CANNOT_PIPE,kze=am.ERR_STREAM_DESTROYED,Pze=am.ERR_STREAM_NULL_VALUES,Rze=am.ERR_STREAM_WRITE_AFTER_END,Bze=am.ERR_UNKNOWN_ENCODING,Jx=jK.errorOrDestroy;Xt()(Ji,Ide);function Cze(){}function L3(t,e,r){Qx=Qx||Nb(),t=t||{},typeof r!="boolean"&&(r=e instanceof Qx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Eze(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){qze(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Tde(this)}L3.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(L3.prototype,"buffer",{get:vze.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var SM;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(SM=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ji,Symbol.hasInstance,{value:function(e){return SM.call(this,e)?!0:this!==Ji?!1:e&&e._writableState instanceof L3}})):SM=function(e){return e instanceof this};function Ji(t){Qx=Qx||Nb();var e=this instanceof Qx;if(!e&&!SM.call(Ji,this))return new Ji(t);this._writableState=new L3(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Ide.call(this)}Ji.prototype.pipe=function(){Jx(this,new Mze)};function Oze(t,e){var r=new Rze;Jx(t,r),process.nextTick(e,r)}function Nze(t,e,r,n){var i;return r===null?i=new Pze:typeof r!="string"&&!e.objectMode&&(i=new _ze("chunk",["string","Buffer"],r)),i?(Jx(t,i),process.nextTick(n,i),!1):!0}Ji.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&Sze(t);return o&&!AM.isBuffer(t)&&(t=wze(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Cze),n.ending?Oze(this,r):(o||Nze(this,n,t,r))&&(n.pendingcb++,i=Uze(this,n,o,t,e,r)),i};Ji.prototype.cork=function(){this._writableState.corked++};Ji.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Mde(this,t))};Ji.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Bze(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ji.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Dze(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=AM.from(e,r)),e}Object.defineProperty(Ji.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Uze(t,e,r,n,i,o){if(!r){var s=Dze(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=e.objectMode?1:n.length;e.length+=c;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var m=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},m?m.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else HK(t,e,!1,c,n,i,o);return l}function HK(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new kze("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Lze(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(U3,t,e),t._writableState.errorEmitted=!0,Jx(t,n)):(i(n),t._writableState.errorEmitted=!0,Jx(t,n),U3(t,e))}function Fze(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function qze(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Ize;if(Fze(r),e)Lze(t,r,n,e,i);else{var o=kde(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Mde(t,r),n?process.nextTick(_de,t,r,o,i):_de(t,r,o,i)}}function _de(t,e,r,n){r||Kze(t,e),e.pendingcb--,n(),U3(t,e)}function Kze(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Mde(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,HK(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Tde(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,m=r.encoding,w=r.callback,b=e.objectMode?1:l.length;if(HK(t,e,!1,b,l,m,w),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ji.prototype._write=function(t,e,r){r(new Tze("_write()"))};Ji.prototype._writev=null;Ji.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||jze(this,n,r),this};Object.defineProperty(Ji.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function kde(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Vze(t,e){t._final(function(r){e.pendingcb--,r&&Jx(t,r),e.prefinished=!0,t.emit("prefinish"),U3(t,e)})}function Hze(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Vze,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function U3(t,e){var r=kde(e);if(r&&(Hze(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function jze(t,e,r){e.ending=!0,U3(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function zze(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ji.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Ji.prototype.destroy=jK.destroy;Ji.prototype._undestroy=jK.undestroy;Ji.prototype._destroy=function(t,e){e(t)}});var Nb=K((qHt,Bde)=>{"use strict";d();h();var Wze=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Bde.exports=Td;var Rde=$K(),GK=zK();Xt()(Td,Rde);for(WK=Wze(GK.prototype),EM=0;EM<WK.length;EM++)_M=WK[EM],Td.prototype[_M]||(Td.prototype[_M]=GK.prototype[_M]);var WK,_M,EM;function Td(t){if(!(this instanceof Td))return new Td(t);Rde.call(this,t),GK.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Gze)))}Object.defineProperty(Td.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Td.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Td.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Gze(){this._writableState.ended||process.nextTick($ze,this)}function $ze(t){t.end()}Object.defineProperty(Td.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var TM=K((HHt,Nde)=>{"use strict";d();h();var Cde=Ob().codes.ERR_STREAM_PREMATURE_CLOSE;function Yze(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Zze(){}function Qze(t){return t.setHeader&&typeof t.abort=="function"}function Ode(t,e,r){if(typeof e=="function")return Ode(t,null,e);e||(e={}),r=Yze(r||Zze);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||c()},s=t._writableState&&t._writableState.finished,c=function(){i=!1,s=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,m=function(){n=!1,l=!0,i||r.call(t)},w=function(M){r.call(t,M)},b=function(){var M;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(M=new Cde),r.call(t,M);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(M=new Cde),r.call(t,M)},E=function(){t.req.on("finish",c)};return Qze(t)?(t.on("complete",c),t.on("abort",b),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",m),t.on("finish",c),e.error!==!1&&t.on("error",w),t.on("close",b),function(){t.removeListener("complete",c),t.removeListener("abort",b),t.removeListener("request",E),t.req&&t.req.removeListener("finish",c),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",c),t.removeListener("end",m),t.removeListener("error",w),t.removeListener("close",b)}}Nde.exports=Ode});var Ude=K((WHt,Dde)=>{"use strict";d();h();var IM;function cm(t,e,r){return e=Jze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jze(t){var e=Xze(t,"string");return typeof e=="symbol"?e:String(e)}function Xze(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eWe=TM(),um=Symbol("lastResolve"),Db=Symbol("lastReject"),F3=Symbol("error"),MM=Symbol("ended"),Ub=Symbol("lastPromise"),YK=Symbol("handlePromise"),Lb=Symbol("stream");function fm(t,e){return{value:t,done:e}}function tWe(t){var e=t[um];if(e!==null){var r=t[Lb].read();r!==null&&(t[Ub]=null,t[um]=null,t[Db]=null,e(fm(r,!1)))}}function rWe(t){process.nextTick(tWe,t)}function nWe(t,e){return function(r,n){t.then(function(){if(e[MM]){r(fm(void 0,!0));return}e[YK](r,n)},n)}}var iWe=Object.getPrototypeOf(function(){}),oWe=Object.setPrototypeOf((IM={get stream(){return this[Lb]},next:function(){var e=this,r=this[F3];if(r!==null)return Promise.reject(r);if(this[MM])return Promise.resolve(fm(void 0,!0));if(this[Lb].destroyed)return new Promise(function(s,c){process.nextTick(function(){e[F3]?c(e[F3]):s(fm(void 0,!0))})});var n=this[Ub],i;if(n)i=new Promise(nWe(n,this));else{var o=this[Lb].read();if(o!==null)return Promise.resolve(fm(o,!1));i=new Promise(this[YK])}return this[Ub]=i,i}},cm(IM,Symbol.asyncIterator,function(){return this}),cm(IM,"return",function(){var e=this;return new Promise(function(r,n){e[Lb].destroy(null,function(i){if(i){n(i);return}r(fm(void 0,!0))})})}),IM),iWe),sWe=function(e){var r,n=Object.create(oWe,(r={},cm(r,Lb,{value:e,writable:!0}),cm(r,um,{value:null,writable:!0}),cm(r,Db,{value:null,writable:!0}),cm(r,F3,{value:null,writable:!0}),cm(r,MM,{value:e._readableState.endEmitted,writable:!0}),cm(r,YK,{value:function(o,s){var c=n[Lb].read();c?(n[Ub]=null,n[um]=null,n[Db]=null,o(fm(c,!1))):(n[um]=o,n[Db]=s)},writable:!0}),r));return n[Ub]=null,eWe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Db];o!==null&&(n[Ub]=null,n[um]=null,n[Db]=null,o(i)),n[F3]=i;return}var s=n[um];s!==null&&(n[Ub]=null,n[um]=null,n[Db]=null,s(fm(void 0,!0))),n[MM]=!0}),e.on("readable",rWe.bind(null,n)),n};Dde.exports=sWe});var Fde=K((YHt,Lde)=>{d();h();Lde.exports=function(){throw new Error("Readable.from is not available in the browser")}});var $K=K((XHt,Yde)=>{"use strict";d();h();Yde.exports=ln;var Xx;ln.ReadableState=Hde;var JHt=e3().EventEmitter,Vde=function(e,r){return e.listeners(r).length},K3=LK(),kM=Fn().Buffer,aWe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function cWe(t){return kM.from(t)}function uWe(t){return kM.isBuffer(t)||t instanceof aWe}var ZK=c3(),Ir;ZK&&ZK.debuglog?Ir=ZK.debuglog("stream"):Ir=function(){};var fWe=bde(),nV=KK(),lWe=VK(),dWe=lWe.getHighWaterMark,PM=Ob().codes,hWe=PM.ERR_INVALID_ARG_TYPE,pWe=PM.ERR_STREAM_PUSH_AFTER_EOF,mWe=PM.ERR_METHOD_NOT_IMPLEMENTED,yWe=PM.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ew,QK,JK;Xt()(ln,K3);var q3=nV.errorOrDestroy,XK=["error","close","destroy","pause","resume"];function gWe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Hde(t,e,r){Xx=Xx||Nb(),t=t||{},typeof r!="boolean"&&(r=e instanceof Xx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=dWe(this,t,"readableHighWaterMark",r),this.buffer=new fWe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(ew||(ew=Vx().StringDecoder),this.decoder=new ew(t.encoding),this.encoding=t.encoding)}function ln(t){if(Xx=Xx||Nb(),!(this instanceof ln))return new ln(t);var e=this instanceof Xx;this._readableState=new Hde(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),K3.call(this)}Object.defineProperty(ln.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});ln.prototype.destroy=nV.destroy;ln.prototype._undestroy=nV.undestroy;ln.prototype._destroy=function(t,e){e(t)};ln.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=kM.from(t,e),e=""),n=!0),jde(this,t,e,!1,n)};ln.prototype.unshift=function(t){return jde(this,t,null,!0,!1)};function jde(t,e,r,n,i){Ir("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,xWe(t,o);else{var s;if(i||(s=bWe(o,e)),s)q3(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==kM.prototype&&(e=cWe(e)),n)o.endEmitted?q3(t,new yWe):eV(t,o,e,!0);else if(o.ended)q3(t,new pWe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?eV(t,o,e,!1):rV(t,o)):eV(t,o,e,!1)}else n||(o.reading=!1,rV(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function eV(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&RM(t)),rV(t,e)}function bWe(t,e){var r;return!uWe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new hWe("chunk",["string","Buffer","Uint8Array"],e)),r}ln.prototype.isPaused=function(){return this._readableState.flowing===!1};ln.prototype.setEncoding=function(t){ew||(ew=Vx().StringDecoder);var e=new ew(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var qde=1073741824;function vWe(t){return t>=qde?t=qde:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Kde(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=vWe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ln.prototype.read=function(t){Ir("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ir("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?tV(this):RM(this),null;if(t=Kde(t,e),t===0&&e.ended)return e.length===0&&tV(this),null;var n=e.needReadable;Ir("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ir("length less than watermark",n)),e.ended||e.reading?(n=!1,Ir("reading or ended",n)):n&&(Ir("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Kde(r,e)));var i;return t>0?i=Gde(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&tV(this)),i!==null&&this.emit("data",i),i};function xWe(t,e){if(Ir("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?RM(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,zde(t)))}}function RM(t){var e=t._readableState;Ir("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ir("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(zde,t))}function zde(t){var e=t._readableState;Ir("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,iV(t)}function rV(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(wWe,t,e))}function wWe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Ir("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ln.prototype._read=function(t){q3(this,new mWe("_read()"))};ln.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ir("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?c:k;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(B,R){Ir("onunpipe"),B===r&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,w())}function c(){Ir("onend"),t.end()}var l=SWe(r);t.on("drain",l);var m=!1;function w(){Ir("cleanup"),t.removeListener("close",I),t.removeListener("finish",M),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",k),r.removeListener("data",b),m=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",b);function b(B){Ir("ondata");var R=t.write(B);Ir("dest.write",R),R===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&$de(n.pipes,t)!==-1)&&!m&&(Ir("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function E(B){Ir("onerror",B),k(),t.removeListener("error",E),Vde(t,"error")===0&&q3(t,B)}gWe(t,"error",E);function I(){t.removeListener("finish",M),k()}t.once("close",I);function M(){Ir("onfinish"),t.removeListener("close",I),k()}t.once("finish",M);function k(){Ir("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ir("pipe resume"),r.resume()),t};function SWe(t){return function(){var r=t._readableState;Ir("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Vde(t,"data")&&(r.flowing=!0,iV(t))}}ln.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=$de(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ln.prototype.on=function(t,e){var r=K3.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ir("on readable",n.length,n.reading),n.length?RM(this):n.reading||process.nextTick(AWe,this)),r};ln.prototype.addListener=ln.prototype.on;ln.prototype.removeListener=function(t,e){var r=K3.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Wde,this),r};ln.prototype.removeAllListeners=function(t){var e=K3.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Wde,this),e};function Wde(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function AWe(t){Ir("readable nexttick read 0"),t.read(0)}ln.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ir("resume"),t.flowing=!t.readableListening,EWe(this,t)),t.paused=!1,this};function EWe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(_We,t,e))}function _We(t,e){Ir("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),iV(t),e.flowing&&!e.reading&&t.read(0)}ln.prototype.pause=function(){return Ir("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ir("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function iV(t){var e=t._readableState;for(Ir("flow",e.flowing);e.flowing&&t.read()!==null;);}ln.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ir("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Ir("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var c=e.push(s);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(c){return function(){return t[c].apply(t,arguments)}}(i));for(var o=0;o<XK.length;o++)t.on(XK[o],this.emit.bind(this,XK[o]));return this._read=function(s){Ir("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(ln.prototype[Symbol.asyncIterator]=function(){return QK===void 0&&(QK=Ude()),QK(this)});Object.defineProperty(ln.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ln.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ln.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});ln._fromList=Gde;Object.defineProperty(ln.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Gde(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function tV(t){var e=t._readableState;Ir("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(TWe,e,t))}function TWe(t,e){if(Ir("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(ln.from=function(t,e){return JK===void 0&&(JK=Fde()),JK(ln,t,e)});function $de(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var oV=K((rjt,Qde)=>{"use strict";d();h();Qde.exports=c0;var BM=Ob().codes,IWe=BM.ERR_METHOD_NOT_IMPLEMENTED,MWe=BM.ERR_MULTIPLE_CALLBACK,kWe=BM.ERR_TRANSFORM_ALREADY_TRANSFORMING,PWe=BM.ERR_TRANSFORM_WITH_LENGTH_0,CM=Nb();Xt()(c0,CM);function RWe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new MWe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c0(t){if(!(this instanceof c0))return new c0(t);CM.call(this,t),this._transformState={afterTransform:RWe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",BWe)}function BWe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Zde(t,e,r)}):Zde(this,null,null)}c0.prototype.push=function(t,e){return this._transformState.needTransform=!1,CM.prototype.push.call(this,t,e)};c0.prototype._transform=function(t,e,r){r(new IWe("_transform()"))};c0.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};c0.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};c0.prototype._destroy=function(t,e){CM.prototype._destroy.call(this,t,function(r){e(r)})};function Zde(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new PWe;if(t._transformState.transforming)throw new kWe;return t.push(null)}});var ehe=K((ojt,Xde)=>{"use strict";d();h();Xde.exports=V3;var Jde=oV();Xt()(V3,Jde);function V3(t){if(!(this instanceof V3))return new V3(t);Jde.call(this,t)}V3.prototype._transform=function(t,e,r){r(null,t)}});var ohe=K((cjt,ihe)=>{"use strict";d();h();var sV;function CWe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var nhe=Ob().codes,OWe=nhe.ERR_MISSING_ARGS,NWe=nhe.ERR_STREAM_DESTROYED;function the(t){if(t)throw t}function DWe(t){return t.setHeader&&typeof t.abort=="function"}function UWe(t,e,r,n){n=CWe(n);var i=!1;t.on("close",function(){i=!0}),sV===void 0&&(sV=TM()),sV(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,DWe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new NWe("pipe"))}}}function rhe(t){t()}function LWe(t,e){return t.pipe(e)}function FWe(t){return!t.length||typeof t[t.length-1]!="function"?the:t.pop()}function qWe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=FWe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new OWe("streams");var i,o=e.map(function(s,c){var l=c<e.length-1,m=c>0;return UWe(s,l,m,function(w){i||(i=w),w&&o.forEach(rhe),!l&&(o.forEach(rhe),n(i))})});return e.reduce(LWe)}ihe.exports=qWe});var ahe=K((rf,she)=>{d();h();rf=she.exports=$K();rf.Stream=rf;rf.Readable=rf;rf.Writable=zK();rf.Duplex=Nb();rf.Transform=oV();rf.PassThrough=ehe();rf.finished=TM();rf.pipeline=ohe()});var OM=K((hjt,fhe)=>{d();h();var tw=mb(),KWe=Xh();function VWe(t){var e=che(t),r=e.toRed(tw.mont(t.modulus)).redPow(new tw(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function che(t){var e=t.modulus.byteLength(),r;do r=new tw(KWe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function uhe(t,e){var r=VWe(e),n=e.modulus.byteLength(),i=new tw(t).mul(r.blinder).umod(e.modulus),o=i.toRed(tw.mont(e.prime1)),s=i.toRed(tw.mont(e.prime2)),c=e.coefficient,l=e.prime1,m=e.prime2,w=o.redPow(e.exponent1).fromRed(),b=s.redPow(e.exponent2).fromRed(),E=w.isub(b).imul(c).umod(l).imul(m);return b.iadd(E).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",n)}uhe.getr=che;fhe.exports=uhe});var lhe=K((yjt,HWe)=>{HWe.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Id=K((dhe,aV)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Lp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var q=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)q*=f;this.imuln(q),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var q=this.clone();for(q.negative=0;!q.isZero();){var L=q.modn(x).toString(a);q=q.idivn(x),q.isZero()?p=L+p:p=m[u-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,q=v&67108863,L=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=L;C++){var W=u-C|0;y=S.words[W]|0,g=a.words[C]|0,A=y*g+q,x+=A/67108864|0,q=A&67108863}f.words[u]=q|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,q=y[0]|0,L=q&8191,C=q>>>13,W=y[1]|0,ee=W&8191,ne=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Wr=y[6]|0,Ie=Wr&8191,we=Wr>>>13,yn=y[7]|0,ve=yn&8191,Re=yn>>>13,_n=y[8]|0,Be=_n&8191,Ce=_n>>>13,Bn=y[9]|0,De=Bn&8191,Me=Bn>>>13,Tn=g[0]|0,_e=Tn&8191,Se=Tn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,an=g[2]|0,Ee=an&8191,ke=an>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Br=g[4]|0,be=Br&8191,xe=Br>>>13,In=g[5]|0,Pe=In&8191,Oe=In>>>13,Un=g[6]|0,me=Un&8191,Ne=Un>>>13,Z=g[7]|0,z=Z&8191,j=Z>>>13,N=g[8]|0,Q=N&8191,X=N>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(L,_e),u=Math.imul(L,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(L,Ae)|0,u=u+Math.imul(L,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(G,_e)|0,x=Math.imul(G,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(L,Ee)|0,u=u+Math.imul(L,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(G,Ae)|0,x=x+Math.imul(G,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(L,Ue)|0,u=u+Math.imul(L,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(G,Ee)|0,x=x+Math.imul(G,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(L,be)|0,u=u+Math.imul(L,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(G,Ue)|0,x=x+Math.imul(G,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(L,Pe)|0,u=u+Math.imul(L,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(G,be)|0,x=x+Math.imul(G,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(L,me)|0,u=u+Math.imul(L,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Re,_e)|0,x=Math.imul(Re,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(G,Pe)|0,x=x+Math.imul(G,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(L,z)|0,u=u+Math.imul(L,j)|0,u=u+Math.imul(C,z)|0,x=x+Math.imul(C,j)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Be,_e),u=Math.imul(Be,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Re,Ae)|0,x=x+Math.imul(Re,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(G,me)|0,x=x+Math.imul(G,Ne)|0,v=v+Math.imul(ee,z)|0,u=u+Math.imul(ee,j)|0,u=u+Math.imul(ne,z)|0,x=x+Math.imul(ne,j)|0,v=v+Math.imul(L,Q)|0,u=u+Math.imul(L,X)|0,u=u+Math.imul(C,Q)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Be,Ae)|0,u=u+Math.imul(Be,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Re,Ee)|0,x=x+Math.imul(Re,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,z)|0,u=u+Math.imul(ae,j)|0,u=u+Math.imul(G,z)|0,x=x+Math.imul(G,j)|0,v=v+Math.imul(ee,Q)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Q)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(L,oe)|0,u=u+Math.imul(L,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Be,Ee)|0,u=u+Math.imul(Be,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Re,Ue)|0,x=x+Math.imul(Re,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,z)|0,u=u+Math.imul(te,j)|0,u=u+Math.imul(ce,z)|0,x=x+Math.imul(ce,j)|0,v=v+Math.imul(ae,Q)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(G,Q)|0,x=x+Math.imul(G,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Be,Ue)|0,u=u+Math.imul(Be,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Re,be)|0,x=x+Math.imul(Re,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,z)|0,u=u+Math.imul(se,j)|0,u=u+Math.imul(le,z)|0,x=x+Math.imul(le,j)|0,v=v+Math.imul(te,Q)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Q)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(G,oe)|0,x=x+Math.imul(G,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Be,be)|0,u=u+Math.imul(Be,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Re,Pe)|0,x=x+Math.imul(Re,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,z)|0,u=u+Math.imul(ge,j)|0,u=u+Math.imul(ye,z)|0,x=x+Math.imul(ye,j)|0,v=v+Math.imul(se,Q)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Q)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Be,Pe)|0,u=u+Math.imul(Be,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Re,me)|0,x=x+Math.imul(Re,Ne)|0,v=v+Math.imul(Ie,z)|0,u=u+Math.imul(Ie,j)|0,u=u+Math.imul(we,z)|0,x=x+Math.imul(we,j)|0,v=v+Math.imul(ge,Q)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Q)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Be,me)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,z)|0,u=u+Math.imul(ve,j)|0,u=u+Math.imul(Re,z)|0,x=x+Math.imul(Re,j)|0,v=v+Math.imul(Ie,Q)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Q)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Be,z)|0,u=u+Math.imul(Be,j)|0,u=u+Math.imul(Ce,z)|0,x=x+Math.imul(Ce,j)|0,v=v+Math.imul(ve,Q)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Re,Q)|0,x=x+Math.imul(Re,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,z),u=Math.imul(De,j),u=u+Math.imul(Me,z)|0,x=Math.imul(Me,j),v=v+Math.imul(Be,Q)|0,u=u+Math.imul(Be,X)|0,u=u+Math.imul(Ce,Q)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Re,oe)|0,x=x+Math.imul(Re,ue)|0;var Ze=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,v=Math.imul(De,Q),u=Math.imul(De,X),u=u+Math.imul(Me,Q)|0,x=Math.imul(Me,X),v=v+Math.imul(Be,oe)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var qe=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(qe>>>26)|0,qe&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=qe,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,q=S.words[x]|0,L=a.words[u]|0,C=q*L,W=C&67108863;A=A+(C/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function B(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=B(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),q=0;q<g;q+=v)for(var L=u,C=x,W=0;W<_;W++){var ee=p[q+W],ne=y[q+W],Ve=p[q+W+_],ae=y[q+W+_],G=L*Ve-C*ae;ae=L*ae+C*Ve,Ve=G,p[q+W]=ee+Ve,y[q+W]=ne+ae,p[q+W+_]=ee-Ve,y[q+W+_]=ne-ae,W!==v&&(G=u*L-x*C,C=u*C+x*L,L=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),q=new Array(y),L=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,q,L,y,g);for(var W=0;W<y;W++){var ee=v[W]*q[W]-u[W]*L[W];u[W]=v[W]*L[W]+u[W]*q[W],v[W]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),B(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var q=this.words[u]|0;this.words[u]=x<<26-g|q>>>g,x=q&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var q=y.clone()._ishlnsubmul(g,1,v);q.negative===0&&(y=q,u&&(u.words[v]=1));for(var L=v-1;L>=0;L--){var C=(y.words[g.length+L]|0)*67108864+(y.words[g.length+L-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,L);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,L),y.isZero()||(y.negative^=1);u&&(u.words[L]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var q=0,L=1;!(f.words[0]&L)&&q<26;++q,L<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,W=1;!(p.words[0]&W)&&C<26;++C,W<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var q;return f.cmpn(1)===0?q=y:q=g,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function H(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new V;else if(a==="p192")f=new H;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),q=this.pow(a,y.addn(1).iushrn(1)),L=this.pow(a,y),C=g;L.cmp(A)!==0;){for(var W=L,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));q=q.redMul(ne),x=ne.redSqr(),L=L.redMul(x),C=ee}return q},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],q=u-1;q>=0;q--){var L=x>>q&1;if(A!==y[0]&&(A=this.sqr(A)),L===0&&_===0){v=0;continue}_<<=1,_|=L,v++,!(v!==p&&(g!==0||q!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,J),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof aV>"u"||aV,dhe)});var cV=K(mhe=>{"use strict";d();h();var NM=mhe;function jWe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=i&255;o?r.push(o,s):r.push(s)}return r}NM.toArray=jWe;function hhe(t){return t.length===1?"0"+t:t}NM.zero2=hhe;function phe(t){for(var e="",r=0;r<t.length;r++)e+=hhe(t[r].toString(16));return e}NM.toHex=phe;NM.encode=function(e,r){return r==="hex"?phe(e):e}});var iu=K(yhe=>{"use strict";d();h();var fl=yhe,zWe=Id(),WWe=nu(),DM=cV();fl.assert=WWe;fl.toArray=DM.toArray;fl.zero2=DM.zero2;fl.toHex=DM.toHex;fl.encode=DM.encode;function GWe(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var o=1<<e+1,s=t.clone();for(i=0;i<n.length;i++){var c,l=s.andln(o-1);s.isOdd()?(l>(o>>1)-1?c=(o>>1)-l:c=l,s.isubn(c)):c=0,n[i]=c,s.iushrn(1)}return n}fl.getNAF=GWe;function $We(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,o;t.cmpn(-n)>0||e.cmpn(-i)>0;){var s=t.andln(3)+n&3,c=e.andln(3)+i&3;s===3&&(s=-1),c===3&&(c=-1);var l;s&1?(o=t.andln(7)+n&7,(o===3||o===5)&&c===2?l=-s:l=s):l=0,r[0].push(l);var m;c&1?(o=e.andln(7)+i&7,(o===3||o===5)&&s===2?m=-c:m=c):m=0,r[1].push(m),2*n===l+1&&(n=1-n),2*i===m+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}fl.getJSF=$We;function YWe(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}fl.cachedProperty=YWe;function ZWe(t){return typeof t=="string"?fl.toArray(t,"hex"):t}fl.parseBytes=ZWe;function QWe(t){return new zWe(t,"hex","le")}fl.intFromLE=QWe});var j3=K((_jt,ghe)=>{"use strict";d();h();var Fb=Id(),H3=iu(),UM=H3.getNAF,JWe=H3.getJSF,LM=H3.assert;function lm(t,e){this.type=t,this.p=new Fb(e.p,16),this.red=e.prime?Fb.red(e.prime):Fb.mont(this.p),this.zero=new Fb(0).toRed(this.red),this.one=new Fb(1).toRed(this.red),this.two=new Fb(2).toRed(this.red),this.n=e.n&&new Fb(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}ghe.exports=lm;lm.prototype.point=function(){throw new Error("Not implemented")};lm.prototype.validate=function(){throw new Error("Not implemented")};lm.prototype._fixedNafMul=function(e,r){LM(e.precomputed);var n=e._getDoubles(),i=UM(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],c,l;for(c=0;c<i.length;c+=n.step){l=0;for(var m=c+n.step-1;m>=c;m--)l=(l<<1)+i[m];s.push(l)}for(var w=this.jpoint(null,null,null),b=this.jpoint(null,null,null),E=o;E>0;E--){for(c=0;c<s.length;c++)l=s[c],l===E?b=b.mixedAdd(n.points[c]):l===-E&&(b=b.mixedAdd(n.points[c].neg()));w=w.add(b)}return w.toP()};lm.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=UM(r,n,this._bitLength),c=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var m=0;l>=0&&s[l]===0;l--)m++;if(l>=0&&m++,c=c.dblp(m),l<0)break;var w=s[l];LM(w!==0),e.type==="affine"?w>0?c=c.mixedAdd(o[w-1>>1]):c=c.mixedAdd(o[-w-1>>1].neg()):w>0?c=c.add(o[w-1>>1]):c=c.add(o[-w-1>>1].neg())}return e.type==="affine"?c.toP():c};lm.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,c=this._wnafT2,l=this._wnafT3,m=0,w,b,E;for(w=0;w<i;w++){E=r[w];var I=E._getNAFPoints(e);s[w]=I.wnd,c[w]=I.points}for(w=i-1;w>=1;w-=2){var M=w-1,k=w;if(s[M]!==1||s[k]!==1){l[M]=UM(n[M],s[M],this._bitLength),l[k]=UM(n[k],s[k],this._bitLength),m=Math.max(l[M].length,m),m=Math.max(l[k].length,m);continue}var B=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(B[1]=r[M].add(r[k]),B[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(B[1]=r[M].toJ().mixedAdd(r[k]),B[2]=r[M].add(r[k].neg())):(B[1]=r[M].toJ().mixedAdd(r[k]),B[2]=r[M].toJ().mixedAdd(r[k].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],U=JWe(n[M],n[k]);for(m=Math.max(U[0].length,m),l[M]=new Array(m),l[k]=new Array(m),b=0;b<m;b++){var P=U[0][b]|0,F=U[1][b]|0;l[M][b]=R[(P+1)*3+(F+1)],l[k][b]=0,c[M]=B}}var V=this.jpoint(null,null,null),H=this._wnafT4;for(w=m;w>=0;w--){for(var re=0;w>=0;){var J=!0;for(b=0;b<i;b++)H[b]=l[b][w]|0,H[b]!==0&&(J=!1);if(!J)break;re++,w--}if(w>=0&&re++,V=V.dblp(re),w<0)break;for(b=0;b<i;b++){var ie=H[b];ie!==0&&(ie>0?E=c[b][ie-1>>1]:ie<0&&(E=c[b][-ie-1>>1].neg()),E.type==="affine"?V=V.mixedAdd(E):V=V.add(E))}}for(w=0;w<i;w++)c[w]=null;return o?V:V.toP()};function nf(t,e){this.curve=t,this.type=e,this.precomputed=null}lm.BasePoint=nf;nf.prototype.eq=function(){throw new Error("Not implemented")};nf.prototype.validate=function(){return this.curve.validate(this)};lm.prototype.decodePoint=function(e,r){e=H3.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?LM(e[e.length-1]%2===0):e[0]===7&&LM(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};nf.prototype.encodeCompressed=function(e){return this.encode(e,!0)};nf.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};nf.prototype.encode=function(e,r){return H3.encode(this._encode(r),e)};nf.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};nf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};nf.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};nf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};nf.prototype._getBeta=function(){return null};nf.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var vhe=K((Mjt,bhe)=>{"use strict";d();h();var XWe=iu(),Xi=Id(),uV=Xt(),rw=j3(),eGe=XWe.assert;function of(t){rw.call(this,"short",t),this.a=new Xi(t.a,16).toRed(this.red),this.b=new Xi(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}uV(of,rw);bhe.exports=of;of.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Xi(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Xi(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],eGe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(c){return{a:new Xi(c.a,16),b:new Xi(c.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};of.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Xi.mont(e),n=new Xi(2).toRed(r).redInvm(),i=n.redNeg(),o=new Xi(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),c=i.redSub(o).fromRed();return[s,c]};of.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new Xi(1),s=new Xi(0),c=new Xi(0),l=new Xi(1),m,w,b,E,I,M,k,B=0,R,U;n.cmpn(0)!==0;){var P=i.div(n);R=i.sub(P.mul(n)),U=c.sub(P.mul(o));var F=l.sub(P.mul(s));if(!b&&R.cmp(r)<0)m=k.neg(),w=o,b=R.neg(),E=U;else if(b&&++B===2)break;k=R,i=n,n=R,c=o,o=U,l=s,s=F}I=R.neg(),M=U;var V=b.sqr().add(E.sqr()),H=I.sqr().add(M.sqr());return H.cmp(V)>=0&&(I=m,M=w),b.negative&&(b=b.neg(),E=E.neg()),I.negative&&(I=I.neg(),M=M.neg()),[{a:b,b:E},{a:I,b:M}]};of.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),c=o.mul(n.a),l=s.mul(i.a),m=o.mul(n.b),w=s.mul(i.b),b=e.sub(c).sub(l),E=m.add(w).neg();return{k1:b,k2:E}};of.prototype.pointFromX=function(e,r){e=new Xi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};of.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};of.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var c=this._endoSplit(r[s]),l=e[s],m=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),m=m.neg(!0)),i[s*2]=l,i[s*2+1]=m,o[s*2]=c.k1,o[s*2+1]=c.k2}for(var w=this._wnafMulAdd(1,i,o,s*2,n),b=0;b<s*2;b++)i[b]=null,o[b]=null;return w};function is(t,e,r,n){rw.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Xi(e,16),this.y=new Xi(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}uV(is,rw.BasePoint);of.prototype.point=function(e,r,n){return new is(this,e,r,n)};of.prototype.pointFromJSON=function(e,r){return is.fromJSON(this,e,r)};is.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};is.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};is.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(c){return e.point(c[0],c[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};is.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};is.prototype.isInfinity=function(){return this.inf};is.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};is.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),c=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,c)};is.prototype.getX=function(){return this.x.fromRed()};is.prototype.getY=function(){return this.y.fromRed()};is.prototype.mul=function(e){return e=new Xi(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};is.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};is.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};is.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};is.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};is.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ts(t,e,r,n){rw.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Xi(0)):(this.x=new Xi(e,16),this.y=new Xi(r,16),this.z=new Xi(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}uV(Ts,rw.BasePoint);of.prototype.jpoint=function(e,r,n){return new Ts(this,e,r,n)};Ts.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Ts.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ts.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=i.redSub(o),m=s.redSub(c);if(l.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=l.redSqr(),b=w.redMul(l),E=i.redMul(w),I=m.redSqr().redIAdd(b).redISub(E).redISub(E),M=m.redMul(E.redISub(I)).redISub(s.redMul(b)),k=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(I,M,k)};Ts.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),c=n.redSub(i),l=o.redSub(s);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=c.redSqr(),w=m.redMul(c),b=n.redMul(m),E=l.redSqr().redIAdd(w).redISub(b).redISub(b),I=l.redMul(b.redISub(E)).redISub(o.redMul(w)),M=this.z.redMul(c);return this.curve.jpoint(E,I,M)};Ts.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,c=this.y,l=this.z,m=l.redSqr().redSqr(),w=c.redAdd(c);for(r=0;r<e;r++){var b=s.redSqr(),E=w.redSqr(),I=E.redSqr(),M=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(m)),k=s.redMul(E),B=M.redSqr().redISub(k.redAdd(k)),R=k.redISub(B),U=M.redMul(R);U=U.redIAdd(U).redISub(I);var P=w.redMul(l);r+1<e&&(m=m.redMul(I)),s=B,l=P,w=U}return this.curve.jpoint(s,w.redMul(o),l)};Ts.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ts.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i),m=l.redSqr().redISub(c).redISub(c),w=s.redIAdd(s);w=w.redIAdd(w),w=w.redIAdd(w),e=m,r=l.redMul(c.redISub(m)).redISub(w),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),E=this.y.redSqr(),I=E.redSqr(),M=this.x.redAdd(E).redSqr().redISub(b).redISub(I);M=M.redIAdd(M);var k=b.redAdd(b).redIAdd(b),B=k.redSqr(),R=I.redIAdd(I);R=R.redIAdd(R),R=R.redIAdd(R),e=B.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(R),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Ts.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=l.redSqr().redISub(c).redISub(c);e=m;var w=s.redIAdd(s);w=w.redIAdd(w),w=w.redIAdd(w),r=l.redMul(c.redISub(m)).redISub(w),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),E=this.y.redSqr(),I=this.x.redMul(E),M=this.x.redSub(b).redMul(this.x.redAdd(b));M=M.redAdd(M).redIAdd(M);var k=I.redIAdd(I);k=k.redIAdd(k);var B=k.redAdd(k);e=M.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(b);var R=E.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R),r=M.redMul(k.redISub(e)).redISub(R)}return this.curve.jpoint(e,r,n)};Ts.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),c=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),m=r.redAdd(r);m=m.redIAdd(m);var w=m.redMul(c),b=l.redSqr().redISub(w.redAdd(w)),E=w.redISub(b),I=c.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=l.redMul(E).redISub(I),k=n.redAdd(n).redMul(i);return this.curve.jpoint(b,M,k)};Ts.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(s);var l=c.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var w=o.redIAdd(c).redSqr().redISub(s).redISub(l).redISub(m),b=r.redMul(w);b=b.redIAdd(b),b=b.redIAdd(b);var E=this.x.redMul(l).redISub(b);E=E.redIAdd(E),E=E.redIAdd(E);var I=this.y.redMul(w.redMul(m.redISub(w)).redISub(c.redMul(l)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,I,M)};Ts.prototype.mul=function(e,r){return e=new Xi(e,r),this.curve._wnafMul(this,e)};Ts.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Ts.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Ts.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ts.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var She=K((Rjt,whe)=>{"use strict";d();h();var nw=Id(),xhe=Xt(),FM=j3(),tGe=iu();function iw(t){FM.call(this,"mont",t),this.a=new nw(t.a,16).toRed(this.red),this.b=new nw(t.b,16).toRed(this.red),this.i4=new nw(4).toRed(this.red).redInvm(),this.two=new nw(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}xhe(iw,FM);whe.exports=iw;iw.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),o=i.redSqrt();return o.redSqr().cmp(i)===0};function os(t,e,r){FM.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new nw(e,16),this.z=new nw(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}xhe(os,FM.BasePoint);iw.prototype.decodePoint=function(e,r){return this.point(tGe.toArray(e,r),1)};iw.prototype.point=function(e,r){return new os(this,e,r)};iw.prototype.pointFromJSON=function(e){return os.fromJSON(this,e)};os.prototype.precompute=function(){};os.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};os.fromJSON=function(e,r){return new os(e,r[0],r[1]||e.one)};os.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};os.prototype.isInfinity=function(){return this.z.cmpn(0)===0};os.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=r.redSub(i),s=r.redMul(i),c=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,c)};os.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};os.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),c=s.redMul(n),l=o.redMul(i),m=r.z.redMul(c.redAdd(l).redSqr()),w=r.x.redMul(c.redISub(l).redSqr());return this.curve.point(m,w)};os.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),o=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var c=s.length-1;c>=0;c--)s[c]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};os.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};os.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};os.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};os.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};os.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var _he=K((Ojt,Ehe)=>{"use strict";d();h();var rGe=iu(),u0=Id(),Ahe=Xt(),qM=j3(),nGe=rGe.assert;function Md(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,qM.call(this,"edwards",t),this.a=new u0(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new u0(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new u0(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),nGe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Ahe(Md,qM);Ehe.exports=Md;Md.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Md.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Md.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Md.prototype.pointFromX=function(e,r){e=new u0(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(o.redInvm()),c=s.redSqrt();if(c.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var l=c.fromRed().isOdd();return(r&&!l||!r&&l)&&(c=c.redNeg()),this.point(e,c)};Md.prototype.pointFromY=function(e,r){e=new u0(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var c=s.redSqrt();if(c.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,e)};Md.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(o)===0};function ai(t,e,r,n,i){qM.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new u0(e,16),this.y=new u0(r,16),this.z=n?new u0(n,16):this.curve.one,this.t=i&&new u0(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Ahe(ai,qM.BasePoint);Md.prototype.pointFromJSON=function(e){return ai.fromJSON(this,e)};Md.prototype.point=function(e,r,n,i){return new ai(this,e,r,n,i)};ai.fromJSON=function(e,r){return new ai(e,r[0],r[1],r[2])};ai.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ai.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};ai.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),c=s.redSub(n),l=i.redSub(r),m=o.redMul(c),w=s.redMul(l),b=o.redMul(l),E=c.redMul(s);return this.curve.point(m,w,E,b)};ai.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,o,s,c,l,m;if(this.curve.twisted){c=this.curve._mulA(r);var w=c.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(w.redSub(this.curve.two)),o=w.redMul(c.redSub(n)),s=w.redSqr().redSub(w).redSub(w)):(l=this.z.redSqr(),m=w.redSub(l).redISub(l),i=e.redSub(r).redISub(n).redMul(m),o=w.redMul(c.redSub(n)),s=w.redMul(m))}else c=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),m=c.redSub(l).redSub(l),i=this.curve._mulC(e.redISub(c)).redMul(m),o=this.curve._mulC(c).redMul(r.redISub(n)),s=c.redMul(m);return this.curve.point(i,o,s)};ai.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};ai.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),c=o.redSub(i),l=o.redAdd(i),m=n.redAdd(r),w=s.redMul(c),b=l.redMul(m),E=s.redMul(m),I=c.redMul(l);return this.curve.point(w,b,I,E)};ai.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(o),c=n.redSub(s),l=n.redAdd(s),m=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),w=r.redMul(c).redMul(m),b,E;return this.curve.twisted?(b=r.redMul(l).redMul(o.redSub(this.curve._mulA(i))),E=c.redMul(l)):(b=r.redMul(l).redMul(o.redSub(i)),E=this.curve._mulC(c).redMul(l)),this.curve.point(w,b,E)};ai.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};ai.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};ai.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};ai.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};ai.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};ai.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};ai.prototype.getX=function(){return this.normalize(),this.x.fromRed()};ai.prototype.getY=function(){return this.normalize(),this.y.fromRed()};ai.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};ai.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};ai.prototype.toP=ai.prototype.normalize;ai.prototype.mixedAdd=ai.prototype.add});var fV=K(The=>{"use strict";d();h();var KM=The;KM.base=j3();KM.short=vhe();KM.mont=She();KM.edwards=_he()});var ll=K(ti=>{"use strict";d();h();var iGe=nu(),oGe=Xt();ti.inherits=oGe;function sGe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function aGe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):sGe(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}ti.toArray=aGe;function cGe(t){for(var e="",r=0;r<t.length;r++)e+=Mhe(t[r].toString(16));return e}ti.toHex=cGe;function Ihe(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}ti.htonl=Ihe;function uGe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=Ihe(i)),r+=khe(i.toString(16))}return r}ti.toHex32=uGe;function Mhe(t){return t.length===1?"0"+t:t}ti.zero2=Mhe;function khe(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}ti.zero8=khe;function fGe(t,e,r,n){var i=r-e;iGe(i%4===0);for(var o=new Array(i/4),s=0,c=e;s<o.length;s++,c+=4){var l;n==="big"?l=t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:l=t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],o[s]=l>>>0}return o}ti.join32=fGe;function lGe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}ti.split32=lGe;function dGe(t,e){return t>>>e|t<<32-e}ti.rotr32=dGe;function hGe(t,e){return t<<e|t>>>32-e}ti.rotl32=hGe;function pGe(t,e){return t+e>>>0}ti.sum32=pGe;function mGe(t,e,r){return t+e+r>>>0}ti.sum32_3=mGe;function yGe(t,e,r,n){return t+e+r+n>>>0}ti.sum32_4=yGe;function gGe(t,e,r,n,i){return t+e+r+n+i>>>0}ti.sum32_5=gGe;function bGe(t,e,r,n){var i=t[e],o=t[e+1],s=n+o>>>0,c=(s<n?1:0)+r+i;t[e]=c>>>0,t[e+1]=s}ti.sum64=bGe;function vGe(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}ti.sum64_hi=vGe;function xGe(t,e,r,n){var i=e+n;return i>>>0}ti.sum64_lo=xGe;function wGe(t,e,r,n,i,o,s,c){var l=0,m=e;m=m+n>>>0,l+=m<e?1:0,m=m+o>>>0,l+=m<o?1:0,m=m+c>>>0,l+=m<c?1:0;var w=t+r+i+s+l;return w>>>0}ti.sum64_4_hi=wGe;function SGe(t,e,r,n,i,o,s,c){var l=e+n+o+c;return l>>>0}ti.sum64_4_lo=SGe;function AGe(t,e,r,n,i,o,s,c,l,m){var w=0,b=e;b=b+n>>>0,w+=b<e?1:0,b=b+o>>>0,w+=b<o?1:0,b=b+c>>>0,w+=b<c?1:0,b=b+m>>>0,w+=b<m?1:0;var E=t+r+i+s+l+w;return E>>>0}ti.sum64_5_hi=AGe;function EGe(t,e,r,n,i,o,s,c,l,m){var w=e+n+o+c+m;return w>>>0}ti.sum64_5_lo=EGe;function _Ge(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}ti.rotr64_hi=_Ge;function TGe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ti.rotr64_lo=TGe;function IGe(t,e,r){return t>>>r}ti.shr64_hi=IGe;function MGe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ti.shr64_lo=MGe});var ow=K(Rhe=>{"use strict";d();h();var Phe=ll(),kGe=nu();function VM(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Rhe.BlockHash=VM;VM.prototype.update=function(e,r){if(e=Phe.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Phe.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};VM.prototype.digest=function(e){return this.update(this._pad()),kGe(this.pending===null),this._digest(e)};VM.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i}});var lV=K(f0=>{"use strict";d();h();var PGe=ll(),kd=PGe.rotr32;function RGe(t,e,r,n){if(t===0)return Bhe(e,r,n);if(t===1||t===3)return Ohe(e,r,n);if(t===2)return Che(e,r,n)}f0.ft_1=RGe;function Bhe(t,e,r){return t&e^~t&r}f0.ch32=Bhe;function Che(t,e,r){return t&e^t&r^e&r}f0.maj32=Che;function Ohe(t,e,r){return t^e^r}f0.p32=Ohe;function BGe(t){return kd(t,2)^kd(t,13)^kd(t,22)}f0.s0_256=BGe;function CGe(t){return kd(t,6)^kd(t,11)^kd(t,25)}f0.s1_256=CGe;function OGe(t){return kd(t,7)^kd(t,18)^t>>>3}f0.g0_256=OGe;function NGe(t){return kd(t,17)^kd(t,19)^t>>>10}f0.g1_256=NGe});var Uhe=K((Yjt,Dhe)=>{"use strict";d();h();var sw=ll(),DGe=ow(),UGe=lV(),dV=sw.rotl32,z3=sw.sum32,LGe=sw.sum32_5,FGe=UGe.ft_1,Nhe=DGe.BlockHash,qGe=[1518500249,1859775393,2400959708,3395469782];function Pd(){if(!(this instanceof Pd))return new Pd;Nhe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}sw.inherits(Pd,Nhe);Dhe.exports=Pd;Pd.blockSize=512;Pd.outSize=160;Pd.hmacStrength=80;Pd.padLength=64;Pd.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=dV(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],c=this.h[2],l=this.h[3],m=this.h[4];for(i=0;i<n.length;i++){var w=~~(i/20),b=LGe(dV(o,5),FGe(w,s,c,l),m,n[i],qGe[w]);m=l,l=c,c=dV(s,30),s=o,o=b}this.h[0]=z3(this.h[0],o),this.h[1]=z3(this.h[1],s),this.h[2]=z3(this.h[2],c),this.h[3]=z3(this.h[3],l),this.h[4]=z3(this.h[4],m)};Pd.prototype._digest=function(e){return e==="hex"?sw.toHex32(this.h,"big"):sw.split32(this.h,"big")}});var hV=K((Jjt,Fhe)=>{"use strict";d();h();var aw=ll(),KGe=ow(),cw=lV(),VGe=nu(),dl=aw.sum32,HGe=aw.sum32_4,jGe=aw.sum32_5,zGe=cw.ch32,WGe=cw.maj32,GGe=cw.s0_256,$Ge=cw.s1_256,YGe=cw.g0_256,ZGe=cw.g1_256,Lhe=KGe.BlockHash,QGe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Rd(){if(!(this instanceof Rd))return new Rd;Lhe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=QGe,this.W=new Array(64)}aw.inherits(Rd,Lhe);Fhe.exports=Rd;Rd.blockSize=512;Rd.outSize=256;Rd.hmacStrength=192;Rd.padLength=64;Rd.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=HGe(ZGe(n[i-2]),n[i-7],YGe(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],c=this.h[2],l=this.h[3],m=this.h[4],w=this.h[5],b=this.h[6],E=this.h[7];for(VGe(this.k.length===n.length),i=0;i<n.length;i++){var I=jGe(E,$Ge(m),zGe(m,w,b),this.k[i],n[i]),M=dl(GGe(o),WGe(o,s,c));E=b,b=w,w=m,m=dl(l,I),l=c,c=s,s=o,o=dl(I,M)}this.h[0]=dl(this.h[0],o),this.h[1]=dl(this.h[1],s),this.h[2]=dl(this.h[2],c),this.h[3]=dl(this.h[3],l),this.h[4]=dl(this.h[4],m),this.h[5]=dl(this.h[5],w),this.h[6]=dl(this.h[6],b),this.h[7]=dl(this.h[7],E)};Rd.prototype._digest=function(e){return e==="hex"?aw.toHex32(this.h,"big"):aw.split32(this.h,"big")}});var Vhe=K((tzt,Khe)=>{"use strict";d();h();var pV=ll(),qhe=hV();function l0(){if(!(this instanceof l0))return new l0;qhe.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}pV.inherits(l0,qhe);Khe.exports=l0;l0.blockSize=512;l0.outSize=224;l0.hmacStrength=192;l0.padLength=64;l0.prototype._digest=function(e){return e==="hex"?pV.toHex32(this.h.slice(0,7),"big"):pV.split32(this.h.slice(0,7),"big")}});var gV=K((izt,Whe)=>{"use strict";d();h();var bc=ll(),JGe=ow(),XGe=nu(),Bd=bc.rotr64_hi,Cd=bc.rotr64_lo,Hhe=bc.shr64_hi,jhe=bc.shr64_lo,dm=bc.sum64,mV=bc.sum64_hi,yV=bc.sum64_lo,e$e=bc.sum64_4_hi,t$e=bc.sum64_4_lo,r$e=bc.sum64_5_hi,n$e=bc.sum64_5_lo,zhe=JGe.BlockHash,i$e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function hl(){if(!(this instanceof hl))return new hl;zhe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=i$e,this.W=new Array(160)}bc.inherits(hl,zhe);Whe.exports=hl;hl.blockSize=1024;hl.outSize=512;hl.hmacStrength=192;hl.padLength=128;hl.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=m$e(n[i-4],n[i-3]),s=y$e(n[i-4],n[i-3]),c=n[i-14],l=n[i-13],m=h$e(n[i-30],n[i-29]),w=p$e(n[i-30],n[i-29]),b=n[i-32],E=n[i-31];n[i]=e$e(o,s,c,l,m,w,b,E),n[i+1]=t$e(o,s,c,l,m,w,b,E)}};hl.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],c=this.h[3],l=this.h[4],m=this.h[5],w=this.h[6],b=this.h[7],E=this.h[8],I=this.h[9],M=this.h[10],k=this.h[11],B=this.h[12],R=this.h[13],U=this.h[14],P=this.h[15];XGe(this.k.length===n.length);for(var F=0;F<n.length;F+=2){var V=U,H=P,re=l$e(E,I),J=d$e(E,I),ie=o$e(E,I,M,k,B,R),S=s$e(E,I,M,k,B,R),a=this.k[F],f=this.k[F+1],p=n[F],y=n[F+1],g=r$e(V,H,re,J,ie,S,a,f,p,y),A=n$e(V,H,re,J,ie,S,a,f,p,y);V=u$e(i,o),H=f$e(i,o),re=a$e(i,o,s,c,l,m),J=c$e(i,o,s,c,l,m);var _=mV(V,H,re,J),v=yV(V,H,re,J);U=B,P=R,B=M,R=k,M=E,k=I,E=mV(w,b,g,A),I=yV(b,b,g,A),w=l,b=m,l=s,m=c,s=i,c=o,i=mV(g,A,_,v),o=yV(g,A,_,v)}dm(this.h,0,i,o),dm(this.h,2,s,c),dm(this.h,4,l,m),dm(this.h,6,w,b),dm(this.h,8,E,I),dm(this.h,10,M,k),dm(this.h,12,B,R),dm(this.h,14,U,P)};hl.prototype._digest=function(e){return e==="hex"?bc.toHex32(this.h,"big"):bc.split32(this.h,"big")};function o$e(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function s$e(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function a$e(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function c$e(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function u$e(t,e){var r=Bd(t,e,28),n=Bd(e,t,2),i=Bd(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function f$e(t,e){var r=Cd(t,e,28),n=Cd(e,t,2),i=Cd(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function l$e(t,e){var r=Bd(t,e,14),n=Bd(t,e,18),i=Bd(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function d$e(t,e){var r=Cd(t,e,14),n=Cd(t,e,18),i=Cd(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function h$e(t,e){var r=Bd(t,e,1),n=Bd(t,e,8),i=Hhe(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function p$e(t,e){var r=Cd(t,e,1),n=Cd(t,e,8),i=jhe(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function m$e(t,e){var r=Bd(t,e,19),n=Bd(e,t,29),i=Hhe(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function y$e(t,e){var r=Cd(t,e,19),n=Cd(e,t,29),i=jhe(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}});var Yhe=K((azt,$he)=>{"use strict";d();h();var bV=ll(),Ghe=gV();function d0(){if(!(this instanceof d0))return new d0;Ghe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}bV.inherits(d0,Ghe);$he.exports=d0;d0.blockSize=1024;d0.outSize=384;d0.hmacStrength=192;d0.padLength=128;d0.prototype._digest=function(e){return e==="hex"?bV.toHex32(this.h.slice(0,12),"big"):bV.split32(this.h.slice(0,12),"big")}});var Zhe=K(uw=>{"use strict";d();h();uw.sha1=Uhe();uw.sha224=Vhe();uw.sha256=hV();uw.sha384=Yhe();uw.sha512=gV()});var r0e=K(t0e=>{"use strict";d();h();var qb=ll(),g$e=ow(),HM=qb.rotl32,Qhe=qb.sum32,W3=qb.sum32_3,Jhe=qb.sum32_4,e0e=g$e.BlockHash;function Od(){if(!(this instanceof Od))return new Od;e0e.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}qb.inherits(Od,e0e);t0e.ripemd160=Od;Od.blockSize=512;Od.outSize=160;Od.hmacStrength=192;Od.padLength=64;Od.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],c=this.h[4],l=n,m=i,w=o,b=s,E=c,I=0;I<80;I++){var M=Qhe(HM(Jhe(n,Xhe(I,i,o,s),e[x$e[I]+r],b$e(I)),S$e[I]),c);n=c,c=s,s=HM(o,10),o=i,i=M,M=Qhe(HM(Jhe(l,Xhe(79-I,m,w,b),e[w$e[I]+r],v$e(I)),A$e[I]),E),l=E,E=b,b=HM(w,10),w=m,m=M}M=W3(this.h[1],o,b),this.h[1]=W3(this.h[2],s,E),this.h[2]=W3(this.h[3],c,l),this.h[3]=W3(this.h[4],n,m),this.h[4]=W3(this.h[0],i,w),this.h[0]=M};Od.prototype._digest=function(e){return e==="hex"?qb.toHex32(this.h,"little"):qb.split32(this.h,"little")};function Xhe(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function b$e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function v$e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var x$e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w$e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],S$e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],A$e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var i0e=K((yzt,n0e)=>{"use strict";d();h();var E$e=ll(),_$e=nu();function fw(t,e,r){if(!(this instanceof fw))return new fw(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(E$e.toArray(e,r))}n0e.exports=fw;fw.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),_$e(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};fw.prototype.update=function(e,r){return this.inner.update(e,r),this};fw.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var lw=K(o0e=>{d();h();var Is=o0e;Is.utils=ll();Is.common=ow();Is.sha=Zhe();Is.ripemd=r0e();Is.hmac=i0e();Is.sha1=Is.sha.sha1;Is.sha256=Is.sha.sha256;Is.sha224=Is.sha.sha224;Is.sha384=Is.sha.sha384;Is.sha512=Is.sha.sha512;Is.ripemd160=Is.ripemd.ripemd160});var a0e=K((Szt,s0e)=>{d();h();s0e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var jM=K(f0e=>{"use strict";d();h();var xV=f0e,hm=lw(),vV=fV(),T$e=iu(),c0e=T$e.assert;function u0e(t){t.type==="short"?this.curve=new vV.short(t):t.type==="edwards"?this.curve=new vV.edwards(t):this.curve=new vV.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,c0e(this.g.validate(),"Invalid curve"),c0e(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}xV.PresetCurve=u0e;function pm(t,e){Object.defineProperty(xV,t,{configurable:!0,enumerable:!0,get:function(){var r=new u0e(e);return Object.defineProperty(xV,t,{configurable:!0,enumerable:!0,value:r}),r}})}pm("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hm.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});pm("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hm.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});pm("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hm.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});pm("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hm.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});pm("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hm.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});pm("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hm.sha256,gRed:!1,g:["9"]});pm("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hm.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var wV;try{wV=a0e()}catch{wV=void 0}pm("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hm.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",wV]})});var h0e=K((Mzt,d0e)=>{"use strict";d();h();var I$e=lw(),Kb=cV(),l0e=nu();function mm(t){if(!(this instanceof mm))return new mm(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Kb.toArray(t.entropy,t.entropyEnc||"hex"),r=Kb.toArray(t.nonce,t.nonceEnc||"hex"),n=Kb.toArray(t.pers,t.persEnc||"hex");l0e(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}d0e.exports=mm;mm.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};mm.prototype._hmac=function(){return new I$e.hmac(this.hash,this.K)};mm.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};mm.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Kb.toArray(e,r),n=Kb.toArray(n,i),l0e(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};mm.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Kb.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Kb.encode(s,r)}});var m0e=K((Rzt,p0e)=>{"use strict";d();h();var M$e=Id(),k$e=iu(),SV=k$e.assert;function sa(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}p0e.exports=sa;sa.fromPublic=function(e,r,n){return r instanceof sa?r:new sa(e,{pub:r,pubEnc:n})};sa.fromPrivate=function(e,r,n){return r instanceof sa?r:new sa(e,{priv:r,privEnc:n})};sa.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};sa.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};sa.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};sa.prototype._importPrivate=function(e,r){this.priv=new M$e(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};sa.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?SV(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&SV(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};sa.prototype.derive=function(e){return e.validate()||SV(e.validate(),"public point not validated"),e.mul(this.priv).getX()};sa.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};sa.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};sa.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var b0e=K((Ozt,g0e)=>{"use strict";d();h();var zM=Id(),_V=iu(),P$e=_V.assert;function WM(t,e){if(t instanceof WM)return t;this._importDER(t,e)||(P$e(t.r&&t.s,"Signature without r or s"),this.r=new zM(t.r,16),this.s=new zM(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}g0e.exports=WM;function R$e(){this.place=0}function AV(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function y0e(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}WM.prototype._importDER=function(e,r){e=_V.toArray(e,r);var n=new R$e;if(e[n.place++]!==48)return!1;var i=AV(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=AV(e,n);if(o===!1||e[n.place]&128)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var c=AV(e,n);if(c===!1||e.length!==c+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,c+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new zM(s),this.s=new zM(l),this.recoveryParam=null,!0};function EV(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}WM.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=y0e(r),n=y0e(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];EV(i,r.length),i=i.concat(r),i.push(2),EV(i,n.length);var o=i.concat(n),s=[48];return EV(s,o.length),s=s.concat(o),_V.encode(s,e)}});var w0e=K((Uzt,x0e)=>{"use strict";d();h();var pl=Id(),v0e=h0e(),B$e=iu(),TV=jM(),C$e=gM(),Vb=B$e.assert,IV=m0e(),GM=b0e();function sf(t){if(!(this instanceof sf))return new sf(t);typeof t=="string"&&(Vb(Object.prototype.hasOwnProperty.call(TV,t),"Unknown curve "+t),t=TV[t]),t instanceof TV.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}x0e.exports=sf;sf.prototype.keyPair=function(e){return new IV(this,e)};sf.prototype.keyFromPrivate=function(e,r){return IV.fromPrivate(this,e,r)};sf.prototype.keyFromPublic=function(e,r){return IV.fromPublic(this,e,r)};sf.prototype.genKeyPair=function(e){e||(e={});for(var r=new v0e({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||C$e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new pl(2));;){var o=new pl(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};sf.prototype._truncateToN=function(e,r,n){var i;if(pl.isBN(e)||typeof e=="number")e=new pl(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new pl(e,16);else{var o=e.toString();i=o.length+1>>>1,e=new pl(o,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};sf.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!pl.isBN(e)){Vb(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Vb(e.length>>>0===e.length);for(var o=0;o<e.length;o++)Vb((e[o]&255)===e[o])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Vb(!e.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),c=r.getPrivate().toArray("be",s),l=e.toArray("be",s);Vb(new pl(l).eq(e),"Can not sign message");for(var m=new v0e({hash:this.hash,entropy:c,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),w=this.n.sub(new pl(1)),b=0;;b++){var E=i.k?i.k(b):new pl(m.generate(this.n.byteLength()));if(E=this._truncateToN(E,!0),!(E.cmpn(1)<=0||E.cmp(w)>=0)){var I=this.g.mul(E);if(!I.isInfinity()){var M=I.getX(),k=M.umod(this.n);if(k.cmpn(0)!==0){var B=E.invm(this.n).mul(k.mul(r.getPrivate()).iadd(e));if(B=B.umod(this.n),B.cmpn(0)!==0){var R=(I.getY().isOdd()?1:0)|(M.cmp(k)!==0?2:0);return i.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),R^=1),new GM({r:k,s:B,recoveryParam:R})}}}}}};sf.prototype.verify=function(e,r,n,i,o){o||(o={}),e=this._truncateToN(e,!1,o.msgBitLength),n=this.keyFromPublic(n,i),r=new GM(r,"hex");var s=r.r,c=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||c.cmpn(1)<0||c.cmp(this.n)>=0)return!1;var l=c.invm(this.n),m=l.mul(e).umod(this.n),w=l.mul(s).umod(this.n),b;return this.curve._maxwellTrick?(b=this.g.jmulAdd(m,n.getPublic(),w),b.isInfinity()?!1:b.eqXToP(s)):(b=this.g.mulAdd(m,n.getPublic(),w),b.isInfinity()?!1:b.getX().umod(this.n).cmp(s)===0)};sf.prototype.recoverPubKey=function(t,e,r,n){Vb((3&r)===r,"The recovery param is more than two bits"),e=new GM(e,n);var i=this.n,o=new pl(t),s=e.r,c=e.s,l=r&1,m=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var w=e.r.invm(i),b=i.sub(o).mul(w).umod(i),E=c.mul(w).umod(i);return this.g.mulAdd(b,s,E)};sf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new GM(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var _0e=K((qzt,E0e)=>{"use strict";d();h();var G3=iu(),A0e=G3.assert,S0e=G3.parseBytes,dw=G3.cachedProperty;function ss(t,e){this.eddsa=t,this._secret=S0e(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=S0e(e.pub)}ss.fromPublic=function(e,r){return r instanceof ss?r:new ss(e,{pub:r})};ss.fromSecret=function(e,r){return r instanceof ss?r:new ss(e,{secret:r})};ss.prototype.secret=function(){return this._secret};dw(ss,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});dw(ss,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});dw(ss,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});dw(ss,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});dw(ss,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});dw(ss,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});ss.prototype.sign=function(e){return A0e(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};ss.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};ss.prototype.getSecret=function(e){return A0e(this._secret,"KeyPair is public only"),G3.encode(this.secret(),e)};ss.prototype.getPublic=function(e){return G3.encode(this.pubBytes(),e)};E0e.exports=ss});var M0e=K((Hzt,I0e)=>{"use strict";d();h();var O$e=Id(),$M=iu(),T0e=$M.assert,YM=$M.cachedProperty,N$e=$M.parseBytes;function Hb(t,e){this.eddsa=t,typeof e!="object"&&(e=N$e(e)),Array.isArray(e)&&(T0e(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),T0e(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof O$e&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}YM(Hb,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});YM(Hb,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});YM(Hb,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});YM(Hb,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Hb.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Hb.prototype.toHex=function(){return $M.encode(this.toBytes(),"hex").toUpperCase()};I0e.exports=Hb});var C0e=K((Wzt,B0e)=>{"use strict";d();h();var D$e=lw(),U$e=jM(),hw=iu(),L$e=hw.assert,P0e=hw.parseBytes,R0e=_0e(),k0e=M0e();function vc(t){if(L$e(t==="ed25519","only tested with ed25519 so far"),!(this instanceof vc))return new vc(t);t=U$e[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=D$e.sha512}B0e.exports=vc;vc.prototype.sign=function(e,r){e=P0e(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),s=this.encodePoint(o),c=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),l=i.add(c).umod(this.curve.n);return this.makeSignature({R:o,S:l,Rencoded:s})};vc.prototype.verify=function(e,r,n){if(e=P0e(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),o=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),c=r.R().add(i.pub().mul(o));return c.eq(s)};vc.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return hw.intFromLE(e.digest()).umod(this.curve.n)};vc.prototype.keyFromPublic=function(e){return R0e.fromPublic(this,e)};vc.prototype.keyFromSecret=function(e){return R0e.fromSecret(this,e)};vc.prototype.makeSignature=function(e){return e instanceof k0e?e:new k0e(this,e)};vc.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};vc.prototype.decodePoint=function(e){e=hw.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,o=hw.intFromLE(n);return this.curve.pointFromY(o,i)};vc.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};vc.prototype.decodeInt=function(e){return hw.intFromLE(e)};vc.prototype.isPoint=function(e){return e instanceof this.pointClass}});var pw=K(O0e=>{"use strict";d();h();var jb=O0e;jb.version=lhe().version;jb.utils=iu();jb.rand=gM();jb.curve=fV();jb.curves=jM();jb.ec=w0e();jb.eddsa=C0e()});var kV=K((N0e,MV)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Lp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var q=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)q*=f;this.imuln(q),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var q=this.clone();for(q.negative=0;!q.isZero();){var L=q.modn(x).toString(a);q=q.idivn(x),q.isZero()?p=L+p:p=m[u-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,q=v&67108863,L=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=L;C++){var W=u-C|0;y=S.words[W]|0,g=a.words[C]|0,A=y*g+q,x+=A/67108864|0,q=A&67108863}f.words[u]=q|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,q=y[0]|0,L=q&8191,C=q>>>13,W=y[1]|0,ee=W&8191,ne=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Wr=y[6]|0,Ie=Wr&8191,we=Wr>>>13,yn=y[7]|0,ve=yn&8191,Re=yn>>>13,_n=y[8]|0,Be=_n&8191,Ce=_n>>>13,Bn=y[9]|0,De=Bn&8191,Me=Bn>>>13,Tn=g[0]|0,_e=Tn&8191,Se=Tn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,an=g[2]|0,Ee=an&8191,ke=an>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Br=g[4]|0,be=Br&8191,xe=Br>>>13,In=g[5]|0,Pe=In&8191,Oe=In>>>13,Un=g[6]|0,me=Un&8191,Ne=Un>>>13,Z=g[7]|0,z=Z&8191,j=Z>>>13,N=g[8]|0,Q=N&8191,X=N>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(L,_e),u=Math.imul(L,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(L,Ae)|0,u=u+Math.imul(L,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(G,_e)|0,x=Math.imul(G,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(L,Ee)|0,u=u+Math.imul(L,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(G,Ae)|0,x=x+Math.imul(G,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(L,Ue)|0,u=u+Math.imul(L,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(G,Ee)|0,x=x+Math.imul(G,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(L,be)|0,u=u+Math.imul(L,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(G,Ue)|0,x=x+Math.imul(G,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(L,Pe)|0,u=u+Math.imul(L,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(G,be)|0,x=x+Math.imul(G,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(L,me)|0,u=u+Math.imul(L,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Re,_e)|0,x=Math.imul(Re,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(G,Pe)|0,x=x+Math.imul(G,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(L,z)|0,u=u+Math.imul(L,j)|0,u=u+Math.imul(C,z)|0,x=x+Math.imul(C,j)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Be,_e),u=Math.imul(Be,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Re,Ae)|0,x=x+Math.imul(Re,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(G,me)|0,x=x+Math.imul(G,Ne)|0,v=v+Math.imul(ee,z)|0,u=u+Math.imul(ee,j)|0,u=u+Math.imul(ne,z)|0,x=x+Math.imul(ne,j)|0,v=v+Math.imul(L,Q)|0,u=u+Math.imul(L,X)|0,u=u+Math.imul(C,Q)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Be,Ae)|0,u=u+Math.imul(Be,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Re,Ee)|0,x=x+Math.imul(Re,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,z)|0,u=u+Math.imul(ae,j)|0,u=u+Math.imul(G,z)|0,x=x+Math.imul(G,j)|0,v=v+Math.imul(ee,Q)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Q)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(L,oe)|0,u=u+Math.imul(L,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Be,Ee)|0,u=u+Math.imul(Be,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Re,Ue)|0,x=x+Math.imul(Re,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,z)|0,u=u+Math.imul(te,j)|0,u=u+Math.imul(ce,z)|0,x=x+Math.imul(ce,j)|0,v=v+Math.imul(ae,Q)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(G,Q)|0,x=x+Math.imul(G,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Be,Ue)|0,u=u+Math.imul(Be,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Re,be)|0,x=x+Math.imul(Re,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,z)|0,u=u+Math.imul(se,j)|0,u=u+Math.imul(le,z)|0,x=x+Math.imul(le,j)|0,v=v+Math.imul(te,Q)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Q)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(G,oe)|0,x=x+Math.imul(G,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Be,be)|0,u=u+Math.imul(Be,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Re,Pe)|0,x=x+Math.imul(Re,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,z)|0,u=u+Math.imul(ge,j)|0,u=u+Math.imul(ye,z)|0,x=x+Math.imul(ye,j)|0,v=v+Math.imul(se,Q)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Q)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Be,Pe)|0,u=u+Math.imul(Be,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Re,me)|0,x=x+Math.imul(Re,Ne)|0,v=v+Math.imul(Ie,z)|0,u=u+Math.imul(Ie,j)|0,u=u+Math.imul(we,z)|0,x=x+Math.imul(we,j)|0,v=v+Math.imul(ge,Q)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Q)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Be,me)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,z)|0,u=u+Math.imul(ve,j)|0,u=u+Math.imul(Re,z)|0,x=x+Math.imul(Re,j)|0,v=v+Math.imul(Ie,Q)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Q)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Be,z)|0,u=u+Math.imul(Be,j)|0,u=u+Math.imul(Ce,z)|0,x=x+Math.imul(Ce,j)|0,v=v+Math.imul(ve,Q)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Re,Q)|0,x=x+Math.imul(Re,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,z),u=Math.imul(De,j),u=u+Math.imul(Me,z)|0,x=Math.imul(Me,j),v=v+Math.imul(Be,Q)|0,u=u+Math.imul(Be,X)|0,u=u+Math.imul(Ce,Q)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Re,oe)|0,x=x+Math.imul(Re,ue)|0;var Ze=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,v=Math.imul(De,Q),u=Math.imul(De,X),u=u+Math.imul(Me,Q)|0,x=Math.imul(Me,X),v=v+Math.imul(Be,oe)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var qe=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(qe>>>26)|0,qe&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=qe,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,q=S.words[x]|0,L=a.words[u]|0,C=q*L,W=C&67108863;A=A+(C/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function B(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=B(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),q=0;q<g;q+=v)for(var L=u,C=x,W=0;W<_;W++){var ee=p[q+W],ne=y[q+W],Ve=p[q+W+_],ae=y[q+W+_],G=L*Ve-C*ae;ae=L*ae+C*Ve,Ve=G,p[q+W]=ee+Ve,y[q+W]=ne+ae,p[q+W+_]=ee-Ve,y[q+W+_]=ne-ae,W!==v&&(G=u*L-x*C,C=u*C+x*L,L=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),q=new Array(y),L=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,q,L,y,g);for(var W=0;W<y;W++){var ee=v[W]*q[W]-u[W]*L[W];u[W]=v[W]*L[W]+u[W]*q[W],v[W]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),B(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var q=this.words[u]|0;this.words[u]=x<<26-g|q>>>g,x=q&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var q=y.clone()._ishlnsubmul(g,1,v);q.negative===0&&(y=q,u&&(u.words[v]=1));for(var L=v-1;L>=0;L--){var C=(y.words[g.length+L]|0)*67108864+(y.words[g.length+L-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,L);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,L),y.isZero()||(y.negative^=1);u&&(u.words[L]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var q=0,L=1;!(f.words[0]&L)&&q<26;++q,L<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,W=1;!(p.words[0]&W)&&C<26;++C,W<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var q;return f.cmpn(1)===0?q=y:q=g,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function H(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new V;else if(a==="p192")f=new H;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),q=this.pow(a,y.addn(1).iushrn(1)),L=this.pow(a,y),C=g;L.cmp(A)!==0;){for(var W=L,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));q=q.redMul(ne),x=ne.redSqr(),L=L.redMul(x),C=ee}return q},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],q=u-1;q>=0;q--){var L=x>>q&1;if(A!==y[0]&&(A=this.sqr(A)),L===0&&_===0){v=0;continue}_<<=1,_|=L,v++,!(v!==p&&(g!==0||q!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,J),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof MV>"u"||MV,N0e)});var QM=K((eWt,D0e)=>{"use strict";d();h();var ZM=Fn(),mw=ZM.Buffer,af={},cf;for(cf in ZM)ZM.hasOwnProperty(cf)&&(cf==="SlowBuffer"||cf==="Buffer"||(af[cf]=ZM[cf]));var yw=af.Buffer={};for(cf in mw)mw.hasOwnProperty(cf)&&(cf==="allocUnsafe"||cf==="allocUnsafeSlow"||(yw[cf]=mw[cf]));af.Buffer.prototype=mw.prototype;(!yw.from||yw.from===Uint8Array.from)&&(yw.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return mw(t,e,r)});yw.alloc||(yw.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=mw(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!af.kStringMaxLength)try{af.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}af.constants||(af.constants={MAX_LENGTH:af.kMaxLength},af.kStringMaxLength&&(af.constants.MAX_STRING_LENGTH=af.kStringMaxLength));D0e.exports=af});var JM=K(U0e=>{"use strict";d();h();var F$e=Xt();function uf(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}U0e.Reporter=uf;uf.prototype.isError=function(e){return e instanceof gw};uf.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};uf.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};uf.prototype.enterKey=function(e){return this._reporterState.path.push(e)};uf.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};uf.prototype.leaveKey=function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};uf.prototype.path=function(){return this._reporterState.path.join("/")};uf.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};uf.prototype.leaveObject=function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n};uf.prototype.error=function(e){let r,n=this._reporterState,i=e instanceof gw;if(i?r=e:r=new gw(n.path.map(function(o){return"["+JSON.stringify(o)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};uf.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function gw(t,e){this.path=t,this.rethrow(e)}F$e(gw,Error);gw.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,gw),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var xw=K(PV=>{"use strict";d();h();var q$e=Xt(),XM=JM().Reporter,bw=QM().Buffer;function ff(t,e){if(XM.call(this,e),!bw.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}q$e(ff,XM);PV.DecoderBuffer=ff;ff.isDecoderBuffer=function(e){return e instanceof ff?!0:typeof e=="object"&&bw.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};ff.prototype.save=function(){return{offset:this.offset,reporter:XM.prototype.save.call(this)}};ff.prototype.restore=function(e){let r=new ff(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,XM.prototype.restore.call(this,e.reporter),r};ff.prototype.isEmpty=function(){return this.offset===this.length};ff.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};ff.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new ff(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};ff.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function vw(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return vw.isEncoderBuffer(r)||(r=new vw(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=bw.byteLength(t);else if(bw.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}PV.EncoderBuffer=vw;vw.isEncoderBuffer=function(e){return e instanceof vw?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};vw.prototype.join=function(e,r){return e||(e=bw.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):bw.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var ek=K((uWt,F0e)=>{"use strict";d();h();var K$e=JM().Reporter,V$e=xw().EncoderBuffer,H$e=xw().DecoderBuffer,Va=nu(),L0e=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],j$e=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(L0e),z$e=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Wn(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}F0e.exports=Wn;var W$e=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Wn.prototype.clone=function(){let e=this._baseState,r={};W$e.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n};Wn.prototype._wrap=function(){let e=this._baseState;j$e.forEach(function(r){this[r]=function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)}},this)};Wn.prototype._init=function(e){let r=this._baseState;Va(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Va.equal(r.children.length,1,"Root node can have only one child")};Wn.prototype._useArgs=function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Va(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(Va(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let o={};return Object.keys(i).forEach(function(s){s==(s|0)&&(s|=0);let c=i[s];o[c]=s}),o}))};z$e.forEach(function(t){Wn.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});L0e.forEach(function(t){Wn.prototype[t]=function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Va(r.tag===null),r.tag=t,this._useArgs(n),this}});Wn.prototype.use=function(e){Va(e);let r=this._baseState;return Va(r.use===null),r.use=e,this};Wn.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};Wn.prototype.def=function(e){let r=this._baseState;return Va(r.default===null),r.default=e,r.optional=!0,this};Wn.prototype.explicit=function(e){let r=this._baseState;return Va(r.explicit===null&&r.implicit===null),r.explicit=e,this};Wn.prototype.implicit=function(e){let r=this._baseState;return Va(r.explicit===null&&r.implicit===null),r.implicit=e,this};Wn.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};Wn.prototype.key=function(e){let r=this._baseState;return Va(r.key===null),r.key=e,this};Wn.prototype.any=function(){let e=this._baseState;return e.any=!0,this};Wn.prototype.choice=function(e){let r=this._baseState;return Va(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};Wn.prototype.contains=function(e){let r=this._baseState;return Va(r.use===null),r.contains=e,this};Wn.prototype._decode=function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,o=!0,s=null;if(n.key!==null&&(s=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let m=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),o=!0}catch{o=!1}e.restore(m)}else if(o=this._peekTag(e,l,n.any),e.isError(o))return o}let c;if(n.obj&&o&&(c=e.enterObject()),o){if(n.explicit!==null){let m=this._decodeTag(e,n.explicit);if(e.isError(m))return m;e=m}let l=e.offset;if(n.use===null&&n.choice===null){let m;n.any&&(m=e.save());let w=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(w))return w;n.any?i=e.raw(m):e=w}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(w){w._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let m=new H$e(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(m,r)}}return n.obj&&o&&(i=e.leaveObject(c)),n.key!==null&&(i!==null||o===!0)?e.leaveKey(s,n.key,i):s!==null&&e.exitKey(s),i};Wn.prototype._decodeGeneric=function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};Wn.prototype._getUse=function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),Va(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};Wn.prototype._decodeChoice=function(e,r){let n=this._baseState,i=null,o=!1;return Object.keys(n.choice).some(function(s){let c=e.save(),l=n.choice[s];try{let m=l._decode(e,r);if(e.isError(m))return!1;i={type:s,value:m},o=!0}catch{return e.restore(c),!1}return!0},this),o?i:e.error("Choice not matched")};Wn.prototype._createEncoderBuffer=function(e){return new V$e(e,this.reporter)};Wn.prototype._encode=function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let o=this._encodeValue(e,r,n);if(o!==void 0&&!this._skipDefault(o,r,n))return o};Wn.prototype._encodeValue=function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new K$e);let o=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let s=null,c=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,r);else if(i.contains)s=this._getUse(i.contains,n)._encode(e,r),c=!0;else if(i.children)s=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let m=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let w=l._encode(e[l._baseState.key],r,e);return r.leaveKey(m),w},this).filter(function(l){return l}),s=this._createEncoderBuffer(s);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(m){let w=this._baseState;return this._getUse(w.args[0],e)._encode(m,r)},l))}else i.use!==null?o=this._getUse(i.use,n)._encode(e,r):(s=this._encodePrimitive(i.tag,e),c=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,m=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(o=this._encodeComposite(l,c,m,s))}return i.explicit!==null&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o};Wn.prototype._encodeChoice=function(e,r){let n=this._baseState,i=n.choice[e.type];return i||Va(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)};Wn.prototype._encodePrimitive=function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};Wn.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Wn.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var tk=K(zb=>{"use strict";d();h();function q0e(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}zb.tagClass={0:"universal",1:"application",2:"context",3:"private"};zb.tagClassByName=q0e(zb.tagClass);zb.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};zb.tagByName=q0e(zb.tag)});var BV=K((mWt,H0e)=>{"use strict";d();h();var G$e=Xt(),h0=QM().Buffer,K0e=ek(),RV=tk();function V0e(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new ml,this.tree._init(t.body)}H0e.exports=V0e;V0e.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function ml(t){K0e.call(this,"der",t)}G$e(ml,K0e);ml.prototype._encodeComposite=function(e,r,n,i){let o=$$e(e,r,n,this.reporter);if(i.length<128){let l=h0.alloc(2);return l[0]=o,l[1]=i.length,this._createEncoderBuffer([l,i])}let s=1;for(let l=i.length;l>=256;l>>=8)s++;let c=h0.alloc(2+s);c[0]=o,c[1]=128|s;for(let l=1+s,m=i.length;m>0;l--,m>>=8)c[l]=m&255;return this._createEncoderBuffer([c,i])};ml.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=h0.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};ml.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let c=0;c<e.length;c++){let l=e[c];for(i++;l>=128;l>>=7)i++}let o=h0.alloc(i),s=o.length-1;for(let c=e.length-1;c>=0;c--){let l=e[c];for(o[s--]=l&127;(l>>=7)>0;)o[s--]=128|l&127}return this._createEncoderBuffer(o)};function lf(t){return t<10?"0"+t:t}ml.prototype._encodeTime=function(e,r){let n,i=new Date(e);return r==="gentime"?n=[lf(i.getUTCFullYear()),lf(i.getUTCMonth()+1),lf(i.getUTCDate()),lf(i.getUTCHours()),lf(i.getUTCMinutes()),lf(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[lf(i.getUTCFullYear()%100),lf(i.getUTCMonth()+1),lf(i.getUTCDate()),lf(i.getUTCHours()),lf(i.getUTCMinutes()),lf(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};ml.prototype._encodeNull=function(){return this._createEncoderBuffer("")};ml.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!h0.isBuffer(e)){let o=e.toArray();!e.sign&&o[0]&128&&o.unshift(0),e=h0.from(o)}if(h0.isBuffer(e)){let o=e.length;e.length===0&&o++;let s=h0.alloc(o);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let o=e;o>=256;o>>=8)n++;let i=new Array(n);for(let o=i.length-1;o>=0;o--)i[o]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(h0.from(i))};ml.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};ml.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};ml.prototype._skipDefault=function(e,r,n){let i=this._baseState,o;if(i.default===null)return!1;let s=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),s.length!==i.defaultBuffer.length)return!1;for(o=0;o<s.length;o++)if(s[o]!==i.defaultBuffer[o])return!1;return!0};function $$e(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),RV.tagByName.hasOwnProperty(t))i=RV.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=RV.tagClassByName[r||"universal"]<<6,i)}});var z0e=K((bWt,j0e)=>{"use strict";d();h();var Y$e=Xt(),CV=BV();function OV(t){CV.call(this,t),this.enc="pem"}Y$e(OV,CV);j0e.exports=OV;OV.prototype.encode=function(e,r){let i=CV.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+r.label+"-----"];for(let s=0;s<i.length;s+=64)o.push(i.slice(s,s+64));return o.push("-----END "+r.label+"-----"),o.join(`
`)}});var NV=K(G0e=>{"use strict";d();h();var W0e=G0e;W0e.der=BV();W0e.pem=z0e()});var UV=K((EWt,X0e)=>{"use strict";d();h();var Z$e=Xt(),Q$e=kV(),$0e=xw().DecoderBuffer,Z0e=ek(),Y0e=tk();function Q0e(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new ou,this.tree._init(t.body)}X0e.exports=Q0e;Q0e.prototype.decode=function(e,r){return $0e.isDecoderBuffer(e)||(e=new $0e(e,r)),this.tree._decode(e,r)};function ou(t){Z0e.call(this,"der",t)}Z$e(ou,Z0e);ou.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),o=DV(e,'Failed to peek tag: "'+r+'"');return e.isError(o)?o:(e.restore(i),o.tag===r||o.tagStr===r||o.tagStr+"of"===r||n)};ou.prototype._decodeTag=function(e,r,n){let i=DV(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let o=J0e(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(o))return o;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||o!==null)return e.skip(o,'Failed to match body of: "'+r+'"');let s=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(o=e.offset-s.offset,e.restore(s),e.skip(o,'Failed to match body of: "'+r+'"'))};ou.prototype._skipUntilEnd=function(e,r){for(;;){let n=DV(e,r);if(e.isError(n))return n;let i=J0e(e,n.primitive,r);if(e.isError(i))return i;let o;if(n.primitive||i!==null?o=e.skip(i):o=this._skipUntilEnd(e,r),e.isError(o))return o;if(n.tagStr==="end")break}};ou.prototype._decodeList=function(e,r,n,i){let o=[];for(;!e.isEmpty();){let s=this._peekTag(e,"end");if(e.isError(s))return s;let c=n.decode(e,"der",i);if(e.isError(c)&&s)break;o.push(c)}return o};ou.prototype._decodeStr=function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(o*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};ou.prototype._decodeObjid=function(e,r,n){let i,o=[],s=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),s<<=7,s|=c&127,c&128||(o.push(s),s=0);c&128&&o.push(s);let l=o[0]/40|0,m=o[0]%40;if(n?i=o:i=[l,m].concat(o.slice(1)),r){let w=r[i.join(" ")];w===void 0&&(w=r[i.join(".")]),w!==void 0&&(i=w)}return i};ou.prototype._decodeTime=function(e,r){let n=e.raw().toString(),i,o,s,c,l,m;if(r==="gentime")i=n.slice(0,4)|0,o=n.slice(4,6)|0,s=n.slice(6,8)|0,c=n.slice(8,10)|0,l=n.slice(10,12)|0,m=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,o=n.slice(2,4)|0,s=n.slice(4,6)|0,c=n.slice(6,8)|0,l=n.slice(8,10)|0,m=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,o-1,s,c,l,m,0)};ou.prototype._decodeNull=function(){return null};ou.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};ou.prototype._decodeInt=function(e,r){let n=e.raw(),i=new Q$e(n);return r&&(i=r[i.toString(10)]||i),i};ou.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function DV(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=Y0e.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;let o=Y0e.tag[r];return{cls:n,primitive:i,tag:r,tagStr:o}}function J0e(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let o=0;o<i;o++){n<<=8;let s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}});var tpe=K((IWt,epe)=>{"use strict";d();h();var J$e=Xt(),X$e=QM().Buffer,LV=UV();function FV(t){LV.call(this,t),this.enc="pem"}J$e(FV,LV);epe.exports=FV;FV.prototype.decode=function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1;for(let w=0;w<n.length;w++){let b=n[w].match(o);if(b!==null&&b[2]===i)if(s===-1){if(b[1]!=="BEGIN")break;s=w}else{if(b[1]!=="END")break;c=w;break}}if(s===-1||c===-1)throw new Error("PEM section not found for: "+i);let l=n.slice(s+1,c).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let m=X$e.from(l,"base64");return LV.prototype.decode.call(this,m,r)}});var qV=K(npe=>{"use strict";d();h();var rpe=npe;rpe.der=UV();rpe.pem=tpe()});var ope=K(ipe=>{"use strict";d();h();var eYe=NV(),tYe=qV(),rYe=Xt(),nYe=ipe;nYe.define=function(e,r){return new ww(e,r)};function ww(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}ww.prototype._createNamed=function(e){let r=this.name;function n(i){this._initNamed(i,r)}return rYe(n,e),n.prototype._initNamed=function(o,s){e.call(this,o,s)},new n(this)};ww.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(tYe[e])),this.decoders[e]};ww.prototype.decode=function(e,r,n){return this._getDecoder(r).decode(e,n)};ww.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(eYe[e])),this.encoders[e]};ww.prototype.encode=function(e,r,n){return this._getEncoder(r).encode(e,n)}});var ape=K(spe=>{"use strict";d();h();var rk=spe;rk.Reporter=JM().Reporter;rk.DecoderBuffer=xw().DecoderBuffer;rk.EncoderBuffer=xw().EncoderBuffer;rk.Node=ek()});var fpe=K(upe=>{"use strict";d();h();var cpe=upe;cpe._reverse=function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let i=e[n];r[i]=n}),r};cpe.der=tk()});var KV=K(lpe=>{"use strict";d();h();var Sw=lpe;Sw.bignum=kV();Sw.define=ope().define;Sw.base=ape();Sw.constants=fpe();Sw.decoders=qV();Sw.encoders=NV()});var mpe=K((zWt,ppe)=>{"use strict";d();h();var yl=KV(),dpe=yl.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),iYe=yl.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),VV=yl.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),oYe=yl.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(VV),this.key("subjectPublicKey").bitstr())}),sYe=yl.define("RelativeDistinguishedName",function(){this.setof(iYe)}),aYe=yl.define("RDNSequence",function(){this.seqof(sYe)}),hpe=yl.define("Name",function(){this.choice({rdnSequence:this.use(aYe)})}),cYe=yl.define("Validity",function(){this.seq().obj(this.key("notBefore").use(dpe),this.key("notAfter").use(dpe))}),uYe=yl.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),fYe=yl.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(VV),this.key("issuer").use(hpe),this.key("validity").use(cYe),this.key("subject").use(hpe),this.key("subjectPublicKeyInfo").use(oYe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(uYe).optional())}),lYe=yl.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(fYe),this.key("signatureAlgorithm").use(VV),this.key("signatureValue").bitstr())});ppe.exports=lYe});var gpe=K(bl=>{"use strict";d();h();var gl=KV();bl.certificate=mpe();var dYe=gl.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});bl.RSAPrivateKey=dYe;var hYe=gl.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});bl.RSAPublicKey=hYe;var pYe=gl.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(ype),this.key("subjectPublicKey").bitstr())});bl.PublicKey=pYe;var ype=gl.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),mYe=gl.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(ype),this.key("subjectPrivateKey").octstr())});bl.PrivateKey=mYe;var yYe=gl.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});bl.EncryptedPrivateKey=yYe;var gYe=gl.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});bl.DSAPrivateKey=gYe;bl.DSAparam=gl.define("DSAparam",function(){this.int()});var bYe=gl.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(vYe),this.key("publicKey").optional().explicit(1).bitstr())});bl.ECPrivateKey=bYe;var vYe=gl.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});bl.signature=gl.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var bpe=K((QWt,xYe)=>{xYe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var xpe=K((JWt,vpe)=>{d();h();var wYe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,SYe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,AYe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,EYe=O3(),_Ye=yM(),nk=ar().Buffer;vpe.exports=function(t,e){var r=t.toString(),n=r.match(wYe),i;if(n){var s="aes"+n[1],c=nk.from(n[2],"hex"),l=nk.from(n[3].replace(/[\r\n]/g,""),"base64"),m=EYe(e,c.slice(0,8),parseInt(n[1],10)).key,w=[],b=_Ye.createDecipheriv(s,m,c);w.push(b.update(l)),w.push(b.final()),i=nk.concat(w)}else{var o=r.match(AYe);i=nk.from(o[2].replace(/[\r\n]/g,""),"base64")}var E=r.match(SYe)[1];return{tag:E,data:i}}});var $3=K((tGt,Spe)=>{d();h();var xc=gpe(),TYe=bpe(),IYe=xpe(),MYe=yM(),kYe=iM(),HV=ar().Buffer;Spe.exports=wpe;function wpe(t){var e;typeof t=="object"&&!HV.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=HV.from(t));var r=IYe(t,e),n=r.tag,i=r.data,o,s;switch(n){case"CERTIFICATE":s=xc.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=xc.PublicKey.decode(i,"der")),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return xc.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=xc.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":i=xc.EncryptedPrivateKey.decode(i,"der"),i=PYe(i,e);case"PRIVATE KEY":switch(s=xc.PrivateKey.decode(i,"der"),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return xc.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:xc.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=xc.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return xc.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return xc.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:xc.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=xc.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}wpe.signature=xc.signature;function PYe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=TYe[t.algorithm.decrypt.cipher.algo.join(".")],o=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,c=parseInt(i.split("-")[1],10)/8,l=kYe.pbkdf2Sync(e,r,n,c,"sha1"),m=MYe.createDecipheriv(i,l,o),w=[];return w.push(m.update(s)),w.push(m.final()),HV.concat(w)}});var jV=K((iGt,RYe)=>{RYe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var _pe=K((oGt,ok)=>{"use strict";d();h();var aa=ar().Buffer,Wb=Zq(),BYe=OM(),CYe=pw().ec,ik=mb(),OYe=$3(),NYe=jV(),DYe=1;function UYe(t,e,r,n,i){var o=OYe(e);if(o.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return LYe(t,o)}else if(o.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return FYe(t,o,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==DYe)throw new Error("illegal or unsupported padding mode");t=aa.concat([i,t]);for(var s=o.modulus.byteLength(),c=[0,1];t.length+c.length+1<s;)c.push(255);c.push(0);for(var l=-1;++l<t.length;)c.push(t[l]);var m=BYe(c,o);return m}function LYe(t,e){var r=NYe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new CYe(r),i=n.keyFromPrivate(e.privateKey),o=i.sign(t);return aa.from(o.toDER())}function FYe(t,e,r){for(var n=e.params.priv_key,i=e.params.p,o=e.params.q,s=e.params.g,c=new ik(0),l,m=zV(t,o).mod(o),w=!1,b=Ape(n,o,t,r);w===!1;)l=Epe(o,b,r),c=VYe(s,l,i,o),w=l.invm(o).imul(m.add(n.mul(c))).mod(o),w.cmpn(0)===0&&(w=!1,c=new ik(0));return qYe(c,w)}function qYe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),aa.from(n)}function Ape(t,e,r,n){if(t=aa.from(t.toArray()),t.length<e.byteLength()){var i=aa.alloc(e.byteLength()-t.length);t=aa.concat([i,t])}var o=r.length,s=KYe(r,e),c=aa.alloc(o);c.fill(1);var l=aa.alloc(o);return l=Wb(n,l).update(c).update(aa.from([0])).update(t).update(s).digest(),c=Wb(n,l).update(c).digest(),l=Wb(n,l).update(c).update(aa.from([1])).update(t).update(s).digest(),c=Wb(n,l).update(c).digest(),{k:l,v:c}}function zV(t,e){var r=new ik(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function KYe(t,e){t=zV(t,e),t=t.mod(e);var r=aa.from(t.toArray());if(r.length<e.byteLength()){var n=aa.alloc(e.byteLength()-r.length);r=aa.concat([n,r])}return r}function Epe(t,e,r){var n,i;do{for(n=aa.alloc(0);n.length*8<t.bitLength();)e.v=Wb(r,e.k).update(e.v).digest(),n=aa.concat([n,e.v]);i=zV(n,t),e.k=Wb(r,e.k).update(e.v).update(aa.from([0])).digest(),e.v=Wb(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}function VYe(t,e,r,n){return t.toRed(ik.mont(r)).redPow(e).fromRed().mod(n)}ok.exports=UYe;ok.exports.getKey=Ape;ok.exports.makeKey=Epe});var kpe=K((cGt,Mpe)=>{"use strict";d();h();var WV=ar().Buffer,Y3=mb(),HYe=pw().ec,Ipe=$3(),jYe=jV();function zYe(t,e,r,n,i){var o=Ipe(r);if(o.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return WYe(t,e,o)}else if(o.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return GYe(t,e,o)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=WV.concat([i,e]);for(var s=o.modulus.byteLength(),c=[1],l=0;e.length+c.length+2<s;)c.push(255),l+=1;c.push(0);for(var m=-1;++m<e.length;)c.push(e[m]);c=WV.from(c);var w=Y3.mont(o.modulus);t=new Y3(t).toRed(w),t=t.redPow(new Y3(o.publicExponent)),t=WV.from(t.fromRed().toArray());var b=l<8?1:0;for(s=Math.min(t.length,c.length),t.length!==c.length&&(b=1),m=-1;++m<s;)b|=t[m]^c[m];return b===0}function WYe(t,e,r){var n=jYe[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new HYe(n),o=r.data.subjectPrivateKey.data;return i.verify(e,t,o)}function GYe(t,e,r){var n=r.data.p,i=r.data.q,o=r.data.g,s=r.data.pub_key,c=Ipe.signature.decode(t,"der"),l=c.s,m=c.r;Tpe(l,i),Tpe(m,i);var w=Y3.mont(n),b=l.invm(i),E=o.toRed(w).redPow(new Y3(e).mul(b).mod(i)).fromRed().mul(s.toRed(w).redPow(m.mul(b).mod(i)).fromRed()).mod(n).mod(i);return E.cmp(m)===0}function Tpe(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}Mpe.exports=zYe});var Npe=K((lGt,Ope)=>{"use strict";d();h();var sk=ar().Buffer,Bpe=rm(),ak=ahe(),Cpe=Xt(),$Ye=_pe(),YYe=kpe(),Gb=Qq();Object.keys(Gb).forEach(function(t){Gb[t].id=sk.from(Gb[t].id,"hex"),Gb[t.toLowerCase()]=Gb[t]});function Z3(t){ak.Writable.call(this);var e=Gb[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=Bpe(e.hash),this._tag=e.id,this._signType=e.sign}Cpe(Z3,ak.Writable);Z3.prototype._write=function(e,r,n){this._hash.update(e),n()};Z3.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?sk.from(e,r):e),this};Z3.prototype.sign=function(e,r){this.end();var n=this._hash.digest(),i=$Ye(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i};function Q3(t){ak.Writable.call(this);var e=Gb[t];if(!e)throw new Error("Unknown message digest");this._hash=Bpe(e.hash),this._tag=e.id,this._signType=e.sign}Cpe(Q3,ak.Writable);Q3.prototype._write=function(e,r,n){this._hash.update(e),n()};Q3.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?sk.from(e,r):e),this};Q3.prototype.verify=function(e,r,n){var i=typeof r=="string"?sk.from(r,n):r;this.end();var o=this._hash.digest();return YYe(i,o,e,this._signType,this._tag)};function Ppe(t){return new Z3(t)}function Rpe(t){return new Q3(t)}Ope.exports={Sign:Ppe,Verify:Rpe,createSign:Ppe,createVerify:Rpe}});var Upe=K((Dpe,GV)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Lp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var q=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)q*=f;this.imuln(q),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var q=this.clone();for(q.negative=0;!q.isZero();){var L=q.modn(x).toString(a);q=q.idivn(x),q.isZero()?p=L+p:p=m[u-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,q=v&67108863,L=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=L;C++){var W=u-C|0;y=S.words[W]|0,g=a.words[C]|0,A=y*g+q,x+=A/67108864|0,q=A&67108863}f.words[u]=q|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,q=y[0]|0,L=q&8191,C=q>>>13,W=y[1]|0,ee=W&8191,ne=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Wr=y[6]|0,Ie=Wr&8191,we=Wr>>>13,yn=y[7]|0,ve=yn&8191,Re=yn>>>13,_n=y[8]|0,Be=_n&8191,Ce=_n>>>13,Bn=y[9]|0,De=Bn&8191,Me=Bn>>>13,Tn=g[0]|0,_e=Tn&8191,Se=Tn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,an=g[2]|0,Ee=an&8191,ke=an>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Br=g[4]|0,be=Br&8191,xe=Br>>>13,In=g[5]|0,Pe=In&8191,Oe=In>>>13,Un=g[6]|0,me=Un&8191,Ne=Un>>>13,Z=g[7]|0,z=Z&8191,j=Z>>>13,N=g[8]|0,Q=N&8191,X=N>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(L,_e),u=Math.imul(L,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(L,Ae)|0,u=u+Math.imul(L,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(G,_e)|0,x=Math.imul(G,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(L,Ee)|0,u=u+Math.imul(L,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(G,Ae)|0,x=x+Math.imul(G,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(L,Ue)|0,u=u+Math.imul(L,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(G,Ee)|0,x=x+Math.imul(G,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(L,be)|0,u=u+Math.imul(L,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(G,Ue)|0,x=x+Math.imul(G,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(L,Pe)|0,u=u+Math.imul(L,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(G,be)|0,x=x+Math.imul(G,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(L,me)|0,u=u+Math.imul(L,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Re,_e)|0,x=Math.imul(Re,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(G,Pe)|0,x=x+Math.imul(G,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(L,z)|0,u=u+Math.imul(L,j)|0,u=u+Math.imul(C,z)|0,x=x+Math.imul(C,j)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Be,_e),u=Math.imul(Be,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Re,Ae)|0,x=x+Math.imul(Re,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(G,me)|0,x=x+Math.imul(G,Ne)|0,v=v+Math.imul(ee,z)|0,u=u+Math.imul(ee,j)|0,u=u+Math.imul(ne,z)|0,x=x+Math.imul(ne,j)|0,v=v+Math.imul(L,Q)|0,u=u+Math.imul(L,X)|0,u=u+Math.imul(C,Q)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Be,Ae)|0,u=u+Math.imul(Be,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Re,Ee)|0,x=x+Math.imul(Re,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,z)|0,u=u+Math.imul(ae,j)|0,u=u+Math.imul(G,z)|0,x=x+Math.imul(G,j)|0,v=v+Math.imul(ee,Q)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Q)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(L,oe)|0,u=u+Math.imul(L,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Be,Ee)|0,u=u+Math.imul(Be,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Re,Ue)|0,x=x+Math.imul(Re,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,z)|0,u=u+Math.imul(te,j)|0,u=u+Math.imul(ce,z)|0,x=x+Math.imul(ce,j)|0,v=v+Math.imul(ae,Q)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(G,Q)|0,x=x+Math.imul(G,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Be,Ue)|0,u=u+Math.imul(Be,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Re,be)|0,x=x+Math.imul(Re,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,z)|0,u=u+Math.imul(se,j)|0,u=u+Math.imul(le,z)|0,x=x+Math.imul(le,j)|0,v=v+Math.imul(te,Q)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Q)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(G,oe)|0,x=x+Math.imul(G,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Be,be)|0,u=u+Math.imul(Be,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Re,Pe)|0,x=x+Math.imul(Re,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,z)|0,u=u+Math.imul(ge,j)|0,u=u+Math.imul(ye,z)|0,x=x+Math.imul(ye,j)|0,v=v+Math.imul(se,Q)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Q)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Be,Pe)|0,u=u+Math.imul(Be,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Re,me)|0,x=x+Math.imul(Re,Ne)|0,v=v+Math.imul(Ie,z)|0,u=u+Math.imul(Ie,j)|0,u=u+Math.imul(we,z)|0,x=x+Math.imul(we,j)|0,v=v+Math.imul(ge,Q)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Q)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Be,me)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,z)|0,u=u+Math.imul(ve,j)|0,u=u+Math.imul(Re,z)|0,x=x+Math.imul(Re,j)|0,v=v+Math.imul(Ie,Q)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Q)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Be,z)|0,u=u+Math.imul(Be,j)|0,u=u+Math.imul(Ce,z)|0,x=x+Math.imul(Ce,j)|0,v=v+Math.imul(ve,Q)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Re,Q)|0,x=x+Math.imul(Re,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,z),u=Math.imul(De,j),u=u+Math.imul(Me,z)|0,x=Math.imul(Me,j),v=v+Math.imul(Be,Q)|0,u=u+Math.imul(Be,X)|0,u=u+Math.imul(Ce,Q)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Re,oe)|0,x=x+Math.imul(Re,ue)|0;var Ze=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,v=Math.imul(De,Q),u=Math.imul(De,X),u=u+Math.imul(Me,Q)|0,x=Math.imul(Me,X),v=v+Math.imul(Be,oe)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var qe=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(qe>>>26)|0,qe&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=qe,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,q=S.words[x]|0,L=a.words[u]|0,C=q*L,W=C&67108863;A=A+(C/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function B(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=B(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),q=0;q<g;q+=v)for(var L=u,C=x,W=0;W<_;W++){var ee=p[q+W],ne=y[q+W],Ve=p[q+W+_],ae=y[q+W+_],G=L*Ve-C*ae;ae=L*ae+C*Ve,Ve=G,p[q+W]=ee+Ve,y[q+W]=ne+ae,p[q+W+_]=ee-Ve,y[q+W+_]=ne-ae,W!==v&&(G=u*L-x*C,C=u*C+x*L,L=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),q=new Array(y),L=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,q,L,y,g);for(var W=0;W<y;W++){var ee=v[W]*q[W]-u[W]*L[W];u[W]=v[W]*L[W]+u[W]*q[W],v[W]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),B(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var q=this.words[u]|0;this.words[u]=x<<26-g|q>>>g,x=q&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var q=y.clone()._ishlnsubmul(g,1,v);q.negative===0&&(y=q,u&&(u.words[v]=1));for(var L=v-1;L>=0;L--){var C=(y.words[g.length+L]|0)*67108864+(y.words[g.length+L-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,L);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,L),y.isZero()||(y.negative^=1);u&&(u.words[L]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var q=0,L=1;!(f.words[0]&L)&&q<26;++q,L<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,W=1;!(p.words[0]&W)&&C<26;++C,W<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var q;return f.cmpn(1)===0?q=y:q=g,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function H(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new V;else if(a==="p192")f=new H;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),q=this.pow(a,y.addn(1).iushrn(1)),L=this.pow(a,y),C=g;L.cmp(A)!==0;){for(var W=L,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));q=q.redMul(ne),x=ne.redSqr(),L=L.redMul(x),C=ee}return q},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],q=u-1;q>=0;q--){var L=x>>q&1;if(A!==y[0]&&(A=this.sqr(A)),L===0&&_===0){v=0;continue}_<<=1,_|=L,v++,!(v!==p&&(g!==0||q!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,J),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof GV>"u"||GV,Dpe)});var Fpe=K((yGt,Lpe)=>{d();h();var ZYe=pw(),QYe=Upe();Lpe.exports=function(e){return new $b(e)};var su={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};su.p224=su.secp224r1;su.p256=su.secp256r1=su.prime256v1;su.p192=su.secp192r1=su.prime192v1;su.p384=su.secp384r1;su.p521=su.secp521r1;function $b(t){this.curveType=su[t],this.curveType||(this.curveType={name:t}),this.curve=new ZYe.ec(this.curveType.name),this.keys=void 0}$b.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};$b.prototype.computeSecret=function(t,e,r){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return $V(i,r,this.curveType.byteLength)};$b.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),$V(r,t)};$b.prototype.getPrivateKey=function(t){return $V(this.keys.getPrivate(),t)};$b.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this};$b.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new QYe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function $V(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}});var ZV=K((vGt,qpe)=>{d();h();var JYe=rm(),YV=ar().Buffer;qpe.exports=function(t,e){for(var r=YV.alloc(0),n=0,i;r.length<e;)i=XYe(n++),r=YV.concat([r,JYe("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function XYe(t){var e=YV.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var QV=K((SGt,Kpe)=>{d();h();Kpe.exports=function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e}});var ck=K((Vpe,JV)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Lp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var q=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)q*=f;this.imuln(q),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var q=this.clone();for(q.negative=0;!q.isZero();){var L=q.modn(x).toString(a);q=q.idivn(x),q.isZero()?p=L+p:p=m[u-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,q=v&67108863,L=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=L;C++){var W=u-C|0;y=S.words[W]|0,g=a.words[C]|0,A=y*g+q,x+=A/67108864|0,q=A&67108863}f.words[u]=q|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,q=y[0]|0,L=q&8191,C=q>>>13,W=y[1]|0,ee=W&8191,ne=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Wr=y[6]|0,Ie=Wr&8191,we=Wr>>>13,yn=y[7]|0,ve=yn&8191,Re=yn>>>13,_n=y[8]|0,Be=_n&8191,Ce=_n>>>13,Bn=y[9]|0,De=Bn&8191,Me=Bn>>>13,Tn=g[0]|0,_e=Tn&8191,Se=Tn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,an=g[2]|0,Ee=an&8191,ke=an>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Br=g[4]|0,be=Br&8191,xe=Br>>>13,In=g[5]|0,Pe=In&8191,Oe=In>>>13,Un=g[6]|0,me=Un&8191,Ne=Un>>>13,Z=g[7]|0,z=Z&8191,j=Z>>>13,N=g[8]|0,Q=N&8191,X=N>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(L,_e),u=Math.imul(L,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(L,Ae)|0,u=u+Math.imul(L,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(G,_e)|0,x=Math.imul(G,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(L,Ee)|0,u=u+Math.imul(L,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(G,Ae)|0,x=x+Math.imul(G,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(L,Ue)|0,u=u+Math.imul(L,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(G,Ee)|0,x=x+Math.imul(G,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(L,be)|0,u=u+Math.imul(L,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(G,Ue)|0,x=x+Math.imul(G,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(L,Pe)|0,u=u+Math.imul(L,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(G,be)|0,x=x+Math.imul(G,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(L,me)|0,u=u+Math.imul(L,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Re,_e)|0,x=Math.imul(Re,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(G,Pe)|0,x=x+Math.imul(G,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(L,z)|0,u=u+Math.imul(L,j)|0,u=u+Math.imul(C,z)|0,x=x+Math.imul(C,j)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Be,_e),u=Math.imul(Be,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Re,Ae)|0,x=x+Math.imul(Re,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(G,me)|0,x=x+Math.imul(G,Ne)|0,v=v+Math.imul(ee,z)|0,u=u+Math.imul(ee,j)|0,u=u+Math.imul(ne,z)|0,x=x+Math.imul(ne,j)|0,v=v+Math.imul(L,Q)|0,u=u+Math.imul(L,X)|0,u=u+Math.imul(C,Q)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Be,Ae)|0,u=u+Math.imul(Be,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Re,Ee)|0,x=x+Math.imul(Re,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,z)|0,u=u+Math.imul(ae,j)|0,u=u+Math.imul(G,z)|0,x=x+Math.imul(G,j)|0,v=v+Math.imul(ee,Q)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Q)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(L,oe)|0,u=u+Math.imul(L,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Be,Ee)|0,u=u+Math.imul(Be,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Re,Ue)|0,x=x+Math.imul(Re,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,z)|0,u=u+Math.imul(te,j)|0,u=u+Math.imul(ce,z)|0,x=x+Math.imul(ce,j)|0,v=v+Math.imul(ae,Q)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(G,Q)|0,x=x+Math.imul(G,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Be,Ue)|0,u=u+Math.imul(Be,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Re,be)|0,x=x+Math.imul(Re,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,z)|0,u=u+Math.imul(se,j)|0,u=u+Math.imul(le,z)|0,x=x+Math.imul(le,j)|0,v=v+Math.imul(te,Q)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Q)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(G,oe)|0,x=x+Math.imul(G,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Be,be)|0,u=u+Math.imul(Be,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Re,Pe)|0,x=x+Math.imul(Re,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,z)|0,u=u+Math.imul(ge,j)|0,u=u+Math.imul(ye,z)|0,x=x+Math.imul(ye,j)|0,v=v+Math.imul(se,Q)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Q)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Be,Pe)|0,u=u+Math.imul(Be,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Re,me)|0,x=x+Math.imul(Re,Ne)|0,v=v+Math.imul(Ie,z)|0,u=u+Math.imul(Ie,j)|0,u=u+Math.imul(we,z)|0,x=x+Math.imul(we,j)|0,v=v+Math.imul(ge,Q)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Q)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Be,me)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,z)|0,u=u+Math.imul(ve,j)|0,u=u+Math.imul(Re,z)|0,x=x+Math.imul(Re,j)|0,v=v+Math.imul(Ie,Q)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Q)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Be,z)|0,u=u+Math.imul(Be,j)|0,u=u+Math.imul(Ce,z)|0,x=x+Math.imul(Ce,j)|0,v=v+Math.imul(ve,Q)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Re,Q)|0,x=x+Math.imul(Re,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,z),u=Math.imul(De,j),u=u+Math.imul(Me,z)|0,x=Math.imul(Me,j),v=v+Math.imul(Be,Q)|0,u=u+Math.imul(Be,X)|0,u=u+Math.imul(Ce,Q)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Re,oe)|0,x=x+Math.imul(Re,ue)|0;var Ze=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,v=Math.imul(De,Q),u=Math.imul(De,X),u=u+Math.imul(Me,Q)|0,x=Math.imul(Me,X),v=v+Math.imul(Be,oe)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var qe=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(qe>>>26)|0,qe&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=qe,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,q=S.words[x]|0,L=a.words[u]|0,C=q*L,W=C&67108863;A=A+(C/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function B(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=B(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),q=0;q<g;q+=v)for(var L=u,C=x,W=0;W<_;W++){var ee=p[q+W],ne=y[q+W],Ve=p[q+W+_],ae=y[q+W+_],G=L*Ve-C*ae;ae=L*ae+C*Ve,Ve=G,p[q+W]=ee+Ve,y[q+W]=ne+ae,p[q+W+_]=ee-Ve,y[q+W+_]=ne-ae,W!==v&&(G=u*L-x*C,C=u*C+x*L,L=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),q=new Array(y),L=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,q,L,y,g);for(var W=0;W<y;W++){var ee=v[W]*q[W]-u[W]*L[W];u[W]=v[W]*L[W]+u[W]*q[W],v[W]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),B(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var q=this.words[u]|0;this.words[u]=x<<26-g|q>>>g,x=q&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var q=y.clone()._ishlnsubmul(g,1,v);q.negative===0&&(y=q,u&&(u.words[v]=1));for(var L=v-1;L>=0;L--){var C=(y.words[g.length+L]|0)*67108864+(y.words[g.length+L-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,L);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,L),y.isZero()||(y.negative^=1);u&&(u.words[L]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var q=0,L=1;!(f.words[0]&L)&&q<26;++q,L<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,W=1;!(p.words[0]&W)&&C<26;++C,W<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var q;return f.cmpn(1)===0?q=y:q=g,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function H(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new V;else if(a==="p192")f=new H;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),q=this.pow(a,y.addn(1).iushrn(1)),L=this.pow(a,y),C=g;L.cmp(A)!==0;){for(var W=L,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));q=q.redMul(ne),x=ne.redSqr(),L=L.redMul(x),C=ee}return q},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],q=u-1;q>=0;q--){var L=x>>q&1;if(A!==y[0]&&(A=this.sqr(A)),L===0&&_===0){v=0;continue}_<<=1,_|=L,v++,!(v!==p&&(g!==0||q!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,J),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof JV>"u"||JV,Vpe)});var XV=K((IGt,jpe)=>{d();h();var Hpe=ck(),eZe=ar().Buffer;function tZe(t,e){return eZe.from(t.toRed(Hpe.mont(e.modulus)).redPow(new Hpe(e.publicExponent)).fromRed().toArray())}jpe.exports=tZe});var $pe=K((PGt,Gpe)=>{d();h();var rZe=$3(),eH=Xh(),nZe=rm(),zpe=ZV(),Wpe=QV(),tH=ck(),iZe=XV(),oZe=OM(),vl=ar().Buffer;Gpe.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var o=rZe(e),s;if(i===4)s=sZe(o,r);else if(i===1)s=aZe(o,r,n);else if(i===3){if(s=new tH(r),s.cmp(o.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?oZe(s,o):iZe(s,o)};function sZe(t,e){var r=t.modulus.byteLength(),n=e.length,i=nZe("sha1").update(vl.alloc(0)).digest(),o=i.length,s=2*o;if(n>r-s-2)throw new Error("message too long");var c=vl.alloc(r-n-s-2),l=r-o-1,m=eH(o),w=Wpe(vl.concat([i,c,vl.alloc(1,1),e],l),zpe(m,l)),b=Wpe(m,zpe(w,o));return new tH(vl.concat([vl.alloc(1),b,w],r))}function aZe(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var o;return r?o=vl.alloc(i-n-3,255):o=cZe(i-n-3),new tH(vl.concat([vl.from([0,r?1:2]),o,vl.alloc(1),e],i))}function cZe(t){for(var e=vl.allocUnsafe(t),r=0,n=eH(t*2),i=0,o;r<t;)i===n.length&&(n=eH(t*2),i=0),o=n[i++],o&&(e[r++]=o);return e}});var Xpe=K((CGt,Jpe)=>{d();h();var uZe=$3(),Ype=ZV(),Zpe=QV(),Qpe=ck(),fZe=OM(),lZe=rm(),dZe=XV(),J3=ar().Buffer;Jpe.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var o=uZe(e),s=o.modulus.byteLength();if(r.length>s||new Qpe(r).cmp(o.modulus)>=0)throw new Error("decryption error");var c;n?c=dZe(new Qpe(r),o):c=fZe(r,o);var l=J3.alloc(s-c.length);if(c=J3.concat([l,c],s),i===4)return hZe(o,c);if(i===1)return pZe(o,c,n);if(i===3)return c;throw new Error("unknown padding")};function hZe(t,e){var r=t.modulus.byteLength(),n=lZe("sha1").update(J3.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var o=e.slice(1,i+1),s=e.slice(i+1),c=Zpe(o,Ype(s,i)),l=Zpe(s,Ype(c,r-i-1));if(mZe(n,l.slice(0,i)))throw new Error("decryption error");for(var m=i;l[m]===0;)m++;if(l[m++]!==1)throw new Error("decryption error");return l.slice(m)}function pZe(t,e,r){for(var n=e.slice(0,2),i=2,o=0;e[i++]!==0;)if(i>=e.length){o++;break}var s=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}function mZe(t,e){t=J3.from(t),e=J3.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}});var eme=K(Yb=>{d();h();Yb.publicEncrypt=$pe();Yb.privateDecrypt=Xpe();Yb.privateEncrypt=function(e,r){return Yb.publicEncrypt(e,r,!0)};Yb.publicDecrypt=function(e,r){return Yb.privateDecrypt(e,r,!0)}});var fme=K(X3=>{"use strict";d();h();function tme(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var nme=ar(),rme=Xh(),ime=nme.Buffer,ome=nme.kMaxLength,rH=self.crypto||self.msCrypto,sme=Math.pow(2,32)-1;function ame(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>sme||t<0)throw new TypeError("offset must be a uint32");if(t>ome||t>e)throw new RangeError("offset out of range")}function cme(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>sme||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>ome)throw new RangeError("buffer too small")}rH&&rH.getRandomValues?(X3.randomFill=yZe,X3.randomFillSync=gZe):(X3.randomFill=tme,X3.randomFillSync=tme);function yZe(t,e,r,n){if(!ime.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return ame(e,t.length),cme(r,e,t.length),ume(t,e,r,n)}function ume(t,e,r,n){var i=t.buffer,o=new Uint8Array(i,e,r);if(rH.getRandomValues(o),n){process.nextTick(function(){n(null,t)});return}return t;var s}function gZe(t,e,r){if(typeof e>"u"&&(e=0),!ime.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return ame(e,t.length),r===void 0&&(r=t.length-e),cme(r,e,t.length),ume(t,e,r)}});var sm=K(gr=>{"use strict";d();h();gr.randomBytes=gr.rng=gr.pseudoRandomBytes=gr.prng=Xh();gr.createHash=gr.Hash=rm();gr.createHmac=gr.Hmac=Zq();var bZe=Mfe(),vZe=Object.keys(bZe),xZe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(vZe);gr.getHashes=function(){return xZe};var lme=iM();gr.pbkdf2=lme.pbkdf2;gr.pbkdf2Sync=lme.pbkdf2Sync;var Nd=Zle();gr.Cipher=Nd.Cipher;gr.createCipher=Nd.createCipher;gr.Cipheriv=Nd.Cipheriv;gr.createCipheriv=Nd.createCipheriv;gr.Decipher=Nd.Decipher;gr.createDecipher=Nd.createDecipher;gr.Decipheriv=Nd.Decipheriv;gr.createDecipheriv=Nd.createDecipheriv;gr.getCiphers=Nd.getCiphers;gr.listCiphers=Nd.listCiphers;var e6=lde();gr.DiffieHellmanGroup=e6.DiffieHellmanGroup;gr.createDiffieHellmanGroup=e6.createDiffieHellmanGroup;gr.getDiffieHellman=e6.getDiffieHellman;gr.createDiffieHellman=e6.createDiffieHellman;gr.DiffieHellman=e6.DiffieHellman;var uk=Npe();gr.createSign=uk.createSign;gr.Sign=uk.Sign;gr.createVerify=uk.createVerify;gr.Verify=uk.Verify;gr.createECDH=Fpe();var fk=eme();gr.publicEncrypt=fk.publicEncrypt;gr.privateEncrypt=fk.privateEncrypt;gr.publicDecrypt=fk.publicDecrypt;gr.privateDecrypt=fk.privateDecrypt;var dme=fme();gr.randomFill=dme.randomFill;gr.randomFillSync=dme.randomFillSync;gr.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};gr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Tme=K(Gr=>{"use strict";d();h();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.utils=Gr.curve25519=Gr.getSharedSecret=Gr.sync=Gr.verify=Gr.sign=Gr.getPublicKey=Gr.Signature=Gr.Point=Gr.RistrettoPoint=Gr.ExtendedPoint=Gr.CURVE=void 0;var wZe=sm(),eo=BigInt(0),Cr=BigInt(1),bm=BigInt(2),SZe=BigInt(8),hme=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Kn=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:hme,n:hme,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});Gr.CURVE=Kn;var bme=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),t6=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),zGt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),AZe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),EZe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),_Ze=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),TZe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),xo=class t{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof _i))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(_i.ZERO)?t.ZERO:new t(e.x,e.y,Cr,We(e.x*e.y))}static toAffineBatch(e){let r=kZe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){mme(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=We(r*c),m=We(o*i),w=We(n*c),b=We(s*i);return l===m&&w===b}negate(){return new t(We(-this.x),this.y,this.z,We(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=Kn,o=We(e*e),s=We(r*r),c=We(bm*We(n*n)),l=We(i*o),m=e+r,w=We(We(m*m)-o-s),b=l+s,E=b-c,I=l-s,M=We(w*E),k=We(b*I),B=We(w*I),R=We(E*b);return new t(M,k,R,B)}add(e){mme(e);let{x:r,y:n,z:i,t:o}=this,{x:s,y:c,z:l,t:m}=e,w=We((n-r)*(c+s)),b=We((n+r)*(c-s)),E=We(b-w);if(E===eo)return this.double();let I=We(i*bm*m),M=We(o*bm*l),k=M+I,B=b+w,R=M-I,U=We(k*E),P=We(B*R),F=We(k*R),V=We(E*B);return new t(U,P,V,F)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=_i.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&sH.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),sH.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+256/n,l=2**(n-1),m=BigInt(2**n-1),w=2**n,b=BigInt(n);for(let E=0;E<c;E++){let I=E*l,M=Number(e&m);e>>=b,M>l&&(M-=w,e+=Cr);let k=I,B=I+Math.abs(M)-1,R=E%2!==0,U=M<0;M===0?s=s.add(pme(R,i[k])):o=o.add(pme(U,i[B]))}return t.normalizeZ([o,s])[0]}multiply(e,r){return this.wNAF(_w(e,Kn.l),r)}multiplyUnsafe(e){let r=_w(e,Kn.l,!1),n=t.BASE,i=t.ZERO;if(r===eo)return i;if(this.equals(i)||r===Cr)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>eo;)r&Cr&&(o=o.add(s)),s=s.double(),r>>=Cr;return o}isSmallOrder(){return this.multiplyUnsafe(Kn.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Kn.l/bm).double();return Kn.l%bm&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?SZe:hk(i));let s=We(r*e),c=We(n*e),l=We(i*e);if(o)return _i.ZERO;if(l!==Cr)throw new Error("invZ was invalid");return new _i(s,c)}fromRistrettoBytes(){iH()}toRistrettoBytes(){iH()}fromRistrettoHash(){iH()}};Gr.ExtendedPoint=xo;xo.BASE=new xo(Kn.Gx,Kn.Gy,Cr,We(Kn.Gx*Kn.Gy));xo.ZERO=new xo(eo,Cr,Cr,eo);function pme(t,e){let r=e.negate();return t?r:e}function mme(t){if(!(t instanceof xo))throw new TypeError("ExtendedPoint expected")}function nH(t){if(!(t instanceof vm))throw new TypeError("RistrettoPoint expected")}function iH(){throw new Error("Legacy method: switch to RistrettoPoint")}var vm=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=Kn,n=We(t6*e*e),i=We((n+Cr)*_Ze),o=BigInt(-1),s=We((o-r*n)*We(n+r)),{isValid:c,value:l}=cH(i,s),m=We(l*e);gm(m)||(m=We(-m)),c||(l=m),c||(o=n);let w=We(o*(n-Cr)*TZe-s),b=l*l,E=We((l+l)*s),I=We(w*AZe),M=We(Cr-b),k=We(Cr+b);return new xo(We(E*k),We(M*I),We(I*k),We(E*M))}static hashToCurve(e){e=wl(e,64);let r=oH(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=oH(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new t(n.add(o))}static fromHex(e){e=wl(e,32);let{a:r,d:n}=Kn,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=oH(e);if(!PZe(Aw(o),e)||gm(o))throw new Error(i);let s=We(o*o),c=We(Cr+r*s),l=We(Cr-r*s),m=We(c*c),w=We(l*l),b=We(r*n*m-w),{isValid:E,value:I}=gme(We(b*w)),M=We(I*l),k=We(I*M*b),B=We((o+o)*M);gm(B)&&(B=We(-B));let R=We(c*k),U=We(B*R);if(!E||gm(U)||R===eo)throw new Error(i);return new t(new xo(B,R,Cr,U))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=We(We(n+r)*We(n-r)),s=We(e*r),c=We(s*s),{value:l}=gme(We(o*c)),m=We(l*o),w=We(l*s),b=We(m*w*i),E;if(gm(i*b)){let M=We(r*t6),k=We(e*t6);e=M,r=k,E=We(m*EZe)}else E=w;gm(e*b)&&(r=We(-r));let I=We((n-r)*E);return gm(I)&&(I=We(-I)),Aw(I)}toHex(){return n6(this.toRawBytes())}toString(){return this.toHex()}equals(e){nH(e);let r=this.ep,n=e.ep,i=We(r.x*n.y)===We(r.y*n.x),o=We(r.y*n.y)===We(r.x*n.x);return i||o}add(e){return nH(e),new t(this.ep.add(e.ep))}subtract(e){return nH(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};Gr.RistrettoPoint=vm;vm.BASE=new vm(xo.BASE);vm.ZERO=new vm(xo.ZERO);var sH=new WeakMap,_i=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,sH.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=Kn;e=wl(e,32);let o=e.slice();o[31]=e[31]&-129;let s=Qb(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=bme)throw new Error("Expected 0 < hex < 2**256");let c=We(s*s),l=We(c-Cr),m=We(n*c+Cr),{isValid:w,value:b}=cH(l,m);if(!w)throw new Error("Point.fromHex: invalid y coordinate");let E=(b&Cr)===Cr;return(e[31]&128)!==0!==E&&(b=We(-b)),new t(b,s)}static async fromPrivateKey(e){return(await i6(e)).point}toRawBytes(){let e=Aw(this.y);return e[31]|=this.x&Cr?128:0,e}toHex(){return n6(this.toRawBytes())}toX25519(){let{y:e}=this,r=We((Cr+e)*hk(Cr-e));return Aw(r)}isTorsionFree(){return xo.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(We(-this.x),this.y)}add(e){return xo.fromAffine(this).add(xo.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return xo.fromAffine(this).multiply(e,this).toAffine()}};Gr.Point=_i;_i.BASE=new _i(Kn.Gx,Kn.Gy);_i.ZERO=new _i(eo,Cr);var Zb=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=wl(e,64),n=_i.fromHex(r.slice(0,32),!1),i=Qb(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof _i))throw new Error("Expected Point instance");return _w(r,Kn.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Aw(this.s),32),e}toHex(){return n6(this.toRawBytes())}};Gr.Signature=Zb;function yme(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var IZe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function n6(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=IZe[t[r]];return e}function aH(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function vme(t){let r=t.toString(16).padStart(64,"0");return aH(r)}function Aw(t){return vme(t).reverse()}function gm(t){return(We(t)&Cr)===Cr}function Qb(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+n6(Uint8Array.from(t).reverse()))}var MZe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function oH(t){return We(Qb(t)&MZe)}function We(t,e=Kn.P){let r=t%e;return r>=eo?r:e+r}function hk(t,e=Kn.P){if(t===eo||e<=eo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=We(t,e),n=e,i=eo,o=Cr,s=Cr,c=eo;for(;r!==eo;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==Cr)throw new Error("invert: does not exist");return We(i,e)}function kZe(t,e=Kn.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===eo?o:(r[c]=o,We(o*s,e)),Cr),i=hk(n,e);return t.reduceRight((o,s,c)=>s===eo?o:(r[c]=We(o*r[c],e),We(o*s,e)),i),r}function xl(t,e){let{P:r}=Kn,n=t;for(;e-- >eo;)n*=n,n%=r;return n}function xme(t){let{P:e}=Kn,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),l=t*t%e*t%e,m=xl(l,bm)*l%e,w=xl(m,Cr)*t%e,b=xl(w,r)*w%e,E=xl(b,n)*b%e,I=xl(E,i)*E%e,M=xl(I,o)*I%e,k=xl(M,s)*M%e,B=xl(k,s)*M%e,R=xl(B,n)*b%e;return{pow_p_5_8:xl(R,bm)*t%e,b2:l}}function cH(t,e){let r=We(e*e*e),n=We(r*r*e),i=xme(t*n).pow_p_5_8,o=We(t*r*i),s=We(e*o*o),c=o,l=We(o*t6),m=s===t,w=s===We(-t),b=s===We(-t*t6);return m&&(o=c),(w||b)&&(o=l),gm(o)&&(o=We(-o)),{isValid:m||w,value:o}}function gme(t){return cH(Cr,t)}function Ew(t){return We(Qb(t),Kn.l)}function PZe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function wl(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):aH(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function _w(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(eo<t)return t}else if(eo<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function wme(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function RZe(t){return Qb(wme(wl(t,32)))}function Sme(t){if(t=typeof t=="bigint"||typeof t=="number"?vme(_w(t,bme)):wl(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function Ame(t){let e=wme(t.slice(0,32)),r=t.slice(32,64),n=Ew(e),i=_i.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}var r6;function dk(...t){if(typeof r6!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return r6(...t)}async function i6(t){return Ame(await Gr.utils.sha512(Sme(t)))}function uH(t){return Ame(dk(Sme(t)))}async function BZe(t){return(await i6(t)).pointBytes}Gr.getPublicKey=BZe;function CZe(t){return uH(t).pointBytes}async function OZe(t,e){t=wl(t);let{prefix:r,scalar:n,pointBytes:i}=await i6(e),o=Ew(await Gr.utils.sha512(r,t)),s=_i.BASE.multiply(o),c=Ew(await Gr.utils.sha512(s.toRawBytes(),i,t)),l=We(o+c*n,Kn.l);return new Zb(s,l).toRawBytes()}Gr.sign=OZe;function NZe(t,e){t=wl(t);let{prefix:r,scalar:n,pointBytes:i}=uH(e),o=Ew(dk(r,t)),s=_i.BASE.multiply(o),c=Ew(dk(s.toRawBytes(),i,t)),l=We(o+c*n,Kn.l);return new Zb(s,l).toRawBytes()}function Eme(t,e,r){e=wl(e),r instanceof _i||(r=_i.fromHex(r,!1));let{r:n,s:i}=t instanceof Zb?t.assertValidity():Zb.fromHex(t),o=xo.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:e}}function _me(t,e,r,n){let i=Ew(n),o=xo.fromAffine(t).multiplyUnsafe(i);return xo.fromAffine(e).add(o).subtract(r).multiplyUnsafe(Kn.h).equals(xo.ZERO)}async function DZe(t,e,r){let{r:n,SB:i,msg:o,pub:s}=Eme(t,e,r),c=await Gr.utils.sha512(n.toRawBytes(),s.toRawBytes(),o);return _me(s,n,i,c)}Gr.verify=DZe;function UZe(t,e,r){let{r:n,SB:i,msg:o,pub:s}=Eme(t,e,r),c=dk(n.toRawBytes(),s.toRawBytes(),o);return _me(s,n,i,c)}Gr.sync={getExtendedPublicKey:uH,getPublicKey:CZe,sign:NZe,verify:UZe};async function LZe(t,e){let{head:r}=await i6(t),n=_i.fromHex(e).toX25519();return Gr.curve25519.scalarMult(r,n)}Gr.getSharedSecret=LZe;_i.BASE._setWindowSize(8);function lk(t,e,r){let n=We(t*(e-r));return e=We(e-n),r=We(r+n),[e,r]}function FZe(t,e){let{P:r}=Kn,n=_w(t,r),i=_w(e,r),o=BigInt(121665),s=n,c=Cr,l=eo,m=n,w=Cr,b=eo,E;for(let B=BigInt(254);B>=eo;B--){let R=i>>B&Cr;b^=R,E=lk(b,c,m),c=E[0],m=E[1],E=lk(b,l,w),l=E[0],w=E[1],b=R;let U=c+l,P=We(U*U),F=c-l,V=We(F*F),H=P-V,re=m+w,J=m-w,ie=We(J*U),S=We(re*F),a=ie+S,f=ie-S;m=We(a*a),w=We(s*We(f*f)),c=We(P*V),l=We(H*(P+We(o*H)))}E=lk(b,c,m),c=E[0],m=E[1],E=lk(b,l,w),l=E[0],w=E[1];let{pow_p_5_8:I,b2:M}=xme(l),k=We(xl(I,BigInt(3))*M);return We(c*k)}function qZe(t){return Aw(We(t,Kn.P))}function KZe(t){let e=wl(t,32);return e[31]&=127,Qb(e)}Gr.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(t,e){let r=KZe(e),n=RZe(t),i=FZe(r,n);if(i===eo)throw new Error("Invalid private or public key received");return qZe(i)},scalarMultBase(t){return Gr.curve25519.scalarMult(t,Gr.curve25519.BASE_POINT_U)}};var ym={node:wZe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};Gr.utils={bytesToHex:n6,hexToBytes:aH,concatBytes:yme,getExtendedPublicKey:i6,mod:We,invert:hk,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=wl(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return We(Qb(t),Kn.l-Cr)+Cr},randomBytes:(t=32)=>{if(ym.web)return ym.web.getRandomValues(new Uint8Array(t));if(ym.node){let{randomBytes:e}=ym.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Gr.utils.randomBytes(32),sha512:async(...t)=>{let e=yme(...t);if(ym.web){let r=await ym.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(ym.node)return Uint8Array.from(ym.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=_i.BASE){let r=e.equals(_i.BASE)?e:new _i(e.x,e.y);return r._setWindowSize(t),r.multiply(bm),r},sha512Sync:void 0};Object.defineProperties(Gr.utils,{sha512Sync:{configurable:!1,get(){return r6},set(t){r6||(r6=t)}}})});var Ime=K(Tw=>{"use strict";d();h();Object.defineProperty(Tw,"__esModule",{value:!0});Tw.sha224=Tw.sha256=void 0;var VZe=sq(),df=Fx(),HZe=(t,e,r)=>t&e^~t&r,jZe=(t,e,r)=>t&e^t&r^e&r,zZe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wm=new Uint32Array(64),pk=class extends VZe.SHA2{constructor(){super(64,32,8,!1),this.A=xm[0]|0,this.B=xm[1]|0,this.C=xm[2]|0,this.D=xm[3]|0,this.E=xm[4]|0,this.F=xm[5]|0,this.G=xm[6]|0,this.H=xm[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)wm[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=wm[b-15],I=wm[b-2],M=(0,df.rotr)(E,7)^(0,df.rotr)(E,18)^E>>>3,k=(0,df.rotr)(I,17)^(0,df.rotr)(I,19)^I>>>10;wm[b]=k+wm[b-7]+M+wm[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=(0,df.rotr)(c,6)^(0,df.rotr)(c,11)^(0,df.rotr)(c,25),I=w+E+HZe(c,l,m)+zZe[b]+wm[b]|0,k=((0,df.rotr)(n,2)^(0,df.rotr)(n,13)^(0,df.rotr)(n,22))+jZe(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){wm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},fH=class extends pk{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Tw.sha256=(0,df.wrapConstructor)(()=>new pk);Tw.sha224=(0,df.wrapConstructor)(()=>new fH)});var Mme=K(hH=>{"use strict";d();h();function p0(t,e,r){return e<=t&&t<=r}function vk(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function WZe(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var c=o&1023,l=s&1023;i.push(65536+(c<<10)+l),n+=1}else i.push(65533)}n+=1}return i}function GZe(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var mk=-1;function dH(t){this.tokens=[].slice.call(t)}dH.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():mk},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Iw=-1;function lH(t,e){if(t)throw TypeError("Decoder error");return e||65533}var yk="utf-8";function gk(t,e){if(!(this instanceof gk))return new gk(t,e);if(t=t!==void 0?String(t).toLowerCase():yk,t!==yk)throw new Error("Encoding not supported. Only utf-8 is supported");e=vk(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}gk.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=vk(r),this._streaming||(this._decoder=new $Ze({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new dH(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==Iw);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===Iw)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),GZe(o)}};function bk(t,e){if(!(this instanceof bk))return new bk(t,e);if(t=t!==void 0?String(t).toLowerCase():yk,t!==yk)throw new Error("Encoding not supported. Only utf-8 is supported");e=vk(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}bk.prototype={encode:function(e,r){e=e?String(e):"",r=vk(r),this._streaming||(this._encoder=new YZe(this._options)),this._streaming=!!r.stream;for(var n=[],i=new dH(WZe(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==Iw);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==Iw;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function $Ze(t){var e=t.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(c,l){if(l===mk&&i!==0)return i=0,lH(e);if(l===mk)return Iw;if(i===0){if(p0(l,0,127))return l;if(p0(l,194,223))i=1,r=l-192;else if(p0(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,r=l-224;else if(p0(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,r=l-240;else return lH(e);return r=r<<6*i,null}if(!p0(l,o,s))return r=i=n=0,o=128,s=191,c.prepend(l),lH(e);if(o=128,s=191,n+=1,r+=l-128<<6*(i-n),n!==i)return null;var m=r;return r=i=n=0,m}}function YZe(t){var e=t.fatal;this.handler=function(r,n){if(n===mk)return Iw;if(p0(n,0,127))return n;var i,o;p0(n,128,2047)?(i=1,o=192):p0(n,2048,65535)?(i=2,o=224):p0(n,65536,1114111)&&(i=3,o=240);for(var s=[(n>>6*i)+o];i>0;){var c=n>>6*(i-1);s.push(128|c&63),i-=1}return s}}hH.TextEncoder=bk;hH.TextDecoder=gk});var Cme=K(Gn=>{"use strict";d();h();var ZZe=Gn&&Gn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QZe=Gn&&Gn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dd=Gn&&Gn.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},JZe=Gn&&Gn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ZZe(e,t,r);return QZe(e,t),e},kme=Gn&&Gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.deserializeUnchecked=Gn.deserialize=Gn.serialize=Gn.BinaryReader=Gn.BinaryWriter=Gn.BorshError=Gn.baseDecode=Gn.baseEncode=void 0;var Sm=kme(mb()),Pme=kme(Fa()),XZe=JZe(Mme()),eQe=typeof TextDecoder!="function"?XZe.TextDecoder:TextDecoder,tQe=new eQe("utf-8",{fatal:!0});function rQe(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Pme.default.encode(Buffer.from(t))}Gn.baseEncode=rQe;function nQe(t){return Buffer.from(Pme.default.decode(t))}Gn.baseDecode=nQe;var pH=1024,Ms=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Gn.BorshError=Ms;var xk=class{constructor(){this.buf=Buffer.alloc(pH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(pH)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Sm.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Sm.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Sm.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Sm.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(pH)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};Gn.BinaryWriter=xk;function Ud(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Ms("Reached the end of buffer when deserializing")}throw o}}}var Ha=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Sm.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Sm.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Sm.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Sm.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Ms(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return tQe.decode(r)}catch(n){throw new Ms(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Dd([Ud],Ha.prototype,"readU8",null);Dd([Ud],Ha.prototype,"readU16",null);Dd([Ud],Ha.prototype,"readU32",null);Dd([Ud],Ha.prototype,"readU64",null);Dd([Ud],Ha.prototype,"readU128",null);Dd([Ud],Ha.prototype,"readU256",null);Dd([Ud],Ha.prototype,"readU512",null);Dd([Ud],Ha.prototype,"readString",null);Dd([Ud],Ha.prototype,"readFixedArray",null);Dd([Ud],Ha.prototype,"readArray",null);Gn.BinaryReader=Ha;function Rme(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Jb(t,e,r,n,i){try{if(typeof n=="string")i[`write${Rme(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Ms(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Ms(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)Jb(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{Jb(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Jb(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{Jb(t,e,s,n.key,i),Jb(t,e,o,n.value,i)});break}default:throw new Ms(`FieldType ${n} unrecognized`)}else Bme(t,r,i)}catch(o){throw o instanceof Ms&&o.addToFieldPath(e),o}}function Bme(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new Ms(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{Jb(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,c]=n.values[o];if(s===i){r.writeU8(o),Jb(t,s,e[s],c,r);break}}}else throw new Ms(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function iQe(t,e,r=xk){let n=new r;return Bme(t,e,n),n.toArray()}Gn.serialize=iQe;function Xb(t,e,r,n){try{if(typeof r=="string")return n[`read${Rme(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(Xb(t,null,r[0],n));return i}else return n.readArray(()=>Xb(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Xb(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let c=Xb(t,e,r.key,n),l=Xb(t,e,r.value,n);i.set(c,l)}return i}return mH(t,r,n)}catch(i){throw i instanceof Ms&&i.addToFieldPath(e),i}}function mH(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new Ms(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=Xb(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new Ms(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],c=Xb(t,o,s,r);return new e({[o]:c})}throw new Ms(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function oQe(t,e,r,n=Ha){let i=new n(r),o=mH(t,e,i);if(i.offset<r.length)throw new Ms(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}Gn.deserialize=oQe;function sQe(t,e,r,n=Ha){let i=new n(r);return mH(t,e,i)}Gn.deserializeUnchecked=sQe});var f6=K(He=>{"use strict";d();h();Object.defineProperty(He,"__esModule",{value:!0});He.s16=He.s8=He.nu64be=He.u48be=He.u40be=He.u32be=He.u24be=He.u16be=He.nu64=He.u48=He.u40=He.u32=He.u24=He.u16=He.u8=He.offset=He.greedy=He.Constant=He.UTF8=He.CString=He.Blob=He.Boolean=He.BitField=He.BitStructure=He.VariantLayout=He.Union=He.UnionLayoutDiscriminator=He.UnionDiscriminator=He.Structure=He.Sequence=He.DoubleBE=He.Double=He.FloatBE=He.Float=He.NearInt64BE=He.NearInt64=He.NearUInt64BE=He.NearUInt64=He.IntBE=He.Int=He.UIntBE=He.UInt=He.OffsetLayout=He.GreedyCount=He.ExternalLayout=He.bindConstructorLayout=He.nameWithProperty=He.Layout=He.uint8ArrayToBuffer=He.checkUint8Array=void 0;He.constant=He.utf8=He.cstr=He.blob=He.unionLayoutDiscriminator=He.union=He.seq=He.bits=He.struct=He.f64be=He.f64=He.f32be=He.f32=He.ns64be=He.s48be=He.s40be=He.s32be=He.s24be=He.s16be=He.ns64=He.s48=He.s40=He.s32=He.s24=void 0;var gH=Fn();function Pw(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}He.checkUint8Array=Pw;function gn(t){return Pw(t),gH.Buffer.from(t.buffer,t.byteOffset,t.length)}He.uint8ArrayToBuffer=gn;var Mn=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};He.Layout=Mn;function bH(t,e){return e.property?t+"["+e.property+"]":t}He.nameWithProperty=bH;function aQe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Mn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}He.bindConstructorLayout=aQe;var ca=class extends Mn{isCount(){throw new Error("ExternalLayout is abstract")}};He.ExternalLayout=ca;var wk=class extends ca{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){Pw(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};He.GreedyCount=wk;var o6=class extends ca{constructor(e,r=0,n){if(!(e instanceof Mn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof wc||this.layout instanceof au}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};He.OffsetLayout=o6;var wc=class extends Mn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return gn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return gn(r).writeUIntLE(e,n,this.span),this.span}};He.UInt=wc;var au=class extends Mn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return gn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return gn(r).writeUIntBE(e,n,this.span),this.span}};He.UIntBE=au;var m0=class extends Mn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return gn(e).readIntLE(r,this.span)}encode(e,r,n=0){return gn(r).writeIntLE(e,n,this.span),this.span}};He.Int=m0;var Am=class extends Mn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return gn(e).readIntBE(r,this.span)}encode(e,r,n=0){return gn(r).writeIntBE(e,n,this.span),this.span}};He.IntBE=Am;var yH=Math.pow(2,32);function Lk(t){let e=Math.floor(t/yH),r=t-e*yH;return{hi32:e,lo32:r}}function Fk(t,e){return t*yH+e}var Sk=class extends Mn{constructor(e){super(8,e)}decode(e,r=0){let n=gn(e),i=n.readUInt32LE(r),o=n.readUInt32LE(r+4);return Fk(o,i)}encode(e,r,n=0){let i=Lk(e),o=gn(r);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};He.NearUInt64=Sk;var Ak=class extends Mn{constructor(e){super(8,e)}decode(e,r=0){let n=gn(e),i=n.readUInt32BE(r),o=n.readUInt32BE(r+4);return Fk(i,o)}encode(e,r,n=0){let i=Lk(e),o=gn(r);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};He.NearUInt64BE=Ak;var Ek=class extends Mn{constructor(e){super(8,e)}decode(e,r=0){let n=gn(e),i=n.readUInt32LE(r),o=n.readInt32LE(r+4);return Fk(o,i)}encode(e,r,n=0){let i=Lk(e),o=gn(r);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};He.NearInt64=Ek;var _k=class extends Mn{constructor(e){super(8,e)}decode(e,r=0){let n=gn(e),i=n.readInt32BE(r),o=n.readUInt32BE(r+4);return Fk(i,o)}encode(e,r,n=0){let i=Lk(e),o=gn(r);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};He.NearInt64BE=_k;var Tk=class extends Mn{constructor(e){super(4,e)}decode(e,r=0){return gn(e).readFloatLE(r)}encode(e,r,n=0){return gn(r).writeFloatLE(e,n),4}};He.Float=Tk;var Ik=class extends Mn{constructor(e){super(4,e)}decode(e,r=0){return gn(e).readFloatBE(r)}encode(e,r,n=0){return gn(r).writeFloatBE(e,n),4}};He.FloatBE=Ik;var Mk=class extends Mn{constructor(e){super(8,e)}decode(e,r=0){return gn(e).readDoubleLE(r)}encode(e,r,n=0){return gn(r).writeDoubleLE(e,n),8}};He.Double=Mk;var kk=class extends Mn{constructor(e){super(8,e)}decode(e,r=0){return gn(e).readDoubleBE(r)}encode(e,r,n=0){return gn(r).writeDoubleBE(e,n),8}};He.DoubleBE=kk;var Pk=class extends Mn{constructor(e,r,n){if(!(e instanceof Mn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ca&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof ca)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof ca&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r=0){let n=[],i=0,o=this.count;for(o instanceof ca&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,o=e.reduce((s,c)=>s+i.encode(c,r,n+s),0);return this.count instanceof ca&&this.count.encode(e.length,r,n),o}};He.Sequence=Pk;var Rk=class extends Mn{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Mn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){Pw(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,o=0,s=0;for(let c of this.fields){let l=c.span;if(s=0<l?l:0,c.property!==void 0){let m=e[c.property];m!==void 0&&(s=c.encode(m,r,n),0>l&&(l=c.getSpan(r,n)))}o=n,n+=l}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};He.Structure=Rk;var s6=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};He.UnionDiscriminator=s6;var kw=class extends s6{constructor(e,r){if(!(e instanceof ca&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};He.UnionLayoutDiscriminator=kw;var a6=class extends Mn{constructor(e,r,n){let i;if(e instanceof wc||e instanceof au)i=new kw(new o6(e));else if(e instanceof ca&&e.isCount())i=new kw(e);else if(e instanceof s6)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Mn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&(e instanceof wc||e instanceof au)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof wc||e instanceof au,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return s(c)},this.configGetSourceVariant=function(c){s=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let c=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[c.property]=c.decode(e,r+l)}else n=s.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=o.layout.span),o.encode(e[o.property],r,n),c+s.encode(e[s.property],r,n+c)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new Bk(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};He.Union=a6;var Bk=class extends Mn{constructor(e,r,n,i){if(!(e instanceof a6))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Mn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};He.VariantLayout=Bk;function Mw(t){return 0>t&&(t+=4294967296),t}var c6=class extends Mn{constructor(e,r,n){if(!(e instanceof wc||e instanceof au))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Mw(o),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new u6(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new Ck(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};He.BitStructure=c6;var u6=class{constructor(e,r,n){if(!(e instanceof c6))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,c)=>s+c.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=Mw(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return Mw(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Mw(e&this.valueMask))throw new TypeError(bH("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=Mw(e<<this.start);this.container._packedSetValue(Mw(r&~this.wordMask)|n)}};He.BitField=u6;var Ck=class extends u6{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};He.Boolean=Ck;var Ok=class extends Mn{constructor(e,r){if(!(e instanceof ca&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ca||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),gn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof ca&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(bH("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let o=gn(e);return gn(r).write(o.toString("hex"),n,i,"hex"),this.length instanceof ca&&this.length.encode(i,r,n),i}};He.Blob=Ok;var Nk=class extends Mn{constructor(e){super(-1,e)}getSpan(e,r=0){Pw(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return gn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=gH.Buffer.from(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");let s=gn(r);return i.copy(s,n),s[n+o]=0,o+1}};He.CString=Nk;var Dk=class extends Mn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return Pw(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return gn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=gH.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(gn(r),n),o}};He.UTF8=Dk;var Uk=class extends Mn{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};He.Constant=Uk;He.greedy=(t,e)=>new wk(t,e);He.offset=(t,e,r)=>new o6(t,e,r);He.u8=t=>new wc(1,t);He.u16=t=>new wc(2,t);He.u24=t=>new wc(3,t);He.u32=t=>new wc(4,t);He.u40=t=>new wc(5,t);He.u48=t=>new wc(6,t);He.nu64=t=>new Sk(t);He.u16be=t=>new au(2,t);He.u24be=t=>new au(3,t);He.u32be=t=>new au(4,t);He.u40be=t=>new au(5,t);He.u48be=t=>new au(6,t);He.nu64be=t=>new Ak(t);He.s8=t=>new m0(1,t);He.s16=t=>new m0(2,t);He.s24=t=>new m0(3,t);He.s32=t=>new m0(4,t);He.s40=t=>new m0(5,t);He.s48=t=>new m0(6,t);He.ns64=t=>new Ek(t);He.s16be=t=>new Am(2,t);He.s24be=t=>new Am(3,t);He.s32be=t=>new Am(4,t);He.s40be=t=>new Am(5,t);He.s48be=t=>new Am(6,t);He.ns64be=t=>new _k(t);He.f32=t=>new Tk(t);He.f32be=t=>new Ik(t);He.f64=t=>new Mk(t);He.f64be=t=>new kk(t);He.struct=(t,e,r)=>new Rk(t,e,r);He.bits=(t,e,r)=>new c6(t,e,r);He.seq=(t,e,r)=>new Pk(t,e,r);He.union=(t,e,r)=>new a6(t,e,r);He.unionLayoutDiscriminator=(t,e)=>new kw(t,e);He.blob=(t,e)=>new Ok(t,e);He.cstr=t=>new Nk(t);He.utf8=(t,e)=>new Dk(t,e);He.constant=(t,e)=>new Uk(t,e)});var vH=K(Rw=>{"use strict";d();h();Object.defineProperty(Rw,"__esModule",{value:!0});var qk;function cQe(t){{let e=Buffer.from(t);e.reverse();let r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}return qk.toBigInt(t,!1)}Rw.toBigIntLE=cQe;function uQe(t){{let e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return qk.toBigInt(t,!0)}Rw.toBigIntBE=uQe;function fQe(t,e){{let r=t.toString(16),n=Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return qk.fromBigInt(t,Buffer.allocUnsafe(e),!1)}Rw.toBufferLE=fQe;function lQe(t,e){{let r=t.toString(16);return Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}return qk.fromBigInt(t,Buffer.allocUnsafe(e),!0)}Rw.toBufferBE=lQe});var Kme=K(zt=>{"use strict";d();h();Object.defineProperty(zt,"__esModule",{value:!0});var Kk=class extends TypeError{constructor(e,r){let n,{message:i,...o}=e,{path:s}=e,c=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var l;return(l=n)!=null?l:n=[e,...r()]}}};function dQe(t){return Sl(t)&&typeof t[Symbol.iterator]=="function"}function Sl(t){return typeof t=="object"&&t!=null}function Ome(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Bo(t){return typeof t=="string"?JSON.stringify(t):""+t}function hQe(t){let{done:e,value:r}=t.next();return e?void 0:r}function pQe(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:s}=r,{refinement:c,message:l="Expected a value of type `"+s+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+Bo(n)+"`"}=t;return{value:n,type:s,refinement:c,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*xH(t,e,r,n){dQe(t)||(t=[t]);for(let i of t){let o=pQe(i,e,r,n);o&&(yield o)}}function*wH(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,c={path:n,branch:i};if(o&&(t=e.coercer(t,c),s&&e.type!=="type"&&Sl(e.schema)&&Sl(t)&&!Array.isArray(t)))for(let m in t)e.schema[m]===void 0&&delete t[m];let l=!0;for(let m of e.validator(t,c))l=!1,yield[m,void 0];for(let[m,w,b]of e.entries(t,c)){let E=wH(w,b,{path:m===void 0?n:[...n,m],branch:m===void 0?i:[...i,w],coerce:o,mask:s});for(let I of E)I[0]?(l=!1,yield[I[0],void 0]):o&&(w=I[1],m===void 0?t=w:t instanceof Map?t.set(m,w):t instanceof Set?t.add(w):Sl(t)&&(t[m]=w))}if(l)for(let m of e.refiner(t,c))l=!1,yield[m,void 0];l&&(yield[void 0,t])}var Ui=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:s=l=>l,entries:c=function*(){}}=e;this.type=r,this.schema=n,this.entries=c,this.coercer=s,i?this.validator=(l,m)=>{let w=i(l,m);return xH(w,m,this,l)}:this.validator=()=>[],o?this.refiner=(l,m)=>{let w=o(l,m);return xH(w,m,this,l)}:this.refiner=()=>[]}assert(e){return Nme(e,this)}create(e){return Dme(e,this)}is(e){return SH(e,this)}mask(e){return Ume(e,this)}validate(e,r={}){return Bw(e,this,r)}};function Nme(t,e){let r=Bw(t,e);if(r[0])throw r[0]}function Dme(t,e){let r=Bw(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function Ume(t,e){let r=Bw(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function SH(t,e){return!Bw(t,e)[0]}function Bw(t,e,r={}){let n=wH(t,e,r),i=hQe(n);return i[0]?[new Kk(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function mQe(...t){let e=t.map(n=>n.schema),r=Object.assign({},...e);return l6(r)}function cu(t,e){return new Ui({type:t,schema:null,validator:e})}function yQe(t,e){return new Ui({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function gQe(t){return new Ui({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)}})}function bQe(t){let e;return new Ui({type:"lazy",schema:null,*entries(r,n){var i;(i=e)!=null||(e=t()),yield*e.entries(r,n)},validator(r,n){var i;return(i=e)!=null||(e=t()),e.validator(r,n)},coercer(r,n){var i;return(i=e)!=null||(e=t()),e.coercer(r,n)}})}function vQe(t,e){let{schema:r}=t,n={...r};for(let i of e)delete n[i];return l6(n)}function xQe(t){let e=t instanceof Ui?{...t.schema}:{...t};for(let r in e)e[r]=Lme(e[r]);return l6(e)}function wQe(t,e){let{schema:r}=t,n={};for(let i of e)n[i]=r[i];return l6(n)}function SQe(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),cu(t,e)}function AQe(){return cu("any",()=>!0)}function EQe(t){return new Ui({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Bo(e)}})}function _Qe(){return cu("boolean",t=>typeof t=="boolean")}function TQe(){return cu("date",t=>t instanceof Date&&!isNaN(t.getTime())||"Expected a valid `Date` object, but received: "+Bo(t))}function IQe(t){let e={},r=t.map(n=>Bo(n)).join();for(let n of t)e[n]=n;return new Ui({type:"enums",schema:e,validator(n){return t.includes(n)||"Expected one of `"+r+"`, but received: "+Bo(n)}})}function MQe(){return cu("func",t=>typeof t=="function"||"Expected a function, but received: "+Bo(t))}function kQe(t){return cu("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Bo(e))}function PQe(){return cu("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||"Expected an integer, but received: "+Bo(t))}function RQe(t){return new Ui({type:"intersection",schema:null,*entries(e,r){for(let n of t)yield*n.entries(e,r)},*validator(e,r){for(let n of t)yield*n.validator(e,r)},*refiner(e,r){for(let n of t)yield*n.refiner(e,r)}})}function BQe(t){let e=Bo(t),r=typeof t;return new Ui({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+Bo(n)}})}function CQe(t,e){return new Ui({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(let[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||"Expected a `Map` object, but received: "+Bo(r)}})}function AH(){return cu("never",()=>!1)}function OQe(t){return new Ui({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function NQe(){return cu("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Bo(t))}function l6(t){let e=t?Object.keys(t):[],r=AH();return new Ui({type:"object",schema:t||null,*entries(n){if(t&&Sl(n)){let i=new Set(Object.keys(n));for(let o of e)i.delete(o),yield[o,n[o],t[o]];for(let o of i)yield[o,n[o],r]}},validator(n){return Sl(n)||"Expected an object, but received: "+Bo(n)},coercer(n){return Sl(n)?{...n}:n}})}function Lme(t){return new Ui({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function DQe(t,e){return new Ui({type:"record",schema:null,*entries(r){if(Sl(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Sl(r)||"Expected an object, but received: "+Bo(r)}})}function UQe(){return cu("regexp",t=>t instanceof RegExp)}function LQe(t){return new Ui({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(let r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||"Expected a `Set` object, but received: "+Bo(e)}})}function Fme(){return cu("string",t=>typeof t=="string"||"Expected a string, but received: "+Bo(t))}function FQe(t){let e=AH();return new Ui({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+Bo(r)}})}function qQe(t){let e=Object.keys(t);return new Ui({type:"type",schema:t,*entries(r){if(Sl(r))for(let n of e)yield[n,r[n],t[n]]},validator(r){return Sl(r)||"Expected an object, but received: "+Bo(r)}})}function KQe(t){let e=t.map(r=>r.type).join(" | ");return new Ui({type:"union",schema:null,validator(r,n){let i=[];for(let o of t){let[...s]=wH(r,o,n),[c]=s;if(c[0])for(let[l]of s)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Bo(r),...i]}})}function qme(){return cu("unknown",()=>!0)}function EH(t,e,r){return new Ui({...t,coercer:(n,i)=>SH(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function VQe(t,e,r={}){return EH(t,qme(),n=>{let i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&Ome(n)&&Ome(i)){let o={...n},s=!1;for(let c in i)o[c]===void 0&&(o[c]=i[c],s=!0);if(s)return o}return n})}function HQe(t){return EH(t,Fme(),e=>e.trim())}function jQe(t){let e="Expected an empty "+t.type;return Cw(t,"empty",r=>{if(r instanceof Map||r instanceof Set){let{size:n}=r;return n===0||e+" but received one with a size of `"+n+"`"}else{let{length:n}=r;return n===0||e+" but received one with a length of `"+n+"`"}})}function zQe(t,e,r={}){let{exclusive:n}=r;return Cw(t,"max",i=>n?i<e:i<=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+i+"`")}function WQe(t,e,r={}){let{exclusive:n}=r;return Cw(t,"min",i=>n?i>e:i>=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+i+"`")}function GQe(t,e){return Cw(t,"pattern",r=>e.test(r)||"Expected a "+t.type+" matching `/"+e.source+'/` but received "'+r+'"')}function $Qe(t,e,r=e){let n="Expected a "+t.type,i=e===r?"of `"+e+"`":"between `"+e+"` and `"+r+"`";return Cw(t,"size",o=>{if(typeof o=="number"||o instanceof Date)return e<=o&&o<=r||n+" "+i+" but received `"+o+"`";if(o instanceof Map||o instanceof Set){let{size:s}=o;return e<=s&&s<=r||n+" with a size "+i+" but received one with a size of `"+s+"`"}else{let{length:s}=o;return e<=s&&s<=r||n+" with a length "+i+" but received one with a length of `"+s+"`"}})}function Cw(t,e,r){return new Ui({...t,*refiner(n,i){yield*t.refiner(n,i);let o=r(n,i),s=xH(o,i,t,n);for(let c of s)yield{...c,refinement:e}}})}zt.Struct=Ui;zt.StructError=Kk;zt.any=AQe;zt.array=EQe;zt.assert=Nme;zt.assign=mQe;zt.boolean=_Qe;zt.coerce=EH;zt.create=Dme;zt.date=TQe;zt.defaulted=VQe;zt.define=cu;zt.deprecated=yQe;zt.dynamic=gQe;zt.empty=jQe;zt.enums=IQe;zt.func=MQe;zt.instance=kQe;zt.integer=PQe;zt.intersection=RQe;zt.is=SH;zt.lazy=bQe;zt.literal=BQe;zt.map=CQe;zt.mask=Ume;zt.max=zQe;zt.min=WQe;zt.never=AH;zt.nullable=OQe;zt.number=NQe;zt.object=l6;zt.omit=vQe;zt.optional=Lme;zt.partial=xQe;zt.pattern=GQe;zt.pick=wQe;zt.record=DQe;zt.refine=Cw;zt.regexp=UQe;zt.set=LQe;zt.size=$Qe;zt.string=Fme;zt.struct=SQe;zt.trimmed=HQe;zt.tuple=FQe;zt.type=qQe;zt.union=KQe;zt.unknown=qme;zt.validate=Bw});var TH=K(_H=>{"use strict";d();h();Object.defineProperty(_H,"__esModule",{value:!0});_H.default=ZQe;var Vk,YQe=new Uint8Array(16);function ZQe(){if(!Vk&&(Vk=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!Vk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vk(YQe)}});var Vme=K(Hk=>{"use strict";d();h();Object.defineProperty(Hk,"__esModule",{value:!0});Hk.default=void 0;var QQe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Hk.default=QQe});var d6=K(jk=>{"use strict";d();h();Object.defineProperty(jk,"__esModule",{value:!0});jk.default=void 0;var JQe=XQe(Vme());function XQe(t){return t&&t.__esModule?t:{default:t}}function eJe(t){return typeof t=="string"&&JQe.default.test(t)}var tJe=eJe;jk.default=tJe});var p6=K(h6=>{"use strict";d();h();Object.defineProperty(h6,"__esModule",{value:!0});h6.default=void 0;h6.unsafeStringify=Hme;var rJe=nJe(d6());function nJe(t){return t&&t.__esModule?t:{default:t}}var ks=[];for(let t=0;t<256;++t)ks.push((t+256).toString(16).slice(1));function Hme(t,e=0){return ks[t[e+0]]+ks[t[e+1]]+ks[t[e+2]]+ks[t[e+3]]+"-"+ks[t[e+4]]+ks[t[e+5]]+"-"+ks[t[e+6]]+ks[t[e+7]]+"-"+ks[t[e+8]]+ks[t[e+9]]+"-"+ks[t[e+10]]+ks[t[e+11]]+ks[t[e+12]]+ks[t[e+13]]+ks[t[e+14]]+ks[t[e+15]]}function iJe(t,e=0){let r=Hme(t,e);if(!(0,rJe.default)(r))throw TypeError("Stringified UUID is invalid");return r}var oJe=iJe;h6.default=oJe});var zme=K(zk=>{"use strict";d();h();Object.defineProperty(zk,"__esModule",{value:!0});zk.default=void 0;var sJe=cJe(TH()),aJe=p6();function cJe(t){return t&&t.__esModule?t:{default:t}}var jme,IH,MH=0,kH=0;function uJe(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||jme,s=t.clockseq!==void 0?t.clockseq:IH;if(o==null||s==null){let E=t.random||(t.rng||sJe.default)();o==null&&(o=jme=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),s==null&&(s=IH=(E[6]<<8|E[7])&16383)}let c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:kH+1,m=c-MH+(l-kH)/1e4;if(m<0&&t.clockseq===void 0&&(s=s+1&16383),(m<0||c>MH)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");MH=c,kH=l,IH=s,c+=122192928e5;let w=((c&268435455)*1e4+l)%4294967296;i[n++]=w>>>24&255,i[n++]=w>>>16&255,i[n++]=w>>>8&255,i[n++]=w&255;let b=c/4294967296*1e4&268435455;i[n++]=b>>>8&255,i[n++]=b&255,i[n++]=b>>>24&15|16,i[n++]=b>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let E=0;E<6;++E)i[n+E]=o[E];return e||(0,aJe.unsafeStringify)(i)}var fJe=uJe;zk.default=fJe});var PH=K(Wk=>{"use strict";d();h();Object.defineProperty(Wk,"__esModule",{value:!0});Wk.default=void 0;var lJe=dJe(d6());function dJe(t){return t&&t.__esModule?t:{default:t}}function hJe(t){if(!(0,lJe.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var pJe=hJe;Wk.default=pJe});var RH=K(e1=>{"use strict";d();h();Object.defineProperty(e1,"__esModule",{value:!0});e1.URL=e1.DNS=void 0;e1.default=vJe;var mJe=p6(),yJe=gJe(PH());function gJe(t){return t&&t.__esModule?t:{default:t}}function bJe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var Wme="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e1.DNS=Wme;var Gme="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e1.URL=Gme;function vJe(t,e,r){function n(i,o,s,c){var l;if(typeof i=="string"&&(i=bJe(i)),typeof o=="string"&&(o=(0,yJe.default)(o)),((l=o)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+i.length);if(m.set(o),m.set(i,o.length),m=r(m),m[6]=m[6]&15|e,m[8]=m[8]&63|128,s){c=c||0;for(let w=0;w<16;++w)s[c+w]=m[w];return s}return(0,mJe.unsafeStringify)(m)}try{n.name=t}catch{}return n.DNS=Wme,n.URL=Gme,n}});var Yme=K($k=>{"use strict";d();h();Object.defineProperty($k,"__esModule",{value:!0});$k.default=void 0;function xJe(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return wJe(SJe(AJe(t),t.length*8))}function wJe(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let o=t[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(s)}return e}function $me(t){return(t+64>>>9<<4)+14+1}function SJe(t,e){t[e>>5]|=128<<e%32,t[$me(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let s=0;s<t.length;s+=16){let c=r,l=n,m=i,w=o;r=ua(r,n,i,o,t[s],7,-680876936),o=ua(o,r,n,i,t[s+1],12,-389564586),i=ua(i,o,r,n,t[s+2],17,606105819),n=ua(n,i,o,r,t[s+3],22,-1044525330),r=ua(r,n,i,o,t[s+4],7,-176418897),o=ua(o,r,n,i,t[s+5],12,1200080426),i=ua(i,o,r,n,t[s+6],17,-1473231341),n=ua(n,i,o,r,t[s+7],22,-45705983),r=ua(r,n,i,o,t[s+8],7,1770035416),o=ua(o,r,n,i,t[s+9],12,-1958414417),i=ua(i,o,r,n,t[s+10],17,-42063),n=ua(n,i,o,r,t[s+11],22,-1990404162),r=ua(r,n,i,o,t[s+12],7,1804603682),o=ua(o,r,n,i,t[s+13],12,-40341101),i=ua(i,o,r,n,t[s+14],17,-1502002290),n=ua(n,i,o,r,t[s+15],22,1236535329),r=fa(r,n,i,o,t[s+1],5,-165796510),o=fa(o,r,n,i,t[s+6],9,-1069501632),i=fa(i,o,r,n,t[s+11],14,643717713),n=fa(n,i,o,r,t[s],20,-373897302),r=fa(r,n,i,o,t[s+5],5,-701558691),o=fa(o,r,n,i,t[s+10],9,38016083),i=fa(i,o,r,n,t[s+15],14,-660478335),n=fa(n,i,o,r,t[s+4],20,-405537848),r=fa(r,n,i,o,t[s+9],5,568446438),o=fa(o,r,n,i,t[s+14],9,-1019803690),i=fa(i,o,r,n,t[s+3],14,-187363961),n=fa(n,i,o,r,t[s+8],20,1163531501),r=fa(r,n,i,o,t[s+13],5,-1444681467),o=fa(o,r,n,i,t[s+2],9,-51403784),i=fa(i,o,r,n,t[s+7],14,1735328473),n=fa(n,i,o,r,t[s+12],20,-1926607734),r=la(r,n,i,o,t[s+5],4,-378558),o=la(o,r,n,i,t[s+8],11,-2022574463),i=la(i,o,r,n,t[s+11],16,1839030562),n=la(n,i,o,r,t[s+14],23,-35309556),r=la(r,n,i,o,t[s+1],4,-1530992060),o=la(o,r,n,i,t[s+4],11,1272893353),i=la(i,o,r,n,t[s+7],16,-155497632),n=la(n,i,o,r,t[s+10],23,-1094730640),r=la(r,n,i,o,t[s+13],4,681279174),o=la(o,r,n,i,t[s],11,-358537222),i=la(i,o,r,n,t[s+3],16,-722521979),n=la(n,i,o,r,t[s+6],23,76029189),r=la(r,n,i,o,t[s+9],4,-640364487),o=la(o,r,n,i,t[s+12],11,-421815835),i=la(i,o,r,n,t[s+15],16,530742520),n=la(n,i,o,r,t[s+2],23,-995338651),r=da(r,n,i,o,t[s],6,-198630844),o=da(o,r,n,i,t[s+7],10,1126891415),i=da(i,o,r,n,t[s+14],15,-1416354905),n=da(n,i,o,r,t[s+5],21,-57434055),r=da(r,n,i,o,t[s+12],6,1700485571),o=da(o,r,n,i,t[s+3],10,-1894986606),i=da(i,o,r,n,t[s+10],15,-1051523),n=da(n,i,o,r,t[s+1],21,-2054922799),r=da(r,n,i,o,t[s+8],6,1873313359),o=da(o,r,n,i,t[s+15],10,-30611744),i=da(i,o,r,n,t[s+6],15,-1560198380),n=da(n,i,o,r,t[s+13],21,1309151649),r=da(r,n,i,o,t[s+4],6,-145523070),o=da(o,r,n,i,t[s+11],10,-1120210379),i=da(i,o,r,n,t[s+2],15,718787259),n=da(n,i,o,r,t[s+9],21,-343485551),r=Em(r,c),n=Em(n,l),i=Em(i,m),o=Em(o,w)}return[r,n,i,o]}function AJe(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array($me(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Em(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function EJe(t,e){return t<<e|t>>>32-e}function Gk(t,e,r,n,i,o){return Em(EJe(Em(Em(e,t),Em(n,o)),i),r)}function ua(t,e,r,n,i,o,s){return Gk(e&r|~e&n,t,e,i,o,s)}function fa(t,e,r,n,i,o,s){return Gk(e&n|r&~n,t,e,i,o,s)}function la(t,e,r,n,i,o,s){return Gk(e^r^n,t,e,i,o,s)}function da(t,e,r,n,i,o,s){return Gk(r^(e|~n),t,e,i,o,s)}var _Je=xJe;$k.default=_Je});var Qme=K(Yk=>{"use strict";d();h();Object.defineProperty(Yk,"__esModule",{value:!0});Yk.default=void 0;var TJe=Zme(RH()),IJe=Zme(Yme());function Zme(t){return t&&t.__esModule?t:{default:t}}var MJe=(0,TJe.default)("v3",48,IJe.default),kJe=MJe;Yk.default=kJe});var Jme=K(Zk=>{"use strict";d();h();Object.defineProperty(Zk,"__esModule",{value:!0});Zk.default=void 0;var PJe=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),RJe={randomUUID:PJe};Zk.default=RJe});var tye=K(Qk=>{"use strict";d();h();Object.defineProperty(Qk,"__esModule",{value:!0});Qk.default=void 0;var Xme=eye(Jme()),BJe=eye(TH()),CJe=p6();function eye(t){return t&&t.__esModule?t:{default:t}}function OJe(t,e,r){if(Xme.default.randomUUID&&!e&&!t)return Xme.default.randomUUID();t=t||{};let n=t.random||(t.rng||BJe.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,CJe.unsafeStringify)(n)}var NJe=OJe;Qk.default=NJe});var rye=K(Jk=>{"use strict";d();h();Object.defineProperty(Jk,"__esModule",{value:!0});Jk.default=void 0;function DJe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function BH(t,e){return t<<e|t>>>32-e}function UJe(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let s=unescape(encodeURIComponent(t));t=[];for(let c=0;c<s.length;++c)t.push(s.charCodeAt(c))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let s=0;s<i;++s){let c=new Uint32Array(16);for(let l=0;l<16;++l)c[l]=t[s*64+l*4]<<24|t[s*64+l*4+1]<<16|t[s*64+l*4+2]<<8|t[s*64+l*4+3];o[s]=c}o[i-1][14]=(t.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<i;++s){let c=new Uint32Array(80);for(let I=0;I<16;++I)c[I]=o[s][I];for(let I=16;I<80;++I)c[I]=BH(c[I-3]^c[I-8]^c[I-14]^c[I-16],1);let l=r[0],m=r[1],w=r[2],b=r[3],E=r[4];for(let I=0;I<80;++I){let M=Math.floor(I/20),k=BH(l,5)+DJe(M,m,w,b)+E+e[M]+c[I]>>>0;E=b,b=w,w=BH(m,30)>>>0,m=l,l=k}r[0]=r[0]+l>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+w>>>0,r[3]=r[3]+b>>>0,r[4]=r[4]+E>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var LJe=UJe;Jk.default=LJe});var iye=K(Xk=>{"use strict";d();h();Object.defineProperty(Xk,"__esModule",{value:!0});Xk.default=void 0;var FJe=nye(RH()),qJe=nye(rye());function nye(t){return t&&t.__esModule?t:{default:t}}var KJe=(0,FJe.default)("v5",80,qJe.default),VJe=KJe;Xk.default=VJe});var oye=K(e7=>{"use strict";d();h();Object.defineProperty(e7,"__esModule",{value:!0});e7.default=void 0;var HJe="00000000-0000-0000-0000-000000000000";e7.default=HJe});var sye=K(t7=>{"use strict";d();h();Object.defineProperty(t7,"__esModule",{value:!0});t7.default=void 0;var jJe=zJe(d6());function zJe(t){return t&&t.__esModule?t:{default:t}}function WJe(t){if(!(0,jJe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var GJe=WJe;t7.default=GJe});var CH=K(Al=>{"use strict";d();h();Object.defineProperty(Al,"__esModule",{value:!0});Object.defineProperty(Al,"NIL",{enumerable:!0,get:function(){return JJe.default}});Object.defineProperty(Al,"parse",{enumerable:!0,get:function(){return rXe.default}});Object.defineProperty(Al,"stringify",{enumerable:!0,get:function(){return tXe.default}});Object.defineProperty(Al,"v1",{enumerable:!0,get:function(){return $Je.default}});Object.defineProperty(Al,"v3",{enumerable:!0,get:function(){return YJe.default}});Object.defineProperty(Al,"v4",{enumerable:!0,get:function(){return ZJe.default}});Object.defineProperty(Al,"v5",{enumerable:!0,get:function(){return QJe.default}});Object.defineProperty(Al,"validate",{enumerable:!0,get:function(){return eXe.default}});Object.defineProperty(Al,"version",{enumerable:!0,get:function(){return XJe.default}});var $Je=y0(zme()),YJe=y0(Qme()),ZJe=y0(tye()),QJe=y0(iye()),JJe=y0(oye()),XJe=y0(sye()),eXe=y0(d6()),tXe=y0(p6()),rXe=y0(PH());function y0(t){return t&&t.__esModule?t:{default:t}}});var cye=K((aYt,aye)=>{"use strict";d();h();var nXe=CH().v4,iXe=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof r>"u"){let s=typeof n.generator=="function"?n.generator:function(){return nXe()};o.id=s(o,n)}else i===2&&r===null?n.notificationIdNull&&(o.id=null):o.id=r;return o};aye.exports=iXe});var fye=K((fYt,uye)=>{"use strict";d();h();var oXe=CH().v4,sXe=cye(),m6=function(t,e){if(!(this instanceof m6))return new m6(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return oXe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};uye.exports=m6;m6.prototype.request=function(t,e,r,n){let i=this,o=null,s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")n=e,o=t;else{typeof r=="function"&&(n=r,r=void 0);let m=typeof n=="function";try{o=sXe(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(w){if(m)return n(w);throw w}if(!m)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(m){return n(m)}return this.callServer(l,function(m,w){i._parseResponse(m,w,n)}),o};m6.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return r(null,n.filter(i),n.filter(o))}else return r(null,n.error,n.result);r(null,n)}});var Ow=K((hYt,g0)=>{d();h();function OH(t){"@babel/helpers - typeof";return g0.exports=OH=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0.exports.__esModule=!0,g0.exports.default=g0.exports,OH(t)}g0.exports=OH,g0.exports.__esModule=!0,g0.exports.default=g0.exports});var dye=K((yYt,b0)=>{d();h();var aXe=Ow().default;function lye(){"use strict";b0.exports=lye=function(){return t},b0.exports.__esModule=!0,b0.exports.default=b0.exports;var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(f,p,y){f[p]=y.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(f,p,y){return Object.defineProperty(f,p,{value:y,enumerable:!0,configurable:!0,writable:!0}),f[p]}try{l({},"")}catch{l=function(y,g,A){return y[g]=A}}function m(f,p,y,g){var A=p&&p.prototype instanceof E?p:E,_=Object.create(A.prototype),v=new ie(g||[]);return n(_,"_invoke",{value:V(f,y,v)}),_}function w(f,p,y){try{return{type:"normal",arg:f.call(p,y)}}catch(g){return{type:"throw",arg:g}}}t.wrap=m;var b={};function E(){}function I(){}function M(){}var k={};l(k,o,function(){return this});var B=Object.getPrototypeOf,R=B&&B(B(S([])));R&&R!==e&&r.call(R,o)&&(k=R);var U=M.prototype=E.prototype=Object.create(k);function P(f){["next","throw","return"].forEach(function(p){l(f,p,function(y){return this._invoke(p,y)})})}function F(f,p){function y(A,_,v,u){var x=w(f[A],f,_);if(x.type!=="throw"){var q=x.arg,L=q.value;return L&&aXe(L)=="object"&&r.call(L,"__await")?p.resolve(L.__await).then(function(C){y("next",C,v,u)},function(C){y("throw",C,v,u)}):p.resolve(L).then(function(C){q.value=C,v(q)},function(C){return y("throw",C,v,u)})}u(x.arg)}var g;n(this,"_invoke",{value:function(_,v){function u(){return new p(function(x,q){y(_,v,x,q)})}return g=g?g.then(u,u):u()}})}function V(f,p,y){var g="suspendedStart";return function(A,_){if(g==="executing")throw new Error("Generator is already running");if(g==="completed"){if(A==="throw")throw _;return a()}for(y.method=A,y.arg=_;;){var v=y.delegate;if(v){var u=H(v,y);if(u){if(u===b)continue;return u}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(g==="suspendedStart")throw g="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);g="executing";var x=w(f,p,y);if(x.type==="normal"){if(g=y.done?"completed":"suspendedYield",x.arg===b)continue;return{value:x.arg,done:y.done}}x.type==="throw"&&(g="completed",y.method="throw",y.arg=x.arg)}}}function H(f,p){var y=p.method,g=f.iterator[y];if(g===void 0)return p.delegate=null,y==="throw"&&f.iterator.return&&(p.method="return",p.arg=void 0,H(f,p),p.method==="throw")||y!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+y+"' method")),b;var A=w(g,f.iterator,p.arg);if(A.type==="throw")return p.method="throw",p.arg=A.arg,p.delegate=null,b;var _=A.arg;return _?_.done?(p[f.resultName]=_.value,p.next=f.nextLoc,p.method!=="return"&&(p.method="next",p.arg=void 0),p.delegate=null,b):_:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,b)}function re(f){var p={tryLoc:f[0]};1 in f&&(p.catchLoc=f[1]),2 in f&&(p.finallyLoc=f[2],p.afterLoc=f[3]),this.tryEntries.push(p)}function J(f){var p=f.completion||{};p.type="normal",delete p.arg,f.completion=p}function ie(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(re,this),this.reset(!0)}function S(f){if(f){var p=f[o];if(p)return p.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var y=-1,g=function A(){for(;++y<f.length;)if(r.call(f,y))return A.value=f[y],A.done=!1,A;return A.value=void 0,A.done=!0,A};return g.next=g}}return{next:a}}function a(){return{value:void 0,done:!0}}return I.prototype=M,n(U,"constructor",{value:M,configurable:!0}),n(M,"constructor",{value:I,configurable:!0}),I.displayName=l(M,c,"GeneratorFunction"),t.isGeneratorFunction=function(f){var p=typeof f=="function"&&f.constructor;return!!p&&(p===I||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,M):(f.__proto__=M,l(f,c,"GeneratorFunction")),f.prototype=Object.create(U),f},t.awrap=function(f){return{__await:f}},P(F.prototype),l(F.prototype,s,function(){return this}),t.AsyncIterator=F,t.async=function(f,p,y,g,A){A===void 0&&(A=Promise);var _=new F(m(f,p,y,g),A);return t.isGeneratorFunction(p)?_:_.next().then(function(v){return v.done?v.value:_.next()})},P(U),l(U,c,"Generator"),l(U,o,function(){return this}),l(U,"toString",function(){return"[object Generator]"}),t.keys=function(f){var p=Object(f),y=[];for(var g in p)y.push(g);return y.reverse(),function A(){for(;y.length;){var _=y.pop();if(_ in p)return A.value=_,A.done=!1,A}return A.done=!0,A}},t.values=S,ie.prototype={constructor:ie,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(J),!p)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var y=this;function g(q,L){return v.type="throw",v.arg=p,y.next=q,L&&(y.method="next",y.arg=void 0),!!L}for(var A=this.tryEntries.length-1;A>=0;--A){var _=this.tryEntries[A],v=_.completion;if(_.tryLoc==="root")return g("end");if(_.tryLoc<=this.prev){var u=r.call(_,"catchLoc"),x=r.call(_,"finallyLoc");if(u&&x){if(this.prev<_.catchLoc)return g(_.catchLoc,!0);if(this.prev<_.finallyLoc)return g(_.finallyLoc)}else if(u){if(this.prev<_.catchLoc)return g(_.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<_.finallyLoc)return g(_.finallyLoc)}}}},abrupt:function(p,y){for(var g=this.tryEntries.length-1;g>=0;--g){var A=this.tryEntries[g];if(A.tryLoc<=this.prev&&r.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var _=A;break}}_&&(p==="break"||p==="continue")&&_.tryLoc<=y&&y<=_.finallyLoc&&(_=null);var v=_?_.completion:{};return v.type=p,v.arg=y,_?(this.method="next",this.next=_.finallyLoc,b):this.complete(v)},complete:function(p,y){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&y&&(this.next=y),b},finish:function(p){for(var y=this.tryEntries.length-1;y>=0;--y){var g=this.tryEntries[y];if(g.finallyLoc===p)return this.complete(g.completion,g.afterLoc),J(g),b}},catch:function(p){for(var y=this.tryEntries.length-1;y>=0;--y){var g=this.tryEntries[y];if(g.tryLoc===p){var A=g.completion;if(A.type==="throw"){var _=A.arg;J(g)}return _}}throw new Error("illegal catch attempt")},delegateYield:function(p,y,g){return this.delegate={iterator:S(p),resultName:y,nextLoc:g},this.method==="next"&&(this.arg=void 0),b}},t}b0.exports=lye,b0.exports.__esModule=!0,b0.exports.default=b0.exports});var pye=K((vYt,hye)=>{d();h();var r7=dye()();hye.exports=r7;try{regeneratorRuntime=r7}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r7:Function("r","regeneratorRuntime = r")(r7)}});var yye=K((SYt,y6)=>{d();h();function mye(t,e,r,n,i,o,s){try{var c=t[o](s),l=c.value}catch(m){r(m);return}c.done?e(l):Promise.resolve(l).then(n,i)}function cXe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(l){mye(o,n,i,s,c,"next",l)}function c(l){mye(o,n,i,s,c,"throw",l)}s(void 0)})}}y6.exports=cXe,y6.exports.__esModule=!0,y6.exports.default=y6.exports});var NH=K((_Yt,g6)=>{d();h();function uXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}g6.exports=uXe,g6.exports.__esModule=!0,g6.exports.default=g6.exports});var bye=K((MYt,b6)=>{d();h();var gye=Ow().default;function fXe(t,e){if(gye(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gye(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}b6.exports=fXe,b6.exports.__esModule=!0,b6.exports.default=b6.exports});var vye=K((RYt,v6)=>{d();h();var lXe=Ow().default,dXe=bye();function hXe(t){var e=dXe(t,"string");return lXe(e)==="symbol"?e:String(e)}v6.exports=hXe,v6.exports.__esModule=!0,v6.exports.default=v6.exports});var DH=K((OYt,x6)=>{d();h();var pXe=vye();function xye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pXe(n.key),n)}}function mXe(t,e,r){return e&&xye(t.prototype,e),r&&xye(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}x6.exports=mXe,x6.exports.__esModule=!0,x6.exports.default=x6.exports});var wye=K((UYt,v0)=>{d();h();function UH(t,e){return v0.exports=UH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v0.exports.__esModule=!0,v0.exports.default=v0.exports,UH(t,e)}v0.exports=UH,v0.exports.__esModule=!0,v0.exports.default=v0.exports});var LH=K((qYt,w6)=>{d();h();var yXe=wye();function gXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yXe(t,e)}w6.exports=gXe,w6.exports.__esModule=!0,w6.exports.default=w6.exports});var Sye=K((HYt,S6)=>{d();h();function bXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}S6.exports=bXe,S6.exports.__esModule=!0,S6.exports.default=S6.exports});var FH=K((WYt,A6)=>{d();h();var vXe=Ow().default,xXe=Sye();function wXe(t,e){if(e&&(vXe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xXe(t)}A6.exports=wXe,A6.exports.__esModule=!0,A6.exports.default=A6.exports});var KH=K((YYt,x0)=>{d();h();function qH(t){return x0.exports=qH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x0.exports.__esModule=!0,x0.exports.default=x0.exports,qH(t)}x0.exports=qH,x0.exports.__esModule=!0,x0.exports.default=x0.exports});var Eye=K(i7=>{"use strict";d();h();var Tm=lae();Object.defineProperty(i7,"__esModule",{value:!0});i7.default=void 0;var _m=Tm(pye()),n7=Tm(yye()),SXe=Tm(Ow()),AXe=Tm(NH()),EXe=Tm(DH()),_Xe=Tm(LH()),TXe=Tm(FH()),Aye=Tm(KH()),IXe=dae();function MXe(t){var e=kXe();return function(){var n=(0,Aye.default)(t),i;if(e){var o=(0,Aye.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,TXe.default)(this,i)}}function kXe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PXe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},RXe=function(t){(0,_Xe.default)(r,t);var e=MXe(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;(0,AXe.default)(this,r);var l=s.autoconnect,m=l===void 0?!0:l,w=s.reconnect,b=w===void 0?!0:w,E=s.reconnect_interval,I=E===void 0?1e3:E,M=s.max_reconnects,k=M===void 0?5:M,B=PXe(s,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return i=e.call(this),i.webSocketFactory=n,i.queue={},i.rpc_id=0,i.address=o,i.autoconnect=m,i.ready=!1,i.reconnect=b,i.reconnect_timer_id=void 0,i.reconnect_interval=I,i.max_reconnects=k,i.rest_options=B,i.current_reconnects=0,i.generate_request_id=c||function(){return++i.rpc_id},i.autoconnect&&i._connect(i.address,Object.assign({autoconnect:i.autoconnect,reconnect:i.reconnect,reconnect_interval:i.reconnect_interval,max_reconnects:i.max_reconnects},i.rest_options)),i}return(0,EXe.default)(r,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(i,o,s,c){var l=this;return!c&&(0,SXe.default)(s)==="object"&&(c=s,s=null),new Promise(function(m,w){if(!l.ready)return w(new Error("socket not ready"));var b=l.generate_request_id(i,o),E={jsonrpc:"2.0",method:i,params:o||null,id:b};l.socket.send(JSON.stringify(E),c,function(I){if(I)return w(I);l.queue[b]={promise:[m,w]},s&&(l.queue[b].timeout=setTimeout(function(){delete l.queue[b],w(new Error("reply timeout"))},s))})})}},{key:"login",value:function(){var n=(0,n7.default)(_m.default.mark(function o(s){var c;return _m.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this.call("rpc.login",s);case 2:if(c=m.sent,c){m.next=5;break}throw new Error("authentication failed");case 5:return m.abrupt("return",c);case 6:case"end":return m.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"listMethods",value:function(){var n=(0,n7.default)(_m.default.mark(function o(){return _m.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.call("__listMethods");case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},o,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"notify",value:function(i,o){var s=this;return new Promise(function(c,l){if(!s.ready)return l(new Error("socket not ready"));var m={jsonrpc:"2.0",method:i,params:o||null};s.socket.send(JSON.stringify(m),function(w){if(w)return l(w);c()})})}},{key:"subscribe",value:function(){var n=(0,n7.default)(_m.default.mark(function o(s){var c;return _m.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return typeof s=="string"&&(s=[s]),m.next=3,this.call("rpc.on",s);case 3:if(c=m.sent,!(typeof s=="string"&&c[s]!=="ok")){m.next=6;break}throw new Error("Failed subscribing to an event '"+s+"' with: "+c[s]);case 6:return m.abrupt("return",c);case 7:case"end":return m.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"unsubscribe",value:function(){var n=(0,n7.default)(_m.default.mark(function o(s){var c;return _m.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return typeof s=="string"&&(s=[s]),m.next=3,this.call("rpc.off",s);case 3:if(c=m.sent,!(typeof s=="string"&&c[s]!=="ok")){m.next=6;break}throw new Error("Failed unsubscribing from an event with: "+c);case 6:return m.abrupt("return",c);case 7:case"end":return m.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"close",value:function(i,o){this.socket.close(i||1e3,o)}},{key:"_connect",value:function(i,o){var s=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(i,o),this.socket.addEventListener("open",function(){s.ready=!0,s.emit("open"),s.current_reconnects=0}),this.socket.addEventListener("message",function(c){var l=c.data;l instanceof ArrayBuffer&&(l=Buffer.from(l).toString());try{l=JSON.parse(l)}catch{return}if(l.notification&&s.listeners(l.notification).length){if(!Object.keys(l.params).length)return s.emit(l.notification);var m=[l.notification];if(l.params.constructor===Object)m.push(l.params);else for(var w=0;w<l.params.length;w++)m.push(l.params[w]);return Promise.resolve().then(function(){s.emit.apply(s,m)})}if(!s.queue[l.id])return l.method&&l.params?Promise.resolve().then(function(){s.emit(l.method,l.params)}):void 0;"error"in l=="result"in l&&s.queue[l.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),s.queue[l.id].timeout&&clearTimeout(s.queue[l.id].timeout),l.error?s.queue[l.id].promise[1](l.error):s.queue[l.id].promise[0](l.result),delete s.queue[l.id]}),this.socket.addEventListener("error",function(c){return s.emit("error",c)}),this.socket.addEventListener("close",function(c){var l=c.code,m=c.reason;s.ready&&setTimeout(function(){return s.emit("close",l,m)},0),s.ready=!1,s.socket=void 0,l!==1e3&&(s.current_reconnects++,s.reconnect&&(s.max_reconnects>s.current_reconnects||s.max_reconnects===0)&&(s.reconnect_timer_id=setTimeout(function(){return s._connect(i,o)},s.reconnect_interval)))})}}]),r}(IXe.EventEmitter);i7.default=RXe});var Tye=K(VH=>{"use strict";d();h();var E6=lae();Object.defineProperty(VH,"__esModule",{value:!0});VH.default=qXe;var BXe=E6(NH()),CXe=E6(DH()),OXe=E6(LH()),NXe=E6(FH()),_ye=E6(KH()),DXe=dae();function UXe(t){var e=LXe();return function(){var n=(0,_ye.default)(t),i;if(e){var o=(0,_ye.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,NXe.default)(this,i)}}function LXe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var FXe=function(t){(0,OXe.default)(r,t);var e=UXe(r);function r(n,i,o){var s;return(0,BXe.default)(this,r),s=e.call(this),s.socket=new self.WebSocket(n,o),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(c){return s.emit("message",c.data)},s.socket.onerror=function(c){return s.emit("error",c)},s.socket.onclose=function(c){s.emit("close",c.code,c.reason)},s}return(0,CXe.default)(r,[{key:"send",value:function(i,o,s){var c=s||o;try{this.socket.send(i),c()}catch(l){c(l)}}},{key:"close",value:function(i,o){this.socket.close(i,o)}},{key:"addEventListener",value:function(i,o,s){this.socket.addEventListener(i,o,s)}}]),r}(DXe.EventEmitter);function qXe(t,e){return new FXe(t,e)}});var Oye=K(ci=>{"use strict";d();h();Object.defineProperty(ci,"__esModule",{value:!0});ci.shake256=ci.shake128=ci.keccak_512=ci.keccak_384=ci.keccak_256=ci.keccak_224=ci.sha3_512=ci.sha3_384=ci.sha3_256=ci.sha3_224=ci.Keccak=ci.keccakP=void 0;var Nw=vI(),I6=uq(),T6=Fx(),[kye,Pye,Rye]=[[],[],[]],KXe=BigInt(0),_6=BigInt(1),VXe=BigInt(2),HXe=BigInt(7),jXe=BigInt(256),zXe=BigInt(113);for(let t=0,e=_6,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],kye.push(2*(5*n+r)),Pye.push((t+1)*(t+2)/2%64);let i=KXe;for(let o=0;o<7;o++)e=(e<<_6^(e>>HXe)*zXe)%jXe,e&VXe&&(i^=_6<<(_6<<BigInt(o))-_6);Rye.push(i)}var[WXe,GXe]=I6.default.split(Rye,!0),Iye=(t,e,r)=>r>32?I6.default.rotlBH(t,e,r):I6.default.rotlSH(t,e,r),Mye=(t,e,r)=>r>32?I6.default.rotlBL(t,e,r):I6.default.rotlSL(t,e,r);function Bye(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let c=(s+8)%10,l=(s+2)%10,m=r[l],w=r[l+1],b=Iye(m,w,1)^r[c],E=Mye(m,w,1)^r[c+1];for(let I=0;I<50;I+=10)t[s+I]^=b,t[s+I+1]^=E}let i=t[2],o=t[3];for(let s=0;s<24;s++){let c=Pye[s],l=Iye(i,o,c),m=Mye(i,o,c),w=kye[s];i=t[w],o=t[w+1],t[w]=l,t[w+1]=m}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)r[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=WXe[n],t[1]^=GXe[n]}r.fill(0)}ci.keccakP=Bye;var M6=class t extends T6.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Nw.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,T6.u32)(this.state)}keccak(){Bye(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Nw.default.exists(this);let{blockLen:r,state:n}=this;e=(0,T6.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let c=0;c<s;c++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Nw.default.exists(this,!1),Nw.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Nw.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Nw.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};ci.Keccak=M6;var Im=(t,e,r)=>(0,T6.wrapConstructor)(()=>new M6(e,t,r));ci.sha3_224=Im(6,144,224/8);ci.sha3_256=Im(6,136,256/8);ci.sha3_384=Im(6,104,384/8);ci.sha3_512=Im(6,72,512/8);ci.keccak_224=Im(1,144,224/8);ci.keccak_256=Im(1,136,256/8);ci.keccak_384=Im(1,104,384/8);ci.keccak_512=Im(1,72,512/8);var Cye=(t,e,r)=>(0,T6.wrapConstructorWithOpts)((n={})=>new M6(e,t,n.dkLen===void 0?r:n.dkLen,!0));ci.shake128=Cye(31,168,128/8);ci.shake256=Cye(31,136,256/8)});var Dye=K(k6=>{"use strict";d();h();Object.defineProperty(k6,"__esModule",{value:!0});k6.hmac=void 0;var o7=vI(),Nye=Fx(),s7=class extends Nye.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,o7.default.hash(e);let n=(0,Nye.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return o7.default.exists(this),this.iHash.update(e),this}digestInto(e){o7.default.exists(this),o7.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},$Xe=(t,e,r)=>new s7(t,e).update(r).digest();k6.hmac=$Xe;k6.hmac.create=(t,e)=>new s7(t,e)});var WH=K(Fr=>{"use strict";d();h();Object.defineProperty(Fr,"__esModule",{value:!0});Fr.utils=Fr.schnorr=Fr.verify=Fr.signSync=Fr.sign=Fr.getSharedSecret=Fr.recoverPublicKey=Fr.getPublicKey=Fr.Signature=Fr.Point=Fr.CURVE=void 0;var YXe=sm(),$r=BigInt(0),mi=BigInt(1),Pm=BigInt(2),R6=BigInt(3),Uye=BigInt(8),$n=Object.freeze({a:$r,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:mi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});Fr.CURVE=$n;var Lye=(t,e)=>(t+e/Pm)/e,a7={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=$n,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-mi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=Lye(o*t,e),l=Lye(-n*t,e),m=xt(t-c*r-l*i,e),w=xt(-c*n-l*o,e),b=m>s,E=w>s;if(b&&(m=e-m),E&&(w=e-w),m>s||w>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:b,k1:m,k2neg:E,k2:w}}},El=32,r1=32,zye=32,d7=El+1,h7=2*El+1;function Fye(t){let{a:e,b:r}=$n,n=xt(t*t),i=xt(n*t);return xt(i+e*t+r)}var c7=$n.a===$r,C6=class extends Error{constructor(e){super(e)}};function qye(t){if(!(t instanceof ja))throw new TypeError("JacobianPoint expected")}var ja=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof ui))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(ui.ZERO)?t.ZERO:new t(e.x,e.y,mi)}static toAffineBatch(e){let r=eet(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){qye(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=xt(i*i),m=xt(c*c),w=xt(r*m),b=xt(o*l),E=xt(xt(n*c)*m),I=xt(xt(s*i)*l);return w===b&&E===I}negate(){return new t(this.x,xt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=xt(e*e),o=xt(r*r),s=xt(o*o),c=e+o,l=xt(Pm*(xt(c*c)-i-s)),m=xt(R6*i),w=xt(m*m),b=xt(w-Pm*l),E=xt(m*(l-b)-Uye*s),I=xt(Pm*r*n);return new t(b,E,I)}add(e){qye(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e;if(o===$r||s===$r)return this;if(r===$r||n===$r)return e;let l=xt(i*i),m=xt(c*c),w=xt(r*m),b=xt(o*l),E=xt(xt(n*c)*m),I=xt(xt(s*i)*l),M=xt(b-w),k=xt(I-E);if(M===$r)return k===$r?this.double():t.ZERO;let B=xt(M*M),R=xt(M*B),U=xt(w*B),P=xt(k*k-R-Pm*U),F=xt(k*(U-P)-E*R),V=xt(i*c*M);return new t(P,F,V)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===$r)return r;let n=Hye(e);if(n===mi)return this;if(!c7){let b=r,E=this;for(;n>$r;)n&mi&&(b=b.add(E)),E=E.double(),n>>=mi;return b}let{k1neg:i,k1:o,k2neg:s,k2:c}=a7.splitScalar(n),l=r,m=r,w=this;for(;o>$r||c>$r;)o&mi&&(l=l.add(w)),c&mi&&(m=m.add(w)),w=w.double(),o>>=mi,c>>=mi;return i&&(l=l.negate()),s&&(m=m.negate()),m=new t(xt(m.x*a7.beta),m.y,m.z),l.add(m)}precomputeWindow(e){let r=c7?128/e+1:256/e+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=ui.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&HH.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),HH.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+(c7?128/n:256/n),l=2**(n-1),m=BigInt(2**n-1),w=2**n,b=BigInt(n);for(let E=0;E<c;E++){let I=E*l,M=Number(e&m);e>>=b,M>l&&(M-=w,e+=mi);let k=I,B=I+Math.abs(M)-1,R=E%2!==0,U=M<0;M===0?s=s.add(u7(R,i[k])):o=o.add(u7(U,i[B]))}return{p:o,f:s}}multiply(e,r){let n=Hye(e),i,o;if(c7){let{k1neg:s,k1:c,k2neg:l,k2:m}=a7.splitScalar(n),{p:w,f:b}=this.wNAF(c,r),{p:E,f:I}=this.wNAF(m,r);w=u7(s,w),E=u7(l,E),E=new t(xt(E.x*a7.beta),E.y,E.z),i=w.add(E),o=b.add(I)}else{let{p:s,f:c}=this.wNAF(n,r);i=s,o=c}return t.normalizeZ([i,o])[0]}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?Uye:Kw(i));let s=e,c=xt(s*s),l=xt(c*s),m=xt(r*c),w=xt(n*l),b=xt(i*s);if(o)return ui.ZERO;if(b!==mi)throw new Error("invZ was invalid");return new ui(m,w)}};ja.BASE=new ja($n.Gx,$n.Gy,mi);ja.ZERO=new ja($r,mi,$r);function u7(t,e){let r=e.negate();return t?r:e}var HH=new WeakMap,ui=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,HH.delete(this)}hasEvenY(){return this.y%Pm===$r}static fromCompressedHex(e){let r=e.length===32,n=fu(r?e:e.subarray(1));if(!l7(n))throw new Error("Point is not on curve");let i=Fye(n),o=XXe(i),s=(o&mi)===mi;r?s&&(o=xt(-o)):(e[0]&1)===1!==s&&(o=xt(-o));let c=new t(n,o);return c.assertValidity(),c}static fromUncompressedHex(e){let r=fu(e.subarray(1,El+1)),n=fu(e.subarray(El+1,El*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=Ld(e),n=r.length,i=r[0];if(n===El)return this.fromCompressedHex(r);if(n===d7&&(i===2||i===3))return this.fromCompressedHex(r);if(n===h7&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${d7} compressed bytes or ${h7} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(n1(e))}static fromSignature(e,r,n){let{r:i,s:o}=Gye(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=jH(Ld(e)),{n:c}=$n,l=n===2||n===3?i+c:i,m=Kw(l,c),w=xt(-s*m,c),b=xt(o*m,c),E=n&1?"03":"02",I=t.fromHex(E+Rm(l)),M=t.BASE.multiplyAndAddUnsafe(I,w,b);if(!M)throw new Error("Cannot recover signature: point at infinify");return M.assertValidity(),M}toRawBytes(e=!1){return Bm(this.toHex(e))}toHex(e=!1){let r=Rm(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Rm(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!l7(r)||!l7(n))throw new Error(e);let i=xt(n*n),o=Fye(r);if(xt(i-o)!==$r)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,xt(-this.y))}double(){return ja.fromAffine(this).double().toAffine()}add(e){return ja.fromAffine(this).add(ja.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ja.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=ja.fromAffine(this),o=r===$r||r===mi||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),s=ja.fromAffine(e).multiplyUnsafe(n),c=o.add(s);return c.equals(ja.ZERO)?void 0:c.toAffine()}};Fr.Point=ui;ui.BASE=new ui($n.Gx,$n.Gy);ui.ZERO=new ui($r,$r);function Kye(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Vye(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Uw(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:fu(r),left:t.subarray(e+2)}}function ZXe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Uw(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Vye(t.subarray(2)),{data:n,left:i}=Vye(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Uw(i)}`);return{r:e,s:n}}var t1=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Uw(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(p7(i.slice(0,64)),p7(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=ZXe(r?e:Bm(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Fw(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Fw(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=$n.n>>mi;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,xt(-this.s,$n.n)):this}toDERRawBytes(){return Bm(this.toDERHex())}toDERHex(){let e=Kye(P6(this.s)),r=Kye(P6(this.r)),n=e.length/2,i=r.length/2,o=P6(n),s=P6(i);return`30${P6(i+n+4)}02${s}${r}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Bm(this.toCompactHex())}toCompactHex(){return Rm(this.r)+Rm(this.s)}};Fr.Signature=t1;function km(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var QXe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Uw(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=QXe[t[r]];return e}var JXe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Rm(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!($r<=t&&t<JXe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function Lw(t){let e=Bm(Rm(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function P6(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function p7(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Bm(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function fu(t){return p7(Uw(t))}function Ld(t){return t instanceof Uint8Array?Uint8Array.from(t):Bm(t)}function Hye(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Fw(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function xt(t,e=$n.P){let r=t%e;return r>=$r?r:e+r}function hf(t,e){let{P:r}=$n,n=t;for(;e-- >$r;)n*=n,n%=r;return n}function XXe(t){let{P:e}=$n,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,m=l*l*t%e,w=hf(m,R6)*m%e,b=hf(w,R6)*m%e,E=hf(b,Pm)*l%e,I=hf(E,n)*E%e,M=hf(I,i)*I%e,k=hf(M,s)*M%e,B=hf(k,c)*k%e,R=hf(B,s)*M%e,U=hf(R,R6)*m%e,P=hf(U,o)*I%e,F=hf(P,r)*l%e,V=hf(F,Pm);if(V*V%e!==t)throw new Error("Cannot find square root");return V}function Kw(t,e=$n.P){if(t===$r||e<=$r)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=xt(t,e),n=e,i=$r,o=mi,s=mi,c=$r;for(;r!==$r;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==mi)throw new Error("invert: does not exist");return xt(i,e)}function eet(t,e=$n.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===$r?o:(r[c]=o,xt(o*s,e)),mi),i=Kw(n,e);return t.reduceRight((o,s,c)=>s===$r?o:(r[c]=xt(o*r[c],e),xt(o*s,e)),i),r}function tet(t){let e=t.length*8-r1*8,r=fu(t);return e>0?r>>BigInt(e):r}function jH(t,e=!1){let r=tet(t);if(e)return r;let{n}=$n;return r>=n?r-n:r}var Dw,B6,m7=class{constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Fr.utils.hmacSha256(this.k,...e)}hmacSync(...e){return B6(this.k,...e)}checkSync(){if(typeof B6!="function")throw new C6("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return km(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return km(...r)}};function Fw(t){return $r<t&&t<$n.n}function l7(t){return $r<t&&t<$n.P}function Wye(t,e,r,n=!0){let{n:i}=$n,o=jH(t,!0);if(!Fw(o))return;let s=Kw(o,i),c=ui.BASE.multiply(o),l=xt(c.x,i);if(l===$r)return;let m=xt(s*xt(e+r*l,i),i);if(m===$r)return;let w=new t1(l,m),b=(c.x===w.r?0:2)|Number(c.y&mi);return n&&w.hasHighS()&&(w=w.normalizeS(),b^=1),{sig:w,recovery:b}}function n1(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*r1)throw new Error("Expected 32 bytes of private key");e=p7(t)}else if(t instanceof Uint8Array){if(t.length!==r1)throw new Error("Expected 32 bytes of private key");e=fu(t)}else throw new TypeError("Expected valid private key");if(!Fw(e))throw new Error("Expected private key: 0 < key < n");return e}function zH(t){return t instanceof ui?(t.assertValidity(),t):ui.fromHex(t)}function Gye(t){if(t instanceof t1)return t.assertValidity(),t;try{return t1.fromDER(t)}catch{return t1.fromCompact(t)}}function ret(t,e=!1){return ui.fromPrivateKey(t).toRawBytes(e)}Fr.getPublicKey=ret;function net(t,e,r,n=!1){return ui.fromSignature(t,e,r).toRawBytes(n)}Fr.recoverPublicKey=net;function jye(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===d7||n===h7:r?n===d7*2||n===h7*2:t instanceof ui}function iet(t,e,r=!1){if(jye(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!jye(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=zH(e);return n.assertValidity(),n.multiply(n1(t)).toRawBytes(r)}Fr.getSharedSecret=iet;function $ye(t){let e=t.length>El?t.slice(0,El):t;return fu(e)}function oet(t){let e=$ye(t),r=xt(e,$n.n);return Yye(r<$r?e:r)}function Yye(t){return Lw(t)}function Zye(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=Ld(t),i=n1(e),o=[Yye(i),oet(n)];if(r!=null){r===!0&&(r=Fr.utils.randomBytes(El));let l=Ld(r);if(l.length!==El)throw new Error(`sign: Expected ${El} bytes of extra data`);o.push(l)}let s=km(...o),c=$ye(n);return{seed:s,m:c,d:i}}function Qye(t,e){let{sig:r,recovery:n}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}async function set(t,e,r={}){let{seed:n,m:i,d:o}=Zye(t,e,r.extraEntropy),s=new m7(zye,r1);await s.reseed(n);let c;for(;!(c=Wye(await s.generate(),i,o,r.canonical));)await s.reseed();return Qye(c,r)}Fr.sign=set;function aet(t,e,r={}){let{seed:n,m:i,d:o}=Zye(t,e,r.extraEntropy),s=new m7(zye,r1);s.reseedSync(n);let c;for(;!(c=Wye(s.generateSync(),i,o,r.canonical));)s.reseedSync();return Qye(c,r)}Fr.signSync=aet;var cet={strict:!0};function uet(t,e,r,n=cet){let i;try{i=Gye(t),e=Ld(e)}catch{return!1}let{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;let c=jH(e),l;try{l=zH(r)}catch{return!1}let{n:m}=$n,w=Kw(s,m),b=xt(c*w,m),E=xt(o*w,m),I=ui.BASE.multiplyAndAddUnsafe(l,b,E);return I?xt(I.x,m)===o:!1}Fr.verify=uet;function y7(t){return xt(fu(t),$n.n)}var qw=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Ld(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=fu(r.subarray(0,32)),i=fu(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!l7(e)||!Fw(r))throw new Error("Invalid signature")}toHex(){return Rm(this.r)+Rm(this.s)}toRawBytes(){return Bm(this.toHex())}};function fet(t){return ui.fromPrivateKey(t).toRawX()}var g7=class{constructor(e,r,n=Fr.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Ld(e);let{x:i,scalar:o}=this.getScalar(n1(r));if(this.px=i,this.d=o,this.rand=Ld(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=ui.fromPrivateKey(e),n=r.hasEvenY()?e:$n.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return Lw(e^fu(r))}finalizeNonce(e){let r=xt(fu(e),$n.n);if(r===$r)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:o}=this.getScalar(r);return{R:n,rx:i,k:o}}finalizeSig(e,r,n,i){return new qw(e.x,xt(r+n*i,$n.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,o=Fr.utils.taggedHash,s=this.initNonce(r,await o(Mm.aux,i)),{R:c,rx:l,k:m}=this.finalizeNonce(await o(Mm.nonce,s,n,e)),w=y7(await o(Mm.challenge,l,n,e)),b=this.finalizeSig(c,m,w,r);return await ege(b,e,n)||this.error(),b}calcSync(){let{m:e,d:r,px:n,rand:i}=this,o=Fr.utils.taggedHashSync,s=this.initNonce(r,o(Mm.aux,i)),{R:c,rx:l,k:m}=this.finalizeNonce(o(Mm.nonce,s,n,e)),w=y7(o(Mm.challenge,l,n,e)),b=this.finalizeSig(c,m,w,r);return tge(b,e,n)||this.error(),b}};async function det(t,e,r){return new g7(t,e,r).calc()}function het(t,e,r){return new g7(t,e,r).calcSync()}function Jye(t,e,r){let n=t instanceof qw,i=n?t:qw.fromHex(t);return n&&i.assertValidity(),{...i,m:Ld(e),P:zH(r)}}function Xye(t,e,r,n){let i=ui.BASE.multiplyAndAddUnsafe(e,n1(r),xt(-n,$n.n));return!(!i||!i.hasEvenY()||i.x!==t)}async function ege(t,e,r){try{let{r:n,s:i,m:o,P:s}=Jye(t,e,r),c=y7(await Fr.utils.taggedHash(Mm.challenge,Lw(n),s.toRawX(),o));return Xye(n,s,i,c)}catch{return!1}}function tge(t,e,r){try{let{r:n,s:i,m:o,P:s}=Jye(t,e,r),c=y7(Fr.utils.taggedHashSync(Mm.challenge,Lw(n),s.toRawX(),o));return Xye(n,s,i,c)}catch(n){if(n instanceof C6)throw n;return!1}}Fr.schnorr={Signature:qw,getPublicKey:fet,sign:det,verify:ege,signSync:het,verifySync:tge};ui.BASE._setWindowSize(8);var uu={node:YXe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Mm={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},f7={};Fr.utils={bytesToHex:Uw,hexToBytes:Bm,concatBytes:km,mod:xt,invert:Kw,isValidPrivateKey(t){try{return n1(t),!0}catch{return!1}},_bigintTo32Bytes:Lw,_normalizePrivateKey:n1,hashToPrivateKey:t=>{t=Ld(t);let e=r1+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=xt(fu(t),$n.n-mi)+mi;return Lw(r)},randomBytes:(t=32)=>{if(uu.web)return uu.web.getRandomValues(new Uint8Array(t));if(uu.node){let{randomBytes:e}=uu.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Fr.utils.hashToPrivateKey(Fr.utils.randomBytes(r1+8)),precompute(t=8,e=ui.BASE){let r=e===ui.BASE?e:new ui(e.x,e.y);return r._setWindowSize(t),r.multiply(R6),r},sha256:async(...t)=>{if(uu.web){let e=await uu.web.subtle.digest("SHA-256",km(...t));return new Uint8Array(e)}else if(uu.node){let{createHash:e}=uu.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(uu.web){let r=await uu.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=km(...e),i=await uu.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(uu.node){let{createHmac:r}=uu.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=f7[t];if(r===void 0){let n=await Fr.utils.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=km(n,n),f7[t]=r}return Fr.utils.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Dw!="function")throw new C6("sha256Sync is undefined, you need to set it");let r=f7[t];if(r===void 0){let n=Dw(Uint8Array.from(t,i=>i.charCodeAt(0)));r=km(n,n),f7[t]=r}return Dw(r,...e)},_JacobianPoint:ja};Object.defineProperties(Fr.utils,{sha256Sync:{configurable:!1,get(){return Dw},set(t){Dw||(Dw=t)}},hmacSha256Sync:{configurable:!1,get(){return B6},set(t){B6||(B6=t)}}})});var D7=K(lt=>{"use strict";d();h();Object.defineProperty(lt,"__esModule",{value:!0});var Wt=s3(),pet=qce(),met=Tme(),yet=mb(),get=Fa(),XH=Ime(),GH=Cme(),vge=f6(),ej=vH(),D=Kme(),bet=fye(),vet=Eye(),xet=Tye(),rge=Oye(),wet=Dye(),Aet=WH();function W6(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function vj(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Nm=vj(met),nge=W6(yet),Ps=W6(get),fe=vj(vge),Eet=W6(bet),_et=W6(vet),Tet=W6(xet),B7=vj(Aet);Nm.utils.sha512Sync=(...t)=>pet.sha512(Nm.utils.concatBytes(...t));var Iet=Nm.utils.randomPrivateKey,ige=()=>{let t=Nm.utils.randomPrivateKey(),e=S7(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},S7=Nm.sync.getPublicKey;function oge(t){try{return Nm.Point.fromHex(t,!0),!0}catch{return!1}}var xj=(t,e)=>Nm.sync.sign(t,e.slice(0,32)),Met=Nm.sync.verify,br=t=>Wt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Wt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Wt.Buffer.from(t),U6=class{constructor(e){Object.assign(this,e)}encode(){return Wt.Buffer.from(GH.serialize(D6,this))}static decode(e){return GH.deserialize(D6,this,e)}static decodeUnchecked(e){return GH.deserializeUnchecked(D6,this,e)}},tj=class extends U6{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},D6=new Map,xge,wge=32,Vd=32;function ket(t){return t._bn!==void 0}var sge=1;xge=Symbol.toStringTag;var vt=class t extends U6{constructor(e){if(super({}),this._bn=void 0,ket(e))this._bn=e._bn;else{if(typeof e=="string"){let r=Ps.default.decode(e);if(r.length!=Vd)throw new Error("Invalid public key input");this._bn=new nge.default(r)}else this._bn=new nge.default(e);if(this._bn.byteLength()>Vd)throw new Error("Invalid public key input")}}static unique(){let e=new t(sge);return sge+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ps.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Wt.Buffer);if(e.length===Vd)return e;let r=Wt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[xge](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Wt.Buffer.concat([e.toBuffer(),Wt.Buffer.from(r),n.toBuffer()]),o=XH.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=Wt.Buffer.alloc(0);e.forEach(function(o){if(o.length>wge)throw new TypeError("Max seed length exceeded");n=Wt.Buffer.concat([n,br(o)])}),n=Wt.Buffer.concat([n,r.toBuffer(),Wt.Buffer.from("ProgramDerivedAddress")]);let i=XH.sha256(n);if(oge(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(Wt.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return oge(r.toBytes())}};vt.default=new vt("11111111111111111111111111111111");D6.set(vt,{kind:"struct",fields:[["_bn","u256"]]});var rj=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=br(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=br(Iet()),this._publicKey=br(S7(this._secretKey))}get publicKey(){return new vt(this._publicKey)}get secretKey(){return Wt.Buffer.concat([this._secretKey,this._publicKey],64)}},Pet=new vt("BPFLoader1111111111111111111111111111111111"),Om=1232,C7=127,L6=64,F6=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(F6.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var q6=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(q6.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Cm=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Cm.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var s1=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Or=(t="publicKey")=>fe.blob(32,t),Ret=(t="signature")=>fe.blob(64,t),o1=(t="string")=>{let e=fe.struct([fe.u32("length"),fe.u32("lengthPadding"),fe.blob(fe.offset(fe.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,c)=>{let l={chars:Wt.Buffer.from(o,"utf8")};return n(l,s,c)},i.alloc=o=>fe.u32().span+fe.u32().span+Wt.Buffer.from(o,"utf8").length,i},Bet=(t="authorized")=>fe.struct([Or("staker"),Or("withdrawer")],t),Cet=(t="lockup")=>fe.struct([fe.ns64("unixTimestamp"),fe.ns64("epoch"),Or("custodian")],t),Oet=(t="voteInit")=>fe.struct([Or("nodePubkey"),Or("authorizedVoter"),Or("authorizedWithdrawer"),fe.u8("commission")],t),Net=(t="voteAuthorizeWithSeedArgs")=>fe.struct([fe.u32("voteAuthorizationType"),Or("currentAuthorityDerivedKeyOwnerPubkey"),o1("currentAuthorityDerivedKeySeed"),Or("newAuthorized")],t);function Sge(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return Sge({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Sc(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function lu(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function bn(t,e){if(!t)throw new Error(e||"Assertion failed")}var A7=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let c=s.toBase58(),l=n.get(c);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,l)),l},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let c of s.keys){let l=i(c.pubkey);l.isSigner||=c.isSigner,l.isWritable||=c.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];bn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{bn(r.length>0,"Expected at least one writable signer key");let[l]=r[0];bn(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...r.map(([l])=>new vt(l)),...n.map(([l])=>new vt(l)),...i.map(([l])=>new vt(l)),...o.map(([l])=>new vt(l))];return[s,c]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let c=new vt(o),l=e.findIndex(m=>m.equals(c));l>=0&&(bn(l<256,"Max lookup table index exceeded"),n.push(l),i.push(c),this.keyMetaMap.delete(o))}return[n,i]}},Age="Reached end of buffer unexpectedly";function qd(t){if(t.length===0)throw new Error(Age);return t.shift()}function Ac(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Age);return t.splice(...e)}var Hd=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new vt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ps.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new s1(this.staticAccountKeys)}static compile(e){let r=A7.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new s1(i).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Ps.default.encode(c.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];lu(r,e);let n=this.instructions.map(b=>{let{accounts:E,programIdIndex:I}=b,M=Array.from(Ps.default.decode(b.data)),k=[];lu(k,E.length);let B=[];return lu(B,M.length),{programIdIndex:I,keyIndicesCount:Wt.Buffer.from(k),keyIndices:E,dataLength:Wt.Buffer.from(B),data:M}}),i=[];lu(i,n.length);let o=Wt.Buffer.alloc(Om);Wt.Buffer.from(i).copy(o);let s=i.length;n.forEach(b=>{let I=fe.struct([fe.u8("programIdIndex"),fe.blob(b.keyIndicesCount.length,"keyIndicesCount"),fe.seq(fe.u8("keyIndex"),b.keyIndices.length,"keyIndices"),fe.blob(b.dataLength.length,"dataLength"),fe.seq(fe.u8("userdatum"),b.data.length,"data")]).encode(b,o,s);s+=I}),o=o.slice(0,s);let c=fe.struct([fe.blob(1,"numRequiredSignatures"),fe.blob(1,"numReadonlySignedAccounts"),fe.blob(1,"numReadonlyUnsignedAccounts"),fe.blob(r.length,"keyCount"),fe.seq(Or("key"),e,"keys"),Or("recentBlockhash")]),l={numRequiredSignatures:Wt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Wt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Wt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Wt.Buffer.from(r),keys:this.accountKeys.map(b=>br(b.toBytes())),recentBlockhash:Ps.default.decode(this.recentBlockhash)},m=Wt.Buffer.alloc(2048),w=c.encode(l,m);return o.copy(m,w),m.slice(0,w+o.length)}static from(e){let r=[...e],n=qd(r);if(n!==(n&C7))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=qd(r),o=qd(r),s=Sc(r),c=[];for(let E=0;E<s;E++){let I=Ac(r,0,Vd);c.push(new vt(Wt.Buffer.from(I)))}let l=Ac(r,0,Vd),m=Sc(r),w=[];for(let E=0;E<m;E++){let I=qd(r),M=Sc(r),k=Ac(r,0,M),B=Sc(r),R=Ac(r,0,B),U=Ps.default.encode(Wt.Buffer.from(R));w.push({programIdIndex:I,accounts:k,data:U})}let b={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Ps.default.encode(Wt.Buffer.from(l)),accountKeys:c,instructions:w};return new t(b)}},Vw=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new s1(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,c)=>s+c.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=A7.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let w of o){let b=r.extractTableLookup(w);if(b!==void 0){let[E,{writable:I,readonly:M}]=b;n.push(E),i.writable.push(...I),i.readonly.push(...M)}}let[s,c]=r.getMessageComponents(),m=new s1(c,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:m,addressTableLookups:n})}serialize(){let e=Array();lu(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();lu(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();lu(o,this.addressTableLookups.length);let s=fe.struct([fe.u8("prefix"),fe.struct([fe.u8("numRequiredSignatures"),fe.u8("numReadonlySignedAccounts"),fe.u8("numReadonlyUnsignedAccounts")],"header"),fe.blob(e.length,"staticAccountKeysLength"),fe.seq(Or(),this.staticAccountKeys.length,"staticAccountKeys"),Or("recentBlockhash"),fe.blob(n.length,"instructionsLength"),fe.blob(r.length,"serializedInstructions"),fe.blob(o.length,"addressTableLookupsLength"),fe.blob(i.length,"serializedAddressTableLookups")]),c=new Uint8Array(Om),m=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(w=>w.toBytes()),recentBlockhash:Ps.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},c);return c.slice(0,m)}serializeInstructions(){let e=0,r=new Uint8Array(Om);for(let n of this.compiledInstructions){let i=Array();lu(i,n.accountKeyIndexes.length);let o=Array();lu(o,n.data.length);let s=fe.struct([fe.u8("programIdIndex"),fe.blob(i.length,"encodedAccountKeyIndexesLength"),fe.seq(fe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),fe.blob(o.length,"encodedDataLength"),fe.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(Om);for(let n of this.addressTableLookups){let i=Array();lu(i,n.writableIndexes.length);let o=Array();lu(o,n.readonlyIndexes.length);let s=fe.struct([Or("accountKey"),fe.blob(i.length,"encodedWritableIndexesLength"),fe.seq(fe.u8(),n.writableIndexes.length,"writableIndexes"),fe.blob(o.length,"encodedReadonlyIndexesLength"),fe.seq(fe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=qd(r),i=n&C7;bn(n!==i,"Expected versioned message but received legacy message");let o=i;bn(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:qd(r),numReadonlySignedAccounts:qd(r),numReadonlyUnsignedAccounts:qd(r)},c=[],l=Sc(r);for(let M=0;M<l;M++)c.push(new vt(Ac(r,0,Vd)));let m=Ps.default.encode(Ac(r,0,Vd)),w=Sc(r),b=[];for(let M=0;M<w;M++){let k=qd(r),B=Sc(r),R=Ac(r,0,B),U=Sc(r),P=new Uint8Array(Ac(r,0,U));b.push({programIdIndex:k,accountKeyIndexes:R,data:P})}let E=Sc(r),I=[];for(let M=0;M<E;M++){let k=new vt(Ac(r,0,Vd)),B=Sc(r),R=Ac(r,0,B),U=Sc(r),P=Ac(r,0,U);I.push({accountKey:k,writableIndexes:R,readonlyIndexes:P})}return new t({header:s,staticAccountKeys:c,recentBlockhash:m,compiledInstructions:b,addressTableLookups:I})}},wj={deserializeMessageVersion(t){let e=t[0],r=e&C7;return r===e?"legacy":r},deserialize:t=>{let e=wj.deserializeMessageVersion(t);if(e==="legacy")return Hd.from(t);if(e===0)return Vw.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};lt.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(lt.TransactionStatus||(lt.TransactionStatus={}));var Det=Wt.Buffer.alloc(L6).fill(0),Hn=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Wt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Vn=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Hn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<r.length;k++)if(r[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);let i=[],o=[];r.forEach(k=>{k.keys.forEach(R=>{o.push({...R})});let B=k.programId.toString();i.includes(B)||i.push(B)}),i.forEach(k=>{o.push({pubkey:new vt(k),isSigner:!1,isWritable:!1})});let s=[];o.forEach(k=>{let B=k.pubkey.toString(),R=s.findIndex(U=>U.pubkey.toString()===B);R>-1?(s[R].isWritable=s[R].isWritable||k.isWritable,s[R].isSigner=s[R].isSigner||k.isSigner):s.push(k)}),s.sort(function(k,B){return k.isSigner!==B.isSigner?k.isSigner?-1:1:k.isWritable!==B.isWritable?k.isWritable?-1:1:k.pubkey.toBase58().localeCompare(B.pubkey.toBase58())});let c=s.findIndex(k=>k.pubkey.equals(n));if(c>-1){let[k]=s.splice(c,1);k.isSigner=!0,k.isWritable=!0,s.unshift(k)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let k of this.signatures){let B=s.findIndex(R=>R.pubkey.equals(k.publicKey));if(B>-1)s[B].isSigner||(s[B].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let l=0,m=0,w=0,b=[],E=[];s.forEach(({pubkey:k,isSigner:B,isWritable:R})=>{B?(b.push(k.toString()),l+=1,R||(m+=1)):(E.push(k.toString()),R||(w+=1))});let I=b.concat(E),M=r.map(k=>{let{data:B,programId:R}=k;return{programIdIndex:I.indexOf(R.toString()),accounts:k.keys.map(U=>I.indexOf(U.pubkey.toString())),data:Ps.default.encode(B)}});return M.forEach(k=>{bn(k.programIdIndex>=0),k.accounts.forEach(B=>bn(B>=0))}),new Hd({header:{numRequiredSignatures:l,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:w},accountKeys:I,recentBlockhash:e,instructions:M})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=xj(n,i.secretKey);this._addSignature(i.publicKey,br(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){bn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Wt.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!Met(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];lu(n,r.length);let i=n.length+r.length*64+e.length,o=Wt.Buffer.alloc(i);return bn(r.length<256),Wt.Buffer.from(n).copy(o,0),r.forEach(({signature:s},c)=>{s!==null&&(bn(s.length===64,"signature has invalid length"),Wt.Buffer.from(s).copy(o,n.length+c*64))}),e.copy(o,n.length+r.length*64),bn(o.length<=Om,`Transaction too large: ${o.length} > ${Om}`),o}get keys(){return bn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return bn(this.instructions.length===1),this.instructions[0].programId}get data(){return bn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Sc(r),i=[];for(let o=0;o<n;o++){let s=Ac(r,0,L6);i.push(Ps.default.encode(Wt.Buffer.from(s)))}return t.populate(Hd.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==Ps.default.encode(Det)?null:Ps.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let c=e.accountKeys[s];return{pubkey:c,isSigner:n.signatures.some(l=>l.publicKey.toString()===c.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new Hn({keys:o,programId:e.accountKeys[i.programIdIndex],data:Ps.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},nj=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l}=n,m=s-c;bn(m>0,"Message header is invalid");let w=e.staticAccountKeys.length-s-l;bn(w>=0,"Message header is invalid");let b=e.getAccountKeys(r),E=b.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");let I=[];for(let M of i){let k=[];for(let R of M.accountKeyIndexes){let U=b.get(R);if(U===void 0)throw new Error(`Failed to find key for account key index ${R}`);let P=R<s,F;P?F=R<m:R<b.staticAccountKeys.length?F=R-s<w:F=R-b.staticAccountKeys.length<b.accountKeysFromLookups.writable.length,k.push({pubkey:U,isSigner:R<n.numRequiredSignatures,isWritable:F})}let B=b.get(M.programIdIndex);if(B===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);I.push(new Hn({programId:B,data:br(M.data),keys:k}))}return new t({payerKey:E,instructions:I,recentBlockhash:o})}compileToLegacyMessage(){return Hd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Vw.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},ij=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)bn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(L6));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();lu(r,this.signatures.length);let n=fe.struct([fe.blob(r.length,"encodedSignaturesLength"),fe.seq(Ret(),this.signatures.length,"signatures"),fe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=Sc(r);for(let s=0;s<i;s++)n.push(new Uint8Array(Ac(r,0,L6)));let o=wj.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));bn(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=xj(r,i.secretKey)}}addSignature(e,r){bn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));bn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Fd=new vt("SysvarC1ock11111111111111111111111111111111"),Uet=new vt("SysvarEpochSchedu1e111111111111111111111111"),Let=new vt("Sysvar1nstructions1111111111111111111111111"),v7=new vt("SysvarRecentB1ockHashes11111111111111111111"),Hw=new vt("SysvarRent111111111111111111111111111111111"),Fet=new vt("SysvarRewards111111111111111111111111111111"),qet=new vt("SysvarS1otHashes111111111111111111111111111"),Ket=new vt("SysvarS1otHistory11111111111111111111111111"),x7=new vt("SysvarStakeHistory1111111111111111111111111");async function w7(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:c}=e.nonceInfo,l=c.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function i1(t){return new Promise(e=>setTimeout(e,t))}function dn(t,e){let r=t.layout.span>=0?t.layout.span:Sge(t,e),n=Wt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Nn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var Ege=fe.nu64("lamportsPerSignature"),_ge=fe.struct([fe.u32("version"),fe.u32("state"),Or("authorizedPubkey"),Or("nonce"),fe.struct([Ege],"feeCalculator")]),oj=_ge.span,E7=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=_ge.decode(br(e),0);return new t({authorizedPubkey:new vt(r.authorizedPubkey),nonce:new vt(r.nonce).toString(),feeCalculator:r.feeCalculator})}},Vet=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},Het=t=>e=>{let r=vge.blob(t,e),{encode:n,decode:i}=Vet(r),o=r;return o.decode=(s,c)=>{let l=i(s,c);return ej.toBigIntLE(Wt.Buffer.from(l))},o.encode=(s,c,l)=>{let m=ej.toBufferLE(s,t);return n(m,c,l)},o},jw=Het(8),sj=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(fi))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=Nn(fi.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new vt(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=Nn(fi.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=Nn(fi.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new vt(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=Nn(fi.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=Nn(fi.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vt(r),seed:n,space:i,programId:new vt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=Nn(fi.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new vt(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=Nn(fi.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vt(r),seed:n,programId:new vt(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=Nn(fi.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new vt(r),seed:n,lamports:i,space:o,programId:new vt(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=Nn(fi.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new vt(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Nn(fi.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Nn(fi.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=Nn(fi.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new vt(r)}}static checkProgramId(e){if(!e.equals(ha.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},fi=Object.freeze({Create:{index:0,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports"),fe.ns64("space"),Or("programId")])},Assign:{index:1,layout:fe.struct([fe.u32("instruction"),Or("programId")])},Transfer:{index:2,layout:fe.struct([fe.u32("instruction"),jw("lamports")])},CreateWithSeed:{index:3,layout:fe.struct([fe.u32("instruction"),Or("base"),o1("seed"),fe.ns64("lamports"),fe.ns64("space"),Or("programId")])},AdvanceNonceAccount:{index:4,layout:fe.struct([fe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:fe.struct([fe.u32("instruction"),Or("authorized")])},AuthorizeNonceAccount:{index:7,layout:fe.struct([fe.u32("instruction"),Or("authorized")])},Allocate:{index:8,layout:fe.struct([fe.u32("instruction"),fe.ns64("space")])},AllocateWithSeed:{index:9,layout:fe.struct([fe.u32("instruction"),Or("base"),o1("seed"),fe.ns64("space"),Or("programId")])},AssignWithSeed:{index:10,layout:fe.struct([fe.u32("instruction"),Or("base"),o1("seed"),Or("programId")])},TransferWithSeed:{index:11,layout:fe.struct([fe.u32("instruction"),jw("lamports"),o1("seed"),Or("programId")])},UpgradeNonceAccount:{index:12,layout:fe.struct([fe.u32("instruction")])}}),ha=class t{constructor(){}static createAccount(e){let r=fi.Create,n=dn(r,{lamports:e.lamports,space:e.space,programId:br(e.programId.toBuffer())});return new Hn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=fi.TransferWithSeed;r=dn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:br(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=fi.Transfer;r=dn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Hn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=fi.AssignWithSeed;r=dn(i,{base:br(e.basePubkey.toBuffer()),seed:e.seed,programId:br(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=fi.Assign;r=dn(i,{programId:br(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Hn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=fi.CreateWithSeed,n=dn(r,{base:br(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:br(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Hn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Vn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:oj,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:oj,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=fi.InitializeNonceAccount,n=dn(r,{authorized:br(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:v7,isSigner:!1,isWritable:!1},{pubkey:Hw,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Hn(i)}static nonceAdvance(e){let r=fi.AdvanceNonceAccount,n=dn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:v7,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Hn(i)}static nonceWithdraw(e){let r=fi.WithdrawNonceAccount,n=dn(r,{lamports:e.lamports});return new Hn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:v7,isSigner:!1,isWritable:!1},{pubkey:Hw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=fi.AuthorizeNonceAccount,n=dn(r,{authorized:br(e.newAuthorizedPubkey.toBuffer())});return new Hn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=fi.AllocateWithSeed;r=dn(i,{base:br(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:br(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=fi.Allocate;r=dn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Hn({keys:n,programId:this.programId,data:r})}};ha.programId=new vt("11111111111111111111111111111111");var jet=Om-300,zw=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let b=await e.getMinimumBalanceForRentExemption(o.length),E=await e.getAccountInfo(n.publicKey,"confirmed"),I=null;if(E!==null){if(E.executable)return console.error("Program load failed, account is already executable"),!1;E.data.length!==o.length&&(I=I||new Vn,I.add(ha.allocate({accountPubkey:n.publicKey,space:o.length}))),E.owner.equals(i)||(I=I||new Vn,I.add(ha.assign({accountPubkey:n.publicKey,programId:i}))),E.lamports<b&&(I=I||new Vn,I.add(ha.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:b-E.lamports})))}else I=new Vn().add(ha.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:b>0?b:1,space:o.length,programId:i}));I!==null&&await w7(e,I,[r,n],{commitment:"confirmed"})}let s=fe.struct([fe.u32("instruction"),fe.u32("offset"),fe.u32("bytesLength"),fe.u32("bytesLengthPadding"),fe.seq(fe.u8("byte"),fe.offset(fe.u32(),-8),"bytes")]),c=t.chunkSize,l=0,m=o,w=[];for(;m.length>0;){let b=m.slice(0,c),E=Wt.Buffer.alloc(c+16);s.encode({instruction:0,offset:l,bytes:b,bytesLength:0,bytesLengthPadding:0},E);let I=new Vn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:E});w.push(w7(e,I,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await i1(1e3/4),l+=c,m=m.slice(c)}await Promise.all(w);{let b=fe.struct([fe.u32("instruction")]),E=Wt.Buffer.alloc(b.span);b.encode({instruction:1},E);let I=new Vn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Hw,isSigner:!1,isWritable:!1}],programId:i,data:E});await w7(e,I,[r,n],{commitment:"confirmed"})}return!0}};zw.chunkSize=jet;var zet=new vt("BPFLoader2111111111111111111111111111111111"),aj=class{static getMinNumSignatures(e){return zw.getMinNumSignatures(e)}static load(e,r,n,i,o){return zw.load(e,r,n,o,i)}},Wet=Object.prototype.toString,Get=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function N6(t,e){var r,n,i,o,s,c,l;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return N6(t.toJSON(),e);if(l=Wet.call(t),l==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=N6(t[r],!0)+",";return n>-1&&(i+=N6(t[r],!0)),i+"]"}else if(l==="[object Object]"){for(o=Get(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],c=N6(t[s],!1),c!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+c),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var $et=function(t){var e=N6(t,!1);if(e!==void 0)return""+e},Yet=$et,O6=32;function $H(t){let e=0;for(;t>1;)t/=2,e++;return e}function Zet(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var _7=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=$H(Zet(e+O6+1))-$H(O6)-1,n=this.getSlotsInEpoch(r),i=e-(n-O6);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*O6:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+$H(O6)):this.slotsPerEpoch}},K6=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},Qet={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Bt=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},Jet=globalThis.fetch,cj=class extends _et.default{constructor(e,r,n){let i=o=>{let s=Tet.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},Xet=160,ett=64,ttt=Xet/ett,rtt=1e3/ttt;function ntt(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var age=56,V6=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=ntt(itt,e),n=e.length-age;bn(n>=0,"lookup table is invalid"),bn(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=fe.struct([fe.seq(Or(),i,"addresses")]).decode(e.slice(age));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new vt(r.authority[0]):void 0,addresses:o.map(s=>new vt(s))}}},itt={index:1,layout:fe.struct([fe.u32("typeIndex"),jw("deactivationSlot"),fe.nu64("lastExtendedSlot"),fe.u8("lastExtendedStartIndex"),fe.u8(),fe.seq(Or(),fe.offset(fe.u8(),-1),"authority")])},ott=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function stt(t){let e=t.match(ott);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",c=i==null?null:parseInt(i.slice(1),10),l=c==null?"":`:${c+1}`;return`${s}//${n}${l}${o}`}var So=D.coerce(D.instance(vt),D.string(),t=>new vt(t)),Tge=D.tuple([D.string(),D.literal("base64")]),Sj=D.coerce(D.instance(Wt.Buffer),Tge,t=>Wt.Buffer.from(t[0],"base64")),Ige=30*1e3;function att(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Li(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function Mge(t){return D.union([D.type({jsonrpc:D.literal("2.0"),id:D.string(),result:t}),D.type({jsonrpc:D.literal("2.0"),id:D.string(),error:D.type({code:D.unknown(),message:D.string(),data:D.optional(D.any())})})])}var ctt=Mge(D.unknown());function Sr(t){return D.coerce(Mge(t),ctt,e=>"error"in e?e:{...e,result:D.create(e.result,t)})}function wo(t){return Sr(D.type({context:D.type({slot:D.number()}),value:t}))}function O7(t){return D.type({context:D.type({slot:D.number()}),value:t})}function YH(t,e){return t===0?new Vw({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new vt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Ps.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Hd(e)}var utt=D.type({foundation:D.number(),foundationTerm:D.number(),initial:D.number(),taper:D.number(),terminal:D.number()}),ftt=Sr(D.array(D.nullable(D.type({epoch:D.number(),effectiveSlot:D.number(),amount:D.number(),postBalance:D.number(),commission:D.optional(D.nullable(D.number()))})))),ltt=D.type({total:D.number(),validator:D.number(),foundation:D.number(),epoch:D.number()}),dtt=D.type({epoch:D.number(),slotIndex:D.number(),slotsInEpoch:D.number(),absoluteSlot:D.number(),blockHeight:D.optional(D.number()),transactionCount:D.optional(D.number())}),htt=D.type({slotsPerEpoch:D.number(),leaderScheduleSlotOffset:D.number(),warmup:D.boolean(),firstNormalEpoch:D.number(),firstNormalSlot:D.number()}),ptt=D.record(D.string(),D.array(D.number())),c1=D.nullable(D.union([D.type({}),D.string()])),mtt=D.type({err:c1}),ytt=D.literal("receivedSignature"),gtt=D.type({"solana-core":D.string(),"feature-set":D.optional(D.number())}),cge=wo(D.type({err:D.nullable(D.union([D.type({}),D.string()])),logs:D.nullable(D.array(D.string())),accounts:D.optional(D.nullable(D.array(D.nullable(D.type({executable:D.boolean(),owner:D.string(),lamports:D.number(),data:D.array(D.string()),rentEpoch:D.optional(D.number())}))))),unitsConsumed:D.optional(D.number()),returnData:D.optional(D.nullable(D.type({programId:D.string(),data:D.tuple([D.string(),D.literal("base64")])})))})),btt=wo(D.type({byIdentity:D.record(D.string(),D.array(D.number())),range:D.type({firstSlot:D.number(),lastSlot:D.number()})}));function vtt(t,e,r,n,i,o){let s=r||Jet,c;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return n&&(l=async(w,b)=>{let E=await new Promise((I,M)=>{try{n(w,b,(k,B)=>I([k,B]))}catch(k){M(k)}});return await s(...E)}),new Eet.default(async(w,b)=>{let E={method:"POST",body:w,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},brt)};try{let I=5,M,k=500;for(;l?M=await l(t,E):M=await s(t,E),!(M.status!==429||i===!0||(I-=1,I===0));)console.log(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${k}ms delay...`),await i1(k),k*=2;let B=await M.text();M.ok?b(null,B):b(new Error(`${M.status} ${M.statusText}: ${B}`))}catch(I){I instanceof Error&&b(I)}},{})}function xtt(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function wtt(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var Stt=Sr(utt),Att=Sr(ltt),Ett=Sr(dtt),_tt=Sr(htt),Ttt=Sr(ptt),Itt=Sr(D.number()),Mtt=wo(D.type({total:D.number(),circulating:D.number(),nonCirculating:D.number(),nonCirculatingAccounts:D.array(So)})),uj=D.type({amount:D.string(),uiAmount:D.nullable(D.number()),decimals:D.number(),uiAmountString:D.optional(D.string())}),ktt=wo(D.array(D.type({address:So,amount:D.string(),uiAmount:D.nullable(D.number()),decimals:D.number(),uiAmountString:D.optional(D.string())}))),Ptt=wo(D.array(D.type({pubkey:So,account:D.type({executable:D.boolean(),owner:So,lamports:D.number(),data:Sj,rentEpoch:D.number()})}))),fj=D.type({program:D.string(),parsed:D.unknown(),space:D.number()}),Rtt=wo(D.array(D.type({pubkey:So,account:D.type({executable:D.boolean(),owner:So,lamports:D.number(),data:fj,rentEpoch:D.number()})}))),Btt=wo(D.array(D.type({lamports:D.number(),address:So}))),H6=D.type({executable:D.boolean(),owner:So,lamports:D.number(),data:Sj,rentEpoch:D.number()}),Ctt=D.type({pubkey:So,account:H6}),Ott=D.coerce(D.union([D.instance(Wt.Buffer),fj]),D.union([Tge,fj]),t=>Array.isArray(t)?D.create(t,Sj):t),lj=D.type({executable:D.boolean(),owner:So,lamports:D.number(),data:Ott,rentEpoch:D.number()}),Ntt=D.type({pubkey:So,account:lj}),Dtt=D.type({state:D.union([D.literal("active"),D.literal("inactive"),D.literal("activating"),D.literal("deactivating")]),active:D.number(),inactive:D.number()}),Utt=Sr(D.array(D.type({signature:D.string(),slot:D.number(),err:c1,memo:D.nullable(D.string()),blockTime:D.optional(D.nullable(D.number()))}))),Ltt=Sr(D.array(D.type({signature:D.string(),slot:D.number(),err:c1,memo:D.nullable(D.string()),blockTime:D.optional(D.nullable(D.number()))}))),Ftt=D.type({subscription:D.number(),result:O7(H6)}),qtt=D.type({pubkey:So,account:H6}),Ktt=D.type({subscription:D.number(),result:O7(qtt)}),Vtt=D.type({parent:D.number(),slot:D.number(),root:D.number()}),Htt=D.type({subscription:D.number(),result:Vtt}),jtt=D.union([D.type({type:D.union([D.literal("firstShredReceived"),D.literal("completed"),D.literal("optimisticConfirmation"),D.literal("root")]),slot:D.number(),timestamp:D.number()}),D.type({type:D.literal("createdBank"),parent:D.number(),slot:D.number(),timestamp:D.number()}),D.type({type:D.literal("frozen"),slot:D.number(),timestamp:D.number(),stats:D.type({numTransactionEntries:D.number(),numSuccessfulTransactions:D.number(),numFailedTransactions:D.number(),maxTransactionsPerEntry:D.number()})}),D.type({type:D.literal("dead"),slot:D.number(),timestamp:D.number(),err:D.string()})]),ztt=D.type({subscription:D.number(),result:jtt}),Wtt=D.type({subscription:D.number(),result:O7(D.union([mtt,ytt]))}),Gtt=D.type({subscription:D.number(),result:D.number()}),$tt=D.type({pubkey:D.string(),gossip:D.nullable(D.string()),tpu:D.nullable(D.string()),rpc:D.nullable(D.string()),version:D.nullable(D.string())}),uge=D.type({votePubkey:D.string(),nodePubkey:D.string(),activatedStake:D.number(),epochVoteAccount:D.boolean(),epochCredits:D.array(D.tuple([D.number(),D.number(),D.number()])),commission:D.number(),lastVote:D.number(),rootSlot:D.nullable(D.number())}),Ytt=Sr(D.type({current:D.array(uge),delinquent:D.array(uge)})),Ztt=D.union([D.literal("processed"),D.literal("confirmed"),D.literal("finalized")]),Qtt=D.type({slot:D.number(),confirmations:D.nullable(D.number()),err:c1,confirmationStatus:D.optional(Ztt)}),Jtt=wo(D.array(D.nullable(Qtt))),Xtt=Sr(D.number()),kge=D.type({accountKey:So,writableIndexes:D.array(D.number()),readonlyIndexes:D.array(D.number())}),Aj=D.type({signatures:D.array(D.string()),message:D.type({accountKeys:D.array(D.string()),header:D.type({numRequiredSignatures:D.number(),numReadonlySignedAccounts:D.number(),numReadonlyUnsignedAccounts:D.number()}),instructions:D.array(D.type({accounts:D.array(D.number()),data:D.string(),programIdIndex:D.number()})),recentBlockhash:D.string(),addressTableLookups:D.optional(D.array(kge))})}),Pge=D.type({pubkey:So,signer:D.boolean(),writable:D.boolean(),source:D.optional(D.union([D.literal("transaction"),D.literal("lookupTable")]))}),Rge=D.type({accountKeys:D.array(Pge),signatures:D.array(D.string())}),Bge=D.type({parsed:D.unknown(),program:D.string(),programId:So}),Cge=D.type({accounts:D.array(So),data:D.string(),programId:So}),ert=D.union([Cge,Bge]),trt=D.union([D.type({parsed:D.unknown(),program:D.string(),programId:D.string()}),D.type({accounts:D.array(D.string()),data:D.string(),programId:D.string()})]),Oge=D.coerce(ert,trt,t=>"accounts"in t?D.create(t,Cge):D.create(t,Bge)),Nge=D.type({signatures:D.array(D.string()),message:D.type({accountKeys:D.array(Pge),instructions:D.array(Oge),recentBlockhash:D.string(),addressTableLookups:D.optional(D.nullable(D.array(kge)))})}),T7=D.type({accountIndex:D.number(),mint:D.string(),owner:D.optional(D.string()),uiTokenAmount:uj}),Dge=D.type({writable:D.array(So),readonly:D.array(So)}),N7=D.type({err:c1,fee:D.number(),innerInstructions:D.optional(D.nullable(D.array(D.type({index:D.number(),instructions:D.array(D.type({accounts:D.array(D.number()),data:D.string(),programIdIndex:D.number()}))})))),preBalances:D.array(D.number()),postBalances:D.array(D.number()),logMessages:D.optional(D.nullable(D.array(D.string()))),preTokenBalances:D.optional(D.nullable(D.array(T7))),postTokenBalances:D.optional(D.nullable(D.array(T7))),loadedAddresses:D.optional(Dge),computeUnitsConsumed:D.optional(D.number())}),Ej=D.type({err:c1,fee:D.number(),innerInstructions:D.optional(D.nullable(D.array(D.type({index:D.number(),instructions:D.array(Oge)})))),preBalances:D.array(D.number()),postBalances:D.array(D.number()),logMessages:D.optional(D.nullable(D.array(D.string()))),preTokenBalances:D.optional(D.nullable(D.array(T7))),postTokenBalances:D.optional(D.nullable(D.array(T7))),loadedAddresses:D.optional(Dge),computeUnitsConsumed:D.optional(D.number())}),$w=D.union([D.literal(0),D.literal("legacy")]),u1=D.type({pubkey:D.string(),lamports:D.number(),postBalance:D.nullable(D.number()),rewardType:D.nullable(D.string()),commission:D.optional(D.nullable(D.number()))}),rrt=Sr(D.nullable(D.type({blockhash:D.string(),previousBlockhash:D.string(),parentSlot:D.number(),transactions:D.array(D.type({transaction:Aj,meta:D.nullable(N7),version:D.optional($w)})),rewards:D.optional(D.array(u1)),blockTime:D.nullable(D.number()),blockHeight:D.nullable(D.number())}))),nrt=Sr(D.nullable(D.type({blockhash:D.string(),previousBlockhash:D.string(),parentSlot:D.number(),rewards:D.optional(D.array(u1)),blockTime:D.nullable(D.number()),blockHeight:D.nullable(D.number())}))),irt=Sr(D.nullable(D.type({blockhash:D.string(),previousBlockhash:D.string(),parentSlot:D.number(),transactions:D.array(D.type({transaction:Rge,meta:D.nullable(N7),version:D.optional($w)})),rewards:D.optional(D.array(u1)),blockTime:D.nullable(D.number()),blockHeight:D.nullable(D.number())}))),ort=Sr(D.nullable(D.type({blockhash:D.string(),previousBlockhash:D.string(),parentSlot:D.number(),transactions:D.array(D.type({transaction:Nge,meta:D.nullable(Ej),version:D.optional($w)})),rewards:D.optional(D.array(u1)),blockTime:D.nullable(D.number()),blockHeight:D.nullable(D.number())}))),srt=Sr(D.nullable(D.type({blockhash:D.string(),previousBlockhash:D.string(),parentSlot:D.number(),transactions:D.array(D.type({transaction:Rge,meta:D.nullable(Ej),version:D.optional($w)})),rewards:D.optional(D.array(u1)),blockTime:D.nullable(D.number()),blockHeight:D.nullable(D.number())}))),art=Sr(D.nullable(D.type({blockhash:D.string(),previousBlockhash:D.string(),parentSlot:D.number(),rewards:D.optional(D.array(u1)),blockTime:D.nullable(D.number()),blockHeight:D.nullable(D.number())}))),crt=Sr(D.nullable(D.type({blockhash:D.string(),previousBlockhash:D.string(),parentSlot:D.number(),transactions:D.array(D.type({transaction:Aj,meta:D.nullable(N7)})),rewards:D.optional(D.array(u1)),blockTime:D.nullable(D.number())}))),fge=Sr(D.nullable(D.type({blockhash:D.string(),previousBlockhash:D.string(),parentSlot:D.number(),signatures:D.array(D.string()),blockTime:D.nullable(D.number())}))),ZH=Sr(D.nullable(D.type({slot:D.number(),meta:N7,blockTime:D.optional(D.nullable(D.number())),transaction:Aj,version:D.optional($w)}))),b7=Sr(D.nullable(D.type({slot:D.number(),transaction:Nge,meta:D.nullable(Ej),blockTime:D.optional(D.nullable(D.number())),version:D.optional($w)}))),urt=wo(D.type({blockhash:D.string(),feeCalculator:D.type({lamportsPerSignature:D.number()})})),frt=wo(D.type({blockhash:D.string(),lastValidBlockHeight:D.number()})),lrt=D.type({slot:D.number(),numTransactions:D.number(),numSlots:D.number(),samplePeriodSecs:D.number()}),drt=Sr(D.array(lrt)),hrt=wo(D.nullable(D.type({feeCalculator:D.type({lamportsPerSignature:D.number()})}))),prt=Sr(D.string()),mrt=Sr(D.string()),yrt=D.type({err:c1,logs:D.array(D.string()),signature:D.string()}),grt=D.type({result:O7(yrt),subscription:D.number()}),brt={"solana-client":"js/1.73.5"},dj=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,i,o,s,c,l;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,c=r.disableRetryOnRateLimit,l=r.httpAgent),this._rpcEndpoint=att(e),this._rpcWsEndpoint=n||stt(e),this._rpcClient=vtt(e,i,o,s,c,l),this._rpcRequest=xtt(this._rpcClient),this._rpcBatchRequest=wtt(this._rpcClient),this._rpcWebSocket=new cj(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=Li(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),c=D.create(s,wo(D.number()));if("error"in c)throw new Bt(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=D.create(r,Sr(D.nullable(D.number())));if("error"in n)throw new Bt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=D.create(e,Sr(D.number()));if("error"in r)throw new Bt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=D.create(e,Itt);if("error"in r)throw new Bt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=D.create(n,Mtt);if("error"in i)throw new Bt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=D.create(i,wo(uj));if("error"in o)throw new Bt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=D.create(i,wo(uj));if("error"in o)throw new Bt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=Li(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let c=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",c),m=D.create(l,Ptt);if("error"in m)throw new Bt(m.error,`failed to get token accounts owned by account ${e.toBase58()}`);return m.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),c=D.create(s,Rtt);if("error"in c)throw new Bt(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=D.create(i,Btt);if("error"in o)throw new Bt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=D.create(i,ktt);if("error"in o)throw new Bt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=Li(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),c=D.create(s,wo(D.nullable(H6)));if("error"in c)throw new Bt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=Li(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),c=D.create(s,wo(D.nullable(lj)));if("error"in c)throw new Bt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=Li(r),o=e.map(m=>m.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),c=await this._rpcRequest("getMultipleAccounts",s),l=D.create(c,wo(D.array(D.nullable(lj))));if("error"in l)throw new Bt(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=Li(r),o=e.map(m=>m.toBase58()),s=this._buildArgs([o],n,"base64",i),c=await this._rpcRequest("getMultipleAccounts",s),l=D.create(c,wo(D.array(D.nullable(H6))));if("error"in l)throw new Bt(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=Li(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),c=await this._rpcRequest("getStakeActivation",s),l=D.create(c,Sr(Dtt));if("error"in l)throw new Bt(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=Li(r),{encoding:o,...s}=i||{},c=this._buildArgs([e.toBase58()],n,o||"base64",s),l=await this._rpcRequest("getProgramAccounts",c),m=D.create(l,Sr(D.array(Ctt)));if("error"in m)throw new Bt(m.error,`failed to get accounts owned by program ${e.toBase58()}`);return m.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=Li(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),c=D.create(s,Sr(D.array(Ntt)));if("error"in c)throw new Bt(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=Ps.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return bn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((l,m)=>{try{n=this.onSignature(r,(b,E)=>{n=void 0;let I={context:E,value:b};l({__type:lt.TransactionStatus.PROCESSED,response:I})},e);let w=new Promise(b=>{n==null?b():i=this._onSubscriptionStateChange(n,E=>{E==="subscribed"&&b()})});(async()=>{if(await w,o)return;let b=await this.getSignatureStatus(r);if(o||b==null)return;let{context:E,value:I}=b;if(I!=null)if(I?.err)m(I.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(I.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(I.confirmationStatus==="processed"||I.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:lt.TransactionStatus.PROCESSED,response:{context:E,value:I}})}})()}catch(w){m(w)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(b=>{let E=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let I=await E();if(!o){for(;I<=n;)if(await i1(1e3),o||(I=await E(),o))return;b({__type:lt.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),m=this.getCancellationPromise(r),w;try{let b=await Promise.race([m,l,s]);if(b.__type===lt.TransactionStatus.PROCESSED)w=b.response;else throw new F6(i)}finally{o=!0,c()}return w}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let c=!1,l=new Promise(I=>{let M=o,k=null,B=async()=>{try{let{context:R,value:U}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return k=R.slot,U?.nonce}catch{return M}};(async()=>{if(M=await B(),!c)for(;;){if(o!==M){I({__type:lt.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await i1(2e3),c||(M=await B(),c))return}})()}),{abortConfirmation:m,confirmationPromise:w}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),b=this.getCancellationPromise(r),E;try{let I=await Promise.race([b,w,l]);if(I.__type===lt.TransactionStatus.PROCESSED)E=I.response;else{let M;for(;;){let k=await this.getSignatureStatus(s);if(k==null)break;if(k.context.slot<(I.slotInWhichNonceDidAdvance??n)){await i1(400);continue}M=k;break}if(M?.value){let k=e||"finalized",{confirmationStatus:B}=M.value;switch(k){case"processed":case"recent":if(B!=="processed"&&B!=="confirmed"&&B!=="finalized")throw new Cm(s);break;case"confirmed":case"single":case"singleGossip":if(B!=="confirmed"&&B!=="finalized")throw new Cm(s);break;case"finalized":case"max":case"root":if(B!=="finalized")throw new Cm(s);break;default:}E={context:M.context,value:{err:M.value.err}}}else throw new Cm(s)}}finally{c=!0,m()}return E}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(l=>{let m=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{m=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>l({__type:lt.TransactionStatus.TIMED_OUT,timeoutMs:m}),m)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),c;try{let l=await Promise.race([s,i]);if(l.__type===lt.TransactionStatus.PROCESSED)c=l.response;else throw new q6(r,l.timeoutMs/1e3)}finally{clearTimeout(n),o()}return c}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=D.create(e,Sr(D.array($tt)));if("error"in r)throw new Bt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=D.create(n,Ytt);if("error"in i)throw new Bt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=Li(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=D.create(o,Sr(D.number()));if("error"in s)throw new Bt(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=Li(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=D.create(o,Sr(D.string()));if("error"in s)throw new Bt(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=D.create(i,Sr(D.array(So)));if("error"in o)throw new Bt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);bn(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=D.create(i,Jtt);if("error"in o)throw new Bt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=Li(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=D.create(o,Sr(D.number()));if("error"in s)throw new Bt(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=D.create(n,Stt);if("error"in i)throw new Bt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=Li(n),s=this._buildArgs([e.map(m=>m.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),c=await this._rpcRequest("getInflationReward",s),l=D.create(c,ftt);if("error"in l)throw new Bt(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=D.create(e,Att);if("error"in r)throw new Bt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=Li(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=D.create(o,Ett);if("error"in s)throw new Bt(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=D.create(e,_tt);if("error"in r)throw new Bt(r.error,"failed to get epoch schedule");let n=r.result;return new _7(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=D.create(e,Ttt);if("error"in r)throw new Bt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=D.create(i,Xtt);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=D.create(n,urt);if("error"in i)throw new Bt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=D.create(r,drt);if("error"in n)throw new Bt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=D.create(i,hrt);if("error"in o)throw new Bt(o.error,"failed to get fee calculator");let{context:s,value:c}=o.result;return{context:s,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,r){let n=br(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=D.create(o,wo(D.nullable(D.number())));if("error"in s)throw new Bt(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=Li(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=D.create(o,frt);if("error"in s)throw new Bt(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=D.create(e,Sr(gtt));if("error"in r)throw new Bt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=D.create(e,Sr(D.string()));if("error"in r)throw new Bt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=Li(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let c=D.create(s,irt);if("error"in c)throw c.error;return c.result}case"none":{let c=D.create(s,nrt);if("error"in c)throw c.error;return c.result}default:{let c=D.create(s,rrt);if("error"in c)throw c.error;let{result:l}=c;return l?{...l,transactions:l.transactions.map(({transaction:m,meta:w,version:b})=>({meta:w,transaction:{...m,message:YH(b,m.message)},version:b}))}:null}}}catch(c){throw new Bt(c,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=Li(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let c=D.create(s,srt);if("error"in c)throw c.error;return c.result}case"none":{let c=D.create(s,art);if("error"in c)throw c.error;return c.result}default:{let c=D.create(s,ort);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Bt(c,"failed to get block")}}async getBlockHeight(e){let{commitment:r,config:n}=Li(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getBlockHeight",i),s=D.create(o,Sr(D.number()));if("error"in s)throw new Bt(s.error,"failed to get block height information");return s.result}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:c,...l}=e;n=c,r=l}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=D.create(o,btt);if("error"in s)throw new Bt(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=Li(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),c=D.create(s,ZH);if("error"in c)throw new Bt(c.error,"failed to get transaction");let l=c.result;return l&&{...l,transaction:{...l.transaction,message:YH(l.version,l.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=Li(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),c=D.create(s,b7);if("error"in c)throw new Bt(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=Li(r),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{let m=D.create(l,b7);if("error"in m)throw new Bt(m.error,"failed to get transactions");return m.result})}async getTransactions(e,r){let{commitment:n,config:i}=Li(r),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{let m=D.create(l,ZH);if("error"in m)throw new Bt(m.error,"failed to get transactions");let w=m.result;return w&&{...w,transaction:{...w.transaction,message:YH(w.version,w.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=D.create(i,crt);if("error"in o)throw new Bt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let c={...s,transactions:s.transactions.map(({transaction:l,meta:m})=>{let w=new Hd(l.message);return{meta:m,transaction:{...l,message:w}}})};return{...c,transactions:c.transactions.map(({transaction:l,meta:m})=>({meta:m,transaction:Vn.populate(l.message,l.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=D.create(o,Sr(D.array(D.number())));if("error"in s)throw new Bt(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=D.create(i,fge);if("error"in o)throw new Bt(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=D.create(i,fge);if("error"in o)throw new Bt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=D.create(i,ZH);if("error"in o)throw new Bt(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let c=new Hd(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Vn.populate(c,l)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=D.create(i,b7);if("error"in o)throw new Bt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let c=D.create(s,b7);if("error"in c)throw new Bt(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let l=await this.getConfirmedBlockSignatures(r,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let l=await this.getConfirmedBlockSignatures(n);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=D.create(o,Utt);if("error"in s)throw new Bt(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=D.create(o,Ltt);if("error"in s)throw new Bt(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new V6({key:e,state:V6.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=E7.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=D.create(n,prt);if("error"in i)throw new Bt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await i1(100);let n=Date.now()-this._blockhashInfo.lastFetch>=Ige;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await i1(rtt/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=Li(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=D.create(o,wo(D.number()));if("error"in s)throw new Bt(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let k=e.serialize(),B=Wt.Buffer.from(k).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let R=r||{};R.encoding="base64","commitment"in R||(R.commitment=this.commitment);let U=[B,R],P=await this._rpcRequest("simulateTransaction",U),F=D.create(P,cge);if("error"in F)throw new Error("failed to simulate transaction: "+F.error.message);return F.result}let i;if(e instanceof Vn){let M=e;i=new Vn,i.feePayer=M.feePayer,i.instructions=e.instructions,i.nonceInfo=M.nonceInfo,i.signatures=M.signatures}else i=Vn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let M=this._disableBlockhashCaching;for(;;){let k=await this._blockhashWithExpiryBlockHeight(M);if(i.lastValidBlockHeight=k.lastValidBlockHeight,i.recentBlockhash=k.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let B=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(B)&&!this._blockhashInfo.transactionSignatures.includes(B)){this._blockhashInfo.simulatedSignatures.push(B);break}else M=!0}}let s=i._compile(),c=s.serialize(),m=i._serialize(c).toString("base64"),w={encoding:"base64",commitment:this.commitment};if(n){let M=(Array.isArray(n)?n:s.nonProgramIds()).map(k=>k.toBase58());w.accounts={encoding:"base64",addresses:M}}o&&(w.sigVerify=!0);let b=[m,w],E=await this._rpcRequest("simulateTransaction",b),I=D.create(E,cge);if("error"in I){let M;if("data"in I.error&&(M=I.error.data.logs,M&&Array.isArray(M))){let k=`
    `,B=k+M.join(k);console.error(I.error.message,B)}throw new K6("failed to simulate transaction: "+I.error.message,M)}return I.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let c=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=br(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],c=await this._rpcRequest("sendTransaction",s),l=D.create(c,mrt);if("error"in l){let m;throw"data"in l.error&&(m=l.error.data.logs),new K6("failed to send transaction: "+l.error.message,m)}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let c=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=i.callbacks,await this._updateSubscriptions()}catch(c){if(c instanceof Error&&console.error(`${s} error for argument`,o,c.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(c){if(c instanceof Error&&console.error(`${s} error:`,c.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=D.create(e,Ftt);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=Yet([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];bn(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=D.create(e,Ktt);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=D.create(e,grt);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=D.create(e,Htt);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=D.create(e,ztt);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=D.create(e,Wtt);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,c)=>{if(s.type==="status"){r(s.result,c);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),c=this._makeSubscription({callback:(l,m)=>{r(l,m);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=D.create(e,Gtt);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},I7=class t{constructor(e){this._keypair=void 0,this._keypair=e??ige()}static generate(){return new t(ige())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=S7(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=S7(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new vt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},w0=Object.freeze({CreateLookupTable:{index:0,layout:fe.struct([fe.u32("instruction"),jw("recentSlot"),fe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:fe.struct([fe.u32("instruction")])},ExtendLookupTable:{index:2,layout:fe.struct([fe.u32("instruction"),jw(),fe.seq(Or(),fe.offset(fe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:fe.struct([fe.u32("instruction")])},CloseLookupTable:{index:4,layout:fe.struct([fe.u32("instruction")])}}),hj=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(w0))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=Nn(w0.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=Nn(w0.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new vt(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(j6.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},j6=class{constructor(){}static createLookupTable(e){let[r,n]=vt.findProgramAddressSync([e.authority.toBuffer(),ej.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=w0.CreateLookupTable,o=dn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ha.programId,isSigner:!1,isWritable:!1}];return[new Hn({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=w0.FreezeLookupTable,n=dn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Hn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=w0.ExtendLookupTable,n=dn(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ha.programId,isSigner:!1,isWritable:!1}),new Hn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=w0.DeactivateLookupTable,n=dn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Hn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=w0.CloseLookupTable,n=dn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Hn({programId:this.programId,keys:i,data:n})}};j6.programId=new vt("AddressLookupTab1e1111111111111111111111111");var pj=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Kd))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=Nn(Kd.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=Nn(Kd.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=Nn(Kd.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=Nn(Kd.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(z6.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Kd=Object.freeze({RequestUnits:{index:0,layout:fe.struct([fe.u8("instruction"),fe.u32("units"),fe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:fe.struct([fe.u8("instruction"),fe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:fe.struct([fe.u8("instruction"),fe.u32("units")])},SetComputeUnitPrice:{index:3,layout:fe.struct([fe.u8("instruction"),jw("microLamports")])}}),z6=class{constructor(){}static requestUnits(e){let r=Kd.RequestUnits,n=dn(r,e);return new Hn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Kd.RequestHeapFrame,n=dn(r,e);return new Hn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Kd.SetComputeUnitLimit,n=dn(r,e);return new Hn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Kd.SetComputeUnitPrice,n=dn(r,{microLamports:BigInt(e.microLamports)});return new Hn({keys:[],programId:this.programId,data:n})}};z6.programId=new vt("ComputeBudget111111111111111111111111111111");var lge=64,dge=32,hge=64,pge=fe.struct([fe.u8("numSignatures"),fe.u8("padding"),fe.u16("signatureOffset"),fe.u16("signatureInstructionIndex"),fe.u16("publicKeyOffset"),fe.u16("publicKeyInstructionIndex"),fe.u16("messageDataOffset"),fe.u16("messageDataSize"),fe.u16("messageInstructionIndex")]),M7=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;bn(r.length===dge,`Public Key must be ${dge} bytes but received ${r.length} bytes`),bn(i.length===hge,`Signature must be ${hge} bytes but received ${i.length} bytes`);let s=pge.span,c=s+r.length,l=c+i.length,m=1,w=Wt.Buffer.alloc(l+n.length),b=o??65535;return pge.encode({numSignatures:m,padding:0,signatureOffset:c,signatureInstructionIndex:b,publicKeyOffset:s,publicKeyInstructionIndex:b,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:b},w),w.fill(r,s),w.fill(i,c),w.fill(n,l),new Hn({keys:[],programId:t.programId,data:w})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;bn(r.length===lge,`Private key must be ${lge} bytes but received ${r.length} bytes`);try{let o=I7.fromSecretKey(r),s=o.publicKey.toBytes(),c=xj(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};M7.programId=new vt("Ed25519SigVerify111111111111111111111111111");B7.utils.hmacSha256Sync=(t,...e)=>{let r=wet.hmac.create(XH.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var vrt=(t,e)=>B7.signSync(t,e,{der:!1,recovered:!0});B7.utils.isValidPrivateKey;var xrt=B7.getPublicKey,mge=32,QH=20,yge=64,wrt=11,JH=fe.struct([fe.u8("numSignatures"),fe.u16("signatureOffset"),fe.u8("signatureInstructionIndex"),fe.u16("ethAddressOffset"),fe.u8("ethAddressInstructionIndex"),fe.u16("messageDataOffset"),fe.u16("messageDataSize"),fe.u8("messageInstructionIndex"),fe.blob(20,"ethAddress"),fe.blob(64,"signature"),fe.u8("recoveryId")]),k7=class t{constructor(){}static publicKeyToEthAddress(e){bn(e.length===yge,`Public key must be ${yge} bytes but received ${e.length} bytes`);try{return Wt.Buffer.from(rge.keccak_256(br(e))).slice(-QH)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,c;typeof r=="string"?r.startsWith("0x")?c=Wt.Buffer.from(r.substr(2),"hex"):c=Wt.Buffer.from(r,"hex"):c=r,bn(c.length===QH,`Address must be ${QH} bytes but received ${c.length} bytes`);let l=1+wrt,m=l,w=l+c.length,b=w+i.length+1,E=1,I=Wt.Buffer.alloc(JH.span+n.length);return JH.encode({numSignatures:E,signatureOffset:w,signatureInstructionIndex:s,ethAddressOffset:m,ethAddressInstructionIndex:s,messageDataOffset:b,messageDataSize:n.length,messageInstructionIndex:s,signature:br(i),ethAddress:br(c),recoveryId:o},I),I.fill(br(n),JH.span),new Hn({keys:[],programId:t.programId,data:I})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;bn(r.length===mge,`Private key must be ${mge} bytes but received ${r.length} bytes`);try{let o=br(r),s=xrt(o,!1).slice(1),c=Wt.Buffer.from(rge.keccak_256(br(n))),[l,m]=vrt(c,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:l,recoveryId:m,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};k7.programId=new vt("KeccakSecp256k11111111111111111111111111111");var Uge=new vt("StakeConfig11111111111111111111111111111111"),P7=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},a1=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};a1.default=new a1(0,0,vt.default);var mj=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(as))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=Nn(as.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new P7(new vt(r.staker),new vt(r.withdrawer)),lockup:new a1(n.unixTimestamp,n.epoch,new vt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Nn(as.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=Nn(as.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new vt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=Nn(as.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new vt(o),newAuthorizedPubkey:new vt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Nn(as.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Nn(as.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Nn(as.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Nn(as.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Ww.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},as=Object.freeze({Initialize:{index:0,layout:fe.struct([fe.u32("instruction"),Bet(),Cet()])},Authorize:{index:1,layout:fe.struct([fe.u32("instruction"),Or("newAuthorized"),fe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:fe.struct([fe.u32("instruction")])},Split:{index:3,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},Withdraw:{index:4,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},Deactivate:{index:5,layout:fe.struct([fe.u32("instruction")])},Merge:{index:7,layout:fe.struct([fe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:fe.struct([fe.u32("instruction"),Or("newAuthorized"),fe.u32("stakeAuthorizationType"),o1("authoritySeed"),Or("authorityOwner")])}}),Srt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Ww=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||a1.default,s=as.Initialize,c=dn(s,{authorized:{staker:br(n.staker.toBuffer()),withdrawer:br(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:br(o.custodian.toBuffer())}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Hw,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new Hn(l)}static createAccountWithSeed(e){let r=new Vn;r.add(ha.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new Vn;r.add(ha.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=as.Delegate,s=dn(o);return new Vn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:x7,isSigner:!1,isWritable:!1},{pubkey:Uge,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,c=as.Authorize,l=dn(c,{newAuthorized:br(i.toBuffer()),stakeAuthorizationType:o.index}),m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&m.push({pubkey:s,isSigner:!1,isWritable:!1}),new Vn().add({keys:m,programId:this.programId,data:l})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:c,custodianPubkey:l}=e,m=as.AuthorizeWithSeed,w=dn(m,{newAuthorized:br(s.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:i,authorityOwner:br(o.toBuffer())}),b=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Fd,isSigner:!1,isWritable:!1}];return l&&b.push({pubkey:l,isSigner:!1,isWritable:!1}),new Vn().add({keys:b,programId:this.programId,data:w})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=as.Split,c=dn(s,{lamports:o});return new Hn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e){let r=new Vn;return r.add(ha.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:c}=e,l=new Vn;return l.add(ha.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),l.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:c}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=as.Merge,s=dn(o);return new Vn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:x7,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,c=as.Withdraw,l=dn(c,{lamports:o}),m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:x7,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&m.push({pubkey:s,isSigner:!1,isWritable:!1}),new Vn().add({keys:m,programId:this.programId,data:l})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=as.Deactivate,o=dn(i);return new Vn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};Ww.programId=new vt("Stake11111111111111111111111111111111111111");Ww.space=200;var R7=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},yj=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(S0))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=Nn(S0.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new R7(new vt(r.nodePubkey),new vt(r.authorizedVoter),new vt(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=Nn(S0.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new vt(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=Nn(S0.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new vt(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new vt(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Nn(S0.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Gw.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},S0=Object.freeze({InitializeAccount:{index:0,layout:fe.struct([fe.u32("instruction"),Oet()])},Authorize:{index:1,layout:fe.struct([fe.u32("instruction"),Or("newAuthorized"),fe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:fe.struct([fe.u32("instruction"),Net()])}}),Art=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),Gw=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=S0.InitializeAccount,s=dn(o,{voteInit:{nodePubkey:br(i.nodePubkey.toBuffer()),authorizedVoter:br(i.authorizedVoter.toBuffer()),authorizedWithdrawer:br(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Hw,isSigner:!1,isWritable:!1},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Hn(c)}static createAccount(e){let r=new Vn;return r.add(ha.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=S0.Authorize,c=dn(s,{newAuthorized:br(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Vn().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:c}=e,l=S0.AuthorizeWithSeed,m=dn(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:br(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:br(o.toBuffer()),voteAuthorizationType:s.index}}),w=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Vn().add({keys:w,programId:this.programId,data:m})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=S0.Withdraw,c=dn(s,{lamports:i}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Vn().add({keys:l,programId:this.programId,data:c})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};Gw.programId=new vt("Vote111111111111111111111111111111111111111");Gw.space=3731;var Lge=new vt("Va1idator1nfo111111111111111111111111111111"),Ert=D.type({name:D.string(),website:D.optional(D.string()),details:D.optional(D.string()),keybaseUsername:D.optional(D.string())}),gj=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Sc(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new vt(Ac(r,0,Vd)),c=qd(r)===1;i.push({publicKey:s,isSigner:c})}if(i[0].publicKey.equals(Lge)&&i[1].isSigner){let o=o1().decode(Wt.Buffer.from(r)),s=JSON.parse(o);return D.assert(s,Ert),new t(i[1].publicKey,s)}return null}},_rt=new vt("Vote111111111111111111111111111111111111111"),Trt=fe.struct([Or("nodePubkey"),Or("authorizedWithdrawer"),fe.u8("commission"),fe.nu64(),fe.seq(fe.struct([fe.nu64("slot"),fe.u32("confirmationCount")]),fe.offset(fe.u32(),-8),"votes"),fe.u8("rootSlotValid"),fe.nu64("rootSlot"),fe.nu64(),fe.seq(fe.struct([fe.nu64("epoch"),Or("authorizedVoter")]),fe.offset(fe.u32(),-8),"authorizedVoters"),fe.struct([fe.seq(fe.struct([Or("authorizedPubkey"),fe.nu64("epochOfLastAuthorizedSwitch"),fe.nu64("targetEpoch")]),32,"buf"),fe.nu64("idx"),fe.u8("isEmpty")],"priorVoters"),fe.nu64(),fe.seq(fe.struct([fe.nu64("epoch"),fe.nu64("credits"),fe.nu64("prevCredits")]),fe.offset(fe.u32(),-8),"epochCredits"),fe.struct([fe.nu64("slot"),fe.nu64("timestamp")],"lastTimestamp")]),bj=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=Trt.decode(br(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new vt(n.nodePubkey),authorizedWithdrawer:new vt(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(Irt),priorVoters:Mrt(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function Irt({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new vt(t)}}function gge({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new vt(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function Mrt({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(gge),...t.slice(0,e).map(gge)]}var bge={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function krt(t,e){let r=e===!1?"http":"https";if(!t)return bge[r].devnet;let n=bge[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function Prt(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},c=await t.sendRawTransaction(e,s),l=o&&o.commitment,w=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(c,l))).value;if(w.err)throw new Error(`Raw transaction ${c} failed (${JSON.stringify(w)})`);return c}var Rrt=1e9;lt.Account=rj;lt.AddressLookupTableAccount=V6;lt.AddressLookupTableInstruction=hj;lt.AddressLookupTableProgram=j6;lt.Authorized=P7;lt.BLOCKHASH_CACHE_TIMEOUT_MS=Ige;lt.BPF_LOADER_DEPRECATED_PROGRAM_ID=Pet;lt.BPF_LOADER_PROGRAM_ID=zet;lt.BpfLoader=aj;lt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Kd;lt.ComputeBudgetInstruction=pj;lt.ComputeBudgetProgram=z6;lt.Connection=dj;lt.Ed25519Program=M7;lt.Enum=tj;lt.EpochSchedule=_7;lt.FeeCalculatorLayout=Ege;lt.Keypair=I7;lt.LAMPORTS_PER_SOL=Rrt;lt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=w0;lt.Loader=zw;lt.Lockup=a1;lt.MAX_SEED_LENGTH=wge;lt.Message=Hd;lt.MessageAccountKeys=s1;lt.MessageV0=Vw;lt.NONCE_ACCOUNT_LENGTH=oj;lt.NonceAccount=E7;lt.PACKET_DATA_SIZE=Om;lt.PUBLIC_KEY_LENGTH=Vd;lt.PublicKey=vt;lt.SIGNATURE_LENGTH_IN_BYTES=L6;lt.SOLANA_SCHEMA=D6;lt.STAKE_CONFIG_ID=Uge;lt.STAKE_INSTRUCTION_LAYOUTS=as;lt.SYSTEM_INSTRUCTION_LAYOUTS=fi;lt.SYSVAR_CLOCK_PUBKEY=Fd;lt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=Uet;lt.SYSVAR_INSTRUCTIONS_PUBKEY=Let;lt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=v7;lt.SYSVAR_RENT_PUBKEY=Hw;lt.SYSVAR_REWARDS_PUBKEY=Fet;lt.SYSVAR_SLOT_HASHES_PUBKEY=qet;lt.SYSVAR_SLOT_HISTORY_PUBKEY=Ket;lt.SYSVAR_STAKE_HISTORY_PUBKEY=x7;lt.Secp256k1Program=k7;lt.SendTransactionError=K6;lt.SolanaJSONRPCError=Bt;lt.SolanaJSONRPCErrorCode=Qet;lt.StakeAuthorizationLayout=Srt;lt.StakeInstruction=mj;lt.StakeProgram=Ww;lt.Struct=U6;lt.SystemInstruction=sj;lt.SystemProgram=ha;lt.Transaction=Vn;lt.TransactionExpiredBlockheightExceededError=F6;lt.TransactionExpiredNonceInvalidError=Cm;lt.TransactionExpiredTimeoutError=q6;lt.TransactionInstruction=Hn;lt.TransactionMessage=nj;lt.VALIDATOR_INFO_KEY=Lge;lt.VERSION_PREFIX_MASK=C7;lt.VOTE_PROGRAM_ID=_rt;lt.ValidatorInfo=gj;lt.VersionedMessage=wj;lt.VersionedTransaction=ij;lt.VoteAccount=bj;lt.VoteAuthorizationLayout=Art;lt.VoteInit=R7;lt.VoteInstruction=yj;lt.VoteProgram=Gw;lt.clusterApiUrl=krt;lt.sendAndConfirmRawTransaction=Prt;lt.sendAndConfirmTransaction=w7});var fz=K(b_=>{"use strict";d();h();Object.defineProperty(b_,"__esModule",{value:!0});b_.SupportedAlgorithm=void 0;var aot;(function(t){t.sha256="sha256",t.sha512="sha512"})(aot=b_.SupportedAlgorithm||(b_.SupportedAlgorithm={}))});var O1e=K(kP=>{"use strict";d();h();Object.defineProperty(kP,"__esModule",{value:!0});kP.version=void 0;kP.version="sha2/5.7.0"});var D1e=K(bf=>{"use strict";d();h();var cot=bf&&bf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bf,"__esModule",{value:!0});bf.computeHmac=bf.sha512=bf.sha256=bf.ripemd160=void 0;var v_=cot(lw()),x_=ts(),uot=fz(),N1e=qa(),fot=O1e(),lot=new N1e.Logger(fot.version);function dot(t){return"0x"+v_.default.ripemd160().update((0,x_.arrayify)(t)).digest("hex")}bf.ripemd160=dot;function hot(t){return"0x"+v_.default.sha256().update((0,x_.arrayify)(t)).digest("hex")}bf.sha256=hot;function pot(t){return"0x"+v_.default.sha512().update((0,x_.arrayify)(t)).digest("hex")}bf.sha512=pot;function mot(t,e,r){return uot.SupportedAlgorithm[t]||lot.throwError("unsupported algorithm "+t,N1e.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+v_.default.hmac(v_.default[t],(0,x_.arrayify)(e)).update((0,x_.arrayify)(r)).digest("hex")}bf.computeHmac=mot});var lz=K(vf=>{"use strict";d();h();Object.defineProperty(vf,"__esModule",{value:!0});vf.SupportedAlgorithm=vf.sha512=vf.sha256=vf.ripemd160=vf.computeHmac=void 0;var PP=D1e();Object.defineProperty(vf,"computeHmac",{enumerable:!0,get:function(){return PP.computeHmac}});Object.defineProperty(vf,"ripemd160",{enumerable:!0,get:function(){return PP.ripemd160}});Object.defineProperty(vf,"sha256",{enumerable:!0,get:function(){return PP.sha256}});Object.defineProperty(vf,"sha512",{enumerable:!0,get:function(){return PP.sha512}});var yot=fz();Object.defineProperty(vf,"SupportedAlgorithm",{enumerable:!0,get:function(){return yot.SupportedAlgorithm}})});var Oz=K((Cz,ave)=>{"use strict";d();h();(function(t){function e(u){return parseInt(u)===u}function r(u){if(!e(u.length))return!1;for(var x=0;x<u.length;x++)if(!e(u[x])||u[x]<0||u[x]>255)return!1;return!0}function n(u,x){if(u.buffer&&ArrayBuffer.isView(u)&&u.name==="Uint8Array")return x&&(u.slice?u=u.slice():u=Array.prototype.slice.call(u)),u;if(Array.isArray(u)){if(!r(u))throw new Error("Array contains invalid value: "+u);return new Uint8Array(u)}if(e(u.length)&&r(u))return new Uint8Array(u);throw new Error("unsupported array-like object")}function i(u){return new Uint8Array(u)}function o(u,x,q,L,C){(L!=null||C!=null)&&(u.slice?u=u.slice(L,C):u=Array.prototype.slice.call(u,L,C)),x.set(u,q)}var s=function(){function u(q){var L=[],C=0;for(q=encodeURI(q);C<q.length;){var W=q.charCodeAt(C++);W===37?(L.push(parseInt(q.substr(C,2),16)),C+=2):L.push(W)}return n(L)}function x(q){for(var L=[],C=0;C<q.length;){var W=q[C];W<128?(L.push(String.fromCharCode(W)),C++):W>191&&W<224?(L.push(String.fromCharCode((W&31)<<6|q[C+1]&63)),C+=2):(L.push(String.fromCharCode((W&15)<<12|(q[C+1]&63)<<6|q[C+2]&63)),C+=3)}return L.join("")}return{toBytes:u,fromBytes:x}}(),c=function(){function u(L){for(var C=[],W=0;W<L.length;W+=2)C.push(parseInt(L.substr(W,2),16));return C}var x="0123456789abcdef";function q(L){for(var C=[],W=0;W<L.length;W++){var ee=L[W];C.push(x[(ee&240)>>4]+x[ee&15])}return C.join("")}return{toBytes:u,fromBytes:q}}(),l={16:10,24:12,32:14},m=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],w=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],b=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],E=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],I=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],M=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],k=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],B=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],R=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],U=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],P=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],F=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],V=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],H=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],re=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function J(u){for(var x=[],q=0;q<u.length;q+=4)x.push(u[q]<<24|u[q+1]<<16|u[q+2]<<8|u[q+3]);return x}var ie=function(u){if(!(this instanceof ie))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(u,!0)}),this._prepare()};ie.prototype._prepare=function(){var u=l[this.key.length];if(u==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var x=0;x<=u;x++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var q=(u+1)*4,L=this.key.length/4,C=J(this.key),W,x=0;x<L;x++)W=x>>2,this._Ke[W][x%4]=C[x],this._Kd[u-W][x%4]=C[x];for(var ee=0,ne=L,Ve;ne<q;){if(Ve=C[L-1],C[0]^=w[Ve>>16&255]<<24^w[Ve>>8&255]<<16^w[Ve&255]<<8^w[Ve>>24&255]^m[ee]<<24,ee+=1,L!=8)for(var x=1;x<L;x++)C[x]^=C[x-1];else{for(var x=1;x<L/2;x++)C[x]^=C[x-1];Ve=C[L/2-1],C[L/2]^=w[Ve&255]^w[Ve>>8&255]<<8^w[Ve>>16&255]<<16^w[Ve>>24&255]<<24;for(var x=L/2+1;x<L;x++)C[x]^=C[x-1]}for(var x=0,ae,G;x<L&&ne<q;)ae=ne>>2,G=ne%4,this._Ke[ae][G]=C[x],this._Kd[u-ae][G]=C[x++],ne++}for(var ae=1;ae<u;ae++)for(var G=0;G<4;G++)Ve=this._Kd[ae][G],this._Kd[ae][G]=F[Ve>>24&255]^V[Ve>>16&255]^H[Ve>>8&255]^re[Ve&255]},ie.prototype.encrypt=function(u){if(u.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var x=this._Ke.length-1,q=[0,0,0,0],L=J(u),C=0;C<4;C++)L[C]^=this._Ke[0][C];for(var W=1;W<x;W++){for(var C=0;C<4;C++)q[C]=E[L[C]>>24&255]^I[L[(C+1)%4]>>16&255]^M[L[(C+2)%4]>>8&255]^k[L[(C+3)%4]&255]^this._Ke[W][C];L=q.slice()}for(var ee=i(16),ne,C=0;C<4;C++)ne=this._Ke[x][C],ee[4*C]=(w[L[C]>>24&255]^ne>>24)&255,ee[4*C+1]=(w[L[(C+1)%4]>>16&255]^ne>>16)&255,ee[4*C+2]=(w[L[(C+2)%4]>>8&255]^ne>>8)&255,ee[4*C+3]=(w[L[(C+3)%4]&255]^ne)&255;return ee},ie.prototype.decrypt=function(u){if(u.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var x=this._Kd.length-1,q=[0,0,0,0],L=J(u),C=0;C<4;C++)L[C]^=this._Kd[0][C];for(var W=1;W<x;W++){for(var C=0;C<4;C++)q[C]=B[L[C]>>24&255]^R[L[(C+3)%4]>>16&255]^U[L[(C+2)%4]>>8&255]^P[L[(C+1)%4]&255]^this._Kd[W][C];L=q.slice()}for(var ee=i(16),ne,C=0;C<4;C++)ne=this._Kd[x][C],ee[4*C]=(b[L[C]>>24&255]^ne>>24)&255,ee[4*C+1]=(b[L[(C+3)%4]>>16&255]^ne>>16)&255,ee[4*C+2]=(b[L[(C+2)%4]>>8&255]^ne>>8)&255,ee[4*C+3]=(b[L[(C+1)%4]&255]^ne)&255;return ee};var S=function(u){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new ie(u)};S.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var x=i(u.length),q=i(16),L=0;L<u.length;L+=16)o(u,q,0,L,L+16),q=this._aes.encrypt(q),o(q,x,L);return x},S.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var x=i(u.length),q=i(16),L=0;L<u.length;L+=16)o(u,q,0,L,L+16),q=this._aes.decrypt(q),o(q,x,L);return x};var a=function(u,x){if(!(this instanceof a))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!x)x=i(16);else if(x.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(x,!0),this._aes=new ie(u)};a.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var x=i(u.length),q=i(16),L=0;L<u.length;L+=16){o(u,q,0,L,L+16);for(var C=0;C<16;C++)q[C]^=this._lastCipherblock[C];this._lastCipherblock=this._aes.encrypt(q),o(this._lastCipherblock,x,L)}return x},a.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var x=i(u.length),q=i(16),L=0;L<u.length;L+=16){o(u,q,0,L,L+16),q=this._aes.decrypt(q);for(var C=0;C<16;C++)x[L+C]=q[C]^this._lastCipherblock[C];o(u,this._lastCipherblock,0,L,L+16)}return x};var f=function(u,x,q){if(!(this instanceof f))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!x)x=i(16);else if(x.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");q||(q=1),this.segmentSize=q,this._shiftRegister=n(x,!0),this._aes=new ie(u)};f.prototype.encrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var x=n(u,!0),q,L=0;L<x.length;L+=this.segmentSize){q=this._aes.encrypt(this._shiftRegister);for(var C=0;C<this.segmentSize;C++)x[L+C]^=q[C];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(x,this._shiftRegister,16-this.segmentSize,L,L+this.segmentSize)}return x},f.prototype.decrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var x=n(u,!0),q,L=0;L<x.length;L+=this.segmentSize){q=this._aes.encrypt(this._shiftRegister);for(var C=0;C<this.segmentSize;C++)x[L+C]^=q[C];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(u,this._shiftRegister,16-this.segmentSize,L,L+this.segmentSize)}return x};var p=function(u,x){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!x)x=i(16);else if(x.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(x,!0),this._lastPrecipherIndex=16,this._aes=new ie(u)};p.prototype.encrypt=function(u){for(var x=n(u,!0),q=0;q<x.length;q++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),x[q]^=this._lastPrecipher[this._lastPrecipherIndex++];return x},p.prototype.decrypt=p.prototype.encrypt;var y=function(u){if(!(this instanceof y))throw Error("Counter must be instanitated with `new`");u!==0&&!u&&(u=1),typeof u=="number"?(this._counter=i(16),this.setValue(u)):this.setBytes(u)};y.prototype.setValue=function(u){if(typeof u!="number"||parseInt(u)!=u)throw new Error("invalid counter value (must be an integer)");for(var x=15;x>=0;--x)this._counter[x]=u%256,u=u>>8},y.prototype.setBytes=function(u){if(u=n(u,!0),u.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=u},y.prototype.increment=function(){for(var u=15;u>=0;u--)if(this._counter[u]===255)this._counter[u]=0;else{this._counter[u]++;break}};var g=function(u,x){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",x instanceof y||(x=new y(x)),this._counter=x,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new ie(u)};g.prototype.encrypt=function(u){for(var x=n(u,!0),q=0;q<x.length;q++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),x[q]^=this._remainingCounter[this._remainingCounterIndex++];return x},g.prototype.decrypt=g.prototype.encrypt;function A(u){u=n(u,!0);var x=16-u.length%16,q=i(u.length+x);o(u,q);for(var L=u.length;L<q.length;L++)q[L]=x;return q}function _(u){if(u=n(u,!0),u.length<16)throw new Error("PKCS#7 invalid length");var x=u[u.length-1];if(x>16)throw new Error("PKCS#7 padding byte out of range");for(var q=u.length-x,L=0;L<x;L++)if(u[q+L]!==x)throw new Error("PKCS#7 invalid padding byte");var C=i(q);return o(u,C,0,0,q),C}var v={AES:ie,Counter:y,ModeOfOperation:{ecb:S,cbc:a,cfb:f,ofb:p,ctr:g},utils:{hex:c,utf8:s},padding:{pkcs7:{pad:A,strip:_}},_arrayTest:{coerceArray:n,createArray:i,copyArray:o}};typeof Cz<"u"?ave.exports=v:typeof define=="function"&&define.amd?define(v):(t.aesjs&&(v._aesjs=t.aesjs),t.aesjs=v)})(Cz)});var lve=K((Kz,fve)=>{"use strict";d();h();(function(t){function r(I){let M=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),k=1779033703,B=3144134277,R=1013904242,U=2773480762,P=1359893119,F=2600822924,V=528734635,H=1541459225,re=new Uint32Array(64);function J(g){let A=0,_=g.length;for(;_>=64;){let v=k,u=B,x=R,q=U,L=P,C=F,W=V,ee=H,ne,Ve,ae,G,he;for(Ve=0;Ve<16;Ve++)ae=A+Ve*4,re[Ve]=(g[ae]&255)<<24|(g[ae+1]&255)<<16|(g[ae+2]&255)<<8|g[ae+3]&255;for(Ve=16;Ve<64;Ve++)ne=re[Ve-2],G=(ne>>>17|ne<<15)^(ne>>>19|ne<<13)^ne>>>10,ne=re[Ve-15],he=(ne>>>7|ne<<25)^(ne>>>18|ne<<14)^ne>>>3,re[Ve]=(G+re[Ve-7]|0)+(he+re[Ve-16]|0)|0;for(Ve=0;Ve<64;Ve++)G=(((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(L&C^~L&W)|0)+(ee+(M[Ve]+re[Ve]|0)|0)|0,he=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&u^v&x^u&x)|0,ee=W,W=C,C=L,L=q+G|0,q=x,x=u,u=v,v=G+he|0;k=k+v|0,B=B+u|0,R=R+x|0,U=U+q|0,P=P+L|0,F=F+C|0,V=V+W|0,H=H+ee|0,A+=64,_-=64}}J(I);let ie,S=I.length%64,a=I.length/536870912|0,f=I.length<<3,p=S<56?56:120,y=I.slice(I.length-S,I.length);for(y.push(128),ie=S+1;ie<p;ie++)y.push(0);return y.push(a>>>24&255),y.push(a>>>16&255),y.push(a>>>8&255),y.push(a>>>0&255),y.push(f>>>24&255),y.push(f>>>16&255),y.push(f>>>8&255),y.push(f>>>0&255),J(y),[k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,V>>>24&255,V>>>16&255,V>>>8&255,V>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255]}function n(I,M,k){I=I.length<=64?I:r(I);let B=64+M.length+4,R=new Array(B),U=new Array(64),P,F=[];for(P=0;P<64;P++)R[P]=54;for(P=0;P<I.length;P++)R[P]^=I[P];for(P=0;P<M.length;P++)R[64+P]=M[P];for(P=B-4;P<B;P++)R[P]=0;for(P=0;P<64;P++)U[P]=92;for(P=0;P<I.length;P++)U[P]^=I[P];function V(){for(let H=B-1;H>=B-4;H--){if(R[H]++,R[H]<=255)return;R[H]=0}}for(;k>=32;)V(),F=F.concat(r(U.concat(r(R)))),k-=32;return k>0&&(V(),F=F.concat(r(U.concat(r(R))).slice(0,k))),F}function i(I,M,k,B,R){let U;for(l(I,(2*k-1)*16,R,0,16),U=0;U<2*k;U++)c(I,U*16,R,16),s(R,B),l(R,0,I,M+U*16,16);for(U=0;U<k;U++)l(I,M+U*2*16,I,U*16,16);for(U=0;U<k;U++)l(I,M+(U*2+1)*16,I,(U+k)*16,16)}function o(I,M){return I<<M|I>>>32-M}function s(I,M){l(I,0,M,0,16);for(let k=8;k>0;k-=2)M[4]^=o(M[0]+M[12],7),M[8]^=o(M[4]+M[0],9),M[12]^=o(M[8]+M[4],13),M[0]^=o(M[12]+M[8],18),M[9]^=o(M[5]+M[1],7),M[13]^=o(M[9]+M[5],9),M[1]^=o(M[13]+M[9],13),M[5]^=o(M[1]+M[13],18),M[14]^=o(M[10]+M[6],7),M[2]^=o(M[14]+M[10],9),M[6]^=o(M[2]+M[14],13),M[10]^=o(M[6]+M[2],18),M[3]^=o(M[15]+M[11],7),M[7]^=o(M[3]+M[15],9),M[11]^=o(M[7]+M[3],13),M[15]^=o(M[11]+M[7],18),M[1]^=o(M[0]+M[3],7),M[2]^=o(M[1]+M[0],9),M[3]^=o(M[2]+M[1],13),M[0]^=o(M[3]+M[2],18),M[6]^=o(M[5]+M[4],7),M[7]^=o(M[6]+M[5],9),M[4]^=o(M[7]+M[6],13),M[5]^=o(M[4]+M[7],18),M[11]^=o(M[10]+M[9],7),M[8]^=o(M[11]+M[10],9),M[9]^=o(M[8]+M[11],13),M[10]^=o(M[9]+M[8],18),M[12]^=o(M[15]+M[14],7),M[13]^=o(M[12]+M[15],9),M[14]^=o(M[13]+M[12],13),M[15]^=o(M[14]+M[13],18);for(let k=0;k<16;++k)I[k]+=M[k]}function c(I,M,k,B){for(let R=0;R<B;R++)k[R]^=I[M+R]}function l(I,M,k,B,R){for(;R--;)k[B++]=I[M++]}function m(I){if(!I||typeof I.length!="number")return!1;for(let M=0;M<I.length;M++){let k=I[M];if(typeof k!="number"||k%1||k<0||k>=256)return!1}return!0}function w(I,M){if(typeof I!="number"||I%1)throw new Error("invalid "+M);return I}function b(I,M,k,B,R,U,P){if(k=w(k,"N"),B=w(B,"r"),R=w(R,"p"),U=w(U,"dkLen"),k===0||k&k-1)throw new Error("N must be power of 2");if(k>2147483647/128/B)throw new Error("N too large");if(B>2147483647/128/R)throw new Error("r too large");if(!m(I))throw new Error("password must be an array or buffer");if(I=Array.prototype.slice.call(I),!m(M))throw new Error("salt must be an array or buffer");M=Array.prototype.slice.call(M);let F=n(I,M,R*128*B),V=new Uint32Array(R*32*B);for(let L=0;L<V.length;L++){let C=L*4;V[L]=(F[C+3]&255)<<24|(F[C+2]&255)<<16|(F[C+1]&255)<<8|(F[C+0]&255)<<0}let H=new Uint32Array(64*B),re=new Uint32Array(32*B*k),J=32*B,ie=new Uint32Array(16),S=new Uint32Array(16),a=R*k*2,f=0,p=null,y=!1,g=0,A=0,_,v,u=P?parseInt(1e3/B):4294967295,x=typeof setImmediate<"u"?setImmediate:setTimeout,q=function(){if(y)return P(new Error("cancelled"),f/a);let L;switch(g){case 0:v=A*32*B,l(V,v,H,0,J),g=1,_=0;case 1:L=k-_,L>u&&(L=u);for(let W=0;W<L;W++)l(H,0,re,(_+W)*J,J),i(H,J,B,ie,S);if(_+=L,f+=L,P){let W=parseInt(1e3*f/a);if(W!==p){if(y=P(null,f/a),y)break;p=W}}if(_<k)break;_=0,g=2;case 2:L=k-_,L>u&&(L=u);for(let W=0;W<L;W++){let ee=(2*B-1)*16,ne=H[ee]&k-1;c(re,ne*J,H,J),i(H,J,B,ie,S)}if(_+=L,f+=L,P){let W=parseInt(1e3*f/a);if(W!==p){if(y=P(null,f/a),y)break;p=W}}if(_<k)break;if(l(H,0,V,v,J),A++,A<R){g=0;break}F=[];for(let W=0;W<V.length;W++)F.push(V[W]>>0&255),F.push(V[W]>>8&255),F.push(V[W]>>16&255),F.push(V[W]>>24&255);let C=n(I,F,U);return P&&P(null,1,C),C}P&&x(q)};if(!P)for(;;){let L=q();if(L!=null)return L}q()}let E={scrypt:function(I,M,k,B,R,U,P){return new Promise(function(F,V){let H=0;P&&P(0),b(I,M,k,B,R,U,function(re,J,ie){if(re)V(re);else if(ie)P&&H!==1&&P(1),F(new Uint8Array(ie));else if(P&&J!==H)return H=J,P(J)})})},syncScrypt:function(I,M,k,B,R,U){return new Uint8Array(b(I,M,k,B,R,U))}};typeof Kz<"u"?fve.exports=E:typeof define=="function"&&define.amd?define(E):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=E)})(Kz)});var S1=K(F2=>{"use strict";d();h();Object.defineProperty(F2,"__esModule",{value:!0});F2.bech32m=F2.bech32=void 0;var R9="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Mxe={};for(let t=0;t<R9.length;t++){let e=R9.charAt(t);Mxe[e]=t}function L2(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Ixe(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=L2(e)^n>>5}e=L2(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=L2(e)^n&31}return e}function $W(t,e,r,n){let i=0,o=0,s=(1<<r)-1,c=[];for(let l=0;l<t.length;++l)for(i=i<<e|t[l],o+=e;o>=r;)o-=r,c.push(i>>o&s);if(n)o>0&&c.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return c}function Ect(t){return $W(t,8,5,!0)}function _ct(t){let e=$W(t,5,8,!1);if(Array.isArray(e))return e}function Tct(t){let e=$W(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function kxe(t){let e;t==="bech32"?e=1:e=734539939;function r(s,c,l){if(l=l||90,s.length+7+c.length>l)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let m=Ixe(s);if(typeof m=="string")throw new Error(m);let w=s+"1";for(let b=0;b<c.length;++b){let E=c[b];if(E>>5)throw new Error("Non 5-bit word");m=L2(m)^E,w+=R9.charAt(E)}for(let b=0;b<6;++b)m=L2(m);m^=e;for(let b=0;b<6;++b){let E=m>>(5-b)*5&31;w+=R9.charAt(E)}return w}function n(s,c){if(c=c||90,s.length<8)return s+" too short";if(s.length>c)return"Exceeds length limit";let l=s.toLowerCase(),m=s.toUpperCase();if(s!==l&&s!==m)return"Mixed-case string "+s;s=l;let w=s.lastIndexOf("1");if(w===-1)return"No separator character for "+s;if(w===0)return"Missing prefix for "+s;let b=s.slice(0,w),E=s.slice(w+1);if(E.length<6)return"Data too short";let I=Ixe(b);if(typeof I=="string")return I;let M=[];for(let k=0;k<E.length;++k){let B=E.charAt(k),R=Mxe[B];if(R===void 0)return"Unknown character "+B;I=L2(I)^R,!(k+6>=E.length)&&M.push(R)}return I!==e?"Invalid checksum for "+s:{prefix:b,words:M}}function i(s,c){let l=n(s,c);if(typeof l=="object")return l}function o(s,c){let l=n(s,c);if(typeof l=="object")return l;throw new Error(l)}return{decodeUnsafe:i,decode:o,encode:r,toWords:Ect,fromWordsUnsafe:_ct,fromWords:Tct}}F2.bech32=kxe("bech32");F2.bech32m=kxe("bech32m")});var ls=K((Wdr,C9)=>{d();h();(function(t){"use strict";var e=function(Z){var z,j=new Float64Array(16);if(Z)for(z=0;z<Z.length;z++)j[z]=Z[z];return j},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=e(),s=e([1]),c=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),w=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function I(Z,z,j,N){Z[z]=j>>24&255,Z[z+1]=j>>16&255,Z[z+2]=j>>8&255,Z[z+3]=j&255,Z[z+4]=N>>24&255,Z[z+5]=N>>16&255,Z[z+6]=N>>8&255,Z[z+7]=N&255}function M(Z,z,j,N,Q){var X,pe=0;for(X=0;X<Q;X++)pe|=Z[z+X]^j[N+X];return(1&pe-1>>>8)-1}function k(Z,z,j,N){return M(Z,z,j,N,16)}function B(Z,z,j,N){return M(Z,z,j,N,32)}function R(Z,z,j,N){for(var Q=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,X=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,pe=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,oe=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,ue=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,at=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,Je=z[0]&255|(z[1]&255)<<8|(z[2]&255)<<16|(z[3]&255)<<24,At=z[4]&255|(z[5]&255)<<8|(z[6]&255)<<16|(z[7]&255)<<24,tt=z[8]&255|(z[9]&255)<<8|(z[10]&255)<<16|(z[11]&255)<<24,dt=z[12]&255|(z[13]&255)<<8|(z[14]&255)<<16|(z[15]&255)<<24,ht=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,bt=j[16]&255|(j[17]&255)<<8|(j[18]&255)<<16|(j[19]&255)<<24,gt=j[20]&255|(j[21]&255)<<8|(j[22]&255)<<16|(j[23]&255)<<24,pt=j[24]&255|(j[25]&255)<<8|(j[26]&255)<<16|(j[27]&255)<<24,yt=j[28]&255|(j[29]&255)<<8|(j[30]&255)<<16|(j[31]&255)<<24,mt=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,it=Q,ut=X,Xe=pe,ot=oe,st=ue,Ze=at,Fe=Je,qe=At,nt=tt,Ge=dt,$e=ht,ct=bt,Kt=gt,nr=pt,sr=yt,ir=mt,de,wr=0;wr<20;wr+=2)de=it+Kt|0,st^=de<<7|de>>>25,de=st+it|0,nt^=de<<9|de>>>23,de=nt+st|0,Kt^=de<<13|de>>>19,de=Kt+nt|0,it^=de<<18|de>>>14,de=Ze+ut|0,Ge^=de<<7|de>>>25,de=Ge+Ze|0,nr^=de<<9|de>>>23,de=nr+Ge|0,ut^=de<<13|de>>>19,de=ut+nr|0,Ze^=de<<18|de>>>14,de=$e+Fe|0,sr^=de<<7|de>>>25,de=sr+$e|0,Xe^=de<<9|de>>>23,de=Xe+sr|0,Fe^=de<<13|de>>>19,de=Fe+Xe|0,$e^=de<<18|de>>>14,de=ir+ct|0,ot^=de<<7|de>>>25,de=ot+ir|0,qe^=de<<9|de>>>23,de=qe+ot|0,ct^=de<<13|de>>>19,de=ct+qe|0,ir^=de<<18|de>>>14,de=it+ot|0,ut^=de<<7|de>>>25,de=ut+it|0,Xe^=de<<9|de>>>23,de=Xe+ut|0,ot^=de<<13|de>>>19,de=ot+Xe|0,it^=de<<18|de>>>14,de=Ze+st|0,Fe^=de<<7|de>>>25,de=Fe+Ze|0,qe^=de<<9|de>>>23,de=qe+Fe|0,st^=de<<13|de>>>19,de=st+qe|0,Ze^=de<<18|de>>>14,de=$e+Ge|0,ct^=de<<7|de>>>25,de=ct+$e|0,nt^=de<<9|de>>>23,de=nt+ct|0,Ge^=de<<13|de>>>19,de=Ge+nt|0,$e^=de<<18|de>>>14,de=ir+sr|0,Kt^=de<<7|de>>>25,de=Kt+ir|0,nr^=de<<9|de>>>23,de=nr+Kt|0,sr^=de<<13|de>>>19,de=sr+nr|0,ir^=de<<18|de>>>14;it=it+Q|0,ut=ut+X|0,Xe=Xe+pe|0,ot=ot+oe|0,st=st+ue|0,Ze=Ze+at|0,Fe=Fe+Je|0,qe=qe+At|0,nt=nt+tt|0,Ge=Ge+dt|0,$e=$e+ht|0,ct=ct+bt|0,Kt=Kt+gt|0,nr=nr+pt|0,sr=sr+yt|0,ir=ir+mt|0,Z[0]=it>>>0&255,Z[1]=it>>>8&255,Z[2]=it>>>16&255,Z[3]=it>>>24&255,Z[4]=ut>>>0&255,Z[5]=ut>>>8&255,Z[6]=ut>>>16&255,Z[7]=ut>>>24&255,Z[8]=Xe>>>0&255,Z[9]=Xe>>>8&255,Z[10]=Xe>>>16&255,Z[11]=Xe>>>24&255,Z[12]=ot>>>0&255,Z[13]=ot>>>8&255,Z[14]=ot>>>16&255,Z[15]=ot>>>24&255,Z[16]=st>>>0&255,Z[17]=st>>>8&255,Z[18]=st>>>16&255,Z[19]=st>>>24&255,Z[20]=Ze>>>0&255,Z[21]=Ze>>>8&255,Z[22]=Ze>>>16&255,Z[23]=Ze>>>24&255,Z[24]=Fe>>>0&255,Z[25]=Fe>>>8&255,Z[26]=Fe>>>16&255,Z[27]=Fe>>>24&255,Z[28]=qe>>>0&255,Z[29]=qe>>>8&255,Z[30]=qe>>>16&255,Z[31]=qe>>>24&255,Z[32]=nt>>>0&255,Z[33]=nt>>>8&255,Z[34]=nt>>>16&255,Z[35]=nt>>>24&255,Z[36]=Ge>>>0&255,Z[37]=Ge>>>8&255,Z[38]=Ge>>>16&255,Z[39]=Ge>>>24&255,Z[40]=$e>>>0&255,Z[41]=$e>>>8&255,Z[42]=$e>>>16&255,Z[43]=$e>>>24&255,Z[44]=ct>>>0&255,Z[45]=ct>>>8&255,Z[46]=ct>>>16&255,Z[47]=ct>>>24&255,Z[48]=Kt>>>0&255,Z[49]=Kt>>>8&255,Z[50]=Kt>>>16&255,Z[51]=Kt>>>24&255,Z[52]=nr>>>0&255,Z[53]=nr>>>8&255,Z[54]=nr>>>16&255,Z[55]=nr>>>24&255,Z[56]=sr>>>0&255,Z[57]=sr>>>8&255,Z[58]=sr>>>16&255,Z[59]=sr>>>24&255,Z[60]=ir>>>0&255,Z[61]=ir>>>8&255,Z[62]=ir>>>16&255,Z[63]=ir>>>24&255}function U(Z,z,j,N){for(var Q=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,X=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,pe=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,oe=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,ue=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,at=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,Je=z[0]&255|(z[1]&255)<<8|(z[2]&255)<<16|(z[3]&255)<<24,At=z[4]&255|(z[5]&255)<<8|(z[6]&255)<<16|(z[7]&255)<<24,tt=z[8]&255|(z[9]&255)<<8|(z[10]&255)<<16|(z[11]&255)<<24,dt=z[12]&255|(z[13]&255)<<8|(z[14]&255)<<16|(z[15]&255)<<24,ht=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,bt=j[16]&255|(j[17]&255)<<8|(j[18]&255)<<16|(j[19]&255)<<24,gt=j[20]&255|(j[21]&255)<<8|(j[22]&255)<<16|(j[23]&255)<<24,pt=j[24]&255|(j[25]&255)<<8|(j[26]&255)<<16|(j[27]&255)<<24,yt=j[28]&255|(j[29]&255)<<8|(j[30]&255)<<16|(j[31]&255)<<24,mt=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,it=Q,ut=X,Xe=pe,ot=oe,st=ue,Ze=at,Fe=Je,qe=At,nt=tt,Ge=dt,$e=ht,ct=bt,Kt=gt,nr=pt,sr=yt,ir=mt,de,wr=0;wr<20;wr+=2)de=it+Kt|0,st^=de<<7|de>>>25,de=st+it|0,nt^=de<<9|de>>>23,de=nt+st|0,Kt^=de<<13|de>>>19,de=Kt+nt|0,it^=de<<18|de>>>14,de=Ze+ut|0,Ge^=de<<7|de>>>25,de=Ge+Ze|0,nr^=de<<9|de>>>23,de=nr+Ge|0,ut^=de<<13|de>>>19,de=ut+nr|0,Ze^=de<<18|de>>>14,de=$e+Fe|0,sr^=de<<7|de>>>25,de=sr+$e|0,Xe^=de<<9|de>>>23,de=Xe+sr|0,Fe^=de<<13|de>>>19,de=Fe+Xe|0,$e^=de<<18|de>>>14,de=ir+ct|0,ot^=de<<7|de>>>25,de=ot+ir|0,qe^=de<<9|de>>>23,de=qe+ot|0,ct^=de<<13|de>>>19,de=ct+qe|0,ir^=de<<18|de>>>14,de=it+ot|0,ut^=de<<7|de>>>25,de=ut+it|0,Xe^=de<<9|de>>>23,de=Xe+ut|0,ot^=de<<13|de>>>19,de=ot+Xe|0,it^=de<<18|de>>>14,de=Ze+st|0,Fe^=de<<7|de>>>25,de=Fe+Ze|0,qe^=de<<9|de>>>23,de=qe+Fe|0,st^=de<<13|de>>>19,de=st+qe|0,Ze^=de<<18|de>>>14,de=$e+Ge|0,ct^=de<<7|de>>>25,de=ct+$e|0,nt^=de<<9|de>>>23,de=nt+ct|0,Ge^=de<<13|de>>>19,de=Ge+nt|0,$e^=de<<18|de>>>14,de=ir+sr|0,Kt^=de<<7|de>>>25,de=Kt+ir|0,nr^=de<<9|de>>>23,de=nr+Kt|0,sr^=de<<13|de>>>19,de=sr+nr|0,ir^=de<<18|de>>>14;Z[0]=it>>>0&255,Z[1]=it>>>8&255,Z[2]=it>>>16&255,Z[3]=it>>>24&255,Z[4]=Ze>>>0&255,Z[5]=Ze>>>8&255,Z[6]=Ze>>>16&255,Z[7]=Ze>>>24&255,Z[8]=$e>>>0&255,Z[9]=$e>>>8&255,Z[10]=$e>>>16&255,Z[11]=$e>>>24&255,Z[12]=ir>>>0&255,Z[13]=ir>>>8&255,Z[14]=ir>>>16&255,Z[15]=ir>>>24&255,Z[16]=Fe>>>0&255,Z[17]=Fe>>>8&255,Z[18]=Fe>>>16&255,Z[19]=Fe>>>24&255,Z[20]=qe>>>0&255,Z[21]=qe>>>8&255,Z[22]=qe>>>16&255,Z[23]=qe>>>24&255,Z[24]=nt>>>0&255,Z[25]=nt>>>8&255,Z[26]=nt>>>16&255,Z[27]=nt>>>24&255,Z[28]=Ge>>>0&255,Z[29]=Ge>>>8&255,Z[30]=Ge>>>16&255,Z[31]=Ge>>>24&255}function P(Z,z,j,N){R(Z,z,j,N)}function F(Z,z,j,N){U(Z,z,j,N)}var V=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function H(Z,z,j,N,Q,X,pe){var oe=new Uint8Array(16),ue=new Uint8Array(64),at,Je;for(Je=0;Je<16;Je++)oe[Je]=0;for(Je=0;Je<8;Je++)oe[Je]=X[Je];for(;Q>=64;){for(P(ue,oe,pe,V),Je=0;Je<64;Je++)Z[z+Je]=j[N+Je]^ue[Je];for(at=1,Je=8;Je<16;Je++)at=at+(oe[Je]&255)|0,oe[Je]=at&255,at>>>=8;Q-=64,z+=64,N+=64}if(Q>0)for(P(ue,oe,pe,V),Je=0;Je<Q;Je++)Z[z+Je]=j[N+Je]^ue[Je];return 0}function re(Z,z,j,N,Q){var X=new Uint8Array(16),pe=new Uint8Array(64),oe,ue;for(ue=0;ue<16;ue++)X[ue]=0;for(ue=0;ue<8;ue++)X[ue]=N[ue];for(;j>=64;){for(P(pe,X,Q,V),ue=0;ue<64;ue++)Z[z+ue]=pe[ue];for(oe=1,ue=8;ue<16;ue++)oe=oe+(X[ue]&255)|0,X[ue]=oe&255,oe>>>=8;j-=64,z+=64}if(j>0)for(P(pe,X,Q,V),ue=0;ue<j;ue++)Z[z+ue]=pe[ue];return 0}function J(Z,z,j,N,Q){var X=new Uint8Array(32);F(X,N,Q,V);for(var pe=new Uint8Array(8),oe=0;oe<8;oe++)pe[oe]=N[oe+16];return re(Z,z,j,pe,X)}function ie(Z,z,j,N,Q,X,pe){var oe=new Uint8Array(32);F(oe,X,pe,V);for(var ue=new Uint8Array(8),at=0;at<8;at++)ue[at]=X[at+16];return H(Z,z,j,N,Q,ue,oe)}var S=function(Z){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var z,j,N,Q,X,pe,oe,ue;z=Z[0]&255|(Z[1]&255)<<8,this.r[0]=z&8191,j=Z[2]&255|(Z[3]&255)<<8,this.r[1]=(z>>>13|j<<3)&8191,N=Z[4]&255|(Z[5]&255)<<8,this.r[2]=(j>>>10|N<<6)&7939,Q=Z[6]&255|(Z[7]&255)<<8,this.r[3]=(N>>>7|Q<<9)&8191,X=Z[8]&255|(Z[9]&255)<<8,this.r[4]=(Q>>>4|X<<12)&255,this.r[5]=X>>>1&8190,pe=Z[10]&255|(Z[11]&255)<<8,this.r[6]=(X>>>14|pe<<2)&8191,oe=Z[12]&255|(Z[13]&255)<<8,this.r[7]=(pe>>>11|oe<<5)&8065,ue=Z[14]&255|(Z[15]&255)<<8,this.r[8]=(oe>>>8|ue<<8)&8191,this.r[9]=ue>>>5&127,this.pad[0]=Z[16]&255|(Z[17]&255)<<8,this.pad[1]=Z[18]&255|(Z[19]&255)<<8,this.pad[2]=Z[20]&255|(Z[21]&255)<<8,this.pad[3]=Z[22]&255|(Z[23]&255)<<8,this.pad[4]=Z[24]&255|(Z[25]&255)<<8,this.pad[5]=Z[26]&255|(Z[27]&255)<<8,this.pad[6]=Z[28]&255|(Z[29]&255)<<8,this.pad[7]=Z[30]&255|(Z[31]&255)<<8};S.prototype.blocks=function(Z,z,j){for(var N=this.fin?0:2048,Q,X,pe,oe,ue,at,Je,At,tt,dt,ht,bt,gt,pt,yt,mt,it,ut,Xe,ot=this.h[0],st=this.h[1],Ze=this.h[2],Fe=this.h[3],qe=this.h[4],nt=this.h[5],Ge=this.h[6],$e=this.h[7],ct=this.h[8],Kt=this.h[9],nr=this.r[0],sr=this.r[1],ir=this.r[2],de=this.r[3],wr=this.r[4],cn=this.r[5],un=this.r[6],mr=this.r[7],tn=this.r[8],rn=this.r[9];j>=16;)Q=Z[z+0]&255|(Z[z+1]&255)<<8,ot+=Q&8191,X=Z[z+2]&255|(Z[z+3]&255)<<8,st+=(Q>>>13|X<<3)&8191,pe=Z[z+4]&255|(Z[z+5]&255)<<8,Ze+=(X>>>10|pe<<6)&8191,oe=Z[z+6]&255|(Z[z+7]&255)<<8,Fe+=(pe>>>7|oe<<9)&8191,ue=Z[z+8]&255|(Z[z+9]&255)<<8,qe+=(oe>>>4|ue<<12)&8191,nt+=ue>>>1&8191,at=Z[z+10]&255|(Z[z+11]&255)<<8,Ge+=(ue>>>14|at<<2)&8191,Je=Z[z+12]&255|(Z[z+13]&255)<<8,$e+=(at>>>11|Je<<5)&8191,At=Z[z+14]&255|(Z[z+15]&255)<<8,ct+=(Je>>>8|At<<8)&8191,Kt+=At>>>5|N,tt=0,dt=tt,dt+=ot*nr,dt+=st*(5*rn),dt+=Ze*(5*tn),dt+=Fe*(5*mr),dt+=qe*(5*un),tt=dt>>>13,dt&=8191,dt+=nt*(5*cn),dt+=Ge*(5*wr),dt+=$e*(5*de),dt+=ct*(5*ir),dt+=Kt*(5*sr),tt+=dt>>>13,dt&=8191,ht=tt,ht+=ot*sr,ht+=st*nr,ht+=Ze*(5*rn),ht+=Fe*(5*tn),ht+=qe*(5*mr),tt=ht>>>13,ht&=8191,ht+=nt*(5*un),ht+=Ge*(5*cn),ht+=$e*(5*wr),ht+=ct*(5*de),ht+=Kt*(5*ir),tt+=ht>>>13,ht&=8191,bt=tt,bt+=ot*ir,bt+=st*sr,bt+=Ze*nr,bt+=Fe*(5*rn),bt+=qe*(5*tn),tt=bt>>>13,bt&=8191,bt+=nt*(5*mr),bt+=Ge*(5*un),bt+=$e*(5*cn),bt+=ct*(5*wr),bt+=Kt*(5*de),tt+=bt>>>13,bt&=8191,gt=tt,gt+=ot*de,gt+=st*ir,gt+=Ze*sr,gt+=Fe*nr,gt+=qe*(5*rn),tt=gt>>>13,gt&=8191,gt+=nt*(5*tn),gt+=Ge*(5*mr),gt+=$e*(5*un),gt+=ct*(5*cn),gt+=Kt*(5*wr),tt+=gt>>>13,gt&=8191,pt=tt,pt+=ot*wr,pt+=st*de,pt+=Ze*ir,pt+=Fe*sr,pt+=qe*nr,tt=pt>>>13,pt&=8191,pt+=nt*(5*rn),pt+=Ge*(5*tn),pt+=$e*(5*mr),pt+=ct*(5*un),pt+=Kt*(5*cn),tt+=pt>>>13,pt&=8191,yt=tt,yt+=ot*cn,yt+=st*wr,yt+=Ze*de,yt+=Fe*ir,yt+=qe*sr,tt=yt>>>13,yt&=8191,yt+=nt*nr,yt+=Ge*(5*rn),yt+=$e*(5*tn),yt+=ct*(5*mr),yt+=Kt*(5*un),tt+=yt>>>13,yt&=8191,mt=tt,mt+=ot*un,mt+=st*cn,mt+=Ze*wr,mt+=Fe*de,mt+=qe*ir,tt=mt>>>13,mt&=8191,mt+=nt*sr,mt+=Ge*nr,mt+=$e*(5*rn),mt+=ct*(5*tn),mt+=Kt*(5*mr),tt+=mt>>>13,mt&=8191,it=tt,it+=ot*mr,it+=st*un,it+=Ze*cn,it+=Fe*wr,it+=qe*de,tt=it>>>13,it&=8191,it+=nt*ir,it+=Ge*sr,it+=$e*nr,it+=ct*(5*rn),it+=Kt*(5*tn),tt+=it>>>13,it&=8191,ut=tt,ut+=ot*tn,ut+=st*mr,ut+=Ze*un,ut+=Fe*cn,ut+=qe*wr,tt=ut>>>13,ut&=8191,ut+=nt*de,ut+=Ge*ir,ut+=$e*sr,ut+=ct*nr,ut+=Kt*(5*rn),tt+=ut>>>13,ut&=8191,Xe=tt,Xe+=ot*rn,Xe+=st*tn,Xe+=Ze*mr,Xe+=Fe*un,Xe+=qe*cn,tt=Xe>>>13,Xe&=8191,Xe+=nt*wr,Xe+=Ge*de,Xe+=$e*ir,Xe+=ct*sr,Xe+=Kt*nr,tt+=Xe>>>13,Xe&=8191,tt=(tt<<2)+tt|0,tt=tt+dt|0,dt=tt&8191,tt=tt>>>13,ht+=tt,ot=dt,st=ht,Ze=bt,Fe=gt,qe=pt,nt=yt,Ge=mt,$e=it,ct=ut,Kt=Xe,z+=16,j-=16;this.h[0]=ot,this.h[1]=st,this.h[2]=Ze,this.h[3]=Fe,this.h[4]=qe,this.h[5]=nt,this.h[6]=Ge,this.h[7]=$e,this.h[8]=ct,this.h[9]=Kt},S.prototype.finish=function(Z,z){var j=new Uint16Array(10),N,Q,X,pe;if(this.leftover){for(pe=this.leftover,this.buffer[pe++]=1;pe<16;pe++)this.buffer[pe]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(N=this.h[1]>>>13,this.h[1]&=8191,pe=2;pe<10;pe++)this.h[pe]+=N,N=this.h[pe]>>>13,this.h[pe]&=8191;for(this.h[0]+=N*5,N=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=N,N=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=N,j[0]=this.h[0]+5,N=j[0]>>>13,j[0]&=8191,pe=1;pe<10;pe++)j[pe]=this.h[pe]+N,N=j[pe]>>>13,j[pe]&=8191;for(j[9]-=8192,Q=(N^1)-1,pe=0;pe<10;pe++)j[pe]&=Q;for(Q=~Q,pe=0;pe<10;pe++)this.h[pe]=this.h[pe]&Q|j[pe];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,X=this.h[0]+this.pad[0],this.h[0]=X&65535,pe=1;pe<8;pe++)X=(this.h[pe]+this.pad[pe]|0)+(X>>>16)|0,this.h[pe]=X&65535;Z[z+0]=this.h[0]>>>0&255,Z[z+1]=this.h[0]>>>8&255,Z[z+2]=this.h[1]>>>0&255,Z[z+3]=this.h[1]>>>8&255,Z[z+4]=this.h[2]>>>0&255,Z[z+5]=this.h[2]>>>8&255,Z[z+6]=this.h[3]>>>0&255,Z[z+7]=this.h[3]>>>8&255,Z[z+8]=this.h[4]>>>0&255,Z[z+9]=this.h[4]>>>8&255,Z[z+10]=this.h[5]>>>0&255,Z[z+11]=this.h[5]>>>8&255,Z[z+12]=this.h[6]>>>0&255,Z[z+13]=this.h[6]>>>8&255,Z[z+14]=this.h[7]>>>0&255,Z[z+15]=this.h[7]>>>8&255},S.prototype.update=function(Z,z,j){var N,Q;if(this.leftover){for(Q=16-this.leftover,Q>j&&(Q=j),N=0;N<Q;N++)this.buffer[this.leftover+N]=Z[z+N];if(j-=Q,z+=Q,this.leftover+=Q,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(j>=16&&(Q=j-j%16,this.blocks(Z,z,Q),z+=Q,j-=Q),j){for(N=0;N<j;N++)this.buffer[this.leftover+N]=Z[z+N];this.leftover+=j}};function a(Z,z,j,N,Q,X){var pe=new S(X);return pe.update(j,N,Q),pe.finish(Z,z),0}function f(Z,z,j,N,Q,X){var pe=new Uint8Array(16);return a(pe,0,j,N,Q,X),k(Z,z,pe,0)}function p(Z,z,j,N,Q){var X;if(j<32)return-1;for(ie(Z,0,z,0,j,N,Q),a(Z,16,Z,32,j-32,Z),X=0;X<16;X++)Z[X]=0;return 0}function y(Z,z,j,N,Q){var X,pe=new Uint8Array(32);if(j<32||(J(pe,0,32,N,Q),f(z,16,z,32,j-32,pe)!==0))return-1;for(ie(Z,0,z,0,j,N,Q),X=0;X<32;X++)Z[X]=0;return 0}function g(Z,z){var j;for(j=0;j<16;j++)Z[j]=z[j]|0}function A(Z){var z,j,N=1;for(z=0;z<16;z++)j=Z[z]+N+65535,N=Math.floor(j/65536),Z[z]=j-N*65536;Z[0]+=N-1+37*(N-1)}function _(Z,z,j){for(var N,Q=~(j-1),X=0;X<16;X++)N=Q&(Z[X]^z[X]),Z[X]^=N,z[X]^=N}function v(Z,z){var j,N,Q,X=e(),pe=e();for(j=0;j<16;j++)pe[j]=z[j];for(A(pe),A(pe),A(pe),N=0;N<2;N++){for(X[0]=pe[0]-65517,j=1;j<15;j++)X[j]=pe[j]-65535-(X[j-1]>>16&1),X[j-1]&=65535;X[15]=pe[15]-32767-(X[14]>>16&1),Q=X[15]>>16&1,X[14]&=65535,_(pe,X,1-Q)}for(j=0;j<16;j++)Z[2*j]=pe[j]&255,Z[2*j+1]=pe[j]>>8}function u(Z,z){var j=new Uint8Array(32),N=new Uint8Array(32);return v(j,Z),v(N,z),B(j,0,N,0)}function x(Z){var z=new Uint8Array(32);return v(z,Z),z[0]&1}function q(Z,z){var j;for(j=0;j<16;j++)Z[j]=z[2*j]+(z[2*j+1]<<8);Z[15]&=32767}function L(Z,z,j){for(var N=0;N<16;N++)Z[N]=z[N]+j[N]}function C(Z,z,j){for(var N=0;N<16;N++)Z[N]=z[N]-j[N]}function W(Z,z,j){var N,Q,X=0,pe=0,oe=0,ue=0,at=0,Je=0,At=0,tt=0,dt=0,ht=0,bt=0,gt=0,pt=0,yt=0,mt=0,it=0,ut=0,Xe=0,ot=0,st=0,Ze=0,Fe=0,qe=0,nt=0,Ge=0,$e=0,ct=0,Kt=0,nr=0,sr=0,ir=0,de=j[0],wr=j[1],cn=j[2],un=j[3],mr=j[4],tn=j[5],rn=j[6],ao=j[7],Ln=j[8],$i=j[9],Yi=j[10],Zi=j[11],Po=j[12],Js=j[13],Xs=j[14],ea=j[15];N=z[0],X+=N*de,pe+=N*wr,oe+=N*cn,ue+=N*un,at+=N*mr,Je+=N*tn,At+=N*rn,tt+=N*ao,dt+=N*Ln,ht+=N*$i,bt+=N*Yi,gt+=N*Zi,pt+=N*Po,yt+=N*Js,mt+=N*Xs,it+=N*ea,N=z[1],pe+=N*de,oe+=N*wr,ue+=N*cn,at+=N*un,Je+=N*mr,At+=N*tn,tt+=N*rn,dt+=N*ao,ht+=N*Ln,bt+=N*$i,gt+=N*Yi,pt+=N*Zi,yt+=N*Po,mt+=N*Js,it+=N*Xs,ut+=N*ea,N=z[2],oe+=N*de,ue+=N*wr,at+=N*cn,Je+=N*un,At+=N*mr,tt+=N*tn,dt+=N*rn,ht+=N*ao,bt+=N*Ln,gt+=N*$i,pt+=N*Yi,yt+=N*Zi,mt+=N*Po,it+=N*Js,ut+=N*Xs,Xe+=N*ea,N=z[3],ue+=N*de,at+=N*wr,Je+=N*cn,At+=N*un,tt+=N*mr,dt+=N*tn,ht+=N*rn,bt+=N*ao,gt+=N*Ln,pt+=N*$i,yt+=N*Yi,mt+=N*Zi,it+=N*Po,ut+=N*Js,Xe+=N*Xs,ot+=N*ea,N=z[4],at+=N*de,Je+=N*wr,At+=N*cn,tt+=N*un,dt+=N*mr,ht+=N*tn,bt+=N*rn,gt+=N*ao,pt+=N*Ln,yt+=N*$i,mt+=N*Yi,it+=N*Zi,ut+=N*Po,Xe+=N*Js,ot+=N*Xs,st+=N*ea,N=z[5],Je+=N*de,At+=N*wr,tt+=N*cn,dt+=N*un,ht+=N*mr,bt+=N*tn,gt+=N*rn,pt+=N*ao,yt+=N*Ln,mt+=N*$i,it+=N*Yi,ut+=N*Zi,Xe+=N*Po,ot+=N*Js,st+=N*Xs,Ze+=N*ea,N=z[6],At+=N*de,tt+=N*wr,dt+=N*cn,ht+=N*un,bt+=N*mr,gt+=N*tn,pt+=N*rn,yt+=N*ao,mt+=N*Ln,it+=N*$i,ut+=N*Yi,Xe+=N*Zi,ot+=N*Po,st+=N*Js,Ze+=N*Xs,Fe+=N*ea,N=z[7],tt+=N*de,dt+=N*wr,ht+=N*cn,bt+=N*un,gt+=N*mr,pt+=N*tn,yt+=N*rn,mt+=N*ao,it+=N*Ln,ut+=N*$i,Xe+=N*Yi,ot+=N*Zi,st+=N*Po,Ze+=N*Js,Fe+=N*Xs,qe+=N*ea,N=z[8],dt+=N*de,ht+=N*wr,bt+=N*cn,gt+=N*un,pt+=N*mr,yt+=N*tn,mt+=N*rn,it+=N*ao,ut+=N*Ln,Xe+=N*$i,ot+=N*Yi,st+=N*Zi,Ze+=N*Po,Fe+=N*Js,qe+=N*Xs,nt+=N*ea,N=z[9],ht+=N*de,bt+=N*wr,gt+=N*cn,pt+=N*un,yt+=N*mr,mt+=N*tn,it+=N*rn,ut+=N*ao,Xe+=N*Ln,ot+=N*$i,st+=N*Yi,Ze+=N*Zi,Fe+=N*Po,qe+=N*Js,nt+=N*Xs,Ge+=N*ea,N=z[10],bt+=N*de,gt+=N*wr,pt+=N*cn,yt+=N*un,mt+=N*mr,it+=N*tn,ut+=N*rn,Xe+=N*ao,ot+=N*Ln,st+=N*$i,Ze+=N*Yi,Fe+=N*Zi,qe+=N*Po,nt+=N*Js,Ge+=N*Xs,$e+=N*ea,N=z[11],gt+=N*de,pt+=N*wr,yt+=N*cn,mt+=N*un,it+=N*mr,ut+=N*tn,Xe+=N*rn,ot+=N*ao,st+=N*Ln,Ze+=N*$i,Fe+=N*Yi,qe+=N*Zi,nt+=N*Po,Ge+=N*Js,$e+=N*Xs,ct+=N*ea,N=z[12],pt+=N*de,yt+=N*wr,mt+=N*cn,it+=N*un,ut+=N*mr,Xe+=N*tn,ot+=N*rn,st+=N*ao,Ze+=N*Ln,Fe+=N*$i,qe+=N*Yi,nt+=N*Zi,Ge+=N*Po,$e+=N*Js,ct+=N*Xs,Kt+=N*ea,N=z[13],yt+=N*de,mt+=N*wr,it+=N*cn,ut+=N*un,Xe+=N*mr,ot+=N*tn,st+=N*rn,Ze+=N*ao,Fe+=N*Ln,qe+=N*$i,nt+=N*Yi,Ge+=N*Zi,$e+=N*Po,ct+=N*Js,Kt+=N*Xs,nr+=N*ea,N=z[14],mt+=N*de,it+=N*wr,ut+=N*cn,Xe+=N*un,ot+=N*mr,st+=N*tn,Ze+=N*rn,Fe+=N*ao,qe+=N*Ln,nt+=N*$i,Ge+=N*Yi,$e+=N*Zi,ct+=N*Po,Kt+=N*Js,nr+=N*Xs,sr+=N*ea,N=z[15],it+=N*de,ut+=N*wr,Xe+=N*cn,ot+=N*un,st+=N*mr,Ze+=N*tn,Fe+=N*rn,qe+=N*ao,nt+=N*Ln,Ge+=N*$i,$e+=N*Yi,ct+=N*Zi,Kt+=N*Po,nr+=N*Js,sr+=N*Xs,ir+=N*ea,X+=38*ut,pe+=38*Xe,oe+=38*ot,ue+=38*st,at+=38*Ze,Je+=38*Fe,At+=38*qe,tt+=38*nt,dt+=38*Ge,ht+=38*$e,bt+=38*ct,gt+=38*Kt,pt+=38*nr,yt+=38*sr,mt+=38*ir,Q=1,N=X+Q+65535,Q=Math.floor(N/65536),X=N-Q*65536,N=pe+Q+65535,Q=Math.floor(N/65536),pe=N-Q*65536,N=oe+Q+65535,Q=Math.floor(N/65536),oe=N-Q*65536,N=ue+Q+65535,Q=Math.floor(N/65536),ue=N-Q*65536,N=at+Q+65535,Q=Math.floor(N/65536),at=N-Q*65536,N=Je+Q+65535,Q=Math.floor(N/65536),Je=N-Q*65536,N=At+Q+65535,Q=Math.floor(N/65536),At=N-Q*65536,N=tt+Q+65535,Q=Math.floor(N/65536),tt=N-Q*65536,N=dt+Q+65535,Q=Math.floor(N/65536),dt=N-Q*65536,N=ht+Q+65535,Q=Math.floor(N/65536),ht=N-Q*65536,N=bt+Q+65535,Q=Math.floor(N/65536),bt=N-Q*65536,N=gt+Q+65535,Q=Math.floor(N/65536),gt=N-Q*65536,N=pt+Q+65535,Q=Math.floor(N/65536),pt=N-Q*65536,N=yt+Q+65535,Q=Math.floor(N/65536),yt=N-Q*65536,N=mt+Q+65535,Q=Math.floor(N/65536),mt=N-Q*65536,N=it+Q+65535,Q=Math.floor(N/65536),it=N-Q*65536,X+=Q-1+37*(Q-1),Q=1,N=X+Q+65535,Q=Math.floor(N/65536),X=N-Q*65536,N=pe+Q+65535,Q=Math.floor(N/65536),pe=N-Q*65536,N=oe+Q+65535,Q=Math.floor(N/65536),oe=N-Q*65536,N=ue+Q+65535,Q=Math.floor(N/65536),ue=N-Q*65536,N=at+Q+65535,Q=Math.floor(N/65536),at=N-Q*65536,N=Je+Q+65535,Q=Math.floor(N/65536),Je=N-Q*65536,N=At+Q+65535,Q=Math.floor(N/65536),At=N-Q*65536,N=tt+Q+65535,Q=Math.floor(N/65536),tt=N-Q*65536,N=dt+Q+65535,Q=Math.floor(N/65536),dt=N-Q*65536,N=ht+Q+65535,Q=Math.floor(N/65536),ht=N-Q*65536,N=bt+Q+65535,Q=Math.floor(N/65536),bt=N-Q*65536,N=gt+Q+65535,Q=Math.floor(N/65536),gt=N-Q*65536,N=pt+Q+65535,Q=Math.floor(N/65536),pt=N-Q*65536,N=yt+Q+65535,Q=Math.floor(N/65536),yt=N-Q*65536,N=mt+Q+65535,Q=Math.floor(N/65536),mt=N-Q*65536,N=it+Q+65535,Q=Math.floor(N/65536),it=N-Q*65536,X+=Q-1+37*(Q-1),Z[0]=X,Z[1]=pe,Z[2]=oe,Z[3]=ue,Z[4]=at,Z[5]=Je,Z[6]=At,Z[7]=tt,Z[8]=dt,Z[9]=ht,Z[10]=bt,Z[11]=gt,Z[12]=pt,Z[13]=yt,Z[14]=mt,Z[15]=it}function ee(Z,z){W(Z,z,z)}function ne(Z,z){var j=e(),N;for(N=0;N<16;N++)j[N]=z[N];for(N=253;N>=0;N--)ee(j,j),N!==2&&N!==4&&W(j,j,z);for(N=0;N<16;N++)Z[N]=j[N]}function Ve(Z,z){var j=e(),N;for(N=0;N<16;N++)j[N]=z[N];for(N=250;N>=0;N--)ee(j,j),N!==1&&W(j,j,z);for(N=0;N<16;N++)Z[N]=j[N]}function ae(Z,z,j){var N=new Uint8Array(32),Q=new Float64Array(80),X,pe,oe=e(),ue=e(),at=e(),Je=e(),At=e(),tt=e();for(pe=0;pe<31;pe++)N[pe]=z[pe];for(N[31]=z[31]&127|64,N[0]&=248,q(Q,j),pe=0;pe<16;pe++)ue[pe]=Q[pe],Je[pe]=oe[pe]=at[pe]=0;for(oe[0]=Je[0]=1,pe=254;pe>=0;--pe)X=N[pe>>>3]>>>(pe&7)&1,_(oe,ue,X),_(at,Je,X),L(At,oe,at),C(oe,oe,at),L(at,ue,Je),C(ue,ue,Je),ee(Je,At),ee(tt,oe),W(oe,at,oe),W(at,ue,At),L(At,oe,at),C(oe,oe,at),ee(ue,oe),C(at,Je,tt),W(oe,at,c),L(oe,oe,Je),W(at,at,oe),W(oe,Je,tt),W(Je,ue,Q),ee(ue,At),_(oe,ue,X),_(at,Je,X);for(pe=0;pe<16;pe++)Q[pe+16]=oe[pe],Q[pe+32]=at[pe],Q[pe+48]=ue[pe],Q[pe+64]=Je[pe];var dt=Q.subarray(32),ht=Q.subarray(16);return ne(dt,dt),W(ht,ht,dt),v(Z,ht),0}function G(Z,z){return ae(Z,z,i)}function he(Z,z){return r(z,32),G(Z,z)}function te(Z,z,j){var N=new Uint8Array(32);return ae(N,j,z),F(Z,n,N,V)}var ce=p,Ye=y;function se(Z,z,j,N,Q,X){var pe=new Uint8Array(32);return te(pe,Q,X),ce(Z,z,j,N,pe)}function le(Z,z,j,N,Q,X){var pe=new Uint8Array(32);return te(pe,Q,X),Ye(Z,z,j,N,pe)}var Pt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ge(Z,z,j,N){for(var Q=new Int32Array(16),X=new Int32Array(16),pe,oe,ue,at,Je,At,tt,dt,ht,bt,gt,pt,yt,mt,it,ut,Xe,ot,st,Ze,Fe,qe,nt,Ge,$e,ct,Kt=Z[0],nr=Z[1],sr=Z[2],ir=Z[3],de=Z[4],wr=Z[5],cn=Z[6],un=Z[7],mr=z[0],tn=z[1],rn=z[2],ao=z[3],Ln=z[4],$i=z[5],Yi=z[6],Zi=z[7],Po=0;N>=128;){for(st=0;st<16;st++)Ze=8*st+Po,Q[st]=j[Ze+0]<<24|j[Ze+1]<<16|j[Ze+2]<<8|j[Ze+3],X[st]=j[Ze+4]<<24|j[Ze+5]<<16|j[Ze+6]<<8|j[Ze+7];for(st=0;st<80;st++)if(pe=Kt,oe=nr,ue=sr,at=ir,Je=de,At=wr,tt=cn,dt=un,ht=mr,bt=tn,gt=rn,pt=ao,yt=Ln,mt=$i,it=Yi,ut=Zi,Fe=un,qe=Zi,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=(de>>>14|Ln<<18)^(de>>>18|Ln<<14)^(Ln>>>9|de<<23),qe=(Ln>>>14|de<<18)^(Ln>>>18|de<<14)^(de>>>9|Ln<<23),nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Fe=de&wr^~de&cn,qe=Ln&$i^~Ln&Yi,nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Fe=Pt[st*2],qe=Pt[st*2+1],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Fe=Q[st%16],qe=X[st%16],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Xe=$e&65535|ct<<16,ot=nt&65535|Ge<<16,Fe=Xe,qe=ot,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=(Kt>>>28|mr<<4)^(mr>>>2|Kt<<30)^(mr>>>7|Kt<<25),qe=(mr>>>28|Kt<<4)^(Kt>>>2|mr<<30)^(Kt>>>7|mr<<25),nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Fe=Kt&nr^Kt&sr^nr&sr,qe=mr&tn^mr&rn^tn&rn,nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,dt=$e&65535|ct<<16,ut=nt&65535|Ge<<16,Fe=at,qe=pt,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Xe,qe=ot,nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,at=$e&65535|ct<<16,pt=nt&65535|Ge<<16,nr=pe,sr=oe,ir=ue,de=at,wr=Je,cn=At,un=tt,Kt=dt,tn=ht,rn=bt,ao=gt,Ln=pt,$i=yt,Yi=mt,Zi=it,mr=ut,st%16===15)for(Ze=0;Ze<16;Ze++)Fe=Q[Ze],qe=X[Ze],nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Q[(Ze+9)%16],qe=X[(Ze+9)%16],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Xe=Q[(Ze+1)%16],ot=X[(Ze+1)%16],Fe=(Xe>>>1|ot<<31)^(Xe>>>8|ot<<24)^Xe>>>7,qe=(ot>>>1|Xe<<31)^(ot>>>8|Xe<<24)^(ot>>>7|Xe<<25),nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Xe=Q[(Ze+14)%16],ot=X[(Ze+14)%16],Fe=(Xe>>>19|ot<<13)^(ot>>>29|Xe<<3)^Xe>>>6,qe=(ot>>>19|Xe<<13)^(Xe>>>29|ot<<3)^(ot>>>6|Xe<<26),nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Q[Ze]=$e&65535|ct<<16,X[Ze]=nt&65535|Ge<<16;Fe=Kt,qe=mr,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[0],qe=z[0],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[0]=Kt=$e&65535|ct<<16,z[0]=mr=nt&65535|Ge<<16,Fe=nr,qe=tn,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[1],qe=z[1],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[1]=nr=$e&65535|ct<<16,z[1]=tn=nt&65535|Ge<<16,Fe=sr,qe=rn,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[2],qe=z[2],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[2]=sr=$e&65535|ct<<16,z[2]=rn=nt&65535|Ge<<16,Fe=ir,qe=ao,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[3],qe=z[3],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[3]=ir=$e&65535|ct<<16,z[3]=ao=nt&65535|Ge<<16,Fe=de,qe=Ln,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[4],qe=z[4],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[4]=de=$e&65535|ct<<16,z[4]=Ln=nt&65535|Ge<<16,Fe=wr,qe=$i,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[5],qe=z[5],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[5]=wr=$e&65535|ct<<16,z[5]=$i=nt&65535|Ge<<16,Fe=cn,qe=Yi,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[6],qe=z[6],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[6]=cn=$e&65535|ct<<16,z[6]=Yi=nt&65535|Ge<<16,Fe=un,qe=Zi,nt=qe&65535,Ge=qe>>>16,$e=Fe&65535,ct=Fe>>>16,Fe=Z[7],qe=z[7],nt+=qe&65535,Ge+=qe>>>16,$e+=Fe&65535,ct+=Fe>>>16,Ge+=nt>>>16,$e+=Ge>>>16,ct+=$e>>>16,Z[7]=un=$e&65535|ct<<16,z[7]=Zi=nt&65535|Ge<<16,Po+=128,N-=128}return N}function ye(Z,z,j){var N=new Int32Array(8),Q=new Int32Array(8),X=new Uint8Array(256),pe,oe=j;for(N[0]=1779033703,N[1]=3144134277,N[2]=1013904242,N[3]=2773480762,N[4]=1359893119,N[5]=2600822924,N[6]=528734635,N[7]=1541459225,Q[0]=4089235720,Q[1]=2227873595,Q[2]=4271175723,Q[3]=1595750129,Q[4]=2917565137,Q[5]=725511199,Q[6]=4215389547,Q[7]=327033209,ge(N,Q,z,j),j%=128,pe=0;pe<j;pe++)X[pe]=z[oe-j+pe];for(X[j]=128,j=256-128*(j<112?1:0),X[j-9]=0,I(X,j-8,oe/536870912|0,oe<<3),ge(N,Q,X,j),pe=0;pe<8;pe++)I(Z,8*pe,N[pe],Q[pe]);return 0}function Wr(Z,z){var j=e(),N=e(),Q=e(),X=e(),pe=e(),oe=e(),ue=e(),at=e(),Je=e();C(j,Z[1],Z[0]),C(Je,z[1],z[0]),W(j,j,Je),L(N,Z[0],Z[1]),L(Je,z[0],z[1]),W(N,N,Je),W(Q,Z[3],z[3]),W(Q,Q,m),W(X,Z[2],z[2]),L(X,X,X),C(pe,N,j),C(oe,X,Q),L(ue,X,Q),L(at,N,j),W(Z[0],pe,oe),W(Z[1],at,ue),W(Z[2],ue,oe),W(Z[3],pe,at)}function Ie(Z,z,j){var N;for(N=0;N<4;N++)_(Z[N],z[N],j)}function we(Z,z){var j=e(),N=e(),Q=e();ne(Q,z[2]),W(j,z[0],Q),W(N,z[1],Q),v(Z,N),Z[31]^=x(j)<<7}function yn(Z,z,j){var N,Q;for(g(Z[0],o),g(Z[1],s),g(Z[2],s),g(Z[3],o),Q=255;Q>=0;--Q)N=j[Q/8|0]>>(Q&7)&1,Ie(Z,z,N),Wr(z,Z),Wr(Z,Z),Ie(Z,z,N)}function ve(Z,z){var j=[e(),e(),e(),e()];g(j[0],w),g(j[1],b),g(j[2],s),W(j[3],w,b),yn(Z,j,z)}function Re(Z,z,j){var N=new Uint8Array(64),Q=[e(),e(),e(),e()],X;for(j||r(z,32),ye(N,z,32),N[0]&=248,N[31]&=127,N[31]|=64,ve(Q,N),we(Z,Q),X=0;X<32;X++)z[X+32]=Z[X];return 0}var _n=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Be(Z,z){var j,N,Q,X;for(N=63;N>=32;--N){for(j=0,Q=N-32,X=N-12;Q<X;++Q)z[Q]+=j-16*z[N]*_n[Q-(N-32)],j=Math.floor((z[Q]+128)/256),z[Q]-=j*256;z[Q]+=j,z[N]=0}for(j=0,Q=0;Q<32;Q++)z[Q]+=j-(z[31]>>4)*_n[Q],j=z[Q]>>8,z[Q]&=255;for(Q=0;Q<32;Q++)z[Q]-=j*_n[Q];for(N=0;N<32;N++)z[N+1]+=z[N]>>8,Z[N]=z[N]&255}function Ce(Z){var z=new Float64Array(64),j;for(j=0;j<64;j++)z[j]=Z[j];for(j=0;j<64;j++)Z[j]=0;Be(Z,z)}function Bn(Z,z,j,N){var Q=new Uint8Array(64),X=new Uint8Array(64),pe=new Uint8Array(64),oe,ue,at=new Float64Array(64),Je=[e(),e(),e(),e()];ye(Q,N,32),Q[0]&=248,Q[31]&=127,Q[31]|=64;var At=j+64;for(oe=0;oe<j;oe++)Z[64+oe]=z[oe];for(oe=0;oe<32;oe++)Z[32+oe]=Q[32+oe];for(ye(pe,Z.subarray(32),j+32),Ce(pe),ve(Je,pe),we(Z,Je),oe=32;oe<64;oe++)Z[oe]=N[oe];for(ye(X,Z,j+64),Ce(X),oe=0;oe<64;oe++)at[oe]=0;for(oe=0;oe<32;oe++)at[oe]=pe[oe];for(oe=0;oe<32;oe++)for(ue=0;ue<32;ue++)at[oe+ue]+=X[oe]*Q[ue];return Be(Z.subarray(32),at),At}function De(Z,z){var j=e(),N=e(),Q=e(),X=e(),pe=e(),oe=e(),ue=e();return g(Z[2],s),q(Z[1],z),ee(Q,Z[1]),W(X,Q,l),C(Q,Q,Z[2]),L(X,Z[2],X),ee(pe,X),ee(oe,pe),W(ue,oe,pe),W(j,ue,Q),W(j,j,X),Ve(j,j),W(j,j,Q),W(j,j,X),W(j,j,X),W(Z[0],j,X),ee(N,Z[0]),W(N,N,X),u(N,Q)&&W(Z[0],Z[0],E),ee(N,Z[0]),W(N,N,X),u(N,Q)?-1:(x(Z[0])===z[31]>>7&&C(Z[0],o,Z[0]),W(Z[3],Z[0],Z[1]),0)}function Me(Z,z,j,N){var Q,X=new Uint8Array(32),pe=new Uint8Array(64),oe=[e(),e(),e(),e()],ue=[e(),e(),e(),e()];if(j<64||De(ue,N))return-1;for(Q=0;Q<j;Q++)Z[Q]=z[Q];for(Q=0;Q<32;Q++)Z[Q+32]=N[Q];if(ye(pe,Z,j),Ce(pe),yn(oe,ue,pe),ve(ue,z.subarray(32)),Wr(oe,ue),we(X,oe),j-=64,B(z,0,X,0)){for(Q=0;Q<j;Q++)Z[Q]=0;return-1}for(Q=0;Q<j;Q++)Z[Q]=z[Q+64];return j}var Tn=32,_e=24,Se=32,en=16,Ae=32,Te=32,an=32,Ee=32,ke=32,Cn=_e,Ue=Se,Le=en,Br=64,be=32,xe=64,In=32,Pe=64;t.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:ie,crypto_stream:J,crypto_stream_salsa20_xor:H,crypto_stream_salsa20:re,crypto_onetimeauth:a,crypto_onetimeauth_verify:f,crypto_verify_16:k,crypto_verify_32:B,crypto_secretbox:p,crypto_secretbox_open:y,crypto_scalarmult:ae,crypto_scalarmult_base:G,crypto_box_beforenm:te,crypto_box_afternm:ce,crypto_box:se,crypto_box_open:le,crypto_box_keypair:he,crypto_hash:ye,crypto_sign:Bn,crypto_sign_keypair:Re,crypto_sign_open:Me,crypto_secretbox_KEYBYTES:Tn,crypto_secretbox_NONCEBYTES:_e,crypto_secretbox_ZEROBYTES:Se,crypto_secretbox_BOXZEROBYTES:en,crypto_scalarmult_BYTES:Ae,crypto_scalarmult_SCALARBYTES:Te,crypto_box_PUBLICKEYBYTES:an,crypto_box_SECRETKEYBYTES:Ee,crypto_box_BEFORENMBYTES:ke,crypto_box_NONCEBYTES:Cn,crypto_box_ZEROBYTES:Ue,crypto_box_BOXZEROBYTES:Le,crypto_sign_BYTES:Br,crypto_sign_PUBLICKEYBYTES:be,crypto_sign_SECRETKEYBYTES:xe,crypto_sign_SEEDBYTES:In,crypto_hash_BYTES:Pe,gf:e,D:l,L:_n,pack25519:v,unpack25519:q,M:W,A:L,S:ee,Z:C,pow2523:Ve,add:Wr,set25519:g,modL:Be,scalarmult:yn,scalarbase:ve};function Oe(Z,z){if(Z.length!==Tn)throw new Error("bad key size");if(z.length!==_e)throw new Error("bad nonce size")}function Un(Z,z){if(Z.length!==an)throw new Error("bad public key size");if(z.length!==Ee)throw new Error("bad secret key size")}function me(){for(var Z=0;Z<arguments.length;Z++)if(!(arguments[Z]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ne(Z){for(var z=0;z<Z.length;z++)Z[z]=0}t.randomBytes=function(Z){var z=new Uint8Array(Z);return r(z,Z),z},t.secretbox=function(Z,z,j){me(Z,z,j),Oe(j,z);for(var N=new Uint8Array(Se+Z.length),Q=new Uint8Array(N.length),X=0;X<Z.length;X++)N[X+Se]=Z[X];return p(Q,N,N.length,z,j),Q.subarray(en)},t.secretbox.open=function(Z,z,j){me(Z,z,j),Oe(j,z);for(var N=new Uint8Array(en+Z.length),Q=new Uint8Array(N.length),X=0;X<Z.length;X++)N[X+en]=Z[X];return N.length<32||y(Q,N,N.length,z,j)!==0?null:Q.subarray(Se)},t.secretbox.keyLength=Tn,t.secretbox.nonceLength=_e,t.secretbox.overheadLength=en,t.scalarMult=function(Z,z){if(me(Z,z),Z.length!==Te)throw new Error("bad n size");if(z.length!==Ae)throw new Error("bad p size");var j=new Uint8Array(Ae);return ae(j,Z,z),j},t.scalarMult.base=function(Z){if(me(Z),Z.length!==Te)throw new Error("bad n size");var z=new Uint8Array(Ae);return G(z,Z),z},t.scalarMult.scalarLength=Te,t.scalarMult.groupElementLength=Ae,t.box=function(Z,z,j,N){var Q=t.box.before(j,N);return t.secretbox(Z,z,Q)},t.box.before=function(Z,z){me(Z,z),Un(Z,z);var j=new Uint8Array(ke);return te(j,Z,z),j},t.box.after=t.secretbox,t.box.open=function(Z,z,j,N){var Q=t.box.before(j,N);return t.secretbox.open(Z,z,Q)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var Z=new Uint8Array(an),z=new Uint8Array(Ee);return he(Z,z),{publicKey:Z,secretKey:z}},t.box.keyPair.fromSecretKey=function(Z){if(me(Z),Z.length!==Ee)throw new Error("bad secret key size");var z=new Uint8Array(an);return G(z,Z),{publicKey:z,secretKey:new Uint8Array(Z)}},t.box.publicKeyLength=an,t.box.secretKeyLength=Ee,t.box.sharedKeyLength=ke,t.box.nonceLength=Cn,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(Z,z){if(me(Z,z),z.length!==xe)throw new Error("bad secret key size");var j=new Uint8Array(Br+Z.length);return Bn(j,Z,Z.length,z),j},t.sign.open=function(Z,z){if(me(Z,z),z.length!==be)throw new Error("bad public key size");var j=new Uint8Array(Z.length),N=Me(j,Z,Z.length,z);if(N<0)return null;for(var Q=new Uint8Array(N),X=0;X<Q.length;X++)Q[X]=j[X];return Q},t.sign.detached=function(Z,z){for(var j=t.sign(Z,z),N=new Uint8Array(Br),Q=0;Q<N.length;Q++)N[Q]=j[Q];return N},t.sign.detached.verify=function(Z,z,j){if(me(Z,z,j),z.length!==Br)throw new Error("bad signature size");if(j.length!==be)throw new Error("bad public key size");var N=new Uint8Array(Br+Z.length),Q=new Uint8Array(Br+Z.length),X;for(X=0;X<Br;X++)N[X]=z[X];for(X=0;X<Z.length;X++)N[X+Br]=Z[X];return Me(Q,N,N.length,j)>=0},t.sign.keyPair=function(){var Z=new Uint8Array(be),z=new Uint8Array(xe);return Re(Z,z),{publicKey:Z,secretKey:z}},t.sign.keyPair.fromSecretKey=function(Z){if(me(Z),Z.length!==xe)throw new Error("bad secret key size");for(var z=new Uint8Array(be),j=0;j<z.length;j++)z[j]=Z[32+j];return{publicKey:z,secretKey:new Uint8Array(Z)}},t.sign.keyPair.fromSeed=function(Z){if(me(Z),Z.length!==In)throw new Error("bad seed size");for(var z=new Uint8Array(be),j=new Uint8Array(xe),N=0;N<32;N++)j[N]=Z[N];return Re(z,j,!0),{publicKey:z,secretKey:j}},t.sign.publicKeyLength=be,t.sign.secretKeyLength=xe,t.sign.seedLength=In,t.sign.signatureLength=Br,t.hash=function(Z){me(Z);var z=new Uint8Array(Pe);return ye(z,Z,Z.length),z},t.hash.hashLength=Pe,t.verify=function(Z,z){return me(Z,z),Z.length===0||z.length===0||Z.length!==z.length?!1:M(Z,0,z,0,Z.length)===0},t.setPRNG=function(Z){r=Z},function(){var Z=typeof self<"u"?self.crypto||self.msCrypto:null;if(Z&&Z.getRandomValues){var z=65536;t.setPRNG(function(j,N){var Q,X=new Uint8Array(N);for(Q=0;Q<N;Q+=z)Z.getRandomValues(X.subarray(Q,Q+Math.min(N-Q,z)));for(Q=0;Q<N;Q++)j[Q]=X[Q];Ne(X)})}else typeof uae<"u"&&(Z=sm(),Z&&Z.randomBytes&&t.setPRNG(function(j,N){var Q,X=Z.randomBytes(N);for(Q=0;Q<N;Q++)j[Q]=X[Q];Ne(X)}))}()})(typeof C9<"u"&&C9.exports?C9.exports:self.nacl=self.nacl||{})});var Dxe=K(Ga=>{"use strict";d();h();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.output=Ga.exists=Ga.hash=Ga.bytes=Ga.bool=Ga.number=void 0;function L9(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Ga.number=L9;function Bxe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Ga.bool=Bxe;function nG(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Ga.bytes=nG;function Cxe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");L9(t.outputLen),L9(t.blockLen)}Ga.hash=Cxe;function Oxe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Ga.exists=Oxe;function Nxe(t,e){nG(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ga.output=Nxe;var Uct={number:L9,bool:Bxe,bytes:nG,hash:Cxe,exists:Oxe,output:Nxe};Ga.default=Uct});var Uxe=K(F9=>{"use strict";d();h();Object.defineProperty(F9,"__esModule",{value:!0});F9.crypto=void 0;F9.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var sG=K(Mr=>{"use strict";d();h();Object.defineProperty(Mr,"__esModule",{value:!0});Mr.randomBytes=Mr.wrapConstructorWithOpts=Mr.wrapConstructor=Mr.checkOpts=Mr.Hash=Mr.concatBytes=Mr.toBytes=Mr.utf8ToBytes=Mr.asyncLoop=Mr.nextTick=Mr.hexToBytes=Mr.bytesToHex=Mr.isLE=Mr.rotr=Mr.createView=Mr.u32=Mr.u8=void 0;var q9=Uxe(),Lct=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Mr.u8=Lct;var Fct=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Mr.u32=Fct;var qct=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Mr.createView=qct;var Kct=(t,e)=>t<<32-e|t>>>e;Mr.rotr=Kct;Mr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Mr.isLE)throw new Error("Non little-endian hardware is not supported");var Vct=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Hct(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Vct[t[r]];return e}Mr.bytesToHex=Hct;function jct(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Mr.hexToBytes=jct;var zct=async()=>{};Mr.nextTick=zct;async function Wct(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Mr.nextTick)(),n+=o)}}Mr.asyncLoop=Wct;function Lxe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Mr.utf8ToBytes=Lxe;function oG(t){if(typeof t=="string"&&(t=Lxe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Mr.toBytes=oG;function Gct(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Mr.concatBytes=Gct;var iG=class{clone(){return this._cloneInto()}};Mr.Hash=iG;var $ct=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Yct(t,e){if(e!==void 0&&(typeof e!="object"||!$ct(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Mr.checkOpts=Yct;function Zct(t){let e=n=>t().update(oG(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Mr.wrapConstructor=Zct;function Qct(t){let e=(n,i)=>t(i).update(oG(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Mr.wrapConstructorWithOpts=Qct;function Jct(t=32){if(q9.crypto.web)return q9.crypto.web.getRandomValues(new Uint8Array(t));if(q9.crypto.node)return new Uint8Array(q9.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Mr.randomBytes=Jct});var Fxe=K(K9=>{"use strict";d();h();Object.defineProperty(K9,"__esModule",{value:!0});K9.SHA2=void 0;var aG=Dxe(),L_=sG();function Xct(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var cG=class extends L_.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,L_.createView)(this.buffer)}update(e){aG.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,L_.toBytes)(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=(0,L_.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){aG.default.exists(this),aG.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Xct(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=(0,L_.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};K9.SHA2=cG});var qxe=K(K2=>{"use strict";d();h();Object.defineProperty(K2,"__esModule",{value:!0});K2.sha224=K2.sha256=void 0;var eut=Fxe(),Tf=sG(),tut=(t,e,r)=>t&e^~t&r,rut=(t,e,r)=>t&e^t&r^e&r,nut=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),by=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vy=new Uint32Array(64),V9=class extends eut.SHA2{constructor(){super(64,32,8,!1),this.A=by[0]|0,this.B=by[1]|0,this.C=by[2]|0,this.D=by[3]|0,this.E=by[4]|0,this.F=by[5]|0,this.G=by[6]|0,this.H=by[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)vy[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=vy[b-15],I=vy[b-2],M=(0,Tf.rotr)(E,7)^(0,Tf.rotr)(E,18)^E>>>3,k=(0,Tf.rotr)(I,17)^(0,Tf.rotr)(I,19)^I>>>10;vy[b]=k+vy[b-7]+M+vy[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=(0,Tf.rotr)(c,6)^(0,Tf.rotr)(c,11)^(0,Tf.rotr)(c,25),I=w+E+tut(c,l,m)+nut[b]+vy[b]|0,k=((0,Tf.rotr)(n,2)^(0,Tf.rotr)(n,13)^(0,Tf.rotr)(n,22))+rut(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){vy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},uG=class extends V9{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};K2.sha256=(0,Tf.wrapConstructor)(()=>new V9);K2.sha224=(0,Tf.wrapConstructor)(()=>new uG)});var Vxe=K((g0r,Kxe)=>{"use strict";d();h();function iut(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,c=t.charAt(0),l=Math.log(s)/Math.log(256),m=Math.log(256)/Math.log(s);function w(I){if(I instanceof Uint8Array||(ArrayBuffer.isView(I)?I=new Uint8Array(I.buffer,I.byteOffset,I.byteLength):Array.isArray(I)&&(I=Uint8Array.from(I))),!(I instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(I.length===0)return"";for(var M=0,k=0,B=0,R=I.length;B!==R&&I[B]===0;)B++,M++;for(var U=(R-B)*m+1>>>0,P=new Uint8Array(U);B!==R;){for(var F=I[B],V=0,H=U-1;(F!==0||V<k)&&H!==-1;H--,V++)F+=256*P[H]>>>0,P[H]=F%s>>>0,F=F/s>>>0;if(F!==0)throw new Error("Non-zero carry");k=V,B++}for(var re=U-k;re!==U&&P[re]===0;)re++;for(var J=c.repeat(M);re<U;++re)J+=t.charAt(P[re]);return J}function b(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return new Uint8Array;for(var M=0,k=0,B=0;I[M]===c;)k++,M++;for(var R=(I.length-M)*l+1>>>0,U=new Uint8Array(R);I[M];){var P=e[I.charCodeAt(M)];if(P===255)return;for(var F=0,V=R-1;(P!==0||F<B)&&V!==-1;V--,F++)P+=s*U[V]>>>0,U[V]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");B=F,M++}for(var H=R-B;H!==R&&U[H]===0;)H++;for(var re=new Uint8Array(k+(R-H)),J=k;H!==R;)re[J++]=U[H++];return re}function E(I){var M=b(I);if(M)return M;throw new Error("Non-base"+s+" character")}return{encode:w,decodeUnsafe:b,decode:E}}Kxe.exports=iut});var jxe=K((x0r,Hxe)=>{d();h();var out=Vxe(),sut="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Hxe.exports=out(sut)});var Wxe=K((A0r,zxe)=>{"use strict";d();h();var fG=jxe();zxe.exports=function(t){function e(o){var s=Uint8Array.from(o),c=t(s),l=s.length+4,m=new Uint8Array(l);return m.set(s,0),m.set(c.subarray(0,4),s.length),fG.encode(m,l)}function r(o){var s=o.slice(0,-4),c=o.slice(-4),l=t(s);if(!(c[0]^l[0]|c[1]^l[1]|c[2]^l[2]|c[3]^l[3]))return s}function n(o){var s=fG.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=fG.decode(o),c=r(s,t);if(!c)throw new Error("Invalid checksum");return c}return{encode:e,decode:i,decodeUnsafe:n}}});var V2=K((T0r,$xe)=>{"use strict";d();h();var{sha256:Gxe}=qxe(),aut=Wxe();function cut(t){return Gxe(Gxe(t))}$xe.exports=aut(cut)});var Zxe=K((k0r,Yxe)=>{"use strict";d();h();var lG=Fa(),uut=ar().Buffer;Yxe.exports=function(t){function e(o){var s=t(o);return lG.encode(uut.concat([o,s],o.length+4))}function r(o){var s=o.slice(0,-4),c=o.slice(-4),l=t(s);if(!(c[0]^l[0]|c[1]^l[1]|c[2]^l[2]|c[3]^l[3]))return s}function n(o){var s=lG.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=lG.decode(o),c=r(s,t);if(!c)throw new Error("Invalid checksum");return c}return{encode:e,decode:i,decodeUnsafe:n}}});var Xxe=K((B0r,Jxe)=>{"use strict";d();h();var Qxe=rm(),fut=Zxe();function lut(t){var e=Qxe("sha256").update(t).digest();return Qxe("sha256").update(e).digest()}Jxe.exports=fut(lut)});var H9=K((N0r,twe)=>{d();h();var dG=Xxe();function ewe(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function hG(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}function dut(t,e){return ewe(dG.decode(t),e)}function hut(t,e,r){return typeof t=="number"?dG.encode(hG(t,e,r)):dG.encode(hG(t.version,t.privateKey,t.compressed))}twe.exports={decode:dut,decodeRaw:ewe,encode:hut,encodeRaw:hG}});var yG=K($a=>{"use strict";d();h();Object.defineProperty($a,"__esModule",{value:!0});$a.output=$a.exists=$a.hash=$a.bytes=$a.bool=$a.number=void 0;function W9(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}$a.number=W9;function cwe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}$a.bool=cwe;function mG(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}$a.bytes=mG;function uwe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");W9(t.outputLen),W9(t.blockLen)}$a.hash=uwe;function fwe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}$a.exists=fwe;function lwe(t,e){mG(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}$a.output=lwe;var vut={number:W9,bool:cwe,bytes:mG,hash:uwe,exists:fwe,output:lwe};$a.default=vut});var dwe=K(G9=>{"use strict";d();h();Object.defineProperty(G9,"__esModule",{value:!0});G9.crypto=void 0;G9.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Y9=K(vr=>{"use strict";d();h();Object.defineProperty(vr,"__esModule",{value:!0});vr.randomBytes=vr.wrapXOFConstructorWithOpts=vr.wrapConstructorWithOpts=vr.wrapConstructor=vr.checkOpts=vr.Hash=vr.concatBytes=vr.toBytes=vr.utf8ToBytes=vr.asyncLoop=vr.nextTick=vr.hexToBytes=vr.bytesToHex=vr.isLE=vr.rotr=vr.createView=vr.u32=vr.u8=void 0;var gG=dwe(),vG=t=>t instanceof Uint8Array,xut=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);vr.u8=xut;var wut=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));vr.u32=wut;var Sut=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);vr.createView=Sut;var Aut=(t,e)=>t<<32-e|t>>>e;vr.rotr=Aut;vr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vr.isLE)throw new Error("Non little-endian hardware is not supported");var Eut=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _ut(t){if(!vG(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Eut[t[r]];return e}vr.bytesToHex=_ut;function Tut(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}vr.hexToBytes=Tut;var Iut=async()=>{};vr.nextTick=Iut;async function Mut(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,vr.nextTick)(),n+=o)}}vr.asyncLoop=Mut;function hwe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}vr.utf8ToBytes=hwe;function $9(t){if(typeof t=="string"&&(t=hwe(t)),!vG(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}vr.toBytes=$9;function kut(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!vG(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}vr.concatBytes=kut;var bG=class{clone(){return this._cloneInto()}};vr.Hash=bG;var Put=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Rut(t,e){if(e!==void 0&&(typeof e!="object"||!Put(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}vr.checkOpts=Rut;function But(t){let e=n=>t().update($9(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}vr.wrapConstructor=But;function Cut(t){let e=(n,i)=>t(i).update($9(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}vr.wrapConstructorWithOpts=Cut;function Out(t){let e=(n,i)=>t(i).update($9(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}vr.wrapXOFConstructorWithOpts=Out;function Nut(t=32){if(gG.crypto&&typeof gG.crypto.getRandomValues=="function")return gG.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}vr.randomBytes=Nut});var mwe=K(T1=>{"use strict";d();h();Object.defineProperty(T1,"__esModule",{value:!0});T1.hmac=T1.HMAC=void 0;var Z9=yG(),pwe=Y9(),q_=class extends pwe.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Z9.default.hash(e);let n=(0,pwe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Z9.default.exists(this),this.iHash.update(e),this}digestInto(e){Z9.default.exists(this),Z9.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};T1.HMAC=q_;var Dut=(t,e,r)=>new q_(t,e).update(r).digest();T1.hmac=Dut;T1.hmac.create=(t,e)=>new q_(t,e)});var ywe=K(Q9=>{"use strict";d();h();Object.defineProperty(Q9,"__esModule",{value:!0});Q9.SHA2=void 0;var xG=yG(),K_=Y9();function Uut(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var wG=class extends K_.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,K_.createView)(this.buffer)}update(e){xG.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,K_.toBytes)(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=(0,K_.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xG.default.exists(this),xG.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Uut(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=(0,K_.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};Q9.SHA2=wG});var gwe=K(H2=>{"use strict";d();h();Object.defineProperty(H2,"__esModule",{value:!0});H2.sha224=H2.sha256=void 0;var Lut=ywe(),If=Y9(),Fut=(t,e,r)=>t&e^~t&r,qut=(t,e,r)=>t&e^t&r^e&r,Kut=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wy=new Uint32Array(64),J9=class extends Lut.SHA2{constructor(){super(64,32,8,!1),this.A=xy[0]|0,this.B=xy[1]|0,this.C=xy[2]|0,this.D=xy[3]|0,this.E=xy[4]|0,this.F=xy[5]|0,this.G=xy[6]|0,this.H=xy[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)wy[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=wy[b-15],I=wy[b-2],M=(0,If.rotr)(E,7)^(0,If.rotr)(E,18)^E>>>3,k=(0,If.rotr)(I,17)^(0,If.rotr)(I,19)^I>>>10;wy[b]=k+wy[b-7]+M+wy[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=(0,If.rotr)(c,6)^(0,If.rotr)(c,11)^(0,If.rotr)(c,25),I=w+E+Fut(c,l,m)+Kut[b]+wy[b]|0,k=((0,If.rotr)(n,2)^(0,If.rotr)(n,13)^(0,If.rotr)(n,22))+qut(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){wy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},SG=class extends J9{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};H2.sha256=(0,If.wrapConstructor)(()=>new J9);H2.sha224=(0,If.wrapConstructor)(()=>new SG)});var eR=K(Eo=>{"use strict";d();h();var Vut=WH(),Hut=mwe(),bwe=gwe();function jut(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var kn=jut(Vut);kn.utils.hmacSha256Sync=(t,...e)=>Hut.hmac(bwe.sha256,t,kn.utils.concatBytes(...e));kn.utils.sha256Sync=(...t)=>bwe.sha256(kn.utils.concatBytes(...t));var _G=kn.utils._normalizePrivateKey,zut=32,Wut=32,AG=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),Gut=32;function EG(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function V_(t){return!(!(t instanceof Uint8Array)||t.length!==Wut||EG(t,AG)>=0)}function vwe(t){return t instanceof Uint8Array&&t.length===64&&EG(t.subarray(0,32),AG)<0&&EG(t.subarray(32,64),AG)<0}function X9(t){return t instanceof Uint8Array&&t.length===zut}function xwe(t){return t===void 0||t instanceof Uint8Array&&t.length===Gut}function wwe(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function $ut(t){return wwe(kn.utils.bytesToHex(t))}function TG(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=wwe(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=$ut(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}var Yut=(t,e)=>{let r=_G(t),n=TG(e),i=kn.utils._bigintTo32Bytes(kn.utils.mod(r+n,kn.CURVE.n));return kn.utils.isValidPrivateKey(i)?i:null},Zut=(t,e)=>{let r=_G(t),n=TG(e),i=kn.utils._bigintTo32Bytes(kn.utils.mod(r-n,kn.CURVE.n));return kn.utils.isValidPrivateKey(i)?i:null},Qut=t=>{let e=_G(t),r=kn.utils._bigintTo32Bytes(kn.CURVE.n-e);return kn.utils.isValidPrivateKey(r)?r:null},Swe=(t,e,r)=>{let n=kn.Point.fromHex(t),i=TG(e),o=kn.Point.BASE.multiplyAndAddUnsafe(n,i,1n);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)},Jut=(t,e,r)=>{let n=kn.Point.fromHex(t),i=typeof e=="string"?e:kn.utils.bytesToHex(e),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)};function H_(t,e){return t===void 0?e!==void 0?Awe(e):!0:!!t}function I1(t){try{return t()}catch{return null}}function IG(t,e){if(t.length===32!==e)return!1;try{return!!kn.Point.fromHex(t)}catch{return!1}}function Sy(t){return IG(t,!1)}function Awe(t){return IG(t,!1)&&t.length===33}function Ay(t){return kn.utils.isValidPrivateKey(t)}function MG(t){return IG(t,!0)}function Xut(t,e){if(!MG(t))throw new Error("Expected Point");if(!V_(e))throw new Error("Expected Tweak");return I1(()=>{let r=Swe(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}function Ewe(t){if(!Sy(t))throw new Error("Expected Point");return t.slice(1,33)}function _we(t,e){if(!Ay(t))throw new Error("Expected Private");return I1(()=>kn.getPublicKey(t,H_(e)))}function eft(t){if(!Ay(t))throw new Error("Expected Private");return Ewe(_we(t))}function tft(t,e){if(!Sy(t))throw new Error("Expected Point");return kn.Point.fromHex(t).toRawBytes(H_(e,t))}function rft(t,e,r){if(!Sy(t))throw new Error("Expected Point");if(!V_(e))throw new Error("Expected Tweak");return I1(()=>Jut(t,e,H_(r,t)))}function nft(t,e,r){if(!Sy(t)||!Sy(e))throw new Error("Expected Point");return I1(()=>{let n=kn.Point.fromHex(t),i=kn.Point.fromHex(e);return n.equals(i.negate())?null:n.add(i).toRawBytes(H_(r,t))})}function ift(t,e,r){if(!Sy(t))throw new Error("Expected Point");if(!V_(e))throw new Error("Expected Tweak");return I1(()=>Swe(t,e,H_(r,t)))}function oft(t,e){if(Ay(t)===!1)throw new Error("Expected Private");if(V_(e)===!1)throw new Error("Expected Tweak");return I1(()=>Yut(t,e))}function sft(t,e){if(Ay(t)===!1)throw new Error("Expected Private");if(V_(e)===!1)throw new Error("Expected Tweak");return I1(()=>Zut(t,e))}function aft(t){if(Ay(t)===!1)throw new Error("Expected Private");return Qut(t)}function cft(t,e,r){if(!Ay(e))throw new Error("Expected Private");if(!X9(t))throw new Error("Expected Scalar");if(!xwe(r))throw new Error("Expected Extra Data (32 bytes)");return kn.signSync(t,e,{der:!1,extraEntropy:r})}function uft(t,e,r=Buffer.alloc(32,0)){if(!Ay(e))throw new Error("Expected Private");if(!X9(t))throw new Error("Expected Scalar");if(!xwe(r))throw new Error("Expected Extra Data (32 bytes)");return kn.schnorr.signSync(t,e,r)}function fft(t,e,r,n){if(!Sy(e))throw new Error("Expected Point");if(!vwe(r))throw new Error("Expected Signature");if(!X9(t))throw new Error("Expected Scalar");return kn.verify(r,t,e,{strict:n})}function lft(t,e,r){if(!MG(e))throw new Error("Expected Point");if(!vwe(r))throw new Error("Expected Signature");if(!X9(t))throw new Error("Expected Scalar");return kn.schnorr.verifySync(r,t,e)}Eo.isPoint=Sy;Eo.isPointCompressed=Awe;Eo.isPrivate=Ay;Eo.isXOnlyPoint=MG;Eo.pointAdd=nft;Eo.pointAddScalar=ift;Eo.pointCompress=tft;Eo.pointFromScalar=_we;Eo.pointMultiply=rft;Eo.privateAdd=oft;Eo.privateNegate=aft;Eo.privateSub=sft;Eo.sign=cft;Eo.signSchnorr=uft;Eo.verify=fft;Eo.verifySchnorr=lft;Eo.xOnlyPointAddTweak=Xut;Eo.xOnlyPointFromPoint=Ewe;Eo.xOnlyPointFromScalar=eft});var Mf=K(_y=>{"use strict";d();h();Object.defineProperty(_y,"__esModule",{value:!0});_y.testnet=_y.regtest=_y.bitcoin=void 0;_y.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};_y.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};_y.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var PG=K(Ty=>{"use strict";d();h();Object.defineProperty(Ty,"__esModule",{value:!0});Ty.encode=Ty.decode=Ty.check=void 0;function xft(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}Ty.check=xft;function wft(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}Ty.decode=wft;function Sft(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}Ty.encode=Sft});var rR=K(j2=>{"use strict";d();h();Object.defineProperty(j2,"__esModule",{value:!0});j2.REVERSE_OPS=j2.OPS=void 0;var RG={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};j2.OPS=RG;var Bwe={};j2.REVERSE_OPS=Bwe;for(let t of Object.keys(RG)){let e=RG[t];Bwe[e]=t}});var Owe=K(My=>{"use strict";d();h();Object.defineProperty(My,"__esModule",{value:!0});My.decode=My.encode=My.encodingLength=void 0;var Iy=rR();function Cwe(t){return t<Iy.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}My.encodingLength=Cwe;function Aft(t,e,r){let n=Cwe(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(Iy.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(Iy.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(Iy.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}My.encode=Aft;function Eft(t,e){let r=t.readUInt8(e),n,i;if(r<Iy.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===Iy.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===Iy.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==Iy.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}My.decode=Eft});var Nwe=K(z2=>{"use strict";d();h();Object.defineProperty(z2,"__esModule",{value:!0});z2.encode=z2.decode=void 0;function _ft(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let o=t.readUInt32LE(0),s=t.readUInt8(4);return s&128?-((s&-129)*4294967296+o):s*4294967296+o}let i=0;for(let o=0;o<n;++o)i|=t[o]<<8*o;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}z2.decode=_ft;function Tft(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function Ift(t){let e=Math.abs(t),r=Tft(e),n=Buffer.allocUnsafe(r),i=t<0;for(let o=0;o<r;++o)n.writeUInt8(e&255,o),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}z2.encode=Ift});var nR=K((Xpr,Dwe)=>{d();h();var z_={Array:function(t){return t!=null&&t.constructor===Array},Boolean:function(t){return typeof t=="boolean"},Function:function(t){return typeof t=="function"},Nil:function(t){return t==null},Number:function(t){return typeof t=="number"},Object:function(t){return typeof t=="object"},String:function(t){return typeof t=="string"},"":function(){return!0}};z_.Null=z_.Nil;for(BG in z_)z_[BG].toJSON=function(t){return t}.bind(null,BG);var BG;Dwe.exports=z_});var NG=K((rmr,Fwe)=>{d();h();var M1=nR();function Uwe(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function CG(t){return M1.Nil(t)?"":Uwe(t.constructor)}function Mft(t){return M1.Function(t)?"":M1.String(t)?JSON.stringify(t):t&&M1.Object(t)?"":t}function OG(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function iR(t){return M1.Function(t)?t.toJSON?t.toJSON():Uwe(t):M1.Array(t)?"Array":t&&M1.Object(t)?"Object":t!==void 0?t:""}function Lwe(t,e,r){var n=Mft(e);return"Expected "+iR(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}function L0(t,e,r){r=r||CG(e),this.message=Lwe(t,e,r),OG(this,L0),this.__type=t,this.__value=e,this.__valueTypeName=r}L0.prototype=Object.create(Error.prototype);L0.prototype.constructor=L0;function kft(t,e,r,n,i){var o='" of type ';return e==="key"&&(o='" with key type '),Lwe('property "'+iR(r)+o+iR(t),n,i)}function W2(t,e,r,n,i){t?(i=i||CG(n),this.message=kft(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',OG(this,L0),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}W2.prototype=Object.create(Error.prototype);W2.prototype.constructor=L0;function Pft(t,e){return new L0(t,{},e)}function Rft(t,e,r){return t instanceof W2?(e=e+"."+t.__property,t=new W2(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof L0&&(t=new W2(t.__type,e,r,t.__value,t.__valueTypeName)),OG(t),t}Fwe.exports={TfTypeError:L0,TfPropertyTypeError:W2,tfCustomError:Pft,tfSubError:Rft,tfJSON:iR,getValueTypeName:CG}});var Hwe=K((omr,Vwe)=>{d();h();var FG=nR(),Bft=NG();function qwe(t){return Buffer.isBuffer(t)}function Kwe(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}function oR(t,e){var r=t.toJSON();function n(i){if(!t(i))return!1;if(i.length===e)return!0;throw Bft.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+i.length+")")}return n.toJSON=function(){return r},n}var Cft=oR.bind(null,FG.Array),Oft=oR.bind(null,qwe),Nft=oR.bind(null,Kwe),Dft=oR.bind(null,FG.String);function Uft(t,e,r){r=r||FG.Number;function n(i,o){return r(i,o)&&i>t&&i<e}return n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}var UG=Math.pow(2,53)-1;function Lft(t){return typeof t=="number"&&isFinite(t)}function Fft(t){return t<<24>>24===t}function qft(t){return t<<16>>16===t}function Kft(t){return(t|0)===t}function Vft(t){return typeof t=="number"&&t>=-UG&&t<=UG&&Math.floor(t)===t}function Hft(t){return(t&255)===t}function jft(t){return(t&65535)===t}function zft(t){return t>>>0===t}function Wft(t){return typeof t=="number"&&t>=0&&t<=UG&&Math.floor(t)===t}var LG={ArrayN:Cft,Buffer:qwe,BufferN:Oft,Finite:Lft,Hex:Kwe,HexN:Nft,Int8:Fft,Int16:qft,Int32:Kft,Int53:Vft,Range:Uft,StringN:Dft,UInt8:Hft,UInt16:jft,UInt32:zft,UInt53:Wft};for(DG in LG)LG[DG].toJSON=function(t){return t}.bind(null,DG);var DG;Vwe.exports=LG});var qG=K((cmr,Gwe)=>{d();h();var G_=NG(),Os=nR(),F0=G_.tfJSON,zwe=G_.TfTypeError,Wwe=G_.TfPropertyTypeError,W_=G_.tfSubError,Gft=G_.getValueTypeName,q0={arrayOf:function(e,r){e=eh(e),r=r||{};function n(i,o){return!Os.Array(i)||Os.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(s,c){try{return Ya(e,s,o)}catch(l){throw W_(l,c)}})}return n.toJSON=function(){var i="["+F0(e)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},maybe:function t(e){e=eh(e);function r(n,i){return Os.Nil(n)||e(n,i,t)}return r.toJSON=function(){return"?"+F0(e)},r},map:function(e,r){e=eh(e),r&&(r=eh(r));function n(i,o){if(!Os.Object(i)||Os.Nil(i))return!1;for(var s in i){try{r&&Ya(r,s,o)}catch(l){throw W_(l,s,"key")}try{var c=i[s];Ya(e,c,o)}catch(l){throw W_(l,s)}}return!0}return r?n.toJSON=function(){return"{"+F0(r)+": "+F0(e)+"}"}:n.toJSON=function(){return"{"+F0(e)+"}"},n},object:function(e){var r={};for(var n in e)r[n]=eh(e[n]);function i(o,s){if(!Os.Object(o)||Os.Nil(o))return!1;var c;try{for(c in r){var l=r[c],m=o[c];Ya(l,m,s)}}catch(w){throw W_(w,c)}if(s){for(c in o)if(!r[c])throw new Wwe(void 0,c)}return!0}return i.toJSON=function(){return F0(r)},i},anyOf:function(){var e=[].slice.call(arguments).map(eh);function r(n,i){return e.some(function(o){try{return Ya(o,n,i)}catch{return!1}})}return r.toJSON=function(){return e.map(F0).join("|")},r},allOf:function(){var e=[].slice.call(arguments).map(eh);function r(n,i){return e.every(function(o){try{return Ya(o,n,i)}catch{return!1}})}return r.toJSON=function(){return e.map(F0).join(" & ")},r},quacksLike:function(e){function r(n){return e===Gft(n)}return r.toJSON=function(){return e},r},tuple:function(){var e=[].slice.call(arguments).map(eh);function r(n,i){return Os.Nil(n)||Os.Nil(n.length)||i&&n.length!==e.length?!1:e.every(function(o,s){try{return Ya(o,n[s],i)}catch(c){throw W_(c,s)}})}return r.toJSON=function(){return"("+e.map(F0).join(", ")+")"},r},value:function(e){function r(n){return n===e}return r.toJSON=function(){return e},r}};q0.oneOf=q0.anyOf;function eh(t){if(Os.String(t))return t[0]==="?"?q0.maybe(t.slice(1)):Os[t]||q0.quacksLike(t);if(t&&Os.Object(t)){if(Os.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return q0.arrayOf(t[0])}return q0.object(t)}else if(Os.Function(t))return t;return q0.value(t)}function Ya(t,e,r,n){if(Os.Function(t)){if(t(e,r))return!0;throw new zwe(n||t,e)}return Ya(eh(t),e,r)}for(K0 in Os)Ya[K0]=Os[K0];var K0;for(K0 in q0)Ya[K0]=q0[K0];var jwe=Hwe();for(K0 in jwe)Ya[K0]=jwe[K0];Ya.compile=eh;Ya.TfTypeError=zwe;Ya.TfPropertyTypeError=Wwe;Gwe.exports=Ya});var Ns=K(ft=>{"use strict";d();h();Object.defineProperty(ft,"__esModule",{value:!0});ft.oneOf=ft.Null=ft.BufferN=ft.Function=ft.UInt32=ft.UInt8=ft.tuple=ft.maybe=ft.Hex=ft.Buffer=ft.String=ft.Boolean=ft.Array=ft.Number=ft.Hash256bit=ft.Hash160bit=ft.Buffer256bit=ft.isTaptree=ft.isTapleaf=ft.TAPLEAF_VERSION_MASK=ft.Network=ft.ECPoint=ft.Satoshi=ft.Signer=ft.BIP32Path=ft.UInt31=ft.isPoint=ft.typeforce=void 0;var sR=Fn();ft.typeforce=qG();var $we=sR.Buffer.alloc(32,0),Ywe=sR.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function $ft(t){if(!sR.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare($we)===0||r.compare(Ywe)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare($we)===0||n.compare(Ywe)>=0?!1:e===4&&t.length===65}ft.isPoint=$ft;var Yft=Math.pow(2,31)-1;function Zft(t){return ft.typeforce.UInt32(t)&&t<=Yft}ft.UInt31=Zft;function Zwe(t){return ft.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}ft.BIP32Path=Zwe;Zwe.toJSON=()=>"BIP32 derivation path";function Qft(t){return(ft.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}ft.Signer=Qft;var Jft=21*1e14;function Xft(t){return ft.typeforce.UInt53(t)&&t<=Jft}ft.Satoshi=Xft;ft.ECPoint=ft.typeforce.quacksLike("Point");ft.Network=ft.typeforce.compile({messagePrefix:ft.typeforce.oneOf(ft.typeforce.Buffer,ft.typeforce.String),bip32:{public:ft.typeforce.UInt32,private:ft.typeforce.UInt32},pubKeyHash:ft.typeforce.UInt8,scriptHash:ft.typeforce.UInt8,wif:ft.typeforce.UInt8});ft.TAPLEAF_VERSION_MASK=254;function Qwe(t){return!t||!("output"in t)||!sR.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&ft.TAPLEAF_VERSION_MASK)===t.version:!0}ft.isTapleaf=Qwe;function Jwe(t){return(0,ft.Array)(t)?t.length!==2?!1:t.every(e=>Jwe(e)):Qwe(t)}ft.isTaptree=Jwe;ft.Buffer256bit=ft.typeforce.BufferN(32);ft.Hash160bit=ft.typeforce.BufferN(20);ft.Hash256bit=ft.typeforce.BufferN(32);ft.Number=ft.typeforce.Number;ft.Array=ft.typeforce.Array;ft.Boolean=ft.typeforce.Boolean;ft.String=ft.typeforce.String;ft.Buffer=ft.typeforce.Buffer;ft.Hex=ft.typeforce.Hex;ft.maybe=ft.typeforce.maybe;ft.tuple=ft.typeforce.tuple;ft.UInt8=ft.typeforce.UInt8;ft.UInt32=ft.typeforce.UInt32;ft.Function=ft.typeforce.Function;ft.BufferN=ft.typeforce.BufferN;ft.Null=ft.typeforce.Null;ft.oneOf=ft.typeforce.oneOf});var n2e=K($2=>{"use strict";d();h();Object.defineProperty($2,"__esModule",{value:!0});$2.encode=$2.decode=void 0;var{Buffer:G2}=Fn(),r2e=PG(),KG=Ns(),{typeforce:elt}=KG,Xwe=G2.alloc(1,0);function e2e(t){let e=0;for(;t[e]===0;)++e;return e===t.length?Xwe:(t=t.slice(e),t[0]&128?G2.concat([Xwe,t],1+t.length):t)}function t2e(t){t[0]===0&&(t=t.slice(1));let e=G2.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function tlt(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=r2e.decode(t.slice(0,-1)),i=t2e(n.r),o=t2e(n.s);return{signature:G2.concat([i,o],64),hashType:e}}$2.decode=tlt;function rlt(t,e){elt({signature:KG.BufferN(64),hashType:KG.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=G2.allocUnsafe(1);n.writeUInt8(e,0);let i=e2e(t.slice(0,32)),o=e2e(t.slice(32,64));return G2.concat([r2e.encode(i,o),n])}$2.encode=rlt});var Za=K(Yn=>{"use strict";d();h();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.signature=Yn.number=Yn.isCanonicalScriptSignature=Yn.isDefinedHashType=Yn.isCanonicalPubKey=Yn.toStack=Yn.fromASM=Yn.toASM=Yn.decompile=Yn.compile=Yn.countNonPushOnlyOPs=Yn.isPushOnly=Yn.OPS=void 0;var nlt=PG(),Mc=rR();Object.defineProperty(Yn,"OPS",{enumerable:!0,get:function(){return Mc.OPS}});var VG=Owe(),i2e=Nwe(),ilt=n2e(),th=Ns(),{typeforce:$_}=th,o2e=Mc.OPS.OP_RESERVED;function olt(t){return th.Number(t)&&(t===Mc.OPS.OP_0||t>=Mc.OPS.OP_1&&t<=Mc.OPS.OP_16||t===Mc.OPS.OP_1NEGATE)}function s2e(t){return th.Buffer(t)||olt(t)}function a2e(t){return th.Array(t)&&t.every(s2e)}Yn.isPushOnly=a2e;function slt(t){return t.length-t.filter(s2e).length}Yn.countNonPushOnlyOPs=slt;function aR(t){if(t.length===0)return Mc.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return o2e+t[0];if(t[0]===129)return Mc.OPS.OP_1NEGATE}}function c2e(t){return Buffer.isBuffer(t)}function alt(t){return th.Array(t)}function cR(t){return Buffer.isBuffer(t)}function u2e(t){if(c2e(t))return t;$_(th.Array,t);let e=t.reduce((i,o)=>cR(o)?o.length===1&&aR(o)!==void 0?i+1:i+VG.encodingLength(o.length)+o.length:i+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(cR(i)){let o=aR(i);if(o!==void 0){r.writeUInt8(o,n),n+=1;return}n+=VG.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}Yn.compile=u2e;function HG(t){if(alt(t))return t;$_(th.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Mc.OPS.OP_0&&n<=Mc.OPS.OP_PUSHDATA4){let i=VG.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let o=t.slice(r,r+i.number);r+=i.number;let s=aR(o);s!==void 0?e.push(s):e.push(o)}else e.push(n),r+=1}return e}Yn.decompile=HG;function clt(t){return c2e(t)&&(t=HG(t)),t.map(e=>{if(cR(e)){let r=aR(e);if(r===void 0)return e.toString("hex");e=r}return Mc.REVERSE_OPS[e]}).join(" ")}Yn.toASM=clt;function ult(t){return $_(th.String,t),u2e(t.split(" ").map(e=>Mc.OPS[e]!==void 0?Mc.OPS[e]:($_(th.Hex,e),Buffer.from(e,"hex"))))}Yn.fromASM=ult;function flt(t){return t=HG(t),$_(a2e,t),t.map(e=>cR(e)?e:e===Mc.OPS.OP_0?Buffer.allocUnsafe(0):i2e.encode(e-o2e))}Yn.toStack=flt;function llt(t){return th.isPoint(t)}Yn.isCanonicalPubKey=llt;function f2e(t){let e=t&-129;return e>0&&e<4}Yn.isDefinedHashType=f2e;function dlt(t){return!Buffer.isBuffer(t)||!f2e(t[t.length-1])?!1:nlt.check(t.slice(0,-1))}Yn.isCanonicalScriptSignature=dlt;Yn.number=i2e;Yn.signature=ilt});var V0=K(Y2=>{"use strict";d();h();Object.defineProperty(Y2,"__esModule",{value:!0});Y2.value=Y2.prop=void 0;function hlt(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}Y2.prop=hlt;function plt(t){let e;return()=>(e!==void 0||(e=t()),e)}Y2.value=plt});var h2e=K(fR=>{"use strict";d();h();Object.defineProperty(fR,"__esModule",{value:!0});fR.p2data=void 0;var mlt=Mf(),uR=Za(),H0=Ns(),l2e=V0(),d2e=uR.OPS;function ylt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function glt(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,H0.typeforce)({network:H0.typeforce.maybe(H0.typeforce.Object),output:H0.typeforce.maybe(H0.typeforce.Buffer),data:H0.typeforce.maybe(H0.typeforce.arrayOf(H0.typeforce.Buffer))},t);let n={name:"embed",network:t.network||mlt.bitcoin};if(l2e.prop(n,"output",()=>{if(t.data)return uR.compile([d2e.OP_RETURN].concat(t.data))}),l2e.prop(n,"data",()=>{if(t.output)return uR.decompile(t.output).slice(1)}),e.validate&&t.output){let i=uR.decompile(t.output);if(i[0]!==d2e.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(H0.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!ylt(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}fR.p2data=glt});var m2e=K(dR=>{"use strict";d();h();Object.defineProperty(dR,"__esModule",{value:!0});dR.p2ms=void 0;var blt=Mf(),Z2=Za(),Do=Ns(),ky=V0(),Q2=Z2.OPS,lR=Q2.OP_RESERVED;function p2e(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function vlt(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(l){return Z2.isCanonicalScriptSignature(l)||(e.allowIncomplete&&l===Q2.OP_0)!==void 0}(0,Do.typeforce)({network:Do.typeforce.maybe(Do.typeforce.Object),m:Do.typeforce.maybe(Do.typeforce.Number),n:Do.typeforce.maybe(Do.typeforce.Number),output:Do.typeforce.maybe(Do.typeforce.Buffer),pubkeys:Do.typeforce.maybe(Do.typeforce.arrayOf(Do.isPoint)),signatures:Do.typeforce.maybe(Do.typeforce.arrayOf(r)),input:Do.typeforce.maybe(Do.typeforce.Buffer)},t);let i={network:t.network||blt.bitcoin},o=[],s=!1;function c(l){s||(s=!0,o=Z2.decompile(l),i.m=o[0]-lR,i.n=o[o.length-2]-lR,i.pubkeys=o.slice(1,-2))}if(ky.prop(i,"output",()=>{if(t.m&&i.n&&t.pubkeys)return Z2.compile([].concat(lR+t.m,t.pubkeys,lR+i.n,Q2.OP_CHECKMULTISIG))}),ky.prop(i,"m",()=>{if(i.output)return c(i.output),i.m}),ky.prop(i,"n",()=>{if(i.pubkeys)return i.pubkeys.length}),ky.prop(i,"pubkeys",()=>{if(t.output)return c(t.output),i.pubkeys}),ky.prop(i,"signatures",()=>{if(t.input)return Z2.decompile(t.input).slice(1)}),ky.prop(i,"input",()=>{if(t.signatures)return Z2.compile([Q2.OP_0].concat(t.signatures))}),ky.prop(i,"witness",()=>{if(i.input)return[]}),ky.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(c(t.output),!Do.typeforce.Number(o[0]))throw new TypeError("Output is invalid");if(!Do.typeforce.Number(o[o.length-2]))throw new TypeError("Output is invalid");if(o[o.length-1]!==Q2.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==o.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(l=>(0,Do.isPoint)(l)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!p2e(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==Q2.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!p2e(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}dR.p2ms=vlt});var g2e=K(hR=>{"use strict";d();h();Object.defineProperty(hR,"__esModule",{value:!0});hR.p2pk=void 0;var xlt=Mf(),X2=Za(),Dl=Ns(),J2=V0(),y2e=X2.OPS;function wlt(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Dl.typeforce)({network:Dl.typeforce.maybe(Dl.typeforce.Object),output:Dl.typeforce.maybe(Dl.typeforce.Buffer),pubkey:Dl.typeforce.maybe(Dl.isPoint),signature:Dl.typeforce.maybe(X2.isCanonicalScriptSignature),input:Dl.typeforce.maybe(Dl.typeforce.Buffer)},t);let r=J2.value(()=>X2.decompile(t.input)),i={name:"p2pk",network:t.network||xlt.bitcoin};if(J2.prop(i,"output",()=>{if(t.pubkey)return X2.compile([t.pubkey,y2e.OP_CHECKSIG])}),J2.prop(i,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),J2.prop(i,"signature",()=>{if(t.input)return r()[0]}),J2.prop(i,"input",()=>{if(t.signature)return X2.compile([t.signature])}),J2.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==y2e.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,Dl.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!X2.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}hR.p2pk=wlt});var S2e=K(Qa=>{"use strict";d();h();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.output=Qa.exists=Qa.hash=Qa.bytes=Qa.bool=Qa.number=void 0;function pR(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Qa.number=pR;function b2e(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Qa.bool=b2e;function jG(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Qa.bytes=jG;function v2e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");pR(t.outputLen),pR(t.blockLen)}Qa.hash=v2e;function x2e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Qa.exists=x2e;function w2e(t,e){jG(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Qa.output=w2e;var Slt={number:pR,bool:b2e,bytes:jG,hash:v2e,exists:x2e,output:w2e};Qa.default=Slt});var A2e=K(mR=>{"use strict";d();h();Object.defineProperty(mR,"__esModule",{value:!0});mR.crypto=void 0;mR.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Y_=K(kr=>{"use strict";d();h();Object.defineProperty(kr,"__esModule",{value:!0});kr.randomBytes=kr.wrapConstructorWithOpts=kr.wrapConstructor=kr.checkOpts=kr.Hash=kr.concatBytes=kr.toBytes=kr.utf8ToBytes=kr.asyncLoop=kr.nextTick=kr.hexToBytes=kr.bytesToHex=kr.isLE=kr.rotr=kr.createView=kr.u32=kr.u8=void 0;var yR=A2e(),Alt=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);kr.u8=Alt;var Elt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));kr.u32=Elt;var _lt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);kr.createView=_lt;var Tlt=(t,e)=>t<<32-e|t>>>e;kr.rotr=Tlt;kr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!kr.isLE)throw new Error("Non little-endian hardware is not supported");var Ilt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Mlt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Ilt[t[r]];return e}kr.bytesToHex=Mlt;function klt(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}kr.hexToBytes=klt;var Plt=async()=>{};kr.nextTick=Plt;async function Rlt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,kr.nextTick)(),n+=o)}}kr.asyncLoop=Rlt;function E2e(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}kr.utf8ToBytes=E2e;function WG(t){if(typeof t=="string"&&(t=E2e(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}kr.toBytes=WG;function Blt(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}kr.concatBytes=Blt;var zG=class{clone(){return this._cloneInto()}};kr.Hash=zG;var Clt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Olt(t,e){if(e!==void 0&&(typeof e!="object"||!Clt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}kr.checkOpts=Olt;function Nlt(t){let e=n=>t().update(WG(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}kr.wrapConstructor=Nlt;function Dlt(t){let e=(n,i)=>t(i).update(WG(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}kr.wrapConstructorWithOpts=Dlt;function Ult(t=32){if(yR.crypto.web)return yR.crypto.web.getRandomValues(new Uint8Array(t));if(yR.crypto.node)return new Uint8Array(yR.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}kr.randomBytes=Ult});var bR=K(gR=>{"use strict";d();h();Object.defineProperty(gR,"__esModule",{value:!0});gR.SHA2=void 0;var GG=S2e(),Z_=Y_();function Llt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var $G=class extends Z_.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Z_.createView)(this.buffer)}update(e){GG.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,Z_.toBytes)(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=(0,Z_.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){GG.default.exists(this),GG.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Llt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=(0,Z_.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};gR.SHA2=$G});var M2e=K(eS=>{"use strict";d();h();Object.defineProperty(eS,"__esModule",{value:!0});eS.ripemd160=eS.RIPEMD160=void 0;var Flt=bR(),qlt=Y_(),Klt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),T2e=Uint8Array.from({length:16},(t,e)=>e),Vlt=T2e.map(t=>(9*t+5)%16),YG=[T2e],ZG=[Vlt];for(let t=0;t<4;t++)for(let e of[YG,ZG])e.push(e[t].map(r=>Klt[r]));var I2e=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Hlt=YG.map((t,e)=>t.map(r=>I2e[e][r])),jlt=ZG.map((t,e)=>t.map(r=>I2e[e][r])),zlt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Wlt=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),vR=(t,e)=>t<<e|t>>>32-e;function _2e(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var xR=new Uint32Array(16),wR=class extends Flt.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(e,r){for(let I=0;I<16;I++,r+=4)xR[I]=e.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,c=this.h2|0,l=c,m=this.h3|0,w=m,b=this.h4|0,E=b;for(let I=0;I<5;I++){let M=4-I,k=zlt[I],B=Wlt[I],R=YG[I],U=ZG[I],P=Hlt[I],F=jlt[I];for(let V=0;V<16;V++){let H=vR(n+_2e(I,o,c,m)+xR[R[V]]+k,P[V])+b|0;n=b,b=m,m=vR(c,10)|0,c=o,o=H}for(let V=0;V<16;V++){let H=vR(i+_2e(M,s,l,w)+xR[U[V]]+B,F[V])+E|0;i=E,E=w,w=vR(l,10)|0,l=s,s=H}}this.set(this.h1+c+w|0,this.h2+m+E|0,this.h3+b+i|0,this.h4+n+s|0,this.h0+o+l|0)}roundClean(){xR.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};eS.RIPEMD160=wR;eS.ripemd160=(0,qlt.wrapConstructor)(()=>new wR)});var k2e=K(SR=>{"use strict";d();h();Object.defineProperty(SR,"__esModule",{value:!0});SR.sha1=void 0;var Glt=bR(),$lt=Y_(),QG=(t,e)=>t<<e|t>>>32-e>>>0,Ylt=(t,e,r)=>t&e^~t&r,Zlt=(t,e,r)=>t&e^t&r^e&r,Q_=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),Py=new Uint32Array(80),JG=class extends Glt.SHA2{constructor(){super(64,20,8,!1),this.A=Q_[0]|0,this.B=Q_[1]|0,this.C=Q_[2]|0,this.D=Q_[3]|0,this.E=Q_[4]|0}get(){let{A:e,B:r,C:n,D:i,E:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0}process(e,r){for(let l=0;l<16;l++,r+=4)Py[l]=e.getUint32(r,!1);for(let l=16;l<80;l++)Py[l]=QG(Py[l-3]^Py[l-8]^Py[l-14]^Py[l-16],1);let{A:n,B:i,C:o,D:s,E:c}=this;for(let l=0;l<80;l++){let m,w;l<20?(m=Ylt(i,o,s),w=1518500249):l<40?(m=i^o^s,w=1859775393):l<60?(m=Zlt(i,o,s),w=2400959708):(m=i^o^s,w=3395469782);let b=QG(n,5)+m+c+w+Py[l]|0;c=s,s=o,o=QG(i,30),i=n,n=b}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,this.set(n,i,o,s,c)}roundClean(){Py.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}};SR.sha1=(0,$lt.wrapConstructor)(()=>new JG)});var P2e=K(tS=>{"use strict";d();h();Object.defineProperty(tS,"__esModule",{value:!0});tS.sha224=tS.sha256=void 0;var Qlt=bR(),kf=Y_(),Jlt=(t,e,r)=>t&e^~t&r,Xlt=(t,e,r)=>t&e^t&r^e&r,edt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ry=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),By=new Uint32Array(64),AR=class extends Qlt.SHA2{constructor(){super(64,32,8,!1),this.A=Ry[0]|0,this.B=Ry[1]|0,this.C=Ry[2]|0,this.D=Ry[3]|0,this.E=Ry[4]|0,this.F=Ry[5]|0,this.G=Ry[6]|0,this.H=Ry[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)By[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=By[b-15],I=By[b-2],M=(0,kf.rotr)(E,7)^(0,kf.rotr)(E,18)^E>>>3,k=(0,kf.rotr)(I,17)^(0,kf.rotr)(I,19)^I>>>10;By[b]=k+By[b-7]+M+By[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=(0,kf.rotr)(c,6)^(0,kf.rotr)(c,11)^(0,kf.rotr)(c,25),I=w+E+Jlt(c,l,m)+edt[b]+By[b]|0,k=((0,kf.rotr)(n,2)^(0,kf.rotr)(n,13)^(0,kf.rotr)(n,22))+Xlt(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){By.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},XG=class extends AR{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};tS.sha256=(0,kf.wrapConstructor)(()=>new AR);tS.sha224=(0,kf.wrapConstructor)(()=>new XG)});var rh=K(Uo=>{"use strict";d();h();Object.defineProperty(Uo,"__esModule",{value:!0});Uo.taggedHash=Uo.TAGGED_HASH_PREFIXES=Uo.TAGS=Uo.hash256=Uo.hash160=Uo.sha256=Uo.sha1=Uo.ripemd160=void 0;var{Buffer:Ja}=Fn(),R2e=M2e(),tdt=k2e(),ER=P2e();function rdt(t){return Ja.from((0,R2e.ripemd160)(Uint8Array.from(t)))}Uo.ripemd160=rdt;function ndt(t){return Ja.from((0,tdt.sha1)(Uint8Array.from(t)))}Uo.sha1=ndt;function B2e(t){return Ja.from((0,ER.sha256)(Uint8Array.from(t)))}Uo.sha256=B2e;function idt(t){return Ja.from((0,R2e.ripemd160)((0,ER.sha256)(Uint8Array.from(t))))}Uo.hash160=idt;function odt(t){return Ja.from((0,ER.sha256)((0,ER.sha256)(Uint8Array.from(t))))}Uo.hash256=odt;Uo.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];Uo.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Ja.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Ja.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Ja.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Ja.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Ja.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Ja.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Ja.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Ja.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Ja.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function sdt(t,e){return B2e(Ja.concat([Uo.TAGGED_HASH_PREFIXES[t],e]))}Uo.taggedHash=sdt});var O2e=K(_R=>{"use strict";d();h();Object.defineProperty(_R,"__esModule",{value:!0});_R.p2pkh=void 0;var e$=rh(),adt=Mf(),rS=Za(),Xa=Ns(),j0=V0(),C2e=V2(),Cy=rS.OPS;function cdt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Xa.typeforce)({network:Xa.typeforce.maybe(Xa.typeforce.Object),address:Xa.typeforce.maybe(Xa.typeforce.String),hash:Xa.typeforce.maybe(Xa.typeforce.BufferN(20)),output:Xa.typeforce.maybe(Xa.typeforce.BufferN(25)),pubkey:Xa.typeforce.maybe(Xa.isPoint),signature:Xa.typeforce.maybe(rS.isCanonicalScriptSignature),input:Xa.typeforce.maybe(Xa.typeforce.Buffer)},t);let r=j0.value(()=>{let s=Buffer.from(C2e.decode(t.address)),c=s.readUInt8(0),l=s.slice(1);return{version:c,hash:l}}),n=j0.value(()=>rS.decompile(t.input)),i=t.network||adt.bitcoin,o={name:"p2pkh",network:i};if(j0.prop(o,"address",()=>{if(!o.hash)return;let s=Buffer.allocUnsafe(21);return s.writeUInt8(i.pubKeyHash,0),o.hash.copy(s,1),C2e.encode(s)}),j0.prop(o,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||o.pubkey)return e$.hash160(t.pubkey||o.pubkey)}),j0.prop(o,"output",()=>{if(o.hash)return rS.compile([Cy.OP_DUP,Cy.OP_HASH160,o.hash,Cy.OP_EQUALVERIFY,Cy.OP_CHECKSIG])}),j0.prop(o,"pubkey",()=>{if(t.input)return n()[1]}),j0.prop(o,"signature",()=>{if(t.input)return n()[0]}),j0.prop(o,"input",()=>{if(t.pubkey&&t.signature)return rS.compile([t.signature,t.pubkey])}),j0.prop(o,"witness",()=>{if(o.input)return[]}),e.validate){let s=Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");s=r().hash}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==Cy.OP_DUP||t.output[1]!==Cy.OP_HASH160||t.output[2]!==20||t.output[23]!==Cy.OP_EQUALVERIFY||t.output[24]!==Cy.OP_CHECKSIG)throw new TypeError("Output is invalid");let c=t.output.slice(3,23);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.pubkey){let c=e$.hash160(t.pubkey);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.input){let c=n();if(c.length!==2)throw new TypeError("Input is invalid");if(!rS.isCanonicalScriptSignature(c[0]))throw new TypeError("Input has invalid signature");if(!(0,Xa.isPoint)(c[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(c[1]))throw new TypeError("Pubkey mismatch");let l=e$.hash160(c[1]);if(s.length>0&&!s.equals(l))throw new TypeError("Hash mismatch")}}return Object.assign(o,t)}_R.p2pkh=cdt});var U2e=K(TR=>{"use strict";d();h();Object.defineProperty(TR,"__esModule",{value:!0});TR.p2sh=void 0;var N2e=rh(),udt=Mf(),ih=Za(),ki=Ns(),nh=V0(),D2e=V2(),J_=ih.OPS;function fdt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function ldt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,ki.typeforce)({network:ki.typeforce.maybe(ki.typeforce.Object),address:ki.typeforce.maybe(ki.typeforce.String),hash:ki.typeforce.maybe(ki.typeforce.BufferN(20)),output:ki.typeforce.maybe(ki.typeforce.BufferN(23)),redeem:ki.typeforce.maybe({network:ki.typeforce.maybe(ki.typeforce.Object),output:ki.typeforce.maybe(ki.typeforce.Buffer),input:ki.typeforce.maybe(ki.typeforce.Buffer),witness:ki.typeforce.maybe(ki.typeforce.arrayOf(ki.typeforce.Buffer))}),input:ki.typeforce.maybe(ki.typeforce.Buffer),witness:ki.typeforce.maybe(ki.typeforce.arrayOf(ki.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||udt.bitcoin);let n={network:r},i=nh.value(()=>{let c=Buffer.from(D2e.decode(t.address)),l=c.readUInt8(0),m=c.slice(1);return{version:l,hash:m}}),o=nh.value(()=>ih.decompile(t.input)),s=nh.value(()=>{let c=o(),l=c[c.length-1];return{network:r,output:l===J_.OP_FALSE?Buffer.from([]):l,input:ih.compile(c.slice(0,-1)),witness:t.witness||[]}});if(nh.prop(n,"address",()=>{if(!n.hash)return;let c=Buffer.allocUnsafe(21);return c.writeUInt8(n.network.scriptHash,0),n.hash.copy(c,1),D2e.encode(c)}),nh.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return N2e.hash160(n.redeem.output)}),nh.prop(n,"output",()=>{if(n.hash)return ih.compile([J_.OP_HASH160,n.hash,J_.OP_EQUAL])}),nh.prop(n,"redeem",()=>{if(t.input)return s()}),nh.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return ih.compile([].concat(ih.decompile(t.redeem.input),t.redeem.output))}),nh.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),nh.prop(n,"name",()=>{let c=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&c.push(n.redeem.name),c.join("-")}),e.validate){let c=Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");c=i().hash}if(t.hash){if(c.length>0&&!c.equals(t.hash))throw new TypeError("Hash mismatch");c=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==J_.OP_HASH160||t.output[1]!==20||t.output[22]!==J_.OP_EQUAL)throw new TypeError("Output is invalid");let m=t.output.slice(2,22);if(c.length>0&&!c.equals(m))throw new TypeError("Hash mismatch");c=m}let l=m=>{if(m.output){let w=ih.decompile(m.output);if(!w||w.length<1)throw new TypeError("Redeem.output too short");if(m.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(ih.countNonPushOnlyOPs(w)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let b=N2e.hash160(m.output);if(c.length>0&&!c.equals(b))throw new TypeError("Hash mismatch");c=b}if(m.input){let w=m.input.length>0,b=m.witness&&m.witness.length>0;if(!w&&!b)throw new TypeError("Empty input");if(w&&b)throw new TypeError("Input and witness provided");if(w){let E=ih.decompile(m.input);if(!ih.isPushOnly(E))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let m=o();if(!m||m.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(s().output))throw new TypeError("Input is invalid");l(s())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let m=s();if(t.redeem.output&&!t.redeem.output.equals(m.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(m.input))throw new TypeError("Redeem.input mismatch")}l(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!fdt(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}TR.p2sh=ldt});var F2e=K(kR=>{"use strict";d();h();Object.defineProperty(kR,"__esModule",{value:!0});kR.p2wpkh=void 0;var{Buffer:r$}=Fn(),t$=rh(),ddt=Mf(),MR=Za(),Lo=Ns(),Oy=V0(),IR=S1(),L2e=MR.OPS,hdt=r$.alloc(0);function pdt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Lo.typeforce)({address:Lo.typeforce.maybe(Lo.typeforce.String),hash:Lo.typeforce.maybe(Lo.typeforce.BufferN(20)),input:Lo.typeforce.maybe(Lo.typeforce.BufferN(0)),network:Lo.typeforce.maybe(Lo.typeforce.Object),output:Lo.typeforce.maybe(Lo.typeforce.BufferN(22)),pubkey:Lo.typeforce.maybe(Lo.isPoint),signature:Lo.typeforce.maybe(MR.isCanonicalScriptSignature),witness:Lo.typeforce.maybe(Lo.typeforce.arrayOf(Lo.typeforce.Buffer))},t);let r=Oy.value(()=>{let o=IR.bech32.decode(t.address),s=o.words.shift(),c=IR.bech32.fromWords(o.words);return{version:s,prefix:o.prefix,data:r$.from(c)}}),n=t.network||ddt.bitcoin,i={name:"p2wpkh",network:n};if(Oy.prop(i,"address",()=>{if(!i.hash)return;let o=IR.bech32.toWords(i.hash);return o.unshift(0),IR.bech32.encode(n.bech32,o)}),Oy.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return t$.hash160(t.pubkey||i.pubkey)}),Oy.prop(i,"output",()=>{if(i.hash)return MR.compile([L2e.OP_0,i.hash])}),Oy.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),Oy.prop(i,"signature",()=>{if(t.witness)return t.witness[0]}),Oy.prop(i,"input",()=>{if(i.witness)return hdt}),Oy.prop(i,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let o=r$.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");o=r().data}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==L2e.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(o.length>0&&!o.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");o=t.output.slice(2)}if(t.pubkey){let s=t$.hash160(t.pubkey);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch");if(o=s,!(0,Lo.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!MR.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Lo.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let s=t$.hash160(t.witness[1]);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}kR.p2wpkh=pdt});var V2e=K(CR=>{"use strict";d();h();Object.defineProperty(CR,"__esModule",{value:!0});CR.p2wsh=void 0;var{Buffer:BR}=Fn(),q2e=rh(),mdt=Mf(),W0=Za(),vi=Ns(),z0=V0(),PR=S1(),K2e=W0.OPS,n$=BR.alloc(0);function ydt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function RR(t){return!!(BR.isBuffer(t)&&t.length===65&&t[0]===4&&(0,vi.isPoint)(t))}function gdt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,vi.typeforce)({network:vi.typeforce.maybe(vi.typeforce.Object),address:vi.typeforce.maybe(vi.typeforce.String),hash:vi.typeforce.maybe(vi.typeforce.BufferN(32)),output:vi.typeforce.maybe(vi.typeforce.BufferN(34)),redeem:vi.typeforce.maybe({input:vi.typeforce.maybe(vi.typeforce.Buffer),network:vi.typeforce.maybe(vi.typeforce.Object),output:vi.typeforce.maybe(vi.typeforce.Buffer),witness:vi.typeforce.maybe(vi.typeforce.arrayOf(vi.typeforce.Buffer))}),input:vi.typeforce.maybe(vi.typeforce.BufferN(0)),witness:vi.typeforce.maybe(vi.typeforce.arrayOf(vi.typeforce.Buffer))},t);let r=z0.value(()=>{let s=PR.bech32.decode(t.address),c=s.words.shift(),l=PR.bech32.fromWords(s.words);return{version:c,prefix:s.prefix,data:BR.from(l)}}),n=z0.value(()=>W0.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||mdt.bitcoin);let o={network:i};if(z0.prop(o,"address",()=>{if(!o.hash)return;let s=PR.bech32.toWords(o.hash);return s.unshift(0),PR.bech32.encode(i.bech32,s)}),z0.prop(o,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(o.redeem&&o.redeem.output)return q2e.sha256(o.redeem.output)}),z0.prop(o,"output",()=>{if(o.hash)return W0.compile([K2e.OP_0,o.hash])}),z0.prop(o,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:n$,witness:t.witness.slice(0,-1)}}),z0.prop(o,"input",()=>{if(o.witness)return n$}),z0.prop(o,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let s=W0.toStack(n());return o.redeem=Object.assign({witness:s},t.redeem),o.redeem.input=n$,[].concat(s,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),z0.prop(o,"name",()=>{let s=["p2wsh"];return o.redeem!==void 0&&o.redeem.name!==void 0&&s.push(o.redeem.name),s.join("-")}),e.validate){let s=BR.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==K2e.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let c=t.output.slice(2);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let c=W0.decompile(t.redeem.output);if(!c||c.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(W0.countNonPushOnlyOPs(c)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let l=q2e.sha256(t.redeem.output);if(s.length>0&&!s.equals(l))throw new TypeError("Hash mismatch");s=l}if(t.redeem.input&&!W0.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!ydt(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(RR)||t.redeem.output&&(W0.decompile(t.redeem.output)||[]).some(RR))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let c=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(c))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(RR)||(W0.decompile(c)||[]).some(RR))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,t)}CR.p2wsh=gdt});var OR=K(nS=>{"use strict";d();h();Object.defineProperty(nS,"__esModule",{value:!0});nS.getEccLib=nS.initEccLib=void 0;var X_={};function bdt(t){t?t!==X_.eccLib&&(xdt(t),X_.eccLib=t):X_.eccLib=t}nS.initEccLib=bdt;function vdt(){if(!X_.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return X_.eccLib}nS.getEccLib=vdt;var G0=t=>Buffer.from(t,"hex");function xdt(t){Pf(typeof t.isXOnlyPoint=="function"),Pf(t.isXOnlyPoint(G0("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Pf(t.isXOnlyPoint(G0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),Pf(t.isXOnlyPoint(G0("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),Pf(t.isXOnlyPoint(G0("0000000000000000000000000000000000000000000000000000000000000001"))),Pf(!t.isXOnlyPoint(G0("0000000000000000000000000000000000000000000000000000000000000000"))),Pf(!t.isXOnlyPoint(G0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),Pf(typeof t.xOnlyPointAddTweak=="function"),wdt.forEach(e=>{let r=t.xOnlyPointAddTweak(G0(e.pubkey),G0(e.tweak));e.result===null?Pf(r===null):(Pf(r!==null),Pf(r.parity===e.parity),Pf(Buffer.from(r.xOnlyPubkey).equals(G0(e.result))))})}function Pf(t){if(!t)throw new Error("ecc library invalid")}var wdt=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var s$=K((gyr,j2e)=>{"use strict";d();h();var i$=ar().Buffer,Sdt=9007199254740991;function o$(t){if(t<0||t>Sdt||t%1!==0)throw new RangeError("value out of range")}function e4(t,e,r){if(o$(t),e||(e=i$.allocUnsafe(H2e(t))),!i$.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),e4.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),e4.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),e4.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),e4.bytes=9),e}function t4(t,e){if(!i$.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return t4.bytes=1,r;if(r===253)return t4.bytes=3,t.readUInt16LE(e+1);if(r===254)return t4.bytes=5,t.readUInt32LE(e+1);t4.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),o=i*4294967296+n;return o$(o),o}function H2e(t){return o$(t),t<253?1:t<=65535?3:t<=4294967295?5:9}j2e.exports={encode:e4,decode:t4,encodingLength:H2e}});var n4=K(va=>{"use strict";d();h();Object.defineProperty(va,"__esModule",{value:!0});va.BufferReader=va.BufferWriter=va.cloneBuffer=va.reverseBuffer=va.writeUInt64LE=va.readUInt64LE=va.varuint=void 0;var k1=Ns(),{typeforce:z2e}=k1,r4=s$();va.varuint=r4;function W2e(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function G2e(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,W2e(n+r,9007199254740991),n+r}va.readUInt64LE=G2e;function $2e(t,e,r){return W2e(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}va.writeUInt64LE=$2e;function Adt(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}va.reverseBuffer=Adt;function Edt(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}va.cloneBuffer=Edt;var a$=class t{static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,z2e(k1.tuple(k1.Buffer,k1.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=$2e(this.buffer,e,this.offset)}writeVarInt(e){r4.encode(e,this.buffer,this.offset),this.offset+=r4.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};va.BufferWriter=a$;var c$=class{constructor(e,r=0){this.buffer=e,this.offset=r,z2e(k1.tuple(k1.Buffer,k1.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=G2e(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=r4.decode(this.buffer,this.offset);return this.offset+=r4.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};va.BufferReader=c$});var NR=K(Fo=>{"use strict";d();h();Object.defineProperty(Fo,"__esModule",{value:!0});Fo.tweakKey=Fo.tapTweakHash=Fo.tapleafHash=Fo.findScriptPath=Fo.toHashTree=Fo.rootHashFromPath=Fo.MAX_TAPTREE_DEPTH=Fo.LEAF_VERSION_TAPSCRIPT=void 0;var Ny=Fn(),_dt=OR(),d$=rh(),Y2e=n4(),Tdt=Ns();Fo.LEAF_VERSION_TAPSCRIPT=192;Fo.MAX_TAPTREE_DEPTH=128;var Idt=t=>"left"in t&&"right"in t;function Mdt(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let o=t.slice(33+32*i,65+32*i);n.compare(o)<0?n=l$(n,o):n=l$(o,n)}return n}Fo.rootHashFromPath=Mdt;function u$(t){if((0,Tdt.isTapleaf)(t))return{hash:Z2e(t)};let e=[u$(t[0]),u$(t[1])];e.sort((i,o)=>i.hash.compare(o.hash));let[r,n]=e;return{hash:l$(r.hash,n.hash),left:r,right:n}}Fo.toHashTree=u$;function f$(t,e){if(Idt(t)){let r=f$(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=f$(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}Fo.findScriptPath=f$;function Z2e(t){let e=t.version||Fo.LEAF_VERSION_TAPSCRIPT;return d$.taggedHash("TapLeaf",Ny.Buffer.concat([Ny.Buffer.from([e]),Pdt(t.output)]))}Fo.tapleafHash=Z2e;function Q2e(t,e){return d$.taggedHash("TapTweak",Ny.Buffer.concat(e?[t,e]:[t]))}Fo.tapTweakHash=Q2e;function kdt(t,e){if(!Ny.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=Q2e(t,e),n=(0,_dt.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:Ny.Buffer.from(n.xOnlyPubkey)}}Fo.tweakKey=kdt;function l$(t,e){return d$.taggedHash("TapBranch",Ny.Buffer.concat([t,e]))}function Pdt(t){let e=Y2e.varuint.encodingLength(t.length),r=Ny.Buffer.allocUnsafe(e);return Y2e.varuint.encode(t.length,r),Ny.Buffer.concat([r,t])}});var tSe=K(LR=>{"use strict";d();h();Object.defineProperty(LR,"__esModule",{value:!0});LR.p2tr=void 0;var DR=Fn(),Rdt=Mf(),h$=Za(),Nr=Ns(),J2e=OR(),kc=NR(),Rf=V0(),UR=S1(),X2e=h$.OPS,eSe=1,Bdt=80;function Cdt(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Nr.typeforce)({address:Nr.typeforce.maybe(Nr.typeforce.String),input:Nr.typeforce.maybe(Nr.typeforce.BufferN(0)),network:Nr.typeforce.maybe(Nr.typeforce.Object),output:Nr.typeforce.maybe(Nr.typeforce.BufferN(34)),internalPubkey:Nr.typeforce.maybe(Nr.typeforce.BufferN(32)),hash:Nr.typeforce.maybe(Nr.typeforce.BufferN(32)),pubkey:Nr.typeforce.maybe(Nr.typeforce.BufferN(32)),signature:Nr.typeforce.maybe(Nr.typeforce.anyOf(Nr.typeforce.BufferN(64),Nr.typeforce.BufferN(65))),witness:Nr.typeforce.maybe(Nr.typeforce.arrayOf(Nr.typeforce.Buffer)),scriptTree:Nr.typeforce.maybe(Nr.isTaptree),redeem:Nr.typeforce.maybe({output:Nr.typeforce.maybe(Nr.typeforce.Buffer),redeemVersion:Nr.typeforce.maybe(Nr.typeforce.Number),witness:Nr.typeforce.maybe(Nr.typeforce.arrayOf(Nr.typeforce.Buffer))}),redeemVersion:Nr.typeforce.maybe(Nr.typeforce.Number)},t);let r=Rf.value(()=>{let c=UR.bech32m.decode(t.address),l=c.words.shift(),m=UR.bech32m.fromWords(c.words);return{version:l,prefix:c.prefix,data:DR.Buffer.from(m)}}),n=Rf.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===Bdt?t.witness.slice(0,-1):t.witness.slice()}),i=Rf.value(()=>{if(t.scriptTree)return(0,kc.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),o=t.network||Rdt.bitcoin,s={name:"p2tr",network:o};if(Rf.prop(s,"address",()=>{if(!s.pubkey)return;let c=UR.bech32m.toWords(s.pubkey);return c.unshift(eSe),UR.bech32m.encode(o.bech32,c)}),Rf.prop(s,"hash",()=>{let c=i();if(c)return c.hash;let l=n();if(l&&l.length>1){let m=l[l.length-1],w=m[0]&Nr.TAPLEAF_VERSION_MASK,b=l[l.length-2],E=(0,kc.tapleafHash)({output:b,version:w});return(0,kc.rootHashFromPath)(m,E)}return null}),Rf.prop(s,"output",()=>{if(s.pubkey)return h$.compile([X2e.OP_1,s.pubkey])}),Rf.prop(s,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:kc.LEAF_VERSION_TAPSCRIPT),Rf.prop(s,"redeem",()=>{let c=n();if(!(!c||c.length<2))return{output:c[c.length-2],witness:c.slice(0,-2),redeemVersion:c[c.length-1][0]&Nr.TAPLEAF_VERSION_MASK}}),Rf.prop(s,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.internalPubkey){let c=(0,kc.tweakKey)(s.internalPubkey,s.hash);if(c)return c.x}}),Rf.prop(s,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let c=n();if(c&&c.length>1)return c[c.length-1].slice(1,33)}),Rf.prop(s,"signature",()=>{if(t.signature)return t.signature;let c=n();if(!(!c||c.length!==1))return c[0]}),Rf.prop(s,"witness",()=>{if(t.witness)return t.witness;let c=i();if(c&&t.redeem&&t.redeem.output&&t.internalPubkey){let l=(0,kc.tapleafHash)({output:t.redeem.output,version:s.redeemVersion}),m=(0,kc.findScriptPath)(c,l);if(!m)return;let w=(0,kc.tweakKey)(t.internalPubkey,c.hash);if(!w)return;let b=DR.Buffer.concat([DR.Buffer.from([s.redeemVersion|w.parity]),t.internalPubkey].concat(m));return[t.redeem.output,b]}if(t.signature)return[t.signature]}),e.validate){let c=DR.Buffer.from([]);if(t.address){if(o&&o.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==eSe)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");c=r().data}if(t.pubkey){if(c.length>0&&!c.equals(t.pubkey))throw new TypeError("Pubkey mismatch");c=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==X2e.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(c.length>0&&!c.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");c=t.output.slice(2)}if(t.internalPubkey){let w=(0,kc.tweakKey)(t.internalPubkey,s.hash);if(c.length>0&&!c.equals(w.x))throw new TypeError("Pubkey mismatch");c=w.x}if(c&&c.length&&!(0,J2e.getEccLib)().isXOnlyPoint(c))throw new TypeError("Invalid pubkey for p2tr");let l=i();if(t.hash&&l&&!t.hash.equals(l.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&l){let w=(0,kc.tapleafHash)({output:t.redeem.output,version:s.redeemVersion});if(!(0,kc.findScriptPath)(l,w))throw new TypeError("Redeem script not in tree")}let m=n();if(t.redeem&&s.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==s.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(h$.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(s.redeem.output&&!t.redeem.output.equals(s.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&s.redeem.witness&&!Odt(t.redeem.witness,s.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(m&&m.length)if(m.length===1){if(t.signature&&!t.signature.equals(m[0]))throw new TypeError("Signature mismatch")}else{let w=m[m.length-1];if(w.length<33)throw new TypeError(`The control-block length is too small. Got ${w.length}, expected min 33.`);if((w.length-33)%32!==0)throw new TypeError(`The control-block length of ${w.length} is incorrect!`);let b=(w.length-33)/32;if(b>128)throw new TypeError(`The script path is too long. Got ${b}, expected max 128.`);let E=w.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(E))throw new TypeError("Internal pubkey mismatch");if(!(0,J2e.getEccLib)().isXOnlyPoint(E))throw new TypeError("Invalid internalPubkey for p2tr witness");let I=w[0]&Nr.TAPLEAF_VERSION_MASK,M=m[m.length-2],k=(0,kc.tapleafHash)({output:M,version:I}),B=(0,kc.rootHashFromPath)(w,k),R=(0,kc.tweakKey)(E,B);if(!R)throw new TypeError("Invalid outputKey for p2tr witness");if(c.length&&!c.equals(R.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(R.parity!==(w[0]&1))throw new Error("Incorrect parity")}}return Object.assign(s,t)}LR.p2tr=Cdt;function Odt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var iS=K(ds=>{"use strict";d();h();Object.defineProperty(ds,"__esModule",{value:!0});ds.p2tr=ds.p2wsh=ds.p2wpkh=ds.p2sh=ds.p2pkh=ds.p2pk=ds.p2ms=ds.embed=void 0;var Ndt=h2e();Object.defineProperty(ds,"embed",{enumerable:!0,get:function(){return Ndt.p2data}});var Ddt=m2e();Object.defineProperty(ds,"p2ms",{enumerable:!0,get:function(){return Ddt.p2ms}});var Udt=g2e();Object.defineProperty(ds,"p2pk",{enumerable:!0,get:function(){return Udt.p2pk}});var Ldt=O2e();Object.defineProperty(ds,"p2pkh",{enumerable:!0,get:function(){return Ldt.p2pkh}});var Fdt=U2e();Object.defineProperty(ds,"p2sh",{enumerable:!0,get:function(){return Fdt.p2sh}});var qdt=F2e();Object.defineProperty(ds,"p2wpkh",{enumerable:!0,get:function(){return qdt.p2wpkh}});var Kdt=V2e();Object.defineProperty(ds,"p2wsh",{enumerable:!0,get:function(){return Kdt.p2wsh}});var Vdt=tSe();Object.defineProperty(ds,"p2tr",{enumerable:!0,get:function(){return Vdt.p2tr}})});var p$=K(Pc=>{"use strict";d();h();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.toOutputScript=Pc.fromOutputScript=Pc.toBech32=Pc.toBase58Check=Pc.fromBech32=Pc.fromBase58Check=void 0;var rSe=Mf(),oh=iS(),nSe=Za(),FR=Ns(),oS=S1(),iSe=V2(),oSe=40,sSe=2,aSe=16,cSe=2,uSe=80,fSe="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function Hdt(t,e){let r=t.slice(2);if(r.length<sSe||r.length>oSe)throw new TypeError("Invalid program length for segwit address");let n=t[0]-uSe;if(n<cSe||n>aSe)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(fSe),hSe(r,n,e.bech32)}function lSe(t){let e=Buffer.from(iSe.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}Pc.fromBase58Check=lSe;function dSe(t){let e,r;try{e=oS.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=oS.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=oS.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}Pc.fromBech32=dSe;function jdt(t,e){(0,FR.typeforce)((0,FR.tuple)(FR.Hash160bit,FR.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),iSe.encode(r)}Pc.toBase58Check=jdt;function hSe(t,e,r){let n=oS.bech32.toWords(t);return n.unshift(e),e===0?oS.bech32.encode(r,n):oS.bech32m.encode(r,n)}Pc.toBech32=hSe;function zdt(t,e){e=e||rSe.bitcoin;try{return oh.p2pkh({output:t,network:e}).address}catch{}try{return oh.p2sh({output:t,network:e}).address}catch{}try{return oh.p2wpkh({output:t,network:e}).address}catch{}try{return oh.p2wsh({output:t,network:e}).address}catch{}try{return oh.p2tr({output:t,network:e}).address}catch{}try{return Hdt(t,e)}catch{}throw new Error(nSe.toASM(t)+" has no matching Address")}Pc.fromOutputScript=zdt;function Wdt(t,e){e=e||rSe.bitcoin;let r,n;try{r=lSe(t)}catch{}if(r){if(r.version===e.pubKeyHash)return oh.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return oh.p2sh({hash:r.hash}).output}else{try{n=dSe(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return oh.p2wpkh({hash:n.data}).output;if(n.data.length===32)return oh.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return oh.p2tr({pubkey:n.data}).output}else if(n.version>=cSe&&n.version<=aSe&&n.data.length>=sSe&&n.data.length<=oSe)return console.warn(fSe),nSe.compile([n.version+uSe,n.data])}}throw new Error(t+" has no matching Script")}Pc.toOutputScript=Wdt});var pSe=K(qR=>{"use strict";d();h();Object.defineProperty(qR,"__esModule",{value:!0});qR.fastMerkleRoot=void 0;function Gdt(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let i=0;for(let o=0;o<r;o+=2,++i){let s=n[o],c=o+1===r?s:n[o+1],l=Buffer.concat([s,c]);n[i]=e(l)}r=i}return n[0]}qR.fastMerkleRoot=Gdt});var sS=K(KR=>{"use strict";d();h();Object.defineProperty(KR,"__esModule",{value:!0});KR.Transaction=void 0;var{Buffer:xa}=Fn(),_o=n4(),ec=rh(),mSe=Za(),$dt=Za(),pn=Ns(),{typeforce:sh}=pn;function ah(t){let e=t.length;return _o.varuint.encodingLength(e)+e}function Ydt(t){let e=t.length;return _o.varuint.encodingLength(e)+t.reduce((r,n)=>r+ah(n),0)}var Dy=xa.allocUnsafe(0),ySe=[],m$=xa.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),gSe=xa.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),Zdt=xa.from("ffffffffffffffff","hex"),Qdt={script:Dy,valueBuffer:Zdt};function Jdt(t){return t.value!==void 0}var bu=class t{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new _o.BufferReader(e),i=new t;i.version=n.readInt32();let o=n.readUInt8(),s=n.readUInt8(),c=!1;o===t.ADVANCED_TRANSACTION_MARKER&&s===t.ADVANCED_TRANSACTION_FLAG?c=!0:n.offset-=2;let l=n.readVarInt();for(let w=0;w<l;++w)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:ySe});let m=n.readVarInt();for(let w=0;w<m;++w)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(c){for(let w=0;w<l;++w)i.ins[w].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return t.fromBuffer(xa.from(e,"hex"),!1)}static isCoinbaseHash(e){sh(pn.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return sh(pn.tuple(pn.Hash256bit,pn.UInt32,pn.maybe(pn.UInt32),pn.maybe(pn.Buffer)),arguments),pn.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||Dy,sequence:n,witness:ySe})-1}addOutput(e,r){return sh(pn.tuple(pn.Buffer,pn.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+_o.varuint.encodingLength(this.ins.length)+_o.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+ah(i.script),0)+this.outs.reduce((n,i)=>n+8+ah(i.script),0)+(r?this.ins.reduce((n,i)=>n+Ydt(i.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(sh(pn.tuple(pn.UInt32,pn.Buffer,pn.Number),arguments),e>=this.ins.length)return gSe;let i=mSe.compile(mSe.decompile(r).filter(c=>c!==$dt.OPS.OP_CODESEPARATOR)),o=this.clone();if((n&31)===t.SIGHASH_NONE)o.outs=[],o.ins.forEach((c,l)=>{l!==e&&(c.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return gSe;o.outs.length=e+1;for(let c=0;c<e;c++)o.outs[c]=Qdt;o.ins.forEach((c,l)=>{l!==e&&(c.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[e]],o.ins[0].script=i):(o.ins.forEach(c=>{c.script=Dy}),o.ins[e].script=i);let s=xa.allocUnsafe(o.byteLength(!1)+4);return s.writeInt32LE(n,s.length-4),o.__toBuffer(s,0,!1),ec.hash256(s)}hashForWitnessV1(e,r,n,i,o,s){if(sh(pn.tuple(pn.UInt32,sh.arrayOf(pn.Buffer),sh.arrayOf(pn.Satoshi),pn.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let c=i===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:i&t.SIGHASH_OUTPUT_MASK,m=(i&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,w=c===t.SIGHASH_NONE,b=c===t.SIGHASH_SINGLE,E=Dy,I=Dy,M=Dy,k=Dy,B=Dy;if(!m){let F=_o.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(V=>{F.writeSlice(V.hash),F.writeUInt32(V.index)}),E=ec.sha256(F.end()),F=_o.BufferWriter.withCapacity(8*this.ins.length),n.forEach(V=>F.writeUInt64(V)),I=ec.sha256(F.end()),F=_o.BufferWriter.withCapacity(r.map(ah).reduce((V,H)=>V+H)),r.forEach(V=>F.writeVarSlice(V)),M=ec.sha256(F.end()),F=_o.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(V=>F.writeUInt32(V.sequence)),k=ec.sha256(F.end())}if(w||b){if(b&&e<this.outs.length){let F=this.outs[e],V=_o.BufferWriter.withCapacity(8+ah(F.script));V.writeUInt64(F.value),V.writeVarSlice(F.script),B=ec.sha256(V.end())}}else{let F=this.outs.map(H=>8+ah(H.script)).reduce((H,re)=>H+re),V=_o.BufferWriter.withCapacity(F);this.outs.forEach(H=>{V.writeUInt64(H.value),V.writeVarSlice(H.script)}),B=ec.sha256(V.end())}let R=(o?2:0)+(s?1:0),U=174-(m?49:0)-(w?32:0)+(s?32:0)+(o?37:0),P=_o.BufferWriter.withCapacity(U);if(P.writeUInt8(i),P.writeInt32(this.version),P.writeUInt32(this.locktime),P.writeSlice(E),P.writeSlice(I),P.writeSlice(M),P.writeSlice(k),w||b||P.writeSlice(B),P.writeUInt8(R),m){let F=this.ins[e];P.writeSlice(F.hash),P.writeUInt32(F.index),P.writeUInt64(n[e]),P.writeVarSlice(r[e]),P.writeUInt32(F.sequence)}else P.writeUInt32(e);if(s){let F=_o.BufferWriter.withCapacity(ah(s));F.writeVarSlice(s),P.writeSlice(ec.sha256(F.end()))}return b&&P.writeSlice(B),o&&(P.writeSlice(o),P.writeUInt8(0),P.writeUInt32(4294967295)),ec.taggedHash("TapSighash",xa.concat([xa.from([0]),P.end()]))}hashForWitnessV0(e,r,n,i){sh(pn.tuple(pn.UInt32,pn.Buffer,pn.Satoshi,pn.UInt32),arguments);let o=xa.from([]),s,c=m$,l=m$,m=m$;if(i&t.SIGHASH_ANYONECANPAY||(o=xa.allocUnsafe(36*this.ins.length),s=new _o.BufferWriter(o,0),this.ins.forEach(b=>{s.writeSlice(b.hash),s.writeUInt32(b.index)}),l=ec.hash256(o)),!(i&t.SIGHASH_ANYONECANPAY)&&(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE&&(o=xa.allocUnsafe(4*this.ins.length),s=new _o.BufferWriter(o,0),this.ins.forEach(b=>{s.writeUInt32(b.sequence)}),m=ec.hash256(o)),(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE){let b=this.outs.reduce((E,I)=>E+8+ah(I.script),0);o=xa.allocUnsafe(b),s=new _o.BufferWriter(o,0),this.outs.forEach(E=>{s.writeUInt64(E.value),s.writeVarSlice(E.script)}),c=ec.hash256(o)}else if((i&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let b=this.outs[e];o=xa.allocUnsafe(8+ah(b.script)),s=new _o.BufferWriter(o,0),s.writeUInt64(b.value),s.writeVarSlice(b.script),c=ec.hash256(o)}o=xa.allocUnsafe(156+ah(r)),s=new _o.BufferWriter(o,0);let w=this.ins[e];return s.writeInt32(this.version),s.writeSlice(l),s.writeSlice(m),s.writeSlice(w.hash),s.writeUInt32(w.index),s.writeVarSlice(r),s.writeUInt64(n),s.writeUInt32(w.sequence),s.writeSlice(c),s.writeUInt32(this.locktime),s.writeUInt32(i),ec.hash256(o)}getHash(e){return e&&this.isCoinbase()?xa.alloc(32,0):ec.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,_o.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){sh(pn.tuple(pn.Number,pn.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){sh(pn.tuple(pn.Number,[pn.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=xa.allocUnsafe(this.byteLength(n)));let i=new _o.BufferWriter(e,r||0);i.writeInt32(this.version);let o=n&&this.hasWitnesses();return o&&(i.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(s=>{i.writeSlice(s.hash),i.writeUInt32(s.index),i.writeVarSlice(s.script),i.writeUInt32(s.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(s=>{Jdt(s)?i.writeUInt64(s.value):i.writeSlice(s.valueBuffer),i.writeVarSlice(s.script)}),o&&this.ins.forEach(s=>{i.writeVector(s.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}};KR.Transaction=bu;bu.DEFAULT_SEQUENCE=4294967295;bu.SIGHASH_DEFAULT=0;bu.SIGHASH_ALL=1;bu.SIGHASH_NONE=2;bu.SIGHASH_SINGLE=3;bu.SIGHASH_ANYONECANPAY=128;bu.SIGHASH_OUTPUT_MASK=3;bu.SIGHASH_INPUT_MASK=128;bu.ADVANCED_TRANSACTION_MARKER=0;bu.ADVANCED_TRANSACTION_FLAG=1});var wSe=K(VR=>{"use strict";d();h();Object.defineProperty(VR,"__esModule",{value:!0});VR.Block=void 0;var P1=n4(),y$=rh(),Xdt=pSe(),eht=sS(),xSe=Ns(),{typeforce:tht}=xSe,g$=new TypeError("Cannot compute merkle root for zero transactions"),bSe=new TypeError("Cannot compute witness commit for non-segwit block"),b$=class t{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new P1.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let i=()=>{let c=eht.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=c.byteLength(),c},o=r.readVarInt();n.transactions=[];for(let c=0;c<o;++c){let l=i();n.transactions.push(l)}let s=n.getWitnessCommit();return s&&(n.witnessCommit=s),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,i=Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(e,r){if(tht([{getHash:xSe.Function}],e),e.length===0)throw g$;if(r&&!vSe(e))throw bSe;let n=e.map(o=>o.getHash(r)),i=(0,Xdt.fastMerkleRoot)(n,y$.hash256);return r?y$.hash256(Buffer.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!vSe(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return rht(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+P1.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return y$.hash256(this.toBuffer(!0))}getId(){return(0,P1.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new P1.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(P1.varuint.encode(this.transactions.length,r,n.offset),n.offset+=P1.varuint.encode.bytes,this.transactions.forEach(i=>{let o=i.byteLength();i.toBuffer(r,n.offset),n.offset+=o})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,P1.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw g$;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw g$;if(!this.hasWitnessCommit())throw bSe;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};VR.Block=b$;function vSe(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}function rht(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}});var hs=K(Ul=>{"use strict";d();h();Object.defineProperty(Ul,"__esModule",{value:!0});var nht;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(nht=Ul.GlobalTypes||(Ul.GlobalTypes={}));Ul.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var iht;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(iht=Ul.InputTypes||(Ul.InputTypes={}));Ul.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var oht;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(oht=Ul.OutputTypes||(Ul.OutputTypes={}));Ul.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var ASe=K(R1=>{"use strict";d();h();Object.defineProperty(R1,"__esModule",{value:!0});var SSe=hs(),sht=t=>[...Array(t).keys()];function aht(t){if(t.key[0]!==SSe.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of sht(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),o=!!(i&2147483648),s=i&2147483647;r.path+="/"+s.toString(10)+(o?"'":"")}return r}R1.decode=aht;function cht(t){let e=Buffer.from([SSe.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let o=4;return n.slice(1).forEach(s=>{let c=s.slice(-1)==="'",l=2147483647&parseInt(c?s.slice(0,-1):s,10);c&&(l+=2147483648),i.writeUInt32LE(l,o),o+=4}),{key:r,value:i}}R1.encode=cht;R1.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function uht(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}R1.check=uht;function fht(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}R1.canAddToArray=fht});var ESe=K(v$=>{"use strict";d();h();Object.defineProperty(v$,"__esModule",{value:!0});var lht=hs();function dht(t){return{key:Buffer.from([lht.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}v$.encode=dht});var TSe=K(B1=>{"use strict";d();h();Object.defineProperty(B1,"__esModule",{value:!0});var _Se=hs();function hht(t){if(t.key[0]!==_Se.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}B1.decode=hht;function pht(t){return{key:Buffer.from([_Se.InputTypes.FINAL_SCRIPTSIG]),value:t}}B1.encode=pht;B1.expected="Buffer";function mht(t){return Buffer.isBuffer(t)}B1.check=mht;function yht(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}B1.canAdd=yht});var MSe=K(C1=>{"use strict";d();h();Object.defineProperty(C1,"__esModule",{value:!0});var ISe=hs();function ght(t){if(t.key[0]!==ISe.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}C1.decode=ght;function bht(t){return{key:Buffer.from([ISe.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}C1.encode=bht;C1.expected="Buffer";function vht(t){return Buffer.isBuffer(t)}C1.check=vht;function xht(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}C1.canAdd=xht});var PSe=K(O1=>{"use strict";d();h();Object.defineProperty(O1,"__esModule",{value:!0});var kSe=hs();function wht(t){if(t.key[0]!==kSe.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}O1.decode=wht;function Sht(t){return{key:Buffer.from([kSe.InputTypes.NON_WITNESS_UTXO]),value:t}}O1.encode=Sht;O1.expected="Buffer";function Aht(t){return Buffer.isBuffer(t)}O1.check=Aht;function Eht(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}O1.canAdd=Eht});var BSe=K(N1=>{"use strict";d();h();Object.defineProperty(N1,"__esModule",{value:!0});var RSe=hs();function _ht(t){if(t.key[0]!==RSe.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}N1.decode=_ht;function Tht(t){let e=Buffer.from([RSe.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}N1.encode=Tht;N1.expected="{ pubkey: Buffer; signature: Buffer; }";function Iht(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&Mht(t.signature)}N1.check=Iht;function Mht(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function kht(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}N1.canAddToArray=kht});var OSe=K(D1=>{"use strict";d();h();Object.defineProperty(D1,"__esModule",{value:!0});var CSe=hs();function Pht(t){if(t.key[0]!==CSe.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}D1.decode=Pht;function Rht(t){return{key:Buffer.from([CSe.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}D1.encode=Rht;D1.expected="string";function Bht(t){return typeof t=="string"}D1.check=Bht;function Cht(t,e){return!!t&&!!e&&t.porCommitment===void 0}D1.canAdd=Cht});var DSe=K(U1=>{"use strict";d();h();Object.defineProperty(U1,"__esModule",{value:!0});var NSe=hs();function Oht(t){if(t.key[0]!==NSe.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}U1.decode=Oht;function Nht(t){let e=Buffer.from([NSe.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}U1.encode=Nht;U1.expected="number";function Dht(t){return typeof t=="number"}U1.check=Dht;function Uht(t,e){return!!t&&!!e&&t.sighashType===void 0}U1.canAdd=Uht});var FSe=K(L1=>{"use strict";d();h();Object.defineProperty(L1,"__esModule",{value:!0});var USe=hs();function Lht(t){if(t.key[0]!==USe.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!LSe(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}L1.decode=Lht;function Fht(t){return{key:Buffer.from([USe.InputTypes.TAP_KEY_SIG]),value:t}}L1.encode=Fht;L1.expected="Buffer";function LSe(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}L1.check=LSe;function qht(t,e){return!!t&&!!e&&t.tapKeySig===void 0}L1.canAdd=qht});var KSe=K(F1=>{"use strict";d();h();Object.defineProperty(F1,"__esModule",{value:!0});var qSe=hs();function Kht(t){if(t.key[0]!==qSe.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}F1.decode=Kht;function Vht(t){let e=Buffer.from([qSe.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}F1.encode=Vht;F1.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function Hht(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}F1.check=Hht;function jht(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}F1.canAddToArray=jht});var jSe=K(q1=>{"use strict";d();h();Object.defineProperty(q1,"__esModule",{value:!0});var VSe=hs();function zht(t){if(t.key[0]!==VSe.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!HSe(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}q1.decode=zht;function Wht(t){return{key:Buffer.from([VSe.InputTypes.TAP_MERKLE_ROOT]),value:t}}q1.encode=Wht;q1.expected="Buffer";function HSe(t){return Buffer.isBuffer(t)&&t.length===32}q1.check=HSe;function Ght(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}q1.canAdd=Ght});var WSe=K(K1=>{"use strict";d();h();Object.defineProperty(K1,"__esModule",{value:!0});var zSe=hs();function $ht(t){if(t.key[0]!==zSe.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}K1.decode=$ht;function Yht(t){let e=Buffer.from([zSe.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}K1.encode=Yht;K1.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function Zht(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}K1.check=Zht;function Qht(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}K1.canAddToArray=Qht});var Uy=K(s4=>{"use strict";d();h();Object.defineProperty(s4,"__esModule",{value:!0});var Jht=9007199254740991;function x$(t){if(t<0||t>Jht||t%1!==0)throw new RangeError("value out of range")}function i4(t,e,r){if(x$(t),e||(e=Buffer.allocUnsafe(GSe(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(i4,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(i4,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(i4,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(i4,{bytes:9})),e}s4.encode=i4;function o4(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(o4,{bytes:1}),r;if(r===253)return Object.assign(o4,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(o4,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(o4,{bytes:9});let n=t.readUInt32LE(e+1),o=t.readUInt32LE(e+5)*4294967296+n;return x$(o),o}}s4.decode=o4;function GSe(t){return x$(t),t<253?1:t<=65535?3:t<=4294967295?5:9}s4.encodingLength=GSe});var jR=K(Ly=>{"use strict";d();h();Object.defineProperty(Ly,"__esModule",{value:!0});var HR=Uy();Ly.range=t=>[...Array(t).keys()];function Xht(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}Ly.reverseBuffer=Xht;function e0t(t){let e=t.map($Se);return e.push(Buffer.from([0])),Buffer.concat(e)}Ly.keyValsToBuffer=e0t;function $Se(t){let e=t.key.length,r=t.value.length,n=HR.encodingLength(e),i=HR.encodingLength(r),o=Buffer.allocUnsafe(n+e+i+r);return HR.encode(e,o,0),t.key.copy(o,n),HR.encode(r,o,n+e),t.value.copy(o,n+e+i),o}Ly.keyValToBuffer=$Se;function YSe(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function t0t(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,YSe(n+r,9007199254740991),n+r}Ly.readUInt64LE=t0t;function r0t(t,e,r){return YSe(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}Ly.writeUInt64LE=r0t});var JSe=K(V1=>{"use strict";d();h();Object.defineProperty(V1,"__esModule",{value:!0});var ZSe=hs(),QSe=jR(),zR=Uy();function n0t(t){if(t.key[0]!==ZSe.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=QSe.readUInt64LE(t.value,0),r=8,n=zR.decode(t.value,r);r+=zR.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}V1.decode=n0t;function i0t(t){let{script:e,value:r}=t,n=zR.encodingLength(e.length),i=Buffer.allocUnsafe(8+n+e.length);return QSe.writeUInt64LE(i,r,0),zR.encode(e.length,i,8),e.copy(i,8+n),{key:Buffer.from([ZSe.InputTypes.WITNESS_UTXO]),value:i}}V1.encode=i0t;V1.expected="{ script: Buffer; value: number; }";function o0t(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}V1.check=o0t;function s0t(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}V1.canAdd=s0t});var eAe=K(H1=>{"use strict";d();h();Object.defineProperty(H1,"__esModule",{value:!0});var XSe=hs(),w$=Uy();function a0t(t){if(t.key[0]!==XSe.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],o=w$.decode(t.value,e);e+=w$.encodingLength(o),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+o)}),e+=o}return{leaves:r}}H1.decode=a0t;function c0t(t){let e=Buffer.from([XSe.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),w$.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}H1.encode=c0t;H1.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function u0t(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}H1.check=u0t;function f0t(t,e){return!!t&&!!e&&t.tapTree===void 0}H1.canAdd=f0t});var A$=K(S$=>{"use strict";d();h();Object.defineProperty(S$,"__esModule",{value:!0});var l0t=t=>[...Array(t).keys()],d0t=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function h0t(t,e=d0t){function r(c){if(c.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+c.key.toString("hex"));let l=c.key.slice(1);if(!e(l))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+c.key.toString("hex"));if(c.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let m={masterFingerprint:c.value.slice(0,4),pubkey:l,path:"m"};for(let w of l0t(c.value.length/4-1)){let b=c.value.readUInt32LE(w*4+4),E=!!(b&2147483648),I=b&2147483647;m.path+="/"+I.toString(10)+(E?"'":"")}return m}function n(c){let l=Buffer.from([t]),m=Buffer.concat([l,c.pubkey]),w=c.path.split("/"),b=Buffer.allocUnsafe(w.length*4);c.masterFingerprint.copy(b,0);let E=4;return w.slice(1).forEach(I=>{let M=I.slice(-1)==="'",k=2147483647&parseInt(M?I.slice(0,-1):I,10);M&&(k+=2147483648),b.writeUInt32LE(k,E),E+=4}),{key:m,value:b}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function o(c){return Buffer.isBuffer(c.pubkey)&&Buffer.isBuffer(c.masterFingerprint)&&typeof c.path=="string"&&e(c.pubkey)&&c.masterFingerprint.length===4}function s(c,l,m){let w=l.pubkey.toString("hex");return m.has(w)?!1:(m.add(w),c.filter(b=>b.pubkey.equals(l.pubkey)).length===0)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:s}}S$.makeConverter=h0t});var tAe=K(E$=>{"use strict";d();h();Object.defineProperty(E$,"__esModule",{value:!0});function p0t(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}E$.makeChecker=p0t});var rAe=K(_$=>{"use strict";d();h();Object.defineProperty(_$,"__esModule",{value:!0});function m0t(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)}function o(s,c){return!!s&&!!c&&s.redeemScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}_$.makeConverter=m0t});var nAe=K(T$=>{"use strict";d();h();Object.defineProperty(T$,"__esModule",{value:!0});var WR=Uy(),y0t=A$(),g0t=t=>t.length===32;function b0t(t){let e=y0t.makeConverter(t,g0t);function r(s){let c=WR.decode(s.value),l=WR.encodingLength(c),m=e.decode({key:s.key,value:s.value.slice(l+c*32)}),w=new Array(c);for(let b=0,E=l;b<c;b++,E+=32)w[b]=s.value.slice(E,E+32);return Object.assign({},m,{leafHashes:w})}function n(s){let c=e.encode(s),l=WR.encodingLength(s.leafHashes.length),m=Buffer.allocUnsafe(l);WR.encode(s.leafHashes.length,m);let w=Buffer.concat([m,...s.leafHashes,c.value]);return Object.assign({},c,{value:w})}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function o(s){return Array.isArray(s.leafHashes)&&s.leafHashes.every(c=>Buffer.isBuffer(c)&&c.length===32)&&e.check(s)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:e.canAddToArray}}T$.makeConverter=b0t});var iAe=K(I$=>{"use strict";d();h();Object.defineProperty(I$,"__esModule",{value:!0});function v0t(t){function e(s){if(s.key[0]!==t||s.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+s.key.toString("hex"));if(s.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)&&s.length===32}function o(s,c){return!!s&&!!c&&s.tapInternalKey===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}I$.makeConverter=v0t});var oAe=K(M$=>{"use strict";d();h();Object.defineProperty(M$,"__esModule",{value:!0});function x0t(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)}function o(s,c){return!!s&&!!c&&s.witnessScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}M$.makeConverter=x0t});var GR=K(a4=>{"use strict";d();h();Object.defineProperty(a4,"__esModule",{value:!0});var vu=hs(),w0t=ASe(),S0t=ESe(),A0t=TSe(),E0t=MSe(),_0t=PSe(),T0t=BSe(),I0t=OSe(),M0t=DSe(),k0t=FSe(),P0t=KSe(),R0t=jSe(),B0t=WSe(),C0t=JSe(),O0t=eAe(),sAe=A$(),k$=tAe(),aAe=rAe(),cAe=nAe(),uAe=iAe(),fAe=oAe(),N0t={unsignedTx:S0t,globalXpub:w0t,checkPubkey:k$.makeChecker([])};a4.globals=N0t;var D0t={nonWitnessUtxo:_0t,partialSig:T0t,sighashType:M0t,finalScriptSig:A0t,finalScriptWitness:E0t,porCommitment:I0t,witnessUtxo:C0t,bip32Derivation:sAe.makeConverter(vu.InputTypes.BIP32_DERIVATION),redeemScript:aAe.makeConverter(vu.InputTypes.REDEEM_SCRIPT),witnessScript:fAe.makeConverter(vu.InputTypes.WITNESS_SCRIPT),checkPubkey:k$.makeChecker([vu.InputTypes.PARTIAL_SIG,vu.InputTypes.BIP32_DERIVATION]),tapKeySig:k0t,tapScriptSig:B0t,tapLeafScript:P0t,tapBip32Derivation:cAe.makeConverter(vu.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:uAe.makeConverter(vu.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:R0t};a4.inputs=D0t;var U0t={bip32Derivation:sAe.makeConverter(vu.OutputTypes.BIP32_DERIVATION),redeemScript:aAe.makeConverter(vu.OutputTypes.REDEEM_SCRIPT),witnessScript:fAe.makeConverter(vu.OutputTypes.WITNESS_SCRIPT),checkPubkey:k$.makeChecker([vu.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:cAe.makeConverter(vu.OutputTypes.TAP_BIP32_DERIVATION),tapTree:O0t,tapInternalKey:uAe.makeConverter(vu.OutputTypes.TAP_INTERNAL_KEY)};a4.outputs=U0t});var hAe=K(c4=>{"use strict";d();h();Object.defineProperty(c4,"__esModule",{value:!0});var xi=GR(),$R=jR(),lAe=Uy(),lr=hs();function L0t(t,e){let r=0;function n(){let B=lAe.decode(t,r);r+=lAe.encodingLength(B);let R=t.slice(r,r+B);return r+=B,R}function i(){let B=t.readUInt32BE(r);return r+=4,B}function o(){let B=t.readUInt8(r);return r+=1,B}function s(){let B=n(),R=n();return{key:B,value:R}}function c(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let B=t.readUInt8(r)===0;return B&&r++,B}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(o()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let l=[],m={};for(;!c();){let B=s(),R=B.key.toString("hex");if(m[R])throw new Error("Format Error: Keys must be unique for global keymap: key "+R);m[R]=1,l.push(B)}let w=l.filter(B=>B.key[0]===lr.GlobalTypes.UNSIGNED_TX);if(w.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let b=e(w[0].value),{inputCount:E,outputCount:I}=b.getInputOutputCounts(),M=[],k=[];for(let B of $R.range(E)){let R={},U=[];for(;!c();){let P=s(),F=P.key.toString("hex");if(R[F])throw new Error("Format Error: Keys must be unique for each input: input index "+B+" key "+F);R[F]=1,U.push(P)}M.push(U)}for(let B of $R.range(I)){let R={},U=[];for(;!c();){let P=s(),F=P.key.toString("hex");if(R[F])throw new Error("Format Error: Keys must be unique for each output: output index "+B+" key "+F);R[F]=1,U.push(P)}k.push(U)}return dAe(b,{globalMapKeyVals:l,inputKeyVals:M,outputKeyVals:k})}c4.psbtFromBuffer=L0t;function Ds(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}c4.checkKeyBuffer=Ds;function dAe(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},o=0;for(let w of e)switch(w.key[0]){case lr.GlobalTypes.UNSIGNED_TX:if(Ds("global",w.key,lr.GlobalTypes.UNSIGNED_TX),o>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");o++;break;case lr.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(xi.globals.globalXpub.decode(w));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(w)}let s=r.length,c=n.length,l=[],m=[];for(let w of $R.range(s)){let b={};for(let E of r[w])switch(xi.inputs.checkPubkey(E),E.key[0]){case lr.InputTypes.NON_WITNESS_UTXO:if(Ds("input",E.key,lr.InputTypes.NON_WITNESS_UTXO),b.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");b.nonWitnessUtxo=xi.inputs.nonWitnessUtxo.decode(E);break;case lr.InputTypes.WITNESS_UTXO:if(Ds("input",E.key,lr.InputTypes.WITNESS_UTXO),b.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");b.witnessUtxo=xi.inputs.witnessUtxo.decode(E);break;case lr.InputTypes.PARTIAL_SIG:b.partialSig===void 0&&(b.partialSig=[]),b.partialSig.push(xi.inputs.partialSig.decode(E));break;case lr.InputTypes.SIGHASH_TYPE:if(Ds("input",E.key,lr.InputTypes.SIGHASH_TYPE),b.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");b.sighashType=xi.inputs.sighashType.decode(E);break;case lr.InputTypes.REDEEM_SCRIPT:if(Ds("input",E.key,lr.InputTypes.REDEEM_SCRIPT),b.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");b.redeemScript=xi.inputs.redeemScript.decode(E);break;case lr.InputTypes.WITNESS_SCRIPT:if(Ds("input",E.key,lr.InputTypes.WITNESS_SCRIPT),b.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");b.witnessScript=xi.inputs.witnessScript.decode(E);break;case lr.InputTypes.BIP32_DERIVATION:b.bip32Derivation===void 0&&(b.bip32Derivation=[]),b.bip32Derivation.push(xi.inputs.bip32Derivation.decode(E));break;case lr.InputTypes.FINAL_SCRIPTSIG:Ds("input",E.key,lr.InputTypes.FINAL_SCRIPTSIG),b.finalScriptSig=xi.inputs.finalScriptSig.decode(E);break;case lr.InputTypes.FINAL_SCRIPTWITNESS:Ds("input",E.key,lr.InputTypes.FINAL_SCRIPTWITNESS),b.finalScriptWitness=xi.inputs.finalScriptWitness.decode(E);break;case lr.InputTypes.POR_COMMITMENT:Ds("input",E.key,lr.InputTypes.POR_COMMITMENT),b.porCommitment=xi.inputs.porCommitment.decode(E);break;case lr.InputTypes.TAP_KEY_SIG:Ds("input",E.key,lr.InputTypes.TAP_KEY_SIG),b.tapKeySig=xi.inputs.tapKeySig.decode(E);break;case lr.InputTypes.TAP_SCRIPT_SIG:b.tapScriptSig===void 0&&(b.tapScriptSig=[]),b.tapScriptSig.push(xi.inputs.tapScriptSig.decode(E));break;case lr.InputTypes.TAP_LEAF_SCRIPT:b.tapLeafScript===void 0&&(b.tapLeafScript=[]),b.tapLeafScript.push(xi.inputs.tapLeafScript.decode(E));break;case lr.InputTypes.TAP_BIP32_DERIVATION:b.tapBip32Derivation===void 0&&(b.tapBip32Derivation=[]),b.tapBip32Derivation.push(xi.inputs.tapBip32Derivation.decode(E));break;case lr.InputTypes.TAP_INTERNAL_KEY:Ds("input",E.key,lr.InputTypes.TAP_INTERNAL_KEY),b.tapInternalKey=xi.inputs.tapInternalKey.decode(E);break;case lr.InputTypes.TAP_MERKLE_ROOT:Ds("input",E.key,lr.InputTypes.TAP_MERKLE_ROOT),b.tapMerkleRoot=xi.inputs.tapMerkleRoot.decode(E);break;default:b.unknownKeyVals||(b.unknownKeyVals=[]),b.unknownKeyVals.push(E)}l.push(b)}for(let w of $R.range(c)){let b={};for(let E of n[w])switch(xi.outputs.checkPubkey(E),E.key[0]){case lr.OutputTypes.REDEEM_SCRIPT:if(Ds("output",E.key,lr.OutputTypes.REDEEM_SCRIPT),b.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");b.redeemScript=xi.outputs.redeemScript.decode(E);break;case lr.OutputTypes.WITNESS_SCRIPT:if(Ds("output",E.key,lr.OutputTypes.WITNESS_SCRIPT),b.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");b.witnessScript=xi.outputs.witnessScript.decode(E);break;case lr.OutputTypes.BIP32_DERIVATION:b.bip32Derivation===void 0&&(b.bip32Derivation=[]),b.bip32Derivation.push(xi.outputs.bip32Derivation.decode(E));break;case lr.OutputTypes.TAP_INTERNAL_KEY:Ds("output",E.key,lr.OutputTypes.TAP_INTERNAL_KEY),b.tapInternalKey=xi.outputs.tapInternalKey.decode(E);break;case lr.OutputTypes.TAP_TREE:Ds("output",E.key,lr.OutputTypes.TAP_TREE),b.tapTree=xi.outputs.tapTree.decode(E);break;case lr.OutputTypes.TAP_BIP32_DERIVATION:b.tapBip32Derivation===void 0&&(b.tapBip32Derivation=[]),b.tapBip32Derivation.push(xi.outputs.tapBip32Derivation.decode(E));break;default:b.unknownKeyVals||(b.unknownKeyVals=[]),b.unknownKeyVals.push(E)}m.push(b)}return{globalMap:i,inputs:l,outputs:m}}c4.psbtFromKeyVals=dAe});var yAe=K(YR=>{"use strict";d();h();Object.defineProperty(YR,"__esModule",{value:!0});var P$=GR(),pAe=jR();function F0t({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:o}=mAe({globalMap:t,inputs:e,outputs:r}),s=pAe.keyValsToBuffer(n),c=b=>b.length===0?[Buffer.from([0])]:b.map(pAe.keyValsToBuffer),l=c(i),m=c(o),w=Buffer.allocUnsafe(5);return w.writeUIntBE(482972169471,0,5),Buffer.concat([w,s].concat(l,m))}YR.psbtToBuffer=F0t;var q0t=(t,e)=>t.key.compare(e.key);function R$(t,e){let r=new Set,n=Object.entries(t).reduce((o,[s,c])=>{if(s==="unknownKeyVals")return o;let l=e[s];if(l===void 0)return o;let m=(Array.isArray(c)?c:[c]).map(l.encode);return m.map(b=>b.key.toString("hex")).forEach(b=>{if(r.has(b))throw new Error("Serialize Error: Duplicate key: "+b);r.add(b)}),o.concat(m)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(o=>!r.has(o.key.toString("hex"))):[];return n.concat(i).sort(q0t)}function mAe({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:R$(t,P$.globals),inputKeyVals:e.map(n=>R$(n,P$.inputs)),outputKeyVals:r.map(n=>R$(n,P$.outputs))}}YR.psbtToKeyVals=mAe});var B$=K(ZR=>{"use strict";d();h();function gAe(t){for(var e in t)ZR.hasOwnProperty(e)||(ZR[e]=t[e])}Object.defineProperty(ZR,"__esModule",{value:!0});gAe(hAe());gAe(yAe())});var vAe=K(N$=>{"use strict";d();h();Object.defineProperty(N$,"__esModule",{value:!0});var C$=B$();function K0t(t){let e=t[0],r=C$.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=bAe(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let o=aS(r.globalKeyVals),s=r.inputKeyVals.map(aS),c=r.outputKeyVals.map(aS);for(let l of n){let m=bAe(l);if(m===void 0||!m.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let w=C$.psbtToKeyVals(l);aS(w.globalKeyVals).forEach(O$(o,r.globalKeyVals,w.globalKeyVals)),w.inputKeyVals.map(aS).forEach((M,k)=>M.forEach(O$(s[k],r.inputKeyVals[k],w.inputKeyVals[k]))),w.outputKeyVals.map(aS).forEach((M,k)=>M.forEach(O$(c[k],r.outputKeyVals[k],w.outputKeyVals[k])))}return C$.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}N$.combine=K0t;function O$(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(o=>o.key.toString("hex")===n)[0];e.push(i),t.add(n)}}function bAe(t){return t.globalMap.unsignedTx}function aS(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var U$=K(wa=>{"use strict";d();h();Object.defineProperty(wa,"__esModule",{value:!0});var V0t=GR();function wAe(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}wa.checkForInput=wAe;function SAe(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}wa.checkForOutput=SAe;function H0t(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}wa.checkHasKey=H0t;function j0t(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}wa.getEnumLength=j0t;function z0t(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,o=!n||!!e.finalScriptSig,s=!i||!!e.finalScriptWitness,c=!!e.finalScriptSig||!!e.finalScriptWitness;r=o&&s&&c}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}wa.inputCheckUncleanFinalized=z0t;function xAe(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function D$(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:o,canAddToArray:s,check:c,expected:l}=V0t[t+"s"][n]||{},m=!!s;if(c)if(m){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(c)||xAe(t,n,l,i);let w=r[n]||[],b=new Set;if(!i.every(E=>s(w,E,b)))throw new Error("Can not add duplicate data to array");r[n]=w.concat(i)}else{if(c(i)||xAe(t,n,l,i),!o(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}wa.updateGlobal=D$("global");wa.updateInput=D$("input");wa.updateOutput=D$("output");function W0t(t,e){let r=t.length-1,n=wAe(t,r);wa.updateInput(e,n)}wa.addInputAttributes=W0t;function G0t(t,e){let r=t.length-1,n=SAe(t,r);wa.updateOutput(e,n)}wa.addOutputAttributes=G0t;function $0t(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}wa.defaultVersionSetter=$0t;function Y0t(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}wa.defaultLocktimeSetter=Y0t});var EAe=K(q$=>{"use strict";d();h();Object.defineProperty(q$,"__esModule",{value:!0});var Z0t=vAe(),AAe=B$(),L$=hs(),Us=U$(),F$=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=AAe.psbtFromBuffer(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return AAe.psbtToBuffer(this)}updateGlobal(e){return Us.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=Us.checkForInput(this.inputs,e);return Us.updateInput(r,n),this}updateOutput(e,r){let n=Us.checkForOutput(this.outputs,e);return Us.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return Us.checkHasKey(e,this.globalMap.unknownKeyVals,Us.getEnumLength(L$.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=Us.checkForInput(this.inputs,e);return Us.checkHasKey(r,n.unknownKeyVals,Us.getEnumLength(L$.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=Us.checkForOutput(this.outputs,e);return Us.checkHasKey(r,n.unknownKeyVals,Us.getEnumLength(L$.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),Us.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToOutput(n,i)),Us.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=Us.checkForInput(this.inputs,e);Us.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=Z0t.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};q$.Psbt=F$});var JR=K(li=>{"use strict";d();h();Object.defineProperty(li,"__esModule",{value:!0});li.signatureBlocksAction=li.checkInputForSig=li.pubkeyInScript=li.pubkeyPositionInScript=li.witnessStackToScriptWitness=li.isP2TR=li.isP2SHScript=li.isP2WSHScript=li.isP2WPKH=li.isP2PKH=li.isP2PK=li.isP2MS=void 0;var _Ae=Uy(),u4=Za(),QR=sS(),Q0t=rh(),j1=iS();function z1(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}li.isP2MS=z1(j1.p2ms);li.isP2PK=z1(j1.p2pk);li.isP2PKH=z1(j1.p2pkh);li.isP2WPKH=z1(j1.p2wpkh);li.isP2WSHScript=z1(j1.p2wsh);li.isP2SHScript=z1(j1.p2sh);li.isP2TR=z1(j1.p2tr);function J0t(t){let e=Buffer.allocUnsafe(0);function r(s){e=Buffer.concat([e,Buffer.from(s)])}function n(s){let c=e.length,l=_Ae.encodingLength(s);e=Buffer.concat([e,Buffer.allocUnsafe(l)]),_Ae.encode(s,e,c)}function i(s){n(s.length),r(s)}function o(s){n(s.length),s.forEach(i)}return o(t),e}li.witnessStackToScriptWitness=J0t;function TAe(t,e){let r=(0,Q0t.hash160)(t),n=t.slice(1,33),i=u4.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(o=>typeof o=="number"?!1:o.equals(t)||o.equals(r)||o.equals(n))}li.pubkeyPositionInScript=TAe;function X0t(t,e){return TAe(t,e)!==-1}li.pubkeyInScript=X0t;function ept(t,e){return tpt(t).some(n=>IAe(n,u4.signature.decode,e))}li.checkInputForSig=ept;function IAe(t,e,r){let{hashType:n}=e(t),i=[];switch(n&QR.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case QR.Transaction.SIGHASH_ALL:break;case QR.Transaction.SIGHASH_SINGLE:case QR.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}li.signatureBlocksAction=IAe;function tpt(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=rpt(t)}else e=t.partialSig;return e.map(r=>r.signature)}function rpt(t){let e=t.finalScriptSig?u4.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?u4.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&u4.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var kAe=K(Pi=>{"use strict";d();h();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.checkTaprootInputForSigs=Pi.tapTreeFromList=Pi.tapTreeToList=Pi.tweakInternalPubKey=Pi.checkTaprootOutputFields=Pi.checkTaprootInputFields=Pi.isTaprootOutput=Pi.isTaprootInput=Pi.serializeTaprootSignature=Pi.tapScriptFinalizer=Pi.toXOnly=void 0;var j$=Ns(),npt=sS(),tB=JR(),Fy=NR(),ipt=iS(),opt=JR(),spt=t=>t.length===32?t:t.slice(1,33);Pi.toXOnly=spt;function apt(t,e,r){let n=_pt(e,t,r);try{let o=Apt(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,tB.witnessStackToScriptWitness)(o)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}Pi.tapScriptFinalizer=apt;function cpt(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}Pi.serializeTaprootSignature=cpt;function XR(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,tB.isP2TR)(t.witnessUtxo.script))}Pi.isTaprootInput=XR;function eB(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,tB.isP2TR)(e))}Pi.isTaprootOutput=eB;function upt(t,e,r){xpt(t,e,r),Spt(t,e,r)}Pi.checkTaprootInputFields=upt;function fpt(t,e,r){wpt(t,e,r),lpt(t,e)}Pi.checkTaprootOutputFields=fpt;function lpt(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,o=dpt(r,n);if(i&&!i.equals(o))throw new Error("Error adding output. Script or address missmatch.")}}function dpt(t,e){let r=e&&MAe(e.leaves),{output:n}=(0,ipt.p2tr)({internalPubkey:t,scriptTree:r});return n}function hpt(t,e){let r=e.tapInternalKey,n=r&&(0,Fy.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}Pi.tweakInternalPubKey=hpt;function ppt(t){if(!(0,j$.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return V$(t)}Pi.tapTreeToList=ppt;function MAe(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:vpt(t)}Pi.tapTreeFromList=MAe;function mpt(t,e){return gpt(t).some(n=>(0,opt.signatureBlocksAction)(n,ypt,e))}Pi.checkTaprootInputForSigs=mpt;function ypt(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||npt.Transaction.SIGHASH_DEFAULT}}function gpt(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=bpt(t.finalScriptWitness);r&&e.push(r)}return e}function bpt(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function V$(t,e=[],r=0){if(r>Fy.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,j$.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Fy.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&V$(t[0],e,r+1),t[1]&&V$(t[1],e,r+1),e):[]}function vpt(t){let e;for(let r of t)if(e=H$(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function H$(t,e,r=0){if(r>Fy.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,j$.isTapleaf)(e))return;let n=H$(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=H$(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}function xpt(t,e,r){let n=XR(t)&&cS(e),i=cS(t)&&XR(e),o=t===e&&XR(e)&&cS(e);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function wpt(t,e,r){let n=eB(t)&&cS(e),i=cS(t)&&eB(e),o=t===e&&eB(e)&&cS(e);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function Spt(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(o=>K$(o,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(o=>K$(o,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>K$(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function K$(t,e){if(!e)return!0;let r=(0,Fy.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Fy.rootHashFromPath)(t.controlBlock,r).equals(e)}function Apt(t,e){let r=(0,Fy.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>Ept(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function Ept(t,e){return Object.assign({positionInScript:(0,tB.pubkeyPositionInScript)(e.pubkey,t)},e)}function _pt(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,o)=>i.controlBlock.length-o.controlBlock.length).find(i=>Tpt(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function Tpt(t,e,r){let n=(0,Fy.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(o=>o.leafHash.equals(n))!==void 0}function cS(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var XAe=K(cB=>{"use strict";d();h();Object.defineProperty(cB,"__esModule",{value:!0});cB.Psbt=void 0;var PAe=EAe(),RAe=Uy(),tc=U$(),BAe=p$(),nB=n4(),Ipt=Mf(),Bf=iS(),Mpt=NR(),$0=Za(),Ls=sS(),Vi=kAe(),To=JR(),kpt={network:Ipt.bitcoin,maximumFeeRate:5e3},W$=class t{static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=PAe.Psbt.fromBuffer(e,Ppt),i=new t(r,n);return Npt(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new PAe.Psbt(new iB)){this.data=r,this.opts=Object.assign({},kpt,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,o,s,c)=>Object.defineProperty(i,o,{enumerable:s,writable:c});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,nB.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,BAe.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,nB.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){rB(e),this.opts.maximumFeeRate=e}setVersion(e){rB(e),f4(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){rB(e),f4(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){rB(r),f4(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Vi.checkTaprootInputFields)(e,e,"addInput"),f4(this.data.inputs,"addInput"),e.witnessScript&&oB(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];HAe(r,n);let i=this.data.inputs.length-1,o=this.data.inputs[i];return o.nonWitnessUtxo&&$$(this.__CACHE,o,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");f4(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,o=(0,BAe.toOutputScript)(r,i);e=Object.assign(e,{script:o})}(0,Vi.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(KAe))throw new Error("Not finalized");let r=this.__CACHE;if(e||Bpt(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return YAe(this.data.inputs,n,r,!0),n}getFeeRate(){return UAe("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return UAe("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,tc.checkForInput)(this.data.inputs,0),l4(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,tc.checkForInput)(this.data.inputs,e);return(0,Vi.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Vi.tapScriptFinalizer){let i=(0,tc.checkForInput)(this.data.inputs,e);if((0,Vi.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=Dpt){let{script:i,isP2SH:o,isP2WSH:s,isSegwit:c}=qpt(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);Cpt(r);let{finalScriptSig:l,finalScriptWitness:m}=n(e,r,i,c,o,s);if(l&&this.data.updateInput(e,{finalScriptSig:l}),m&&this.data.updateInput(e,{finalScriptWitness:m}),!l&&!m)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=Vi.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let o=Bf.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),s=(0,To.witnessStackToScriptWitness)(o.witness);this.data.updateInput(e,{finalScriptWitness:s})}else{let{finalScriptWitness:o}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:o})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,tc.checkForInput)(this.data.inputs,e),n=ZAe(e,r,this.__CACHE),i=aB(n,e,"input",r.redeemScript||zpt(r.finalScriptSig),r.witnessScript||Wpt(r.finalScriptWitness)),o=i.type==="raw"?"":i.type+"-",s=JAe(i.meaningfulScript);return o+s}inputHasPubkey(e,r){let n=(0,tc.checkForInput)(this.data.inputs,e);return Hpt(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,tc.checkForInput)(this.data.inputs,e),i=OAe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,tc.checkForOutput)(this.data.outputs,e);return jpt(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,tc.checkForOutput)(this.data.outputs,e),i=OAe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,tc.checkForInput)(this.data.inputs,0),l4(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,Vi.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],o=(i||{}).partialSig;if(!i||!o||o.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let s=n?o.filter(b=>b.pubkey.equals(n)):o;if(s.length<1)throw new Error("No signatures for this pubkey");let c=[],l,m,w;for(let b of s){let E=$0.signature.decode(b.signature),{hash:I,script:M}=w!==E.hashType?zAe(e,Object.assign({},i,{sighashType:E.hashType}),this.__CACHE,!0):{hash:l,script:m};w=E.hashType,l=I,m=M,VAe(b.pubkey,M,"verify"),c.push(r(b.pubkey,I,E.signature))}return c.every(b=>b===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],o=(i||{}).tapKeySig,s=(i||{}).tapScriptSig;if(!i&&!o&&!(s&&!s.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Vi.toXOnly)(n);let c=n?G$(e,i,this.data.inputs,n,this.__CACHE):Lpt(e,i,this.data.inputs,this.__CACHE);if(!c.length)throw new Error("No signatures for this pubkey");let l=c.find(w=>!w.leafHash),m=0;if(o&&l){if(!r(l.pubkey,l.hash,FAe(o)))return!1;m++}if(s)for(let w of s){let b=c.find(E=>w.pubkey.equals(E.pubkey));if(b){if(!r(w.pubkey,b.hash,FAe(w.signature)))return!1;m++}}return m>0}signAllInputsHD(e,r=[Ls.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of l4(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Ls.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let o=[],s=[];for(let c of l4(this.data.inputs.length))s.push(this.signInputHDAsync(c,e,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Ls.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return qAe(e,this.data.inputs,r).forEach(o=>this.signInput(e,o,n)),this}signInputHDAsync(e,r,n=[Ls.Transaction.SIGHASH_ALL]){return new Promise((i,o)=>{if(!r||!r.publicKey||!r.fingerprint)return o(new Error("Need HDSigner to sign input"));let c=qAe(e,this.data.inputs,r).map(l=>this.signInputAsync(e,l,n));return Promise.all(c).then(()=>{i()}).catch(o)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of l4(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let o=[],s=[];for(let[c]of this.data.inputs.entries())s.push(this.signInputAsync(c,e,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,tc.checkForInput)(this.data.inputs,e);return(0,Vi.isTaprootInput)(i)?this._signTaprootInput(e,i,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,tc.checkForInput)(this.data.inputs,e);if((0,Vi.isTaprootInput)(o))return this._signTaprootInput(e,o,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[Ls.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:o}=LAe(this.data.inputs,e,r.publicKey,this.__CACHE,n),s=[{pubkey:r.publicKey,signature:$0.signature.encode(r.sign(i),o)}];return this.data.updateInput(e,{partialSig:s}),this}_signTaprootInput(e,r,n,i,o=[Ls.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,i,o),c=s.filter(m=>!m.leafHash).map(m=>(0,Vi.serializeTaprootSignature)(n.signSchnorr(m.hash),r.sighashType))[0],l=s.filter(m=>!!m.leafHash).map(m=>({pubkey:(0,Vi.toXOnly)(n.publicKey),signature:(0,Vi.serializeTaprootSignature)(n.signSchnorr(m.hash),r.sighashType),leafHash:m.leafHash}));return c&&this.data.updateInput(e,{tapKeySig:c}),l.length&&this.data.updateInput(e,{tapScriptSig:l}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,tc.checkForInput)(this.data.inputs,e);return(0,Vi.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,tc.checkForInput)(this.data.inputs,e);if((0,Vi.isTaprootInput)(o))return this._signTaprootInputAsync(e,o,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[Ls.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:o}=LAe(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(s=>{let c=[{pubkey:r.publicKey,signature:$0.signature.encode(s,o)}];this.data.updateInput(e,{partialSig:c})})}async _signTaprootInputAsync(e,r,n,i,o=[Ls.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,i,o),c=[],l=s.filter(w=>!w.leafHash)[0];if(l){let w=Promise.resolve(n.signSchnorr(l.hash)).then(b=>({tapKeySig:(0,Vi.serializeTaprootSignature)(b,r.sighashType)}));c.push(w)}let m=s.filter(w=>!!w.leafHash);if(m.length){let w=m.map(b=>Promise.resolve(n.signSchnorr(b.hash)).then(E=>({tapScriptSig:[{pubkey:(0,Vi.toXOnly)(n.publicKey),signature:(0,Vi.serializeTaprootSignature)(E,r.sighashType),leafHash:b.leafHash}]})));c.push(...w)}return Promise.all(c).then(w=>{w.forEach(b=>this.data.updateInput(e,b))})}checkTaprootHashesForSig(e,r,n,i,o){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let s=G$(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,o);if(!s||!s.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return s}toBuffer(){return z$(this.__CACHE),this.data.toBuffer()}toHex(){return z$(this.__CACHE),this.data.toHex()}toBase64(){return z$(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&oB(r.witnessScript),(0,Vi.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&$$(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Vi.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};cB.Psbt=W$;var Ppt=t=>new iB(t),iB=class{constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Ls.Transaction.fromBuffer(e),Opt(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,nB.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function Rpt(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return CAe(1,t.partialSig);case"multisig":let n=Bf.p2ms({output:e});return CAe(n.m,t.partialSig,n.pubkeys);default:return!1}}function z$(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function CAe(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let o=Gpt(i);return e.find(s=>s.pubkey.equals(o))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function KAe(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function OAe(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function rB(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function Bpt(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function f4(t,e){t.forEach(r=>{if((0,Vi.isTaprootInput)(r)?(0,Vi.checkTaprootInputForSigs)(r,e):(0,To.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function Cpt(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=$0.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function VAe(t,e,r){if(!(0,To.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function Opt(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function Npt(t,e){t.ins.forEach(r=>{HAe(e,r)})}function HAe(t,e){let r=(0,nB.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function jAe(t,e){return(r,n,i,o)=>{let s=t({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${e} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}var NAe=jAe(Bf.p2sh,"Redeem script"),DAe=jAe(Bf.p2wsh,"Witness script");function UAe(t,e,r,n){if(!r.every(KAe))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,o=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),YAe(r,i,n,o),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function Dpt(t,e,r,n,i,o){let s=JAe(r);if(!Rpt(e,r,s))throw new Error(`Can not finalize input #${t}`);return Upt(r,s,e.partialSig,n,i,o)}function Upt(t,e,r,n,i,o){let s,c,l=Fpt(t,e,r),m=o?Bf.p2wsh({redeem:l}):null,w=i?Bf.p2sh({redeem:m||l}):null;return n?(m?c=(0,To.witnessStackToScriptWitness)(m.witness):c=(0,To.witnessStackToScriptWitness)(l.witness),w&&(s=w.input)):w?s=w.input:s=l.input,{finalScriptSig:s,finalScriptWitness:c}}function LAe(t,e,r,n,i){let o=(0,tc.checkForInput)(t,e),{hash:s,sighashType:c,script:l}=zAe(e,o,n,!1,i);return VAe(r,l,"sign"),{hash:s,sighashType:c}}function zAe(t,e,r,n,i){let o=r.__TX,s=e.sighashType||Ls.Transaction.SIGHASH_ALL;GAe(s,i);let c,l;if(e.nonWitnessUtxo){let b=sB(r,e,t),E=o.ins[t].hash,I=b.getHash();if(!E.equals(I))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let M=o.ins[t].index;l=b.outs[M]}else if(e.witnessUtxo)l=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:m,type:w}=aB(l.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(w)>=0)c=o.hashForWitnessV0(t,m,l.value,s);else if((0,To.isP2WPKH)(m)){let b=Bf.p2pkh({hash:m.slice(2)}).output;c=o.hashForWitnessV0(t,b,l.value,s)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${m.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),c=o.hashForSignature(t,m,s)}return{script:m,sighashType:s,hash:c}}function Lpt(t,e,r,n){let i=[];if(e.tapInternalKey){let s=WAe(t,e,n);s&&i.push(s)}if(e.tapScriptSig){let s=e.tapScriptSig.map(c=>c.pubkey);i.push(...s)}return i.map(s=>G$(t,e,r,s,n)).flat()}function WAe(t,e,r){let{script:n}=Y$(t,e,r);return(0,To.isP2TR)(n)?n.subarray(2,34):null}function FAe(t){return t.length===64?t:t.subarray(0,64)}function G$(t,e,r,n,i,o,s){let c=i.__TX,l=e.sighashType||Ls.Transaction.SIGHASH_DEFAULT;GAe(l,s);let m=r.map((M,k)=>Y$(k,M,i)),w=m.map(M=>M.script),b=m.map(M=>M.value),E=[];if(e.tapInternalKey&&!o){let M=WAe(t,e,i)||Buffer.from([]);if((0,Vi.toXOnly)(n).equals(M)){let k=c.hashForWitnessV1(t,w,b,l);E.push({pubkey:n,hash:k})}}let I=(e.tapLeafScript||[]).filter(M=>(0,To.pubkeyInScript)(n,M.script)).map(M=>{let k=(0,Mpt.tapleafHash)({output:M.script,version:M.leafVersion});return Object.assign({hash:k},M)}).filter(M=>!o||o.equals(M.hash)).map(M=>{let k=c.hashForWitnessV1(t,w,b,Ls.Transaction.SIGHASH_DEFAULT,M.hash);return{pubkey:n,hash:k,leafHash:M.hash}});return E.concat(I)}function GAe(t,e){if(e&&e.indexOf(t)<0){let r=Vpt(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function Fpt(t,e,r){let n;switch(e){case"multisig":let i=Kpt(t,r);n=Bf.p2ms({output:t,signatures:i});break;case"pubkey":n=Bf.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=Bf.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Bf.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function qpt(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let o=sB(r,e,t),s=n.ins[t].index;i.script=o.outs[s].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,To.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}function qAe(t,e,r){let n=(0,tc.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(s=>{if(s.masterFingerprint.equals(r.fingerprint))return s}).filter(s=>!!s);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(s=>{let c=r.derivePath(s.path);if(!s.pubkey.equals(c.publicKey))throw new Error("pubkey did not match bip32Derivation");return c})}function Kpt(t,e){return Bf.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function $Ae(t){let e=0;function r(s){return e+=s,t.slice(e-s,e)}function n(){let s=RAe.decode(t,e);return e+=RAe.decode.bytes,s}function i(){return r(n())}function o(){let s=n(),c=[];for(let l=0;l<s;l++)c.push(i());return c}return o()}function Vpt(t){let e=t&Ls.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Ls.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Ls.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Ls.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function $$(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=Ls.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,o=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let s=i.__NON_WITNESS_UTXO_BUF_CACHE[o],c=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(s!==void 0)return s;{let l=c.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=l,l}},set(s){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=s}})}function YAe(t,e,r,n){let i=0;t.forEach((l,m)=>{if(n&&l.finalScriptSig&&(e.ins[m].script=l.finalScriptSig),n&&l.finalScriptWitness&&(e.ins[m].witness=$Ae(l.finalScriptWitness)),l.witnessUtxo)i+=l.witnessUtxo.value;else if(l.nonWitnessUtxo){let w=sB(r,l,m),b=e.ins[m].index,E=w.outs[b];i+=E.value}});let o=e.outs.reduce((l,m)=>l+m.value,0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");let c=e.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(s/c)}function sB(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||$$(t,e,r),n[r]}function ZAe(t,e,r){let{script:n}=Y$(t,e,r);return n}function Y$(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=sB(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function Hpt(t,e,r,n){let i=ZAe(r,e,n),{meaningfulScript:o}=aB(i,r,"input",e.redeemScript,e.witnessScript);return(0,To.pubkeyInScript)(t,o)}function jpt(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:o}=aB(i,r,"output",e.redeemScript,e.witnessScript);return(0,To.pubkeyInScript)(t,o)}function zpt(t){if(!t)return;let e=$0.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||QAe(r)||$pt(r)||!$0.decompile(r)))return r}function Wpt(t){if(!t)return;let e=$Ae(t),r=e[e.length-1];if(!(QAe(r)||!$0.decompile(r)))return r}function Gpt(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function QAe(t){return t.length===33&&$0.isCanonicalPubKey(t)}function $pt(t){return $0.isCanonicalScriptSignature(t)}function aB(t,e,r,n,i){let o=(0,To.isP2SHScript)(t),s=o&&n&&(0,To.isP2WSHScript)(n),c=(0,To.isP2WSHScript)(t);if(o&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((c||s)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let l;return s?(l=i,NAe(e,t,n,r),DAe(e,n,i,r),oB(l)):c?(l=i,DAe(e,t,i,r),oB(l)):o?(l=n,NAe(e,t,n,r)):l=t,{meaningfulScript:l,type:s?"p2sh-p2wsh":o?"p2sh":c?"p2wsh":"raw"}}function oB(t){if((0,To.isP2WPKH)(t)||(0,To.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function JAe(t){return(0,To.isP2WPKH)(t)?"witnesspubkeyhash":(0,To.isP2PKH)(t)?"pubkeyhash":(0,To.isP2MS)(t)?"multisig":(0,To.isP2PK)(t)?"pubkey":"nonstandard"}function l4(t){return[...Array(t).keys()]}});var d4=K(no=>{"use strict";d();h();Object.defineProperty(no,"__esModule",{value:!0});no.initEccLib=no.Transaction=no.opcodes=no.Psbt=no.Block=no.script=no.payments=no.networks=no.crypto=no.address=void 0;var Ypt=p$();no.address=Ypt;var Zpt=rh();no.crypto=Zpt;var Qpt=Mf();no.networks=Qpt;var Jpt=iS();no.payments=Jpt;var Xpt=Za();no.script=Xpt;var emt=wSe();Object.defineProperty(no,"Block",{enumerable:!0,get:function(){return emt.Block}});var tmt=XAe();Object.defineProperty(no,"Psbt",{enumerable:!0,get:function(){return tmt.Psbt}});var rmt=rR();Object.defineProperty(no,"opcodes",{enumerable:!0,get:function(){return rmt.OPS}});var nmt=sS();Object.defineProperty(no,"Transaction",{enumerable:!0,get:function(){return nmt.Transaction}});var imt=OR();Object.defineProperty(no,"initEccLib",{enumerable:!0,get:function(){return imt.initEccLib}})});var Y0=K(Yr=>{"use strict";d();h();Object.defineProperty(Yr,"__esModule",{value:!0});Yr.DEFAULT_TLRU_TTL_MS=Yr.BANDIT_ASSIGNMENT_SHARDS=Yr.MAX_EVENT_QUEUE_SIZE=Yr.NULL_SENTINEL=Yr.SESSION_ASSIGNMENT_CONFIG_LOADED=Yr.PRECOMPUTED_FLAGS_ENDPOINT=Yr.PRECOMPUTED_BASE_URL=Yr.BANDIT_ENDPOINT=Yr.UFC_ENDPOINT=Yr.BASE_URL=Yr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=Yr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=Yr.POLL_JITTER_PCT=Yr.DEFAULT_POLL_INTERVAL_MS=Yr.REQUEST_TIMEOUT_MILLIS=Yr.DEFAULT_REQUEST_TIMEOUT_MS=void 0;Yr.DEFAULT_REQUEST_TIMEOUT_MS=5e3;Yr.REQUEST_TIMEOUT_MILLIS=Yr.DEFAULT_REQUEST_TIMEOUT_MS;Yr.DEFAULT_POLL_INTERVAL_MS=3e4;Yr.POLL_JITTER_PCT=.1;Yr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1;Yr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7;Yr.BASE_URL="https://fscdn.eppo.cloud/api";Yr.UFC_ENDPOINT="/flag-config/v1/config";Yr.BANDIT_ENDPOINT="/flag-config/v1/bandits";Yr.PRECOMPUTED_BASE_URL="https://fs-edge-assignment.eppo.cloud";Yr.PRECOMPUTED_FLAGS_ENDPOINT="/assignments";Yr.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded";Yr.NULL_SENTINEL="EPPO_NULL";Yr.MAX_EVENT_QUEUE_SIZE=100;Yr.BANDIT_ASSIGNMENT_SHARDS=1e4;Yr.DEFAULT_TLRU_TTL_MS=6e5});var qB=K(qY=>{"use strict";d();h();Object.defineProperty(qY,"__esModule",{value:!0});var FB=Y0(),FY=class{constructor(e){this.params=e,this.params.baseUrl=e.baseUrl??FB.BASE_URL}endpoint(e){let r=new URL(this.params.baseUrl+e);return Object.entries(this.params.queryParams??{}).forEach(([n,i])=>r.searchParams.append(n,i)),r}ufcEndpoint(){return this.endpoint(FB.UFC_ENDPOINT)}banditParametersEndpoint(){return this.endpoint(FB.BANDIT_ENDPOINT)}precomputedFlagsEndpoint(){return this.endpoint(FB.PRECOMPUTED_FLAGS_ENDPOINT)}};qY.default=FY});var GEe=K((u3r,WEe)=>{"use strict";d();h();function tyt(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}WEe.exports=ryt;function ryt(t,e,r){var n=r&&r.stringify||tyt,i=1;if(typeof t=="object"&&t!==null){var o=e.length+i;if(o===1)return t;var s=new Array(o);s[0]=n(t);for(var c=1;c<o;c++)s[c]=n(e[c]);return s.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var m="",w=1-i,b=-1,E=t&&t.length||0,I=0;I<E;){if(t.charCodeAt(I)===37&&I+1<E){switch(b=b>-1?b:0,t.charCodeAt(I+1)){case 100:case 102:if(w>=l||e[w]==null)break;b<I&&(m+=t.slice(b,I)),m+=Number(e[w]),b=I+2,I++;break;case 105:if(w>=l||e[w]==null)break;b<I&&(m+=t.slice(b,I)),m+=Math.floor(Number(e[w])),b=I+2,I++;break;case 79:case 111:case 106:if(w>=l||e[w]===void 0)break;b<I&&(m+=t.slice(b,I));var M=typeof e[w];if(M==="string"){m+="'"+e[w]+"'",b=I+2,I++;break}if(M==="function"){m+=e[w].name||"<anonymous>",b=I+2,I++;break}m+=n(e[w]),b=I+2,I++;break;case 115:if(w>=l)break;b<I&&(m+=t.slice(b,I)),m+=String(e[w]),b=I+2,I++;break;case 37:b<I&&(m+=t.slice(b,I)),m+="%",b=I+2,I++,w--;break}++w}++I}return b===-1?t:(b<E&&(m+=t.slice(b)),m)}});var XEe=K((d3r,VB)=>{"use strict";d();h();var $Ee=GEe();VB.exports=Z0;var N4=gyt().console||{},nyt={mapHttpRequest:KB,mapHttpResponse:KB,wrapRequestSerializer:KY,wrapResponseSerializer:KY,wrapErrorSerializer:KY,req:KB,res:KB,err:ZEe,errWithCause:ZEe};function Wy(t,e){return t==="silent"?1/0:e.levels.values[t]}var jY=Symbol("pino.logFuncs"),VY=Symbol("pino.hierarchy"),iyt={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function YEe(t,e){let r={logger:e,parent:t[VY]};e[VY]=r}function oyt(t,e,r){let n={};e.forEach(i=>{n[i]=r[i]?r[i]:N4[i]||N4[iyt[i]||"log"]||pS}),t[jY]=n}function syt(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Z0(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||N4;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=syt(t.browser.serialize,n),o=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);let s=Object.keys(t.customLevels||{}),c=["error","fatal","warn","info","debug","trace"].concat(s);typeof r=="function"&&c.forEach(function(k){r[k]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");let l=t.level||"info",m=Object.create(r);m.log||(m.log=pS),oyt(m,c,r),YEe({},m),Object.defineProperty(m,"levelVal",{get:b}),Object.defineProperty(m,"level",{get:E,set:I});let w={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:c,timestamp:pyt(t),messageKey:t.messageKey||"msg",onChild:t.onChild||pS};m.levels=ayt(t),m.level=l,m.setMaxListeners=m.getMaxListeners=m.emit=m.addListener=m.on=m.prependListener=m.once=m.prependOnceListener=m.removeListener=m.removeAllListeners=m.listeners=m.listenerCount=m.eventNames=m.write=m.flush=pS,m.serializers=n,m._serialize=i,m._stdErrSerialize=o,m.child=function(...k){return M.call(this,w,...k)},e&&(m._logEvent=HY());function b(){return Wy(this.level,this)}function E(){return this._level}function I(k){if(k!=="silent"&&!this.levels.values[k])throw Error("unknown level "+k);this._level=k,Z1(this,w,m,"error"),Z1(this,w,m,"fatal"),Z1(this,w,m,"warn"),Z1(this,w,m,"info"),Z1(this,w,m,"debug"),Z1(this,w,m,"trace"),s.forEach(B=>{Z1(this,w,m,B)})}function M(k,B,R){if(!B)throw new Error("missing bindings for child Pino");R=R||{},i&&B.serializers&&(R.serializers=B.serializers);let U=R.serializers;if(i&&U){var P=Object.assign({},n,U),F=t.browser.serialize===!0?Object.keys(P):i;delete B.serializers,zY([B],F,P,this._stdErrSerialize)}function V(re){this._childLevel=(re._childLevel|0)+1,this.bindings=B,P&&(this.serializers=P,this._serialize=F),e&&(this._logEvent=HY([].concat(re._logEvent.bindings,B)))}V.prototype=this;let H=new V(this);return YEe(this,H),H.child=function(...re){return M.call(this,k,...re)},H.level=R.level||this.level,k.onChild(H),H}return m}function ayt(t){let e=t.customLevels||{},r=Object.assign({},Z0.levels.values,e),n=Object.assign({},Z0.levels.labels,cyt(e));return{values:r,labels:n}}function cyt(t){let e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}Z0.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Z0.stdSerializers=nyt;Z0.stdTimeFunctions=Object.assign({},{nullTime:QEe,epochTime:JEe,unixTime:myt,isoTime:yyt});function uyt(t){let e=[];t.bindings&&e.push(t.bindings);let r=t[VY];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}function Z1(t,e,r,n){if(Object.defineProperty(t,n,{value:Wy(t.level,r)>Wy(n,r)?pS:r[jY][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===pS){if(!e.transmit)return;let o=e.transmit.level||t.level,s=Wy(o,r);if(Wy(n,r)<s)return}t[n]=lyt(t,e,r,n);let i=uyt(t);i.length!==0&&(t[n]=fyt(i,t[n]))}function fyt(t,e){return function(){return e.apply(this,[...t,...arguments])}}function lyt(t,e,r,n){return function(i){return function(){let s=e.timestamp(),c=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===N4?N4:this;for(var m=0;m<c.length;m++)c[m]=arguments[m];var w=!1;if(e.serialize&&(zY(c,this._serialize,this.serializers,this._stdErrSerialize),w=!0),e.asObject||e.formatters?i.call(l,dyt(this,n,c,s,e)):i.apply(l,c),e.transmit){let b=e.transmit.level||t._level,E=Wy(b,r),I=Wy(n,r);if(I<E)return;hyt(this,{ts:s,methodLevel:n,methodValue:I,transmitLevel:b,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Wy(t._level,r)},c,w)}}}(t[jY][n])}function dyt(t,e,r,n,i){let{level:o,log:s=E=>E}=i.formatters||{},c=r.slice(),l=c[0],m={};if(n&&(m.time=n),o){let E=o(e,t.levels.values[e]);Object.assign(m,E)}else m.level=t.levels.values[e];let w=(t._childLevel|0)+1;if(w<1&&(w=1),l!==null&&typeof l=="object"){for(;w--&&typeof c[0]=="object";)Object.assign(m,c.shift());l=c.length?$Ee(c.shift(),c):void 0}else typeof l=="string"&&(l=$Ee(c.shift(),c));return l!==void 0&&(m[i.messageKey]=l),s(m)}function zY(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=Z0.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(let o in t[i])e.indexOf(o)>-1&&o in r&&(t[i][o]=r[o](t[i][o]))}function hyt(t,e,r,n=!1){let i=e.send,o=e.ts,s=e.methodLevel,c=e.methodValue,l=e.val,m=t._logEvent.bindings;n||zY(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=o,t._logEvent.messages=r.filter(function(w){return m.indexOf(w)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=c,i(s,t._logEvent,l),t._logEvent=HY(m)}function HY(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function ZEe(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function pyt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?QEe:JEe}function KB(){return{}}function KY(t){return t}function pS(){}function QEe(){return!1}function JEe(){return Date.now()}function myt(){return Math.round(Date.now()/1e3)}function yyt(){return new Date(Date.now()).toISOString()}function gyt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(self)||t(this)||{}}}VB.exports.default=Z0;VB.exports.pino=Z0});var uh=K(mS=>{"use strict";d();h();Object.defineProperty(mS,"__esModule",{value:!0});mS.logger=mS.loggerPrefix=void 0;var byt=XEe();mS.loggerPrefix="[Eppo SDK]";mS.logger=(0,byt.default)({level:T.LOG_LEVEL??(T.NODE_ENV==="production"?"warn":"info"),browser:{disabled:!0}})});var $Y=K((WY,GY)=>{d();h();(function(t,e){typeof WY=="object"&&typeof GY<"u"?GY.exports=e():typeof define=="function"&&define.amd?define(e):function(){var r=t.Base64,n=e();n.noConflict=function(){return t.Base64=r,n},t.Meteor&&(Base64=n),t.Base64=n}()})(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:WY,function(){"use strict";var t="3.7.7",e=t,r=typeof Buffer=="function",n=typeof TextDecoder=="function"?new TextDecoder:void 0,i=typeof TextEncoder=="function"?new TextEncoder:void 0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=Array.prototype.slice.call(o),c=function(C){var W={};return C.forEach(function(ee,ne){return W[ee]=ne}),W}(s),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,m=String.fromCharCode.bind(String),w=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(C){return new Uint8Array(Array.prototype.slice.call(C,0))},b=function(C){return C.replace(/=/g,"").replace(/[+\/]/g,function(W){return W=="+"?"-":"_"})},E=function(C){return C.replace(/[^A-Za-z0-9\+\/]/g,"")},I=function(C){for(var W,ee,ne,Ve,ae="",G=C.length%3,he=0;he<C.length;){if((ee=C.charCodeAt(he++))>255||(ne=C.charCodeAt(he++))>255||(Ve=C.charCodeAt(he++))>255)throw new TypeError("invalid character found");W=ee<<16|ne<<8|Ve,ae+=s[W>>18&63]+s[W>>12&63]+s[W>>6&63]+s[W&63]}return G?ae.slice(0,G-3)+"===".substring(G):ae},M=typeof btoa=="function"?function(C){return btoa(C)}:r?function(C){return Buffer.from(C,"binary").toString("base64")}:I,k=r?function(C){return Buffer.from(C).toString("base64")}:function(C){for(var W=4096,ee=[],ne=0,Ve=C.length;ne<Ve;ne+=W)ee.push(m.apply(null,C.subarray(ne,ne+W)));return M(ee.join(""))},B=function(C,W){return W===void 0&&(W=!1),W?b(k(C)):k(C)},R=function(C){if(C.length<2){var W=C.charCodeAt(0);return W<128?C:W<2048?m(192|W>>>6)+m(128|W&63):m(224|W>>>12&15)+m(128|W>>>6&63)+m(128|W&63)}else{var W=65536+(C.charCodeAt(0)-55296)*1024+(C.charCodeAt(1)-56320);return m(240|W>>>18&7)+m(128|W>>>12&63)+m(128|W>>>6&63)+m(128|W&63)}},U=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,P=function(C){return C.replace(U,R)},F=r?function(C){return Buffer.from(C,"utf8").toString("base64")}:i?function(C){return k(i.encode(C))}:function(C){return M(P(C))},V=function(C,W){return W===void 0&&(W=!1),W?b(F(C)):F(C)},H=function(C){return V(C,!0)},re=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,J=function(C){switch(C.length){case 4:var W=(7&C.charCodeAt(0))<<18|(63&C.charCodeAt(1))<<12|(63&C.charCodeAt(2))<<6|63&C.charCodeAt(3),ee=W-65536;return m((ee>>>10)+55296)+m((ee&1023)+56320);case 3:return m((15&C.charCodeAt(0))<<12|(63&C.charCodeAt(1))<<6|63&C.charCodeAt(2));default:return m((31&C.charCodeAt(0))<<6|63&C.charCodeAt(1))}},ie=function(C){return C.replace(re,J)},S=function(C){if(C=C.replace(/\s+/g,""),!l.test(C))throw new TypeError("malformed base64.");C+="==".slice(2-(C.length&3));for(var W,ee="",ne,Ve,ae=0;ae<C.length;)W=c[C.charAt(ae++)]<<18|c[C.charAt(ae++)]<<12|(ne=c[C.charAt(ae++)])<<6|(Ve=c[C.charAt(ae++)]),ee+=ne===64?m(W>>16&255):Ve===64?m(W>>16&255,W>>8&255):m(W>>16&255,W>>8&255,W&255);return ee},a=typeof atob=="function"?function(C){return atob(E(C))}:r?function(C){return Buffer.from(C,"base64").toString("binary")}:S,f=r?function(C){return w(Buffer.from(C,"base64"))}:function(C){return w(a(C).split("").map(function(W){return W.charCodeAt(0)}))},p=function(C){return f(g(C))},y=r?function(C){return Buffer.from(C,"base64").toString("utf8")}:n?function(C){return n.decode(f(C))}:function(C){return ie(a(C))},g=function(C){return E(C.replace(/[-_]/g,function(W){return W=="-"?"+":"/"}))},A=function(C){return y(g(C))},_=function(C){if(typeof C!="string")return!1;var W=C.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(W)||!/[^\s0-9a-zA-Z\-_]/.test(W)},v=function(C){return{value:C,enumerable:!1,writable:!0,configurable:!0}},u=function(){var C=function(W,ee){return Object.defineProperty(String.prototype,W,v(ee))};C("fromBase64",function(){return A(this)}),C("toBase64",function(W){return V(this,W)}),C("toBase64URI",function(){return V(this,!0)}),C("toBase64URL",function(){return V(this,!0)}),C("toUint8Array",function(){return p(this)})},x=function(){var C=function(W,ee){return Object.defineProperty(Uint8Array.prototype,W,v(ee))};C("toBase64",function(W){return B(this,W)}),C("toBase64URI",function(){return B(this,!0)}),C("toBase64URL",function(){return B(this,!0)})},q=function(){u(),x()},L={version:t,VERSION:e,atob:a,atobPolyfill:S,btoa:M,btoaPolyfill:I,fromBase64:A,toBase64:V,encode:V,encodeURI:H,encodeURL:H,utob:P,btou:ie,decode:A,isValid:_,fromUint8Array:B,toUint8Array:p,extendString:u,extendUint8Array:x,extendBuiltins:q};return L.Base64={},Object.keys(L).forEach(function(C){return L.Base64[C]=L[C]}),L})});var r3e=K((e3e,t3e)=>{d();h();(function(t){if(typeof e3e=="object")t3e.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=self}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=function(R,U){return R+U&4294967295},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(R,U,P,F,V,H){return U=e(e(U,R),e(F,H)),e(U<<V|U>>>32-V,P)}function i(R,U){var P=R[0],F=R[1],V=R[2],H=R[3];P+=(F&V|~F&H)+U[0]-680876936|0,P=(P<<7|P>>>25)+F|0,H+=(P&F|~P&V)+U[1]-389564586|0,H=(H<<12|H>>>20)+P|0,V+=(H&P|~H&F)+U[2]+606105819|0,V=(V<<17|V>>>15)+H|0,F+=(V&H|~V&P)+U[3]-1044525330|0,F=(F<<22|F>>>10)+V|0,P+=(F&V|~F&H)+U[4]-176418897|0,P=(P<<7|P>>>25)+F|0,H+=(P&F|~P&V)+U[5]+1200080426|0,H=(H<<12|H>>>20)+P|0,V+=(H&P|~H&F)+U[6]-1473231341|0,V=(V<<17|V>>>15)+H|0,F+=(V&H|~V&P)+U[7]-45705983|0,F=(F<<22|F>>>10)+V|0,P+=(F&V|~F&H)+U[8]+1770035416|0,P=(P<<7|P>>>25)+F|0,H+=(P&F|~P&V)+U[9]-1958414417|0,H=(H<<12|H>>>20)+P|0,V+=(H&P|~H&F)+U[10]-42063|0,V=(V<<17|V>>>15)+H|0,F+=(V&H|~V&P)+U[11]-1990404162|0,F=(F<<22|F>>>10)+V|0,P+=(F&V|~F&H)+U[12]+1804603682|0,P=(P<<7|P>>>25)+F|0,H+=(P&F|~P&V)+U[13]-40341101|0,H=(H<<12|H>>>20)+P|0,V+=(H&P|~H&F)+U[14]-1502002290|0,V=(V<<17|V>>>15)+H|0,F+=(V&H|~V&P)+U[15]+1236535329|0,F=(F<<22|F>>>10)+V|0,P+=(F&H|V&~H)+U[1]-165796510|0,P=(P<<5|P>>>27)+F|0,H+=(P&V|F&~V)+U[6]-1069501632|0,H=(H<<9|H>>>23)+P|0,V+=(H&F|P&~F)+U[11]+643717713|0,V=(V<<14|V>>>18)+H|0,F+=(V&P|H&~P)+U[0]-373897302|0,F=(F<<20|F>>>12)+V|0,P+=(F&H|V&~H)+U[5]-701558691|0,P=(P<<5|P>>>27)+F|0,H+=(P&V|F&~V)+U[10]+38016083|0,H=(H<<9|H>>>23)+P|0,V+=(H&F|P&~F)+U[15]-660478335|0,V=(V<<14|V>>>18)+H|0,F+=(V&P|H&~P)+U[4]-405537848|0,F=(F<<20|F>>>12)+V|0,P+=(F&H|V&~H)+U[9]+568446438|0,P=(P<<5|P>>>27)+F|0,H+=(P&V|F&~V)+U[14]-1019803690|0,H=(H<<9|H>>>23)+P|0,V+=(H&F|P&~F)+U[3]-187363961|0,V=(V<<14|V>>>18)+H|0,F+=(V&P|H&~P)+U[8]+1163531501|0,F=(F<<20|F>>>12)+V|0,P+=(F&H|V&~H)+U[13]-1444681467|0,P=(P<<5|P>>>27)+F|0,H+=(P&V|F&~V)+U[2]-51403784|0,H=(H<<9|H>>>23)+P|0,V+=(H&F|P&~F)+U[7]+1735328473|0,V=(V<<14|V>>>18)+H|0,F+=(V&P|H&~P)+U[12]-1926607734|0,F=(F<<20|F>>>12)+V|0,P+=(F^V^H)+U[5]-378558|0,P=(P<<4|P>>>28)+F|0,H+=(P^F^V)+U[8]-2022574463|0,H=(H<<11|H>>>21)+P|0,V+=(H^P^F)+U[11]+1839030562|0,V=(V<<16|V>>>16)+H|0,F+=(V^H^P)+U[14]-35309556|0,F=(F<<23|F>>>9)+V|0,P+=(F^V^H)+U[1]-1530992060|0,P=(P<<4|P>>>28)+F|0,H+=(P^F^V)+U[4]+1272893353|0,H=(H<<11|H>>>21)+P|0,V+=(H^P^F)+U[7]-155497632|0,V=(V<<16|V>>>16)+H|0,F+=(V^H^P)+U[10]-1094730640|0,F=(F<<23|F>>>9)+V|0,P+=(F^V^H)+U[13]+681279174|0,P=(P<<4|P>>>28)+F|0,H+=(P^F^V)+U[0]-358537222|0,H=(H<<11|H>>>21)+P|0,V+=(H^P^F)+U[3]-722521979|0,V=(V<<16|V>>>16)+H|0,F+=(V^H^P)+U[6]+76029189|0,F=(F<<23|F>>>9)+V|0,P+=(F^V^H)+U[9]-640364487|0,P=(P<<4|P>>>28)+F|0,H+=(P^F^V)+U[12]-421815835|0,H=(H<<11|H>>>21)+P|0,V+=(H^P^F)+U[15]+530742520|0,V=(V<<16|V>>>16)+H|0,F+=(V^H^P)+U[2]-995338651|0,F=(F<<23|F>>>9)+V|0,P+=(V^(F|~H))+U[0]-198630844|0,P=(P<<6|P>>>26)+F|0,H+=(F^(P|~V))+U[7]+1126891415|0,H=(H<<10|H>>>22)+P|0,V+=(P^(H|~F))+U[14]-1416354905|0,V=(V<<15|V>>>17)+H|0,F+=(H^(V|~P))+U[5]-57434055|0,F=(F<<21|F>>>11)+V|0,P+=(V^(F|~H))+U[12]+1700485571|0,P=(P<<6|P>>>26)+F|0,H+=(F^(P|~V))+U[3]-1894986606|0,H=(H<<10|H>>>22)+P|0,V+=(P^(H|~F))+U[10]-1051523|0,V=(V<<15|V>>>17)+H|0,F+=(H^(V|~P))+U[1]-2054922799|0,F=(F<<21|F>>>11)+V|0,P+=(V^(F|~H))+U[8]+1873313359|0,P=(P<<6|P>>>26)+F|0,H+=(F^(P|~V))+U[15]-30611744|0,H=(H<<10|H>>>22)+P|0,V+=(P^(H|~F))+U[6]-1560198380|0,V=(V<<15|V>>>17)+H|0,F+=(H^(V|~P))+U[13]+1309151649|0,F=(F<<21|F>>>11)+V|0,P+=(V^(F|~H))+U[4]-145523070|0,P=(P<<6|P>>>26)+F|0,H+=(F^(P|~V))+U[11]-1120210379|0,H=(H<<10|H>>>22)+P|0,V+=(P^(H|~F))+U[2]+718787259|0,V=(V<<15|V>>>17)+H|0,F+=(H^(V|~P))+U[9]-343485551|0,F=(F<<21|F>>>11)+V|0,R[0]=P+R[0]|0,R[1]=F+R[1]|0,R[2]=V+R[2]|0,R[3]=H+R[3]|0}function o(R){var U=[],P;for(P=0;P<64;P+=4)U[P>>2]=R.charCodeAt(P)+(R.charCodeAt(P+1)<<8)+(R.charCodeAt(P+2)<<16)+(R.charCodeAt(P+3)<<24);return U}function s(R){var U=[],P;for(P=0;P<64;P+=4)U[P>>2]=R[P]+(R[P+1]<<8)+(R[P+2]<<16)+(R[P+3]<<24);return U}function c(R){var U=R.length,P=[1732584193,-271733879,-1732584194,271733878],F,V,H,re,J,ie;for(F=64;F<=U;F+=64)i(P,o(R.substring(F-64,F)));for(R=R.substring(F-64),V=R.length,H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=0;F<V;F+=1)H[F>>2]|=R.charCodeAt(F)<<(F%4<<3);if(H[F>>2]|=128<<(F%4<<3),F>55)for(i(P,H),F=0;F<16;F+=1)H[F]=0;return re=U*8,re=re.toString(16).match(/(.*?)(.{0,8})$/),J=parseInt(re[2],16),ie=parseInt(re[1],16)||0,H[14]=J,H[15]=ie,i(P,H),P}function l(R){var U=R.length,P=[1732584193,-271733879,-1732584194,271733878],F,V,H,re,J,ie;for(F=64;F<=U;F+=64)i(P,s(R.subarray(F-64,F)));for(R=F-64<U?R.subarray(F-64):new Uint8Array(0),V=R.length,H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=0;F<V;F+=1)H[F>>2]|=R[F]<<(F%4<<3);if(H[F>>2]|=128<<(F%4<<3),F>55)for(i(P,H),F=0;F<16;F+=1)H[F]=0;return re=U*8,re=re.toString(16).match(/(.*?)(.{0,8})$/),J=parseInt(re[2],16),ie=parseInt(re[1],16)||0,H[14]=J,H[15]=ie,i(P,H),P}function m(R){var U="",P;for(P=0;P<4;P+=1)U+=r[R>>P*8+4&15]+r[R>>P*8&15];return U}function w(R){var U;for(U=0;U<R.length;U+=1)R[U]=m(R[U]);return R.join("")}w(c("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=function(R,U){var P=(R&65535)+(U&65535),F=(R>>16)+(U>>16)+(P>>16);return F<<16|P&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function R(U,P){return U=U|0||0,U<0?Math.max(U+P,0):Math.min(U,P)}ArrayBuffer.prototype.slice=function(U,P){var F=this.byteLength,V=R(U,F),H=F,re,J,ie,S;return P!==t&&(H=R(P,F)),V>H?new ArrayBuffer(0):(re=H-V,J=new ArrayBuffer(re),ie=new Uint8Array(J),S=new Uint8Array(this,V,re),ie.set(S),J)}}();function b(R){return/[\u0080-\uFFFF]/.test(R)&&(R=unescape(encodeURIComponent(R))),R}function E(R,U){var P=R.length,F=new ArrayBuffer(P),V=new Uint8Array(F),H;for(H=0;H<P;H+=1)V[H]=R.charCodeAt(H);return U?V:F}function I(R){return String.fromCharCode.apply(null,new Uint8Array(R))}function M(R,U,P){var F=new Uint8Array(R.byteLength+U.byteLength);return F.set(new Uint8Array(R)),F.set(new Uint8Array(U),R.byteLength),P?F:F.buffer}function k(R){var U=[],P=R.length,F;for(F=0;F<P-1;F+=2)U.push(parseInt(R.substr(F,2),16));return String.fromCharCode.apply(String,U)}function B(){this.reset()}return B.prototype.append=function(R){return this.appendBinary(b(R)),this},B.prototype.appendBinary=function(R){this._buff+=R,this._length+=R.length;var U=this._buff.length,P;for(P=64;P<=U;P+=64)i(this._hash,o(this._buff.substring(P-64,P)));return this._buff=this._buff.substring(P-64),this},B.prototype.end=function(R){var U=this._buff,P=U.length,F,V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],H;for(F=0;F<P;F+=1)V[F>>2]|=U.charCodeAt(F)<<(F%4<<3);return this._finish(V,P),H=w(this._hash),R&&(H=k(H)),this.reset(),H},B.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},B.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},B.prototype.setState=function(R){return this._buff=R.buff,this._length=R.length,this._hash=R.hash,this},B.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},B.prototype._finish=function(R,U){var P=U,F,V,H;if(R[P>>2]|=128<<(P%4<<3),P>55)for(i(this._hash,R),P=0;P<16;P+=1)R[P]=0;F=this._length*8,F=F.toString(16).match(/(.*?)(.{0,8})$/),V=parseInt(F[2],16),H=parseInt(F[1],16)||0,R[14]=V,R[15]=H,i(this._hash,R)},B.hash=function(R,U){return B.hashBinary(b(R),U)},B.hashBinary=function(R,U){var P=c(R),F=w(P);return U?k(F):F},B.ArrayBuffer=function(){this.reset()},B.ArrayBuffer.prototype.append=function(R){var U=M(this._buff.buffer,R,!0),P=U.length,F;for(this._length+=R.byteLength,F=64;F<=P;F+=64)i(this._hash,s(U.subarray(F-64,F)));return this._buff=F-64<P?new Uint8Array(U.buffer.slice(F-64)):new Uint8Array(0),this},B.ArrayBuffer.prototype.end=function(R){var U=this._buff,P=U.length,F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],V,H;for(V=0;V<P;V+=1)F[V>>2]|=U[V]<<(V%4<<3);return this._finish(F,P),H=w(this._hash),R&&(H=k(H)),this.reset(),H},B.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},B.ArrayBuffer.prototype.getState=function(){var R=B.prototype.getState.call(this);return R.buff=I(R.buff),R},B.ArrayBuffer.prototype.setState=function(R){return R.buff=E(R.buff,!0),B.prototype.setState.call(this,R)},B.ArrayBuffer.prototype.destroy=B.prototype.destroy,B.ArrayBuffer.prototype._finish=B.prototype._finish,B.ArrayBuffer.hash=function(R,U){var P=l(new Uint8Array(R)),F=w(P);return U?k(F):F},B})});var Q0=K(Gy=>{"use strict";d();h();Object.defineProperty(Gy,"__esModule",{value:!0});Gy.getMD5Hash=YY;Gy.encodeBase64=ql;Gy.attributeEncodeBase64=o3e;Gy.decodeBase64=xyt;Gy.obfuscatePrecomputedBanditMap=wyt;Gy.obfuscatePrecomputedFlags=Ayt;var i3e=$Y(),vyt=r3e();function YY(t,e=""){return new vyt().append(e).append(t).end()}function ql(t){return i3e.encode(t)}function o3e(t){return ql(typeof t!="string"?String(t):t)}function xyt(t){return i3e.decode(t)}function wyt(t,e){return Object.fromEntries(Object.entries(e).map(([r,n])=>[YY(r,t),Syt(n)]))}function Syt(t){return{banditKey:ql(t.banditKey),action:ql(t.action),actionProbability:t.actionProbability,optimalityGap:t.optimalityGap,modelVersion:ql(t.modelVersion),actionNumericAttributes:n3e(t.actionNumericAttributes),actionCategoricalAttributes:n3e(t.actionCategoricalAttributes)}}function n3e(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[ql(e),o3e(r)]))}function Ayt(t,e){let r={};return Object.keys(e).forEach(n=>{let i=e[n],o=Object.fromEntries(Object.entries(i.extraLogging??{}).map(c=>c.map(ql))),s=YY(n,t);r[s]={flagKey:s,variationType:i.variationType,extraLogging:o,doLog:i.doLog,allocationKey:ql(i.allocationKey??""),variationKey:ql(i.variationKey??""),variationValue:ql(i.variationValue)}}),r}});var D4=K(yS=>{"use strict";d();h();Object.defineProperty(yS,"__esModule",{value:!0});yS.AbstractAssignmentCache=void 0;yS.assignmentCacheKeyToString=ZY;yS.assignmentCacheValueToString=QY;var s3e=Q0();function ZY({subjectKey:t,flagKey:e}){return(0,s3e.getMD5Hash)([t,e].join(";"))}function QY(t){return(0,s3e.getMD5Hash)(Object.values(t).join(";"))}var JY=class{constructor(e){this.delegate=e}has(e){return this.get(e)===QY(e)}get(e){return this.delegate.get(ZY(e))}set(e){this.delegate.set(ZY(e),QY(e))}entries(){return this.delegate.entries()}};yS.AbstractAssignmentCache=JY});var eZ=K(HB=>{"use strict";d();h();Object.defineProperty(HB,"__esModule",{value:!0});HB.LRUCache=void 0;var XY=class{constructor(e){this.capacity=e,this.cache=new Map,this.size=this.cache.size}[Symbol.iterator](){return this.cache[Symbol.iterator]()}forEach(e,r){this.cache.forEach(e,r)}entries(){return this.cache.entries()}clear(){this.cache.clear()}delete(e){return this.cache.delete(e)}keys(){return this.cache.keys()}values(){return this.cache.values()}has(e){return this.cache.has(e)}get(e){if(!this.has(e))return;let r=this.cache.get(e);return r!==void 0&&(this.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.capacity===0)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){let n=this.cache.keys().next().value;n&&this.delete(n)}return this.cache.set(e,r),this}};HB.LRUCache=XY});var zB=K(jB=>{"use strict";d();h();Object.defineProperty(jB,"__esModule",{value:!0});jB.LRUInMemoryAssignmentCache=void 0;var Eyt=D4(),_yt=eZ(),tZ=class extends Eyt.AbstractAssignmentCache{constructor(e){super(new _yt.LRUCache(e))}};jB.LRUInMemoryAssignmentCache=tZ});var GB=K(WB=>{"use strict";d();h();Object.defineProperty(WB,"__esModule",{value:!0});WB.NonExpiringInMemoryAssignmentCache=void 0;var Tyt=D4(),rZ=class extends Tyt.AbstractAssignmentCache{constructor(e=new Map){super(e)}};WB.NonExpiringInMemoryAssignmentCache=rZ});var a3e=K(nZ=>{"use strict";d();h();Object.defineProperty(nZ,"__esModule",{value:!0});nZ.default="ffffffff-ffff-ffff-ffff-ffffffffffff"});var c3e=K(iZ=>{"use strict";d();h();Object.defineProperty(iZ,"__esModule",{value:!0});iZ.default="00000000-0000-0000-0000-000000000000"});var u3e=K(oZ=>{"use strict";d();h();Object.defineProperty(oZ,"__esModule",{value:!0});oZ.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});var U4=K(sZ=>{"use strict";d();h();Object.defineProperty(sZ,"__esModule",{value:!0});var Iyt=u3e();function Myt(t){return typeof t=="string"&&Iyt.default.test(t)}sZ.default=Myt});var L4=K(aZ=>{"use strict";d();h();Object.defineProperty(aZ,"__esModule",{value:!0});var kyt=U4();function Pyt(t){if(!(0,kyt.default)(t))throw TypeError("Invalid UUID");let e;return Uint8Array.of((e=parseInt(t.slice(0,8),16))>>>24,e>>>16&255,e>>>8&255,e&255,(e=parseInt(t.slice(9,13),16))>>>8,e&255,(e=parseInt(t.slice(14,18),16))>>>8,e&255,(e=parseInt(t.slice(19,23),16))>>>8,e&255,(e=parseInt(t.slice(24,36),16))/1099511627776&255,e/4294967296&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255)}aZ.default=Pyt});var J0=K(F4=>{"use strict";d();h();Object.defineProperty(F4,"__esModule",{value:!0});F4.unsafeStringify=void 0;var Ryt=U4(),Ks=[];for(let t=0;t<256;++t)Ks.push((t+256).toString(16).slice(1));function f3e(t,e=0){return(Ks[t[e+0]]+Ks[t[e+1]]+Ks[t[e+2]]+Ks[t[e+3]]+"-"+Ks[t[e+4]]+Ks[t[e+5]]+"-"+Ks[t[e+6]]+Ks[t[e+7]]+"-"+Ks[t[e+8]]+Ks[t[e+9]]+"-"+Ks[t[e+10]]+Ks[t[e+11]]+Ks[t[e+12]]+Ks[t[e+13]]+Ks[t[e+14]]+Ks[t[e+15]]).toLowerCase()}F4.unsafeStringify=f3e;function Byt(t,e=0){let r=f3e(t,e);if(!(0,Ryt.default)(r))throw TypeError("Stringified UUID is invalid");return r}F4.default=Byt});var $B=K(uZ=>{"use strict";d();h();Object.defineProperty(uZ,"__esModule",{value:!0});var cZ,Cyt=new Uint8Array(16);function Oyt(){if(!cZ){if(typeof self.crypto>"u"||!self.crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cZ=self.crypto.getRandomValues.bind(self.crypto)}return cZ(Cyt)}uZ.default=Oyt});var fZ=K(K4=>{"use strict";d();h();Object.defineProperty(K4,"__esModule",{value:!0});K4.updateV1State=void 0;var l3e=$B(),Nyt=J0(),q4={};function Dyt(t,e,r){let n,i=t?._v6??!1;if(t){let o=Object.keys(t);o.length===1&&o[0]==="_v6"&&(t=void 0)}if(t)n=d3e(t.random??t.rng?.()??(0,l3e.default)(),t.msecs,t.nsecs,t.clockseq,t.node,e,r);else{let o=Date.now(),s=(0,l3e.default)();h3e(q4,o,s),n=d3e(s,q4.msecs,q4.nsecs,i?void 0:q4.clockseq,i?void 0:q4.node,e,r)}return e?n:(0,Nyt.unsafeStringify)(n)}function h3e(t,e,r){return t.msecs??=-1/0,t.nsecs??=0,e===t.msecs?(t.nsecs++,t.nsecs>=1e4&&(t.node=void 0,t.nsecs=0)):e>t.msecs?t.nsecs=0:e<t.msecs&&(t.node=void 0),t.node||(t.node=r.slice(10,16),t.node[0]|=1,t.clockseq=(r[8]<<8|r[9])&16383),t.msecs=e,t}K4.updateV1State=h3e;function d3e(t,e,r,n,i,o,s=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!o)o=new Uint8Array(16),s=0;else if(s<0||s+16>o.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);e??=Date.now(),r??=0,n??=(t[8]<<8|t[9])&16383,i??=t.slice(10,16),e+=122192928e5;let c=((e&268435455)*1e4+r)%4294967296;o[s++]=c>>>24&255,o[s++]=c>>>16&255,o[s++]=c>>>8&255,o[s++]=c&255;let l=e/4294967296*1e4&268435455;o[s++]=l>>>8&255,o[s++]=l&255,o[s++]=l>>>24&15|16,o[s++]=l>>>16&255,o[s++]=n>>>8|128,o[s++]=n&255;for(let m=0;m<6;++m)o[s++]=i[m];return o}K4.default=Dyt});var dZ=K(lZ=>{"use strict";d();h();Object.defineProperty(lZ,"__esModule",{value:!0});var Uyt=L4(),Lyt=J0();function Fyt(t){let e=typeof t=="string"?(0,Uyt.default)(t):t,r=qyt(e);return typeof t=="string"?(0,Lyt.unsafeStringify)(r):r}lZ.default=Fyt;function qyt(t){return Uint8Array.of((t[6]&15)<<4|t[7]>>4&15,(t[7]&15)<<4|(t[4]&240)>>4,(t[4]&15)<<4|(t[5]&240)>>4,(t[5]&15)<<4|(t[0]&240)>>4,(t[0]&15)<<4|(t[1]&240)>>4,(t[1]&15)<<4|(t[2]&240)>>4,96|t[2]&15,t[3],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}});var m3e=K(hZ=>{"use strict";d();h();Object.defineProperty(hZ,"__esModule",{value:!0});function Kyt(t){let e=jyt(t),r=Hyt(e,t.length*8);return Vyt(r)}function Vyt(t){let e=new Uint8Array(t.length*4);for(let r=0;r<t.length*4;r++)e[r]=t[r>>2]>>>r%4*8&255;return e}function p3e(t){return(t+64>>>9<<4)+14+1}function Hyt(t,e){let r=new Uint32Array(p3e(e)).fill(0);r.set(t),r[e>>5]|=128<<e%32,r[r.length-1]=e,t=r;let n=1732584193,i=-271733879,o=-1732584194,s=271733878;for(let c=0;c<t.length;c+=16){let l=n,m=i,w=o,b=s;n=Sa(n,i,o,s,t[c],7,-680876936),s=Sa(s,n,i,o,t[c+1],12,-389564586),o=Sa(o,s,n,i,t[c+2],17,606105819),i=Sa(i,o,s,n,t[c+3],22,-1044525330),n=Sa(n,i,o,s,t[c+4],7,-176418897),s=Sa(s,n,i,o,t[c+5],12,1200080426),o=Sa(o,s,n,i,t[c+6],17,-1473231341),i=Sa(i,o,s,n,t[c+7],22,-45705983),n=Sa(n,i,o,s,t[c+8],7,1770035416),s=Sa(s,n,i,o,t[c+9],12,-1958414417),o=Sa(o,s,n,i,t[c+10],17,-42063),i=Sa(i,o,s,n,t[c+11],22,-1990404162),n=Sa(n,i,o,s,t[c+12],7,1804603682),s=Sa(s,n,i,o,t[c+13],12,-40341101),o=Sa(o,s,n,i,t[c+14],17,-1502002290),i=Sa(i,o,s,n,t[c+15],22,1236535329),n=Aa(n,i,o,s,t[c+1],5,-165796510),s=Aa(s,n,i,o,t[c+6],9,-1069501632),o=Aa(o,s,n,i,t[c+11],14,643717713),i=Aa(i,o,s,n,t[c],20,-373897302),n=Aa(n,i,o,s,t[c+5],5,-701558691),s=Aa(s,n,i,o,t[c+10],9,38016083),o=Aa(o,s,n,i,t[c+15],14,-660478335),i=Aa(i,o,s,n,t[c+4],20,-405537848),n=Aa(n,i,o,s,t[c+9],5,568446438),s=Aa(s,n,i,o,t[c+14],9,-1019803690),o=Aa(o,s,n,i,t[c+3],14,-187363961),i=Aa(i,o,s,n,t[c+8],20,1163531501),n=Aa(n,i,o,s,t[c+13],5,-1444681467),s=Aa(s,n,i,o,t[c+2],9,-51403784),o=Aa(o,s,n,i,t[c+7],14,1735328473),i=Aa(i,o,s,n,t[c+12],20,-1926607734),n=Ea(n,i,o,s,t[c+5],4,-378558),s=Ea(s,n,i,o,t[c+8],11,-2022574463),o=Ea(o,s,n,i,t[c+11],16,1839030562),i=Ea(i,o,s,n,t[c+14],23,-35309556),n=Ea(n,i,o,s,t[c+1],4,-1530992060),s=Ea(s,n,i,o,t[c+4],11,1272893353),o=Ea(o,s,n,i,t[c+7],16,-155497632),i=Ea(i,o,s,n,t[c+10],23,-1094730640),n=Ea(n,i,o,s,t[c+13],4,681279174),s=Ea(s,n,i,o,t[c],11,-358537222),o=Ea(o,s,n,i,t[c+3],16,-722521979),i=Ea(i,o,s,n,t[c+6],23,76029189),n=Ea(n,i,o,s,t[c+9],4,-640364487),s=Ea(s,n,i,o,t[c+12],11,-421815835),o=Ea(o,s,n,i,t[c+15],16,530742520),i=Ea(i,o,s,n,t[c+2],23,-995338651),n=_a(n,i,o,s,t[c],6,-198630844),s=_a(s,n,i,o,t[c+7],10,1126891415),o=_a(o,s,n,i,t[c+14],15,-1416354905),i=_a(i,o,s,n,t[c+5],21,-57434055),n=_a(n,i,o,s,t[c+12],6,1700485571),s=_a(s,n,i,o,t[c+3],10,-1894986606),o=_a(o,s,n,i,t[c+10],15,-1051523),i=_a(i,o,s,n,t[c+1],21,-2054922799),n=_a(n,i,o,s,t[c+8],6,1873313359),s=_a(s,n,i,o,t[c+15],10,-30611744),o=_a(o,s,n,i,t[c+6],15,-1560198380),i=_a(i,o,s,n,t[c+13],21,1309151649),n=_a(n,i,o,s,t[c+4],6,-145523070),s=_a(s,n,i,o,t[c+11],10,-1120210379),o=_a(o,s,n,i,t[c+2],15,718787259),i=_a(i,o,s,n,t[c+9],21,-343485551),n=$y(n,l),i=$y(i,m),o=$y(o,w),s=$y(s,b)}return Uint32Array.of(n,i,o,s)}function jyt(t){if(t.length===0)return new Uint32Array;let e=new Uint32Array(p3e(t.length*8)).fill(0);for(let r=0;r<t.length;r++)e[r>>2]|=(t[r]&255)<<r%4*8;return e}function $y(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function zyt(t,e){return t<<e|t>>>32-e}function YB(t,e,r,n,i,o){return $y(zyt($y($y(e,t),$y(n,o)),i),r)}function Sa(t,e,r,n,i,o,s){return YB(e&r|~e&n,t,e,i,o,s)}function Aa(t,e,r,n,i,o,s){return YB(e&n|r&~n,t,e,i,o,s)}function Ea(t,e,r,n,i,o,s){return YB(e^r^n,t,e,i,o,s)}function _a(t,e,r,n,i,o,s){return YB(r^(e|~n),t,e,i,o,s)}hZ.default=Kyt});var V4=K(X0=>{"use strict";d();h();Object.defineProperty(X0,"__esModule",{value:!0});X0.URL=X0.DNS=X0.stringToBytes=void 0;var y3e=L4(),Wyt=J0();function g3e(t){t=unescape(encodeURIComponent(t));let e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r);return e}X0.stringToBytes=g3e;X0.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";X0.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Gyt(t,e,r,n,i,o){let s=typeof r=="string"?g3e(r):r,c=typeof n=="string"?(0,y3e.default)(n):n;if(typeof n=="string"&&(n=(0,y3e.default)(n)),n?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(c),l.set(s,c.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){o=o||0;for(let m=0;m<16;++m)i[o+m]=l[m];return i}return(0,Wyt.unsafeStringify)(l)}X0.default=Gyt});var v3e=K(Q1=>{"use strict";d();h();Object.defineProperty(Q1,"__esModule",{value:!0});Q1.URL=Q1.DNS=void 0;var $yt=m3e(),pZ=V4(),b3e=V4();Object.defineProperty(Q1,"DNS",{enumerable:!0,get:function(){return b3e.DNS}});Object.defineProperty(Q1,"URL",{enumerable:!0,get:function(){return b3e.URL}});function mZ(t,e,r,n){return(0,pZ.default)(48,$yt.default,t,e,r,n)}mZ.DNS=pZ.DNS;mZ.URL=pZ.URL;Q1.default=mZ});var x3e=K(yZ=>{"use strict";d();h();Object.defineProperty(yZ,"__esModule",{value:!0});var Yyt=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto);yZ.default={randomUUID:Yyt}});var S3e=K(gZ=>{"use strict";d();h();Object.defineProperty(gZ,"__esModule",{value:!0});var w3e=x3e(),Zyt=$B(),Qyt=J0();function Jyt(t,e,r){if(w3e.default.randomUUID&&!e&&!t)return w3e.default.randomUUID();t=t||{};let n=t.random??t.rng?.()??(0,Zyt.default)();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,Qyt.unsafeStringify)(n)}gZ.default=Jyt});var A3e=K(vZ=>{"use strict";d();h();Object.defineProperty(vZ,"__esModule",{value:!0});function Xyt(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function bZ(t,e){return t<<e|t>>>32-e}function egt(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520],n=new Uint8Array(t.length+1);n.set(t),n[t.length]=128,t=n;let i=t.length/4+2,o=Math.ceil(i/16),s=new Array(o);for(let c=0;c<o;++c){let l=new Uint32Array(16);for(let m=0;m<16;++m)l[m]=t[c*64+m*4]<<24|t[c*64+m*4+1]<<16|t[c*64+m*4+2]<<8|t[c*64+m*4+3];s[c]=l}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(let c=0;c<o;++c){let l=new Uint32Array(80);for(let M=0;M<16;++M)l[M]=s[c][M];for(let M=16;M<80;++M)l[M]=bZ(l[M-3]^l[M-8]^l[M-14]^l[M-16],1);let m=r[0],w=r[1],b=r[2],E=r[3],I=r[4];for(let M=0;M<80;++M){let k=Math.floor(M/20),B=bZ(m,5)+Xyt(k,w,b,E)+I+e[k]+l[M]>>>0;I=E,E=b,b=bZ(w,30)>>>0,w=m,m=B}r[0]=r[0]+m>>>0,r[1]=r[1]+w>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+E>>>0,r[4]=r[4]+I>>>0}return Uint8Array.of(r[0]>>24,r[0]>>16,r[0]>>8,r[0],r[1]>>24,r[1]>>16,r[1]>>8,r[1],r[2]>>24,r[2]>>16,r[2]>>8,r[2],r[3]>>24,r[3]>>16,r[3]>>8,r[3],r[4]>>24,r[4]>>16,r[4]>>8,r[4])}vZ.default=egt});var _3e=K(J1=>{"use strict";d();h();Object.defineProperty(J1,"__esModule",{value:!0});J1.URL=J1.DNS=void 0;var tgt=A3e(),xZ=V4(),E3e=V4();Object.defineProperty(J1,"DNS",{enumerable:!0,get:function(){return E3e.DNS}});Object.defineProperty(J1,"URL",{enumerable:!0,get:function(){return E3e.URL}});function wZ(t,e,r,n){return(0,xZ.default)(80,tgt.default,t,e,r,n)}wZ.DNS=xZ.DNS;wZ.URL=xZ.URL;J1.default=wZ});var T3e=K(SZ=>{"use strict";d();h();Object.defineProperty(SZ,"__esModule",{value:!0});var rgt=J0(),ngt=fZ(),igt=dZ();function ogt(t,e,r){t??={},r??=0;let n=(0,ngt.default)({...t,_v6:!0},new Uint8Array(16));if(n=(0,igt.default)(n),e){for(let i=0;i<16;i++)e[r+i]=n[i];return e}return(0,rgt.unsafeStringify)(n)}SZ.default=ogt});var I3e=K(AZ=>{"use strict";d();h();Object.defineProperty(AZ,"__esModule",{value:!0});var sgt=L4(),agt=J0();function cgt(t){let e=typeof t=="string"?(0,sgt.default)(t):t,r=ugt(e);return typeof t=="string"?(0,agt.unsafeStringify)(r):r}AZ.default=cgt;function ugt(t){return Uint8Array.of((t[3]&15)<<4|t[4]>>4&15,(t[4]&15)<<4|(t[5]&240)>>4,(t[5]&15)<<4|t[6]&15,t[7],(t[1]&15)<<4|(t[2]&240)>>4,(t[2]&15)<<4|(t[3]&240)>>4,16|(t[0]&240)>>4,(t[0]&15)<<4|(t[1]&240)>>4,t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}});var R3e=K(H4=>{"use strict";d();h();Object.defineProperty(H4,"__esModule",{value:!0});H4.updateV7State=void 0;var M3e=$B(),fgt=J0(),EZ={};function lgt(t,e,r){let n;if(t)n=k3e(t.random??t.rng?.()??(0,M3e.default)(),t.msecs,t.seq,e,r);else{let i=Date.now(),o=(0,M3e.default)();P3e(EZ,i,o),n=k3e(o,EZ.msecs,EZ.seq,e,r)}return e?n:(0,fgt.unsafeStringify)(n)}function P3e(t,e,r){return t.msecs??=-1/0,t.seq??=0,e>t.msecs?(t.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],t.msecs=e):(t.seq=t.seq+1|0,t.seq===0&&t.msecs++),t}H4.updateV7State=P3e;function k3e(t,e,r,n,i=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return e??=Date.now(),r??=t[6]*127<<24|t[7]<<16|t[8]<<8|t[9],n[i++]=e/1099511627776&255,n[i++]=e/4294967296&255,n[i++]=e/16777216&255,n[i++]=e/65536&255,n[i++]=e/256&255,n[i++]=e&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|t[10]&3,n[i++]=t[11],n[i++]=t[12],n[i++]=t[13],n[i++]=t[14],n[i++]=t[15],n}H4.default=lgt});var B3e=K(_Z=>{"use strict";d();h();Object.defineProperty(_Z,"__esModule",{value:!0});var dgt=U4();function hgt(t){if(!(0,dgt.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}_Z.default=hgt});var C3e=K(Dn=>{"use strict";d();h();Object.defineProperty(Dn,"__esModule",{value:!0});Dn.version=Dn.validate=Dn.v7=Dn.v6ToV1=Dn.v6=Dn.v5=Dn.v4=Dn.v3=Dn.v1ToV6=Dn.v1=Dn.stringify=Dn.parse=Dn.NIL=Dn.MAX=void 0;var pgt=a3e();Object.defineProperty(Dn,"MAX",{enumerable:!0,get:function(){return pgt.default}});var mgt=c3e();Object.defineProperty(Dn,"NIL",{enumerable:!0,get:function(){return mgt.default}});var ygt=L4();Object.defineProperty(Dn,"parse",{enumerable:!0,get:function(){return ygt.default}});var ggt=J0();Object.defineProperty(Dn,"stringify",{enumerable:!0,get:function(){return ggt.default}});var bgt=fZ();Object.defineProperty(Dn,"v1",{enumerable:!0,get:function(){return bgt.default}});var vgt=dZ();Object.defineProperty(Dn,"v1ToV6",{enumerable:!0,get:function(){return vgt.default}});var xgt=v3e();Object.defineProperty(Dn,"v3",{enumerable:!0,get:function(){return xgt.default}});var wgt=S3e();Object.defineProperty(Dn,"v4",{enumerable:!0,get:function(){return wgt.default}});var Sgt=_3e();Object.defineProperty(Dn,"v5",{enumerable:!0,get:function(){return Sgt.default}});var Agt=T3e();Object.defineProperty(Dn,"v6",{enumerable:!0,get:function(){return Agt.default}});var Egt=I3e();Object.defineProperty(Dn,"v6ToV1",{enumerable:!0,get:function(){return Egt.default}});var _gt=R3e();Object.defineProperty(Dn,"v7",{enumerable:!0,get:function(){return _gt.default}});var Tgt=U4();Object.defineProperty(Dn,"validate",{enumerable:!0,get:function(){return Tgt.default}});var Igt=B3e();Object.defineProperty(Dn,"version",{enumerable:!0,get:function(){return Igt.default}})});var IZ=K(X1=>{"use strict";d();h();Object.defineProperty(X1,"__esModule",{value:!0});X1.isInstanceOfContextualAttributes=ZB;X1.ensureNonContextualSubjectAttributes=Mgt;X1.ensureContextualSubjectAttributes=kgt;X1.deduceAttributeContext=TZ;X1.ensureActionsWithContextualAttributes=Pgt;function ZB(t){return!!(typeof t=="object"&&t&&"numericAttributes"in t&&"categoricalAttributes"in t)}function Mgt(t){let e;if(ZB(t)){let r=t;e={...r.numericAttributes,...r.categoricalAttributes}}else e=t;return e}function kgt(t){return ZB(t)?t:TZ(t)}function TZ(t){let e={numericAttributes:{},categoricalAttributes:{}};return Object.entries(t).forEach(([r,n])=>{typeof n=="number"?e.numericAttributes[r]=n:e.categoricalAttributes[r]=n}),e}function Pgt(t){let e={};return Array.isArray(t)?t.forEach(r=>{e[r]={numericAttributes:{},categoricalAttributes:{}}}):Object.values(t).every(ZB)?e=t:Object.entries(t).forEach(([r,n])=>{e[r]=TZ(n)}),e}});var PZ=K(Yy=>{"use strict";d();h();Object.defineProperty(Yy,"__esModule",{value:!0});Yy.DeterministicSharder=Yy.MD5Sharder=Yy.Sharder=void 0;var Rgt=Q0(),j4=class{};Yy.Sharder=j4;var MZ=class extends j4{getShard(e,r){let n=(0,Rgt.getMD5Hash)(e);return parseInt(n.slice(0,8),16)%r}};Yy.MD5Sharder=MZ;var kZ=class extends j4{constructor(e){super(),this.lookup=e}getShard(e,r){return this.lookup[e]??0}};Yy.DeterministicSharder=kZ});var O3e=K(QB=>{"use strict";d();h();Object.defineProperty(QB,"__esModule",{value:!0});QB.BanditEvaluator=void 0;var Bgt=Y0(),Cgt=PZ(),RZ=class{constructor(){this.assignmentShards=Bgt.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new Cgt.MD5Sharder}evaluateBestBanditAction(e,r,n){let i=this.scoreActions(e,r,n),{topAction:o}=this.getTopScore(i);return o}evaluateBandit(e,r,n,i,o){let s=this.scoreActions(n,i,o),c=this.weighActions(s,o.gamma,o.actionProbabilityFloor),l=this.selectAction(e,r,c),w=Object.values(s).reduce((b,E)=>E>b?E:b,-1/0)-s[l];return{flagKey:e,subjectKey:r,subjectAttributes:n,actionKey:l,actionAttributes:i[l],actionScore:s[l],actionWeight:c[l],gamma:o.gamma,optimalityGap:w}}scoreActions(e,r,n){let i={};return Object.entries(r).forEach(([o,s])=>{let c=n.defaultActionScore,l=n.coefficients[o];l&&(c=l.intercept,c+=this.scoreNumericAttributes(l.subjectNumericCoefficients,e.numericAttributes),c+=this.scoreCategoricalAttributes(l.subjectCategoricalCoefficients,e.categoricalAttributes),c+=this.scoreNumericAttributes(l.actionNumericCoefficients,s.numericAttributes),c+=this.scoreCategoricalAttributes(l.actionCategoricalCoefficients,s.categoricalAttributes)),i[o]=c}),i}scoreNumericAttributes(e,r){return e.reduce((n,i)=>{let o=r[i.attributeKey];return typeof o=="number"&&isFinite(o)?n+=o*i.coefficient:n+=i.missingValueCoefficient,n},0)}scoreCategoricalAttributes(e,r){return e.reduce((n,i)=>{let o=r[i.attributeKey]?.toString(),s=o&&i.valueCoefficients[o];return n+=typeof s=="number"?s:i.missingValueCoefficient,n},0)}weighActions(e,r,n){let i={},o=Object.entries(e);if(!o.length)return i;let{topScore:s,topAction:c}=this.getTopScore(e);if(s===null||c===null)throw new Error("Unable to find top score");let l=s,m=c,w=o.length,b=n/w,E=0;return o.forEach(([I,M])=>{if(I===m)return;let k=1/(w+r*(l-M)),B=Math.max(k,b);E+=B,i[I]=B}),i[m]=Math.max(1-E,0),i}selectAction(e,r,n){let i=Object.entries(n).sort((m,w)=>{let b=this.sharder.getShard(`${e}-${r}-${m[0]}`,this.assignmentShards),E=this.sharder.getShard(`${e}-${r}-${w[0]}`,this.assignmentShards),I=b-E;return I===0&&(I=m[0]<w[0]?-1:1),I}),s=this.sharder.getShard(`${e}-${r}`,this.assignmentShards)/this.assignmentShards,c=0,l=null;for(let m of i)if(c+=m[1],c>s){l=m[0];break}if(l===null)throw new Error(`No bandit action selected for flag "${e}" and subject "${r}"`);return l}getTopScore(e){let r=Object.entries(e),n=null,i=null;return r.forEach(([o,s])=>{(n===null||i===null||s>n||s===n&&o<i)&&(n=s,i=o)}),{topScore:n,topAction:i}}};QB.BanditEvaluator=RZ});var N3e=K(JB=>{"use strict";d();h();Object.defineProperty(JB,"__esModule",{value:!0});JB.TLRUCache=void 0;var Ogt=eZ(),BZ=class extends Ogt.LRUCache{constructor(e,r){super(e),this.maxSize=e,this.ttl=r,this.cacheEntriesTTLRegistry=new Map}getCacheEntryEvictionTime(){return new Date(Date.now()+this.ttl)}clearCacheEntryEvictionTimeIfExists(e){this.cacheEntriesTTLRegistry.has(e)&&this.cacheEntriesTTLRegistry.delete(e)}isCacheEntryValid(e){let r=new Date(Date.now()),n=this.cacheEntriesTTLRegistry.get(e);return n!==void 0?r<n:!1}setCacheEntryEvictionTime(e){this.cacheEntriesTTLRegistry.set(e,this.getCacheEntryEvictionTime())}resetCacheEntryEvictionTime(e){this.clearCacheEntryEvictionTimeIfExists(e),this.setCacheEntryEvictionTime(e)}evictExpiredCacheEntries(){let e;for(e of this.cache.keys())if(!this.isCacheEntryValid(e))this.delete(e);else break}entries(){return this.evictExpiredCacheEntries(),super.entries()}keys(){return this.evictExpiredCacheEntries(),super.keys()}values(){return this.evictExpiredCacheEntries(),super.values()}delete(e){return this.clearCacheEntryEvictionTimeIfExists(e),super.delete(e)}has(e){return this.isCacheEntryValid(e)?this.cache.has(e):(this.delete(e),!1)}get(e){if(!this.isCacheEntryValid(e)){this.delete(e);return}let r=super.get(e);return r!==void 0&&this.resetCacheEntryEvictionTime(e),r}set(e,r){let n=super.set(e,r);return this.resetCacheEntryEvictionTime(e),n}};JB.TLRUCache=BZ});var D3e=K(XB=>{"use strict";d();h();Object.defineProperty(XB,"__esModule",{value:!0});XB.TLRUInMemoryAssignmentCache=void 0;var Ngt=Y0(),Dgt=D4(),Ugt=N3e(),CZ=class extends Dgt.AbstractAssignmentCache{constructor(e,r=Ngt.DEFAULT_TLRU_TTL_MS){super(new Ugt.TLRUCache(e,r))}};XB.TLRUInMemoryAssignmentCache=CZ});var ep=K(Zy=>{"use strict";d();h();Object.defineProperty(Zy,"__esModule",{value:!0});Zy.FormatEnum=Zy.UNKNOWN_ENVIRONMENT_NAME=Zy.VariationType=void 0;var U3e;(function(t){t.STRING="STRING",t.INTEGER="INTEGER",t.NUMERIC="NUMERIC",t.BOOLEAN="BOOLEAN",t.JSON="JSON"})(U3e||(Zy.VariationType=U3e={}));Zy.UNKNOWN_ENVIRONMENT_NAME="UNKNOWN";var L3e;(function(t){t.SERVER="SERVER",t.CLIENT="CLIENT",t.PRECOMPUTED="PRECOMPUTED"})(L3e||(Zy.FormatEnum=L3e={}))});var q3e=K(fh=>{"use strict";d();h();Object.defineProperty(fh,"__esModule",{value:!0});fh.ConfigurationWireV1=fh.ObfuscatedPrecomputedConfigurationResponse=fh.PrecomputedConfigurationResponse=fh.PrecomputedConfiguration=void 0;var Lgt=ep(),F3e=Q0(),eC=class{constructor(e,r,n){this.subjectKey=e,this.subjectAttributes=r,this.environment=n,this.format=Lgt.FormatEnum.PRECOMPUTED,this.createdAt=new Date().toISOString()}},OZ=class t{constructor(e,r,n){this.response=e,this.subjectKey=r,this.subjectAttributes=n}static obfuscated(e,r,n,i,o,s){let c=new rC(e,r,n,i,o,s);return new t(JSON.stringify(c),e,o)}static unobfuscated(e,r,n,i,o){let s=new tC(e,r,n,i,o);return new t(JSON.stringify(s),e,i)}};fh.PrecomputedConfiguration=OZ;var tC=class extends eC{constructor(e,r,n,i,o){super(e,i,o),this.flags=r,this.bandits=n,this.obfuscated=!1}};fh.PrecomputedConfigurationResponse=tC;var rC=class extends eC{constructor(e,r,n,i,o,s){super(e,o,s),this.obfuscated=!0,this.salt=i,this.bandits=(0,F3e.obfuscatePrecomputedBanditMap)(this.salt,n),this.flags=(0,F3e.obfuscatePrecomputedFlags)(this.salt,r)}};fh.ObfuscatedPrecomputedConfigurationResponse=rC;var NZ=class{constructor(e){this.precomputed=e,this.version=1}};fh.ConfigurationWireV1=NZ});var UZ=K(DZ=>{"use strict";d();h();Object.defineProperty(DZ,"__esModule",{value:!0});DZ.hydrateConfigurationStore=Fgt;async function Fgt(t,e){t&&await t.setEntries(e.entries)&&(t.setEnvironment(e.environment),t.setConfigFetchedAt(new Date().toISOString()),t.setConfigPublishedAt(e.createdAt),t.setFormat(e.format),t.salt=e.salt)}});var KZ=K(qZ=>{"use strict";d();h();Object.defineProperty(qZ,"__esModule",{value:!0});var LZ=UZ(),FZ=class{constructor(e,r,n,i){this.httpClient=e,this.flagConfigurationStore=r,this.banditVariationConfigurationStore=n,this.banditModelConfigurationStore=i,this.banditModelVersions=[]}async fetchAndStoreConfigurations(){let e=await this.httpClient.getUniversalFlagConfiguration();if(!e?.flags)return;await(0,LZ.hydrateConfigurationStore)(this.flagConfigurationStore,{entries:e.flags,environment:e.environment,createdAt:e.createdAt,format:e.format});let r=Object.keys(e.banditReferences??{}).length>0,n=!!(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore);if(r&&n){let i=this.indexBanditVariationsByFlagKey(e.banditReferences);if(await(0,LZ.hydrateConfigurationStore)(this.banditVariationConfigurationStore,{entries:i,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.requiresBanditModelConfigurationStoreUpdate(this.banditModelVersions,e.banditReferences)){let o=await this.httpClient.getBanditParameters();o?.bandits&&(await(0,LZ.hydrateConfigurationStore)(this.banditModelConfigurationStore,{entries:o.bandits,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.banditModelVersions=this.getLoadedBanditModelVersionsFromStore(this.banditModelConfigurationStore))}}}getLoadedBanditModelVersionsFromStore(e){return e===null?[]:Object.values(e.entries()).map(r=>r.modelVersion)}requiresBanditModelConfigurationStoreUpdate(e,r){return!Object.values(r).map(i=>i.modelVersion).every(i=>e.includes(i))}indexBanditVariationsByFlagKey(e){let r={};return Object.values(e).forEach(n=>{n.flagVariations.forEach(i=>{let o=r[i.flagKey];o||(o=[],r[i.flagKey]=o),o.push(i)})}),r}};qZ.default=FZ});var iC=K(Nf=>{"use strict";d();h();Object.defineProperty(Nf,"__esModule",{value:!0});Nf.decodeFlag=qgt;Nf.decodeVariations=K3e;Nf.decodeValue=HZ;Nf.decodeAllocation=V3e;Nf.decodeSplit=H3e;Nf.decodeShard=j3e;Nf.decodeObject=nC;Nf.decodeObjectTo=jZ;Nf.decodePrecomputedFlag=Kgt;Nf.decodePrecomputedBandit=Vgt;var VZ=ep(),Ta=Q0();function qgt(t){return{...t,variations:K3e(t.variations,t.variationType),allocations:t.allocations.map(V3e)}}function K3e(t,e){return Object.fromEntries(Object.entries(t).map(([,r])=>{let n=(0,Ta.decodeBase64)(r.key);return[n,{key:n,value:HZ(r.value,e)}]}))}function HZ(t,e){switch(e){case VZ.VariationType.INTEGER:case VZ.VariationType.NUMERIC:return Number((0,Ta.decodeBase64)(t));case VZ.VariationType.BOOLEAN:return(0,Ta.decodeBase64)(t)==="true";default:return(0,Ta.decodeBase64)(t)}}function V3e(t){return{...t,key:(0,Ta.decodeBase64)(t.key),splits:t.splits.map(H3e),startAt:t.startAt?new Date((0,Ta.decodeBase64)(t.startAt)).toISOString():void 0,endAt:t.endAt?new Date((0,Ta.decodeBase64)(t.endAt)).toISOString():void 0}}function H3e(t){return{extraLogging:t.extraLogging?nC(t.extraLogging):void 0,variationKey:(0,Ta.decodeBase64)(t.variationKey),shards:t.shards.map(j3e)}}function j3e(t){return{...t,salt:(0,Ta.decodeBase64)(t.salt)}}function nC(t){return jZ(t,e=>e)}function jZ(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[(0,Ta.decodeBase64)(r),e((0,Ta.decodeBase64)(n))]))}function Kgt(t){return{...t,allocationKey:(0,Ta.decodeBase64)(t.allocationKey??""),variationKey:(0,Ta.decodeBase64)(t.variationKey??""),variationValue:HZ(t.variationValue,t.variationType),extraLogging:nC(t.extraLogging??{})}}function Vgt(t){return{...t,banditKey:(0,Ta.decodeBase64)(t.banditKey),action:(0,Ta.decodeBase64)(t.action),modelVersion:(0,Ta.decodeBase64)(t.modelVersion),actionNumericAttributes:jZ(t.actionNumericAttributes??{},e=>+e),actionCategoricalAttributes:nC(t.actionCategoricalAttributes??{})}}});var z3e=K(gS=>{"use strict";d();h();Object.defineProperty(gS,"__esModule",{value:!0});gS.EppoValue=gS.EppoValueType=void 0;var z4=ep(),Hgt=Q0(),Df;(function(t){t[t.NullType=0]="NullType",t[t.BoolType=1]="BoolType",t[t.NumericType=2]="NumericType",t[t.StringType=3]="StringType",t[t.JSONType=4]="JSONType"})(Df||(gS.EppoValueType=Df={}));var zZ=class t{constructor(e,r,n,i,o){this.valueType=e,this.boolValue=r,this.numericValue=n,this.stringValue=i,this.objectValue=o}static valueOf(e,r){if(e==null)return t.Null();switch(r){case z4.VariationType.BOOLEAN:return t.Bool(e);case z4.VariationType.NUMERIC:return t.Numeric(e);case z4.VariationType.INTEGER:return t.Numeric(e);case z4.VariationType.STRING:return t.String(e);case z4.VariationType.JSON:return t.JSON(e);default:return t.String(e)}}toString(){switch(this.valueType){case Df.NullType:return"null";case Df.BoolType:return this.boolValue?"true":"false";case Df.NumericType:return this.numericValue?this.numericValue.toString():"0";case Df.StringType:return this.stringValue??"";case Df.JSONType:try{return JSON.stringify(this.objectValue)??""}catch{return this.stringValue??""}}}toHashedString(){let e=this.toString();return(0,Hgt.getMD5Hash)(e)}static Bool(e){return new t(Df.BoolType,e,void 0,void 0,void 0)}static Numeric(e){return new t(Df.NumericType,void 0,e,void 0,void 0)}static String(e){return new t(Df.StringType,void 0,void 0,e,void 0)}static JSON(e){return new t(Df.JSONType,void 0,void 0,void 0,typeof e=="string"?JSON.parse(e):e)}static Null(){return new t(Df.NullType,void 0,void 0,void 0,void 0)}};gS.EppoValue=zZ});var GZ=K(Qy=>{"use strict";d();h();Object.defineProperty(Qy,"__esModule",{value:!0});Qy.FlagEvaluationDetailsBuilder=Qy.AllocationEvaluationCode=Qy.flagEvaluationCodes=void 0;var jgt=ep();Qy.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT","BANDIT_ERROR"];var oC;(function(t){t.UNEVALUATED="UNEVALUATED",t.MATCH="MATCH",t.BEFORE_START_TIME="BEFORE_START_TIME",t.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",t.AFTER_END_TIME="AFTER_END_TIME",t.FAILING_RULE="FAILING_RULE"})(oC||(Qy.AllocationEvaluationCode=oC={}));var WZ=class{constructor(e,r,n,i){this.environmentName=e,this.allocations=r,this.configFetchedAt=n,this.configPublishedAt=i,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.addUnmatchedAllocation=o=>{this.unmatchedAllocations.push(o)},this.setNone=()=>(this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this),this.setMatch=(o,s,c,l,m)=>(this.variationKey=s.key,this.variationValue=m===jgt.VariationType.JSON&&typeof s.value=="string"?JSON.parse(s.value):s.value,this.matchedRule=l,this.matchedAllocation={key:c.key,allocationEvaluationCode:oC.MATCH,orderPosition:o+1},this),this.buildForNoneResult=(o,s)=>this.setNone().build(o,s),this.build=(o,s)=>({environmentName:this.environmentName,flagEvaluationCode:o,flagEvaluationDescription:s,variationKey:this.variationKey,variationValue:this.variationValue,banditKey:null,banditAction:null,configFetchedAt:this.configFetchedAt,configPublishedAt:this.configPublishedAt,matchedRule:this.matchedRule,matchedAllocation:this.matchedAllocation,unmatchedAllocations:this.unmatchedAllocations,unevaluatedAllocations:this.calculateUnevaluatedAllocations()}),this.gracefulBuild=(o,s)=>{try{return this.build(o,s)}catch{return null}},this.calculateUnevaluatedAllocations=()=>{let o=this.matchedAllocation?this.unmatchedAllocations.length+1:this.unmatchedAllocations.length,s=o+1;return this.allocations.slice(o).map((c,l)=>({key:c.key,allocationEvaluationCode:oC.UNEVALUATED,orderPosition:s+l}))},this.setNone()}};Qy.FlagEvaluationDetailsBuilder=WZ});var YZ=K(sC=>{"use strict";d();h();Object.defineProperty(sC,"__esModule",{value:!0});sC.FlagEvaluationError=void 0;var $Z=class extends Error{};sC.FlagEvaluationError=$Z});var W4=K((R_r,W3e)=>{d();h();var zgt="2.0.0",Wgt=Number.MAX_SAFE_INTEGER||9007199254740991,Ggt=16,$gt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];W3e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Ggt,MAX_SAFE_INTEGER:Wgt,RELEASE_TYPES:$gt,SEMVER_SPEC_VERSION:zgt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var G4=K((O_r,G3e)=>{d();h();var Ygt=typeof process=="object"&&T&&T.NODE_DEBUG&&/\bsemver\b/i.test(T.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};G3e.exports=Ygt});var bS=K((tp,$3e)=>{d();h();var{MAX_SAFE_COMPONENT_LENGTH:ZZ}=W4(),Zgt=G4();tp=$3e.exports={};var Qgt=tp.re=[],Jgt=tp.safeRe=[],Mt=tp.src=[],kt=tp.t={},Xgt=0,xr=(t,e,r)=>{let n=e.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),i=Xgt++;Zgt(t,i,e),kt[t]=i,Mt[i]=e,Qgt[i]=new RegExp(e,r?"g":void 0),Jgt[i]=new RegExp(n,r?"g":void 0)};xr("NUMERICIDENTIFIER","0|[1-9]\\d*");xr("NUMERICIDENTIFIERLOOSE","[0-9]+");xr("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");xr("MAINVERSION",`(${Mt[kt.NUMERICIDENTIFIER]})\\.(${Mt[kt.NUMERICIDENTIFIER]})\\.(${Mt[kt.NUMERICIDENTIFIER]})`);xr("MAINVERSIONLOOSE",`(${Mt[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Mt[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Mt[kt.NUMERICIDENTIFIERLOOSE]})`);xr("PRERELEASEIDENTIFIER",`(?:${Mt[kt.NUMERICIDENTIFIER]}|${Mt[kt.NONNUMERICIDENTIFIER]})`);xr("PRERELEASEIDENTIFIERLOOSE",`(?:${Mt[kt.NUMERICIDENTIFIERLOOSE]}|${Mt[kt.NONNUMERICIDENTIFIER]})`);xr("PRERELEASE",`(?:-(${Mt[kt.PRERELEASEIDENTIFIER]}(?:\\.${Mt[kt.PRERELEASEIDENTIFIER]})*))`);xr("PRERELEASELOOSE",`(?:-?(${Mt[kt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Mt[kt.PRERELEASEIDENTIFIERLOOSE]})*))`);xr("BUILDIDENTIFIER","[0-9A-Za-z-]+");xr("BUILD",`(?:\\+(${Mt[kt.BUILDIDENTIFIER]}(?:\\.${Mt[kt.BUILDIDENTIFIER]})*))`);xr("FULLPLAIN",`v?${Mt[kt.MAINVERSION]}${Mt[kt.PRERELEASE]}?${Mt[kt.BUILD]}?`);xr("FULL",`^${Mt[kt.FULLPLAIN]}$`);xr("LOOSEPLAIN",`[v=\\s]*${Mt[kt.MAINVERSIONLOOSE]}${Mt[kt.PRERELEASELOOSE]}?${Mt[kt.BUILD]}?`);xr("LOOSE",`^${Mt[kt.LOOSEPLAIN]}$`);xr("GTLT","((?:<|>)?=?)");xr("XRANGEIDENTIFIERLOOSE",`${Mt[kt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);xr("XRANGEIDENTIFIER",`${Mt[kt.NUMERICIDENTIFIER]}|x|X|\\*`);xr("XRANGEPLAIN",`[v=\\s]*(${Mt[kt.XRANGEIDENTIFIER]})(?:\\.(${Mt[kt.XRANGEIDENTIFIER]})(?:\\.(${Mt[kt.XRANGEIDENTIFIER]})(?:${Mt[kt.PRERELEASE]})?${Mt[kt.BUILD]}?)?)?`);xr("XRANGEPLAINLOOSE",`[v=\\s]*(${Mt[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Mt[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Mt[kt.XRANGEIDENTIFIERLOOSE]})(?:${Mt[kt.PRERELEASELOOSE]})?${Mt[kt.BUILD]}?)?)?`);xr("XRANGE",`^${Mt[kt.GTLT]}\\s*${Mt[kt.XRANGEPLAIN]}$`);xr("XRANGELOOSE",`^${Mt[kt.GTLT]}\\s*${Mt[kt.XRANGEPLAINLOOSE]}$`);xr("COERCE",`(^|[^\\d])(\\d{1,${ZZ}})(?:\\.(\\d{1,${ZZ}}))?(?:\\.(\\d{1,${ZZ}}))?(?:$|[^\\d])`);xr("COERCERTL",Mt[kt.COERCE],!0);xr("LONETILDE","(?:~>?)");xr("TILDETRIM",`(\\s*)${Mt[kt.LONETILDE]}\\s+`,!0);tp.tildeTrimReplace="$1~";xr("TILDE",`^${Mt[kt.LONETILDE]}${Mt[kt.XRANGEPLAIN]}$`);xr("TILDELOOSE",`^${Mt[kt.LONETILDE]}${Mt[kt.XRANGEPLAINLOOSE]}$`);xr("LONECARET","(?:\\^)");xr("CARETTRIM",`(\\s*)${Mt[kt.LONECARET]}\\s+`,!0);tp.caretTrimReplace="$1^";xr("CARET",`^${Mt[kt.LONECARET]}${Mt[kt.XRANGEPLAIN]}$`);xr("CARETLOOSE",`^${Mt[kt.LONECARET]}${Mt[kt.XRANGEPLAINLOOSE]}$`);xr("COMPARATORLOOSE",`^${Mt[kt.GTLT]}\\s*(${Mt[kt.LOOSEPLAIN]})$|^$`);xr("COMPARATOR",`^${Mt[kt.GTLT]}\\s*(${Mt[kt.FULLPLAIN]})$|^$`);xr("COMPARATORTRIM",`(\\s*)${Mt[kt.GTLT]}\\s*(${Mt[kt.LOOSEPLAIN]}|${Mt[kt.XRANGEPLAIN]})`,!0);tp.comparatorTrimReplace="$1$2$3";xr("HYPHENRANGE",`^\\s*(${Mt[kt.XRANGEPLAIN]})\\s+-\\s+(${Mt[kt.XRANGEPLAIN]})\\s*$`);xr("HYPHENRANGELOOSE",`^\\s*(${Mt[kt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Mt[kt.XRANGEPLAINLOOSE]})\\s*$`);xr("STAR","(<|>)?=?\\s*\\*");xr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");xr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var aC=K((F_r,Y3e)=>{d();h();var ebt=Object.freeze({loose:!0}),tbt=Object.freeze({}),rbt=t=>t?typeof t!="object"?ebt:t:tbt;Y3e.exports=rbt});var QZ=K((V_r,J3e)=>{d();h();var Z3e=/^[0-9]+$/,Q3e=(t,e)=>{let r=Z3e.test(t),n=Z3e.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},nbt=(t,e)=>Q3e(e,t);J3e.exports={compareIdentifiers:Q3e,rcompareIdentifiers:nbt}});var Ia=K((z_r,r6e)=>{d();h();var cC=G4(),{MAX_LENGTH:X3e,MAX_SAFE_INTEGER:uC}=W4(),{safeRe:e6e,t:t6e}=bS(),ibt=aC(),{compareIdentifiers:vS}=QZ(),JZ=class t{constructor(e,r){if(r=ibt(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>X3e)throw new TypeError(`version is longer than ${X3e} characters`);cC("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?e6e[t6e.LOOSE]:e6e[t6e.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>uC||this.major<0)throw new TypeError("Invalid major version");if(this.minor>uC||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>uC||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<uC)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(cC("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),vS(this.major,e.major)||vS(this.minor,e.minor)||vS(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(cC("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return vS(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(cC("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return vS(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),vS(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};r6e.exports=JZ});var ev=K(($_r,i6e)=>{d();h();var n6e=Ia(),obt=(t,e,r=!1)=>{if(t instanceof n6e)return t;try{return new n6e(t,e)}catch(n){if(!r)return null;throw n}};i6e.exports=obt});var s6e=K((Q_r,o6e)=>{d();h();var sbt=ev(),abt=(t,e)=>{let r=sbt(t,e);return r?r.version:null};o6e.exports=abt});var c6e=K((e4r,a6e)=>{d();h();var cbt=ev(),ubt=(t,e)=>{let r=cbt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};a6e.exports=ubt});var l6e=K((n4r,f6e)=>{d();h();var u6e=Ia(),fbt=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new u6e(t instanceof u6e?t.version:t,r).inc(e,n,i).version}catch{return null}};f6e.exports=fbt});var p6e=K((s4r,h6e)=>{d();h();var d6e=ev(),lbt=(t,e)=>{let r=d6e(t,null,!0),n=d6e(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,c=o?n:r,l=!!s.prerelease.length;if(!!c.prerelease.length&&!l)return!c.patch&&!c.minor?"major":s.patch?"patch":s.minor?"minor":"major";let w=l?"pre":"";return r.major!==n.major?w+"major":r.minor!==n.minor?w+"minor":r.patch!==n.patch?w+"patch":"prerelease"};h6e.exports=lbt});var y6e=K((u4r,m6e)=>{d();h();var dbt=Ia(),hbt=(t,e)=>new dbt(t,e).major;m6e.exports=hbt});var b6e=K((d4r,g6e)=>{d();h();var pbt=Ia(),mbt=(t,e)=>new pbt(t,e).minor;g6e.exports=mbt});var x6e=K((m4r,v6e)=>{d();h();var ybt=Ia(),gbt=(t,e)=>new ybt(t,e).patch;v6e.exports=gbt});var S6e=K((b4r,w6e)=>{d();h();var bbt=ev(),vbt=(t,e)=>{let r=bbt(t,e);return r&&r.prerelease.length?r.prerelease:null};w6e.exports=vbt});var Uf=K((w4r,E6e)=>{d();h();var A6e=Ia(),xbt=(t,e,r)=>new A6e(t,r).compare(new A6e(e,r));E6e.exports=xbt});var T6e=K((E4r,_6e)=>{d();h();var wbt=Uf(),Sbt=(t,e,r)=>wbt(e,t,r);_6e.exports=Sbt});var M6e=K((I4r,I6e)=>{d();h();var Abt=Uf(),Ebt=(t,e)=>Abt(t,e,!0);I6e.exports=Ebt});var fC=K((P4r,P6e)=>{d();h();var k6e=Ia(),_bt=(t,e,r)=>{let n=new k6e(t,r),i=new k6e(e,r);return n.compare(i)||n.compareBuild(i)};P6e.exports=_bt});var B6e=K((C4r,R6e)=>{d();h();var Tbt=fC(),Ibt=(t,e)=>t.sort((r,n)=>Tbt(r,n,e));R6e.exports=Ibt});var O6e=K((D4r,C6e)=>{d();h();var Mbt=fC(),kbt=(t,e)=>t.sort((r,n)=>Mbt(n,r,e));C6e.exports=kbt});var $4=K((F4r,N6e)=>{d();h();var Pbt=Uf(),Rbt=(t,e,r)=>Pbt(t,e,r)>0;N6e.exports=Rbt});var lC=K((V4r,D6e)=>{d();h();var Bbt=Uf(),Cbt=(t,e,r)=>Bbt(t,e,r)<0;D6e.exports=Cbt});var XZ=K((z4r,U6e)=>{d();h();var Obt=Uf(),Nbt=(t,e,r)=>Obt(t,e,r)===0;U6e.exports=Nbt});var eQ=K(($4r,L6e)=>{d();h();var Dbt=Uf(),Ubt=(t,e,r)=>Dbt(t,e,r)!==0;L6e.exports=Ubt});var dC=K((Q4r,F6e)=>{d();h();var Lbt=Uf(),Fbt=(t,e,r)=>Lbt(t,e,r)>=0;F6e.exports=Fbt});var hC=K((e8r,q6e)=>{d();h();var qbt=Uf(),Kbt=(t,e,r)=>qbt(t,e,r)<=0;q6e.exports=Kbt});var tQ=K((n8r,K6e)=>{d();h();var Vbt=XZ(),Hbt=eQ(),jbt=$4(),zbt=dC(),Wbt=lC(),Gbt=hC(),$bt=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Vbt(t,r,n);case"!=":return Hbt(t,r,n);case">":return jbt(t,r,n);case">=":return zbt(t,r,n);case"<":return Wbt(t,r,n);case"<=":return Gbt(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};K6e.exports=$bt});var H6e=K((s8r,V6e)=>{d();h();var Ybt=Ia(),Zbt=ev(),{safeRe:pC,t:mC}=bS(),Qbt=(t,e)=>{if(t instanceof Ybt)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(pC[mC.COERCE]);else{let n;for(;(n=pC[mC.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),pC[mC.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;pC[mC.COERCERTL].lastIndex=-1}return r===null?null:Zbt(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};V6e.exports=Qbt});var z6e=K((u8r,j6e)=>{"use strict";d();h();j6e.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var G6e=K((d8r,W6e)=>{"use strict";d();h();W6e.exports=Sn;Sn.Node=tv;Sn.create=Sn;function Sn(t){var e=this;if(e instanceof Sn||(e=new Sn),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Sn.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Sn.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Sn.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Sn.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Xbt(this,arguments[t]);return this.length};Sn.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)e1t(this,arguments[t]);return this.length};Sn.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Sn.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Sn.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Sn.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Sn.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Sn.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Sn.prototype.map=function(t,e){e=e||this;for(var r=new Sn,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Sn.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Sn,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Sn.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Sn.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Sn.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Sn.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Sn.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Sn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Sn.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Sn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Sn.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Jbt(this,i,r[n]);return o};Sn.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Jbt(t,e,r){var n=e===t.head?new tv(r,null,e,t):new tv(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Xbt(t,e){t.tail=new tv(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function e1t(t,e){t.head=new tv(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function tv(t,e,r,n){if(!(this instanceof tv))return new tv(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{z6e()(Sn)}catch{}});var J6e=K((m8r,Q6e)=>{"use strict";d();h();var t1t=G6e(),rv=Symbol("max"),np=Symbol("length"),xS=Symbol("lengthCalculator"),Z4=Symbol("allowStale"),nv=Symbol("maxAge"),rp=Symbol("dispose"),$6e=Symbol("noDisposeOnSet"),ms=Symbol("lruList"),Kl=Symbol("cache"),Z6e=Symbol("updateAgeOnGet"),rQ=()=>1,iQ=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[rv]=e.max||1/0,n=e.length||rQ;if(this[xS]=typeof n!="function"?rQ:n,this[Z4]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[nv]=e.maxAge||0,this[rp]=e.dispose,this[$6e]=e.noDisposeOnSet||!1,this[Z6e]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[rv]=e||1/0,Y4(this)}get max(){return this[rv]}set allowStale(e){this[Z4]=!!e}get allowStale(){return this[Z4]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[nv]=e,Y4(this)}get maxAge(){return this[nv]}set lengthCalculator(e){typeof e!="function"&&(e=rQ),e!==this[xS]&&(this[xS]=e,this[np]=0,this[ms].forEach(r=>{r.length=this[xS](r.value,r.key),this[np]+=r.length})),Y4(this)}get lengthCalculator(){return this[xS]}get length(){return this[np]}get itemCount(){return this[ms].length}rforEach(e,r){r=r||this;for(let n=this[ms].tail;n!==null;){let i=n.prev;Y6e(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ms].head;n!==null;){let i=n.next;Y6e(this,e,n,r),n=i}}keys(){return this[ms].toArray().map(e=>e.key)}values(){return this[ms].toArray().map(e=>e.value)}reset(){this[rp]&&this[ms]&&this[ms].length&&this[ms].forEach(e=>this[rp](e.key,e.value)),this[Kl]=new Map,this[ms]=new t1t,this[np]=0}dump(){return this[ms].map(e=>yC(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ms]}set(e,r,n){if(n=n||this[nv],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[xS](r,e);if(this[Kl].has(e)){if(o>this[rv])return wS(this,this[Kl].get(e)),!1;let l=this[Kl].get(e).value;return this[rp]&&(this[$6e]||this[rp](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[np]+=o-l.length,l.length=o,this.get(e),Y4(this),!0}let s=new oQ(e,r,o,i,n);return s.length>this[rv]?(this[rp]&&this[rp](e,r),!1):(this[np]+=s.length,this[ms].unshift(s),this[Kl].set(e,this[ms].head),Y4(this),!0)}has(e){if(!this[Kl].has(e))return!1;let r=this[Kl].get(e).value;return!yC(this,r)}get(e){return nQ(this,e,!0)}peek(e){return nQ(this,e,!1)}pop(){let e=this[ms].tail;return e?(wS(this,e),e.value):null}del(e){wS(this,this[Kl].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Kl].forEach((e,r)=>nQ(this,r,!1))}},nQ=(t,e,r)=>{let n=t[Kl].get(e);if(n){let i=n.value;if(yC(t,i)){if(wS(t,n),!t[Z4])return}else r&&(t[Z6e]&&(n.value.now=Date.now()),t[ms].unshiftNode(n));return i.value}},yC=(t,e)=>{if(!e||!e.maxAge&&!t[nv])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[nv]&&r>t[nv]},Y4=t=>{if(t[np]>t[rv])for(let e=t[ms].tail;t[np]>t[rv]&&e!==null;){let r=e.prev;wS(t,e),e=r}},wS=(t,e)=>{if(e){let r=e.value;t[rp]&&t[rp](r.key,r.value),t[np]-=r.length,t[Kl].delete(r.key),t[ms].removeNode(e)}},oQ=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},Y6e=(t,e,r,n)=>{let i=r.value;yC(t,i)&&(wS(t,r),t[Z4]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};Q6e.exports=iQ});var Lf=K((b8r,r_e)=>{d();h();var sQ=class t{constructor(e,r){if(r=n1t(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof aQ)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n)).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!e_e(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&f1t(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&c1t)|(this.options.loose&&u1t))+":"+e,i=X6e.get(n);if(i)return i;let o=this.options.loose,s=o?Bc[rc.HYPHENRANGELOOSE]:Bc[rc.HYPHENRANGE];e=e.replace(s,x1t(this.options.includePrerelease)),Hi("hyphen replace",e),e=e.replace(Bc[rc.COMPARATORTRIM],o1t),Hi("comparator trim",e),e=e.replace(Bc[rc.TILDETRIM],s1t),e=e.replace(Bc[rc.CARETTRIM],a1t);let c=e.split(" ").map(b=>l1t(b,this.options)).join(" ").split(/\s+/).map(b=>v1t(b,this.options));o&&(c=c.filter(b=>(Hi("loose invalid filter",b,this.options),!!b.match(Bc[rc.COMPARATORLOOSE])))),Hi("range list",c);let l=new Map,m=c.map(b=>new aQ(b,this.options));for(let b of m){if(e_e(b))return[b];l.set(b.value,b)}l.size>1&&l.has("")&&l.delete("");let w=[...l.values()];return X6e.set(n,w),w}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>t_e(n,r)&&e.set.some(i=>t_e(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new i1t(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(w1t(this.set[r],e,this.options))return!0;return!1}};r_e.exports=sQ;var r1t=J6e(),X6e=new r1t({max:1e3}),n1t=aC(),aQ=Q4(),Hi=G4(),i1t=Ia(),{safeRe:Bc,t:rc,comparatorTrimReplace:o1t,tildeTrimReplace:s1t,caretTrimReplace:a1t}=bS(),{FLAG_INCLUDE_PRERELEASE:c1t,FLAG_LOOSE:u1t}=W4(),e_e=t=>t.value==="<0.0.0-0",f1t=t=>t.value==="",t_e=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},l1t=(t,e)=>(Hi("comp",t,e),t=p1t(t,e),Hi("caret",t),t=d1t(t,e),Hi("tildes",t),t=y1t(t,e),Hi("xrange",t),t=b1t(t,e),Hi("stars",t),t),nc=t=>!t||t.toLowerCase()==="x"||t==="*",d1t=(t,e)=>t.trim().split(/\s+/).map(r=>h1t(r,e)).join(" "),h1t=(t,e)=>{let r=e.loose?Bc[rc.TILDELOOSE]:Bc[rc.TILDE];return t.replace(r,(n,i,o,s,c)=>{Hi("tilde",t,n,i,o,s,c);let l;return nc(i)?l="":nc(o)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:nc(s)?l=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:c?(Hi("replaceTilde pr",c),l=`>=${i}.${o}.${s}-${c} <${i}.${+o+1}.0-0`):l=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Hi("tilde return",l),l})},p1t=(t,e)=>t.trim().split(/\s+/).map(r=>m1t(r,e)).join(" "),m1t=(t,e)=>{Hi("caret",t,e);let r=e.loose?Bc[rc.CARETLOOSE]:Bc[rc.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,c,l)=>{Hi("caret",t,i,o,s,c,l);let m;return nc(o)?m="":nc(s)?m=`>=${o}.0.0${n} <${+o+1}.0.0-0`:nc(c)?o==="0"?m=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:l?(Hi("replaceCaret pr",l),o==="0"?s==="0"?m=`>=${o}.${s}.${c}-${l} <${o}.${s}.${+c+1}-0`:m=`>=${o}.${s}.${c}-${l} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.${c}-${l} <${+o+1}.0.0-0`):(Hi("no pr"),o==="0"?s==="0"?m=`>=${o}.${s}.${c}${n} <${o}.${s}.${+c+1}-0`:m=`>=${o}.${s}.${c}${n} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.${c} <${+o+1}.0.0-0`),Hi("caret return",m),m})},y1t=(t,e)=>(Hi("replaceXRanges",t,e),t.split(/\s+/).map(r=>g1t(r,e)).join(" ")),g1t=(t,e)=>{t=t.trim();let r=e.loose?Bc[rc.XRANGELOOSE]:Bc[rc.XRANGE];return t.replace(r,(n,i,o,s,c,l)=>{Hi("xRange",t,n,i,o,s,c,l);let m=nc(o),w=m||nc(s),b=w||nc(c),E=b;return i==="="&&E&&(i=""),l=e.includePrerelease?"-0":"",m?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&E?(w&&(s=0),c=0,i===">"?(i=">=",w?(o=+o+1,s=0,c=0):(s=+s+1,c=0)):i==="<="&&(i="<",w?o=+o+1:s=+s+1),i==="<"&&(l="-0"),n=`${i+o}.${s}.${c}${l}`):w?n=`>=${o}.0.0${l} <${+o+1}.0.0-0`:b&&(n=`>=${o}.${s}.0${l} <${o}.${+s+1}.0-0`),Hi("xRange return",n),n})},b1t=(t,e)=>(Hi("replaceStars",t,e),t.trim().replace(Bc[rc.STAR],"")),v1t=(t,e)=>(Hi("replaceGTE0",t,e),t.trim().replace(Bc[e.includePrerelease?rc.GTE0PRE:rc.GTE0],"")),x1t=t=>(e,r,n,i,o,s,c,l,m,w,b,E,I)=>(nc(n)?r="":nc(i)?r=`>=${n}.0.0${t?"-0":""}`:nc(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,nc(m)?l="":nc(w)?l=`<${+m+1}.0.0-0`:nc(b)?l=`<${m}.${+w+1}.0-0`:E?l=`<=${m}.${w}.${b}-${E}`:t?l=`<${m}.${w}.${+b+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),w1t=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Hi(t[n].semver),t[n].semver!==aQ.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Q4=K((w8r,c_e)=>{d();h();var J4=Symbol("SemVer ANY"),fQ=class t{static get ANY(){return J4}constructor(e,r){if(r=n_e(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),uQ("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===J4?this.value="":this.value=this.operator+this.semver.version,uQ("comp",this)}parse(e){let r=this.options.loose?i_e[o_e.COMPARATORLOOSE]:i_e[o_e.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new s_e(n[2],this.options.loose):this.semver=J4}toString(){return this.value}test(e){if(uQ("Comparator.test",e,this.options.loose),this.semver===J4||e===J4)return!0;if(typeof e=="string")try{e=new s_e(e,this.options)}catch{return!1}return cQ(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new a_e(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new a_e(this.value,r).test(e.semver):(r=n_e(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||cQ(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||cQ(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};c_e.exports=fQ;var n_e=aC(),{safeRe:i_e,t:o_e}=bS(),cQ=tQ(),uQ=G4(),s_e=Ia(),a_e=Lf()});var X4=K((E8r,u_e)=>{d();h();var S1t=Lf(),A1t=(t,e,r)=>{try{e=new S1t(e,r)}catch{return!1}return e.test(t)};u_e.exports=A1t});var l_e=K((I8r,f_e)=>{d();h();var E1t=Lf(),_1t=(t,e)=>new E1t(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));f_e.exports=_1t});var h_e=K((P8r,d_e)=>{d();h();var T1t=Ia(),I1t=Lf(),M1t=(t,e,r)=>{let n=null,i=null,o=null;try{o=new I1t(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new T1t(n,r))}),n};d_e.exports=M1t});var m_e=K((C8r,p_e)=>{d();h();var k1t=Ia(),P1t=Lf(),R1t=(t,e,r)=>{let n=null,i=null,o=null;try{o=new P1t(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new k1t(n,r))}),n};p_e.exports=R1t});var b_e=K((D8r,g_e)=>{d();h();var lQ=Ia(),B1t=Lf(),y_e=$4(),C1t=(t,e)=>{t=new B1t(t,e);let r=new lQ("0.0.0");if(t.test(r)||(r=new lQ("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let c=new lQ(s.semver.version);switch(s.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!o||y_e(c,o))&&(o=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||y_e(r,o))&&(r=o)}return r&&t.test(r)?r:null};g_e.exports=C1t});var x_e=K((F8r,v_e)=>{d();h();var O1t=Lf(),N1t=(t,e)=>{try{return new O1t(t,e).range||"*"}catch{return null}};v_e.exports=N1t});var gC=K((V8r,E_e)=>{d();h();var D1t=Ia(),A_e=Q4(),{ANY:U1t}=A_e,L1t=Lf(),F1t=X4(),w_e=$4(),S_e=lC(),q1t=hC(),K1t=dC(),V1t=(t,e,r,n)=>{t=new D1t(t,n),e=new L1t(e,n);let i,o,s,c,l;switch(r){case">":i=w_e,o=q1t,s=S_e,c=">",l=">=";break;case"<":i=S_e,o=K1t,s=w_e,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(F1t(t,e,n))return!1;for(let m=0;m<e.set.length;++m){let w=e.set[m],b=null,E=null;if(w.forEach(I=>{I.semver===U1t&&(I=new A_e(">=0.0.0")),b=b||I,E=E||I,i(I.semver,b.semver,n)?b=I:s(I.semver,E.semver,n)&&(E=I)}),b.operator===c||b.operator===l||(!E.operator||E.operator===c)&&o(t,E.semver))return!1;if(E.operator===l&&s(t,E.semver))return!1}return!0};E_e.exports=V1t});var T_e=K((z8r,__e)=>{d();h();var H1t=gC(),j1t=(t,e,r)=>H1t(t,e,">",r);__e.exports=j1t});var M_e=K(($8r,I_e)=>{d();h();var z1t=gC(),W1t=(t,e,r)=>z1t(t,e,"<",r);I_e.exports=W1t});var R_e=K((Q8r,P_e)=>{d();h();var k_e=Lf(),G1t=(t,e,r)=>(t=new k_e(t,r),e=new k_e(e,r),t.intersects(e,r));P_e.exports=G1t});var C_e=K((e5r,B_e)=>{d();h();var $1t=X4(),Y1t=Uf();B_e.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((w,b)=>Y1t(w,b,r));for(let w of s)$1t(w,e,r)?(o=w,i||(i=w)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let c=[];for(let[w,b]of n)w===b?c.push(w):!b&&w===s[0]?c.push("*"):b?w===s[0]?c.push(`<=${b}`):c.push(`${w} - ${b}`):c.push(`>=${w}`);let l=c.join(" || "),m=typeof e.raw=="string"?e.raw:String(e);return l.length<m.length?l:e}});var F_e=K((n5r,L_e)=>{d();h();var O_e=Lf(),hQ=Q4(),{ANY:dQ}=hQ,e8=X4(),pQ=Uf(),Z1t=(t,e,r={})=>{if(t===e)return!0;t=new O_e(t,r),e=new O_e(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=J1t(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},Q1t=[new hQ(">=0.0.0-0")],N_e=[new hQ(">=0.0.0")],J1t=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===dQ){if(e.length===1&&e[0].semver===dQ)return!0;r.includePrerelease?t=Q1t:t=N_e}if(e.length===1&&e[0].semver===dQ){if(r.includePrerelease)return!0;e=N_e}let n=new Set,i,o;for(let I of t)I.operator===">"||I.operator===">="?i=D_e(i,I,r):I.operator==="<"||I.operator==="<="?o=U_e(o,I,r):n.add(I.semver);if(n.size>1)return null;let s;if(i&&o){if(s=pQ(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let I of n){if(i&&!e8(I,String(i),r)||o&&!e8(I,String(o),r))return null;for(let M of e)if(!e8(I,String(M),r))return!1;return!0}let c,l,m,w,b=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,E=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;b&&b.prerelease.length===1&&o.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(let I of e){if(w=w||I.operator===">"||I.operator===">=",m=m||I.operator==="<"||I.operator==="<=",i){if(E&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===E.major&&I.semver.minor===E.minor&&I.semver.patch===E.patch&&(E=!1),I.operator===">"||I.operator===">="){if(c=D_e(i,I,r),c===I&&c!==i)return!1}else if(i.operator===">="&&!e8(i.semver,String(I),r))return!1}if(o){if(b&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===b.major&&I.semver.minor===b.minor&&I.semver.patch===b.patch&&(b=!1),I.operator==="<"||I.operator==="<="){if(l=U_e(o,I,r),l===I&&l!==o)return!1}else if(o.operator==="<="&&!e8(o.semver,String(I),r))return!1}if(!I.operator&&(o||i)&&s!==0)return!1}return!(i&&m&&!o&&s!==0||o&&w&&!i&&s!==0||E||b)},D_e=(t,e,r)=>{if(!t)return e;let n=pQ(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},U_e=(t,e,r)=>{if(!t)return e;let n=pQ(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};L_e.exports=Z1t});var H_e=K((s5r,V_e)=>{d();h();var mQ=bS(),q_e=W4(),X1t=Ia(),K_e=QZ(),evt=ev(),tvt=s6e(),rvt=c6e(),nvt=l6e(),ivt=p6e(),ovt=y6e(),svt=b6e(),avt=x6e(),cvt=S6e(),uvt=Uf(),fvt=T6e(),lvt=M6e(),dvt=fC(),hvt=B6e(),pvt=O6e(),mvt=$4(),yvt=lC(),gvt=XZ(),bvt=eQ(),vvt=dC(),xvt=hC(),wvt=tQ(),Svt=H6e(),Avt=Q4(),Evt=Lf(),_vt=X4(),Tvt=l_e(),Ivt=h_e(),Mvt=m_e(),kvt=b_e(),Pvt=x_e(),Rvt=gC(),Bvt=T_e(),Cvt=M_e(),Ovt=R_e(),Nvt=C_e(),Dvt=F_e();V_e.exports={parse:evt,valid:tvt,clean:rvt,inc:nvt,diff:ivt,major:ovt,minor:svt,patch:avt,prerelease:cvt,compare:uvt,rcompare:fvt,compareLoose:lvt,compareBuild:dvt,sort:hvt,rsort:pvt,gt:mvt,lt:yvt,eq:gvt,neq:bvt,gte:vvt,lte:xvt,cmp:wvt,coerce:Svt,Comparator:Avt,Range:Evt,satisfies:_vt,toComparators:Tvt,maxSatisfying:Ivt,minSatisfying:Mvt,minVersion:kvt,validRange:Pvt,outside:Rvt,gtr:Bvt,ltr:Cvt,intersects:Ovt,simplifyRange:Nvt,subset:Dvt,SemVer:X1t,re:mQ.re,src:mQ.src,tokens:mQ.t,SEMVER_SPEC_VERSION:q_e.SEMVER_SPEC_VERSION,RELEASE_TYPES:q_e.RELEASE_TYPES,compareIdentifiers:K_e.compareIdentifiers,rcompareIdentifiers:K_e.rcompareIdentifiers}});var Z_e=K(ov=>{"use strict";d();h();Object.defineProperty(ov,"__esModule",{value:!0});ov.ObfuscatedOperatorType=ov.OperatorType=void 0;ov.matchesRule=Uvt;var Vl=H_e(),iv=Q0(),Vs;(function(t){t.MATCHES="MATCHES",t.NOT_MATCHES="NOT_MATCHES",t.GTE="GTE",t.GT="GT",t.LTE="LTE",t.LT="LT",t.ONE_OF="ONE_OF",t.NOT_ONE_OF="NOT_ONE_OF",t.IS_NULL="IS_NULL"})(Vs||(ov.OperatorType=Vs={}));var Hs;(function(t){t.MATCHES="05015086bdd8402218f6aad6528bef08",t.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",t.GTE="32d35312e8f24bc1669bd2b45c00d47c",t.GT="cd6a9bd2a175104eed40f0d33a8b4020",t.LTE="cc981ecc65ecf63ad1673cbec9c64198",t.LT="c562607189d77eb9dfb707464c1e7b0b",t.ONE_OF="27457ce369f2a74203396a35ef537c0b",t.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",t.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"})(Hs||(ov.ObfuscatedOperatorType=Hs={}));var ip;(function(t){t.PLAIN_STRING="PLAIN_STRING",t.STRING_ARRAY="STRING_ARRAY",t.SEM_VER="SEM_VER",t.NUMERIC="NUMERIC"})(ip||(ip={}));function Uvt(t,e,r){return!Lvt(e,t.conditions,r).includes(!1)}function Lvt(t,e,r){return e.map(n=>r?qvt(Object.entries(t).reduce((i,[o,s])=>({[(0,iv.getMD5Hash)(o)]:s,...i}),{}),n):Fvt(t,n))}function Fvt(t,e){let r=t[e.attribute];if(e.operator===Vs.IS_NULL)return e.value?r==null:r!=null;if(r!=null)switch(e.operator){case Vs.GTE:case Vs.GT:case Vs.LTE:case Vs.LT:{if(Y_e(e.value)===ip.SEM_VER){let o=e.operator===Vs.GTE?Vl.gte:e.operator===Vs.GT?Vl.gt:e.operator===Vs.LTE?Vl.lte:Vl.lt;return $_e(r,e.value,o)}let i=(o,s)=>e.operator===Vs.GTE?o>=s:e.operator===Vs.GT?o>s:e.operator===Vs.LTE?o<=s:o<s;return G_e(r,e.value,i)}case Vs.MATCHES:return new RegExp(e.value).test(r);case Vs.NOT_MATCHES:return!new RegExp(e.value).test(r);case Vs.ONE_OF:return j_e(r.toString(),e.value);case Vs.NOT_ONE_OF:return z_e(r.toString(),e.value)}return!1}function qvt(t,e){let r=t[e.attribute];if(e.operator===Hs.IS_NULL)return e.value===(0,iv.getMD5Hash)("true")?r==null:r!=null;if(r!=null)switch(e.operator){case Hs.GTE:case Hs.GT:case Hs.LTE:case Hs.LT:{let n=(0,iv.decodeBase64)(e.value);if(Y_e(n)===ip.SEM_VER){let s=e.operator===Hs.GTE?Vl.gte:e.operator===Hs.GT?Vl.gt:e.operator===Hs.LTE?Vl.lte:Vl.lt;return $_e(r,n,s)}let o=(s,c)=>e.operator===Hs.GTE?s>=c:e.operator===Hs.GT?s>c:e.operator===Hs.LTE?s<=c:s<c;return G_e(r,Number(n),o)}case Hs.MATCHES:return new RegExp((0,iv.decodeBase64)(e.value)).test(r);case Hs.NOT_MATCHES:return!new RegExp((0,iv.decodeBase64)(e.value)).test(r);case Hs.ONE_OF:return j_e((0,iv.getMD5Hash)(r.toString()),e.value);case Hs.NOT_ONE_OF:return z_e((0,iv.getMD5Hash)(r.toString()),e.value)}return!1}function j_e(t,e){return W_e(t,e).length>0}function z_e(t,e){return W_e(t,e).length===0}function W_e(t,e){return e.filter(r=>r===t)}function G_e(t,e,r){return r(Number(t),Number(e))}function $_e(t,e,r){return!!(0,Vl.valid)(t)&&!!(0,Vl.valid)(e)&&r(t,e)}function Y_e(t){return typeof t=="number"?ip.NUMERIC:Array.isArray(t)?ip.STRING_ARRAY:typeof t=="string"&&(0,Vl.valid)(t)?ip.SEM_VER:isNaN(Number(t))?ip.PLAIN_STRING:ip.NUMERIC}});var e4e=K(Jy=>{"use strict";d();h();Object.defineProperty(Jy,"__esModule",{value:!0});Jy.Evaluator=void 0;Jy.isInShardRange=Q_e;Jy.hashKey=J_e;Jy.noneResult=gQ;Jy.matchesRules=X_e;var Kvt=bC(),t8=GZ(),Vvt=YZ(),Hvt=Z_e(),jvt=PZ(),yQ=class{constructor(e){this.getMatchedEvaluationCodeAndDescription=(r,n,i,o,s)=>{if(!(0,Kvt.checkValueTypeMatch)(s,r.value)){let{key:b,value:E}=r;return{flagEvaluationCode:"ASSIGNMENT_ERROR",flagEvaluationDescription:`Variation (${b}) is configured for type ${s}, but is set to incompatible value (${E})`}}let c=!!n.rules?.length,l=n.splits.length>1,m=i.shards.length>1,w=l||m;return c&&w?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}" and ${o} belongs to the range of traffic assigned to "${i.variationKey}".`}:c&&!w?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}".`}:{flagEvaluationCode:"MATCH",flagEvaluationDescription:`${o} belongs to the range of traffic assigned to "${i.variationKey}" defined in allocation "${n.key}".`}},this.sharder=e??new jvt.MD5Sharder}evaluateFlag(e,r,n,i,o,s){let c=new t8.FlagEvaluationDetailsBuilder(r.configEnvironment.name,e.allocations,r.configFetchedAt,r.configPublishedAt);try{if(!e.enabled)return gQ(e.key,n,i,c.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e.key}`),r.configFormat);let l=new Date;for(let m=0;m<e.allocations.length;m++){let w=e.allocations[m],b=M=>{c.addUnmatchedAllocation({key:w.key,allocationEvaluationCode:M,orderPosition:m+1})};if(w.startAt&&l<new Date(w.startAt)){b(t8.AllocationEvaluationCode.BEFORE_START_TIME);continue}if(w.endAt&&l>new Date(w.endAt)){b(t8.AllocationEvaluationCode.AFTER_END_TIME);continue}let{matched:E,matchedRule:I}=X_e(w?.rules??[],{id:n,...i},o);if(E){for(let M of w.splits)if(M.shards.every(k=>this.matchesShard(k,n,e.totalShards))){let k=e.variations[M.variationKey],{flagEvaluationCode:B,flagEvaluationDescription:R}=this.getMatchedEvaluationCodeAndDescription(k,w,M,n,s),U=c.setMatch(m,k,w,I,s).build(B,R);return{flagKey:e.key,format:r.configFormat,subjectKey:n,subjectAttributes:i,allocationKey:w.key,variation:k,extraLogging:M.extraLogging??{},doLog:w.doLog,flagEvaluationDetails:U}}b(t8.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else b(t8.AllocationEvaluationCode.FAILING_RULE)}return gQ(e.key,n,i,c.buildForNoneResult("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'),r.configFormat)}catch(l){console.error(">>>>",l);let m=c.gracefulBuild("ASSIGNMENT_ERROR",`Assignment Error: ${l.message}`);if(m){let w=new Vvt.FlagEvaluationError(l.message);throw w.flagEvaluationDetails=m,w}throw l}}matchesShard(e,r,n){let i=this.sharder.getShard(J_e(e.salt,r),n);return e.ranges.some(o=>Q_e(i,o))}};Jy.Evaluator=yQ;function Q_e(t,e){return e.start<=t&&t<e.end}function J_e(t,e){return`${t}-${e}`}function gQ(t,e,r,n,i){return{flagKey:t,format:i,subjectKey:e,subjectAttributes:r,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:n}}function X_e(t,e,r){if(!t.length)return{matched:!0,matchedRule:null};let n=null;return t.some(o=>{let s=(0,Hvt.matchesRule)(o,e,r);return s&&(n=o),s})?{matched:!0,matchedRule:n}:{matched:!1,matchedRule:null}}});var vQ=K(vC=>{"use strict";d();h();Object.defineProperty(vC,"__esModule",{value:!0});vC.BoundedEventQueue=void 0;var zvt=uh(),Wvt=Y0(),bQ=class{constructor(e,r=new Array,n=Wvt.MAX_EVENT_QUEUE_SIZE){this.name=e,this.queue=r,this.maxSize=n}get length(){return this.queue.length}splice(e){return this.queue.splice(e)}isEmpty(){return this.queue.length===0}[Symbol.iterator](){return this.queue[Symbol.iterator]()}push(...e){let{name:r,maxSize:n,queue:i}=this;for(;i.length<n&&e.length>0;)i.push(...e.splice(0,1));e.length>0&&zvt.logger.warn(`Dropping ${e.length} events for queue ${r} since maxSize of ${n} reached.`)}flush(){let e=[...this.queue];return this.queue.length=0,e}};vC.BoundedEventQueue=bQ});var SQ=K(wQ=>{"use strict";d();h();Object.defineProperty(wQ,"__esModule",{value:!0});var xQ=class{dispatch(e){}};wQ.default=xQ});var xC=K(r8=>{"use strict";d();h();Object.defineProperty(r8,"__esModule",{value:!0});r8.HttpRequestError=void 0;var Hl=class extends Error{constructor(e,r,n){super(e),this.message=e,this.status=r,this.cause=n,n&&(this.cause=n)}};r8.HttpRequestError=Hl;var AQ=class{constructor(e,r){this.apiEndpoints=e,this.timeout=r}async getUniversalFlagConfiguration(){let e=this.apiEndpoints.ufcEndpoint();return await this.rawGet(e)}async getBanditParameters(){let e=this.apiEndpoints.banditParametersEndpoint();return await this.rawGet(e)}async getPrecomputedFlags(e){let r=this.apiEndpoints.precomputedFlagsEndpoint();return await this.rawPost(r,e)}async rawGet(e){try{let r=new AbortController,n=r.signal,i=setTimeout(()=>r.abort(),this.timeout),o=await fetch(e.toString(),{signal:n});if(clearTimeout(i),!o?.ok)throw new Hl("Failed to fetch data",o?.status);return await o.json()}catch(r){throw r.name==="AbortError"?new Hl("Request timed out",408,r):r instanceof Hl?r:new Hl("Network error",0,r)}}async rawPost(e,r){try{let n=new AbortController,i=n.signal,o=setTimeout(()=>n.abort(),this.timeout),s=await fetch(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:i});if(clearTimeout(o),!s?.ok){let c=await s.text();throw new Hl(c||"Failed to post data",s?.status)}return await s.json()}catch(n){throw n.name==="AbortError"?new Hl("Request timed out",408,n):n instanceof Hl?n:new Hl("Network error",0,n)}}};r8.default=AQ});var t4e=K(EQ=>{"use strict";d();h();Object.defineProperty(EQ,"__esModule",{value:!0});EQ.waitForMs=Gvt;async function Gvt(t){await new Promise(e=>setTimeout(e,t))}});var TQ=K(_Q=>{"use strict";d();h();Object.defineProperty(_Q,"__esModule",{value:!0});_Q.default=Yvt;var xu=uh(),wC=Y0(),$vt=t4e();function Yvt(t,e,r){let n=!1,i=0,o=t,s=!1,c,l=async()=>{n=!1;let b=!1,E=r?.skipInitialPoll?0:1+(r?.maxStartRetries??wC.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),I=null;for(;!b&&E>0;)try{await e(),b=!0,s=!1,xu.logger.info("Eppo SDK successfully requested initial configuration")}catch(k){if(s=!0,xu.logger.warn(`Eppo SDK encountered an error with initial poll of configurations: ${k.message}`),--E>0){let B=r4e(t);xu.logger.warn(`Eppo SDK will retry the initial poll again in ${B} ms (${E} attempts remaining)`),await(0,$vt.waitForMs)(B)}else r?.pollAfterFailedStart?xu.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(xu.logger.error("Eppo SDK initial poll failed. Aborting polling"),m()),r?.errorOnFailedStart&&(I=k)}if(!n&&(b&&r?.pollAfterSuccessfulStart||!b&&r?.pollAfterFailedStart)?(xu.logger.info(`Eppo SDK starting regularly polling every ${t} ms`),c=setTimeout(w,t)):xu.logger.info("Eppo SDK will not poll for configuration updates"),I)throw xu.logger.info("Eppo SDK rethrowing start error"),I},m=()=>{n||(n=!0,c&&clearTimeout(c),xu.logger.info("Eppo SDK polling stopped"))};async function w(){if(!n){try{await e(),i=0,o=t,s&&(s=!1,xu.logger.info("Eppo SDK poll successful; resuming normal polling"))}catch(b){s=!0,xu.logger.warn(`Eppo SDK encountered an error polling configurations: ${b.message}`);let E=1+(r?.maxPollRetries??wC.DEFAULT_POLL_CONFIG_REQUEST_RETRIES);if(++i<E){let I=Math.pow(2,i),M=r4e(t);o=I*t+M,xu.logger.warn(`Eppo SDK will try polling again in ${o} ms (${E-i} attempts remaining)`)}else xu.logger.error(`Eppo SDK reached maximum of ${i} failed polling attempts. Stopping polling`),m()}setTimeout(w,o)}}return{start:l,stop:m}}function r4e(t){let e=t*wC.POLL_JITTER_PCT/2,r=Math.max(Math.floor(Math.random()*t*wC.POLL_JITTER_PCT/2),1);return e+r}});var AC=K(n8=>{"use strict";d();h();Object.defineProperty(n8,"__esModule",{value:!0});n8.InvalidArgumentError=void 0;n8.validateNotBlank=Zvt;var SC=class extends Error{};n8.InvalidArgumentError=SC;function Zvt(t,e){if(t==null||t.length===0)throw new SC(e)}});var n4e=K((C5r,Qvt)=>{Qvt.exports={name:"@eppo/js-client-sdk-common",version:"4.8.4",description:"Common library for Eppo JavaScript SDKs (web, react native, and node)",main:"dist/index.js",files:["/dist","/src","!*.spec.ts"],types:"./dist/index.d.ts",engines:{node:">=18.x"},exports:{".":{types:"./dist/index.d.ts",default:"./dist/index.js"}},scripts:{lint:"eslint '**/*.{ts,tsx}' --cache","lint:fix":"eslint --fix '**/*.{ts,tsx}' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix '**/*.{ts,tsx}' --no-eslintrc --cache",prepare:"make prepare","pre-commit":"lint-staged && tsc",typecheck:"tsc",test:"yarn test:unit","test:unit":"NODE_ENV=test jest '.*\\.spec\\.ts'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},jsdelivr:"dist/eppo-sdk.js",repository:{type:"git",url:"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},author:"",license:"MIT",bugs:{url:"https://github.com/Eppo-exp/js-client-sdk-common/issues"},homepage:"https://github.com/Eppo-exp/js-client-sdk-common#readme",devDependencies:{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/semver":"^7.5.6","@types/spark-md5":"^3.0.5","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0",eslint:"^8.17.0","eslint-config-prettier":"^10.0.1","eslint-import-resolver-typescript":"^3.7.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"5.0.0","eslint-plugin-promise":"^7.2.1","eslint-plugin-unused-imports":"^4.1.4",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",lodash:"^4.17.21",prettier:"^3.4.2","terser-webpack-plugin":"^5.3.3",testdouble:"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1",typescript:"^5.7.2",webpack:"^5.73.0","webpack-cli":"^6.0.1"},dependencies:{buffer:"npm:@eppo/buffer@6.2.0","js-base64":"^3.7.7",pino:"^9.5.0",semver:"^7.5.4","spark-md5":"^3.0.2",uuid:"^11.0.5"},packageManager:"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}});var IQ=K(EC=>{"use strict";d();h();Object.defineProperty(EC,"__esModule",{value:!0});EC.LIB_VERSION=void 0;var Jvt=n4e();EC.LIB_VERSION=Jvt.version});var bC=K(o8=>{"use strict";d();h();Object.defineProperty(o8,"__esModule",{value:!0});o8.checkTypeMatch=u4e;o8.checkValueTypeMatch=dxt;var Xvt=C3e(),ext=qB(),ji=uh(),sv=IZ(),txt=O3e(),rxt=zB(),i4e=GB(),nxt=D3e(),o4e=q3e(),ixt=KZ(),i8=Y0(),oxt=iC(),av=z3e(),_C=e4e(),s4e=vQ(),sxt=SQ(),a4e=GZ(),axt=YZ(),cxt=xC(),lh=ep(),uxt=Q0(),fxt=TQ(),c4e=AC(),lxt=IQ(),MQ=class{constructor({eventDispatcher:e=new sxt.default,isObfuscated:r=!1,flagConfigurationStore:n,banditVariationConfigurationStore:i,banditModelConfigurationStore:o,configurationRequestParameters:s}){this.assignmentEventsQueue=new s4e.BoundedEventQueue("assignments"),this.banditEventsQueue=new s4e.BoundedEventQueue("bandit"),this.banditEvaluator=new txt.BanditEvaluator,this.isGracefulFailureMode=!0,this.evaluator=new _C.Evaluator,this.eventDispatcher=e,this.flagConfigurationStore=n,this.banditVariationConfigurationStore=i,this.banditModelConfigurationStore=o,this.configurationRequestParameters=s,this.isObfuscated=r}setConfigurationRequestParameters(e){this.configurationRequestParameters=e}setFlagConfigurationStore(e){this.flagConfigurationStore=e}setBanditVariationConfigurationStore(e){this.banditVariationConfigurationStore=e}setEventDispatcher(e){this.eventDispatcher=e}setBanditModelConfigurationStore(e){this.banditModelConfigurationStore=e}setIsObfuscated(e){this.isObfuscated=e}async fetchFlagConfigurations(){if(!this.configurationRequestParameters)throw new Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:o=i8.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:s=i8.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=i8.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:m=!1,throwOnFailedInitialization:w=!1,skipInitialPoll:b=!1}=this.configurationRequestParameters,{pollingIntervalMs:E=i8.DEFAULT_POLL_INTERVAL_MS}=this.configurationRequestParameters;E<=0&&(ji.logger.error("pollingIntervalMs must be greater than 0. Using default"),E=i8.DEFAULT_POLL_INTERVAL_MS);let I=new ext.default({baseUrl:i,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),M=new cxt.default(I,o),k=new ixt.default(M,this.flagConfigurationStore,this.banditVariationConfigurationStore??null,this.banditModelConfigurationStore??null),B=async()=>{if(await this.flagConfigurationStore.isExpired())return k.fetchAndStoreConfigurations()};this.requestPoller=(0,fxt.default)(E,B,{maxStartRetries:s,maxPollRetries:c,pollAfterSuccessfulStart:l,pollAfterFailedStart:m,errorOnFailedStart:w,skipInitialPoll:b}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getStringAssignment(e,r,n,i){return this.getStringAssignmentDetails(e,r,n,i).variation}getStringAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,av.EppoValue.String(i),lh.VariationType.STRING);return{variation:o.stringValue??i,action:null,evaluationDetails:s}}getBoolAssignment(e,r,n,i){return this.getBooleanAssignment(e,r,n,i)}getBooleanAssignment(e,r,n,i){return this.getBooleanAssignmentDetails(e,r,n,i).variation}getBooleanAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,av.EppoValue.Bool(i),lh.VariationType.BOOLEAN);return{variation:o.boolValue??i,action:null,evaluationDetails:s}}getIntegerAssignment(e,r,n,i){return this.getIntegerAssignmentDetails(e,r,n,i).variation}getIntegerAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,av.EppoValue.Numeric(i),lh.VariationType.INTEGER);return{variation:o.numericValue??i,action:null,evaluationDetails:s}}getNumericAssignment(e,r,n,i){return this.getNumericAssignmentDetails(e,r,n,i).variation}getNumericAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,av.EppoValue.Numeric(i),lh.VariationType.NUMERIC);return{variation:o.numericValue??i,action:null,evaluationDetails:s}}getJSONAssignment(e,r,n,i){return this.getJSONAssignmentDetails(e,r,n,i).variation}getJSONAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,av.EppoValue.JSON(i),lh.VariationType.JSON);return{variation:o.objectValue??i,action:null,evaluationDetails:s}}getBanditAction(e,r,n,i,o){let{variation:s,action:c}=this.getBanditActionDetails(e,r,n,i,o);return{variation:s,action:c}}getBestAction(e,r,n,i){let o=null,c=this.banditVariationConfigurationStore?.get(e)?.at(0)?.key;if(c){let l=this.getBandit(c);if(l){let m=(0,sv.ensureContextualSubjectAttributes)(r),w=(0,sv.ensureActionsWithContextualAttributes)(n);o=this.banditEvaluator.evaluateBestBanditAction(m,w,l.modelData)}}return o??i}getBanditActionDetails(e,r,n,i,o){let s=o,c=null,l=this.newFlagEvaluationDetailsBuilder(e).buildForNoneResult("ASSIGNMENT_ERROR","Unexpected error getting assigned variation for bandit action");try{let m=(0,sv.ensureNonContextualSubjectAttributes)(n),{variation:w,evaluationDetails:b}=this.getStringAssignmentDetails(e,r,m,o);s=w,l=b;let E=this.findBanditByVariation(e,s);if(!E)return{variation:s,action:null,evaluationDetails:l};l.banditKey=E.banditKey;let I=this.evaluateBanditAction(e,r,n,i,E.modelData);if(I?.actionKey){c=I.actionKey;let M={timestamp:new Date().toISOString(),featureFlag:e,bandit:E.banditKey,subject:r,action:c,actionProbability:I.actionWeight,optimalityGap:I.optimalityGap,modelVersion:E.modelVersion,subjectNumericAttributes:I.subjectAttributes.numericAttributes,subjectCategoricalAttributes:I.subjectAttributes.categoricalAttributes,actionNumericAttributes:I.actionAttributes.numericAttributes,actionCategoricalAttributes:I.actionAttributes.categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:l};try{this.logBanditAction(M)}catch(k){ji.logger.error("Error logging bandit event",k)}l.banditAction=c}}catch(m){if(ji.logger.error("Error determining bandit action",m),!this.isGracefulFailureMode)throw m;s&&(l.flagEvaluationCode="BANDIT_ERROR"),l.flagEvaluationDescription=`Error evaluating bandit action: ${m.message}`}return{variation:s,action:c,evaluationDetails:l}}getExperimentContainerEntry(e,r,n){let{flagKey:i,controlVariationEntry:o,treatmentVariationEntries:s}=e,c=this.getStringAssignment(i,r,n,"control");if(c==="control")return o;if(!c.startsWith("treatment-"))return ji.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),o;let l=Number.parseInt(c.split("-")[1])-1;return isNaN(l)?(ji.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),o):l>=s.length?(ji.logger.warn(`Selected treatment variation (${l}) index is out of bounds. Defaulting to control variation.`),o):s[l]}evaluateBanditAction(e,r,n,i,o){if(!Object.keys(i).length)return null;let s=(0,sv.ensureContextualSubjectAttributes)(n),c=(0,sv.ensureActionsWithContextualAttributes)(i);return this.banditEvaluator.evaluateBandit(e,r,s,c,o)}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,o=e.action??"__eppo_no_action",s={flagKey:n,subjectKey:r,banditKey:i,actionKey:o};if(!this.banditAssignmentCache?.has(s))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(s)}catch(c){ji.logger.warn("Error encountered logging bandit action",c)}}getAssignmentVariation(e,r,n,i,o){try{let s=this.getAssignmentDetail(e,r,n,o);return this.parseVariationWithDetails(s,i,o)}catch(s){let c=this.rethrowIfNotGraceful(s,i);if(s instanceof axt.FlagEvaluationError&&s.flagEvaluationDetails)return{eppoValue:c,flagEvaluationDetails:s.flagEvaluationDetails};{let l=new a4e.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR",`Assignment Error: ${s.message}`);return{eppoValue:c,flagEvaluationDetails:l}}}}parseVariationWithDetails({flagEvaluationDetails:e,variation:r},n,i){try{return!r||e.flagEvaluationCode!=="MATCH"?{eppoValue:n,flagEvaluationDetails:e}:{eppoValue:av.EppoValue.valueOf(r.value,i),flagEvaluationDetails:e}}catch(o){return{eppoValue:this.rethrowIfNotGraceful(o,n),flagEvaluationDetails:e}}}rethrowIfNotGraceful(e,r){if(this.isGracefulFailureMode)return ji.logger.error(`${ji.loggerPrefix} Error getting assignment: ${e.message}`),r??av.EppoValue.Null();throw e}getAllAssignments(e,r={}){let n=this.getConfigDetails(),i=this.getFlagKeys(),o={};return i.forEach(s=>{let c=this.getFlag(s);if(!c){ji.logger.debug(`${ji.loggerPrefix} No assigned variation. Flag does not exist.`);return}let l=this.evaluator.evaluateFlag(c,n,e,r,this.isObfuscated);if(!l.variation||!l.allocationKey){ji.logger.debug(`${ji.loggerPrefix} No assigned variation: ${s}`);return}o[s]={flagKey:s,allocationKey:l.allocationKey,doLog:l.doLog,extraLogging:l.extraLogging,variationKey:l.variation.key,variationType:c.variationType,variationValue:l.variation.value.toString()}}),o}getPrecomputedConfiguration(e,r={},n={},i){let o=this.getConfigDetails(),s=(0,sv.ensureContextualSubjectAttributes)(r),c=(0,sv.ensureNonContextualSubjectAttributes)(r),l=this.getAllAssignments(e,c),m=this.computeBanditsForFlags(e,s,n,l),w=o4e.PrecomputedConfiguration.obfuscated(e,l,m,i??"",s,o.configEnvironment),b=new o4e.ConfigurationWireV1(w);return JSON.stringify(b)}getAssignmentDetail(e,r,n={},i){(0,c4e.validateNotBlank)(r,"Invalid argument: subjectKey cannot be blank"),(0,c4e.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let o=this.newFlagEvaluationDetailsBuilder(e),s=this.getConfigDetails(),c=this.getFlag(e);if(c===null){ji.logger.warn(`${ji.loggerPrefix} No assigned variation. Flag not found: ${e}`);let m=o.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,_C.noneResult)(e,r,n,m,s.configFormat)}if(!u4e(i,c.variationType)){let m=`Variation value does not have the correct type. Found ${c.variationType}, but expected ${i} for flag ${e}`;if(this.isGracefulFailureMode){let w=o.buildForNoneResult("TYPE_MISMATCH",m);return(0,_C.noneResult)(e,r,n,w,s.configFormat)}throw new TypeError(m)}if(!c.enabled){ji.logger.info(`${ji.loggerPrefix} No assigned variation. Flag is disabled: ${e}`);let m=o.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,_C.noneResult)(e,r,n,m,s.configFormat)}let l=this.evaluator.evaluateFlag(c,s,r,n,this.isObfuscated,i);this.isObfuscated&&(l.flagKey=e);try{l?.doLog&&this.maybeLogAssignment(l)}catch(m){ji.logger.error(`${ji.loggerPrefix} Error logging assignment event: ${m}`)}return l}track(e,r){this.eventDispatcher.dispatch({uuid:(0,Xvt.v4)(),type:e,timestamp:new Date().getTime(),payload:r})}newFlagEvaluationDetailsBuilder(e){let r=this.getFlag(e),n=this.getConfigDetails();return new a4e.FlagEvaluationDetailsBuilder(n.configEnvironment.name,r?.allocations??[],n.configFetchedAt,n.configPublishedAt)}getConfigDetails(){return{configFetchedAt:this.flagConfigurationStore.getConfigFetchedAt()??"",configPublishedAt:this.flagConfigurationStore.getConfigPublishedAt()??"",configEnvironment:this.flagConfigurationStore.getEnvironment()??{name:""},configFormat:this.flagConfigurationStore.getFormat()??""}}getFlag(e){return this.isObfuscated?this.getObfuscatedFlag(e):this.flagConfigurationStore.get(e)}getObfuscatedFlag(e){let r=this.flagConfigurationStore.get((0,uxt.getMD5Hash)(e));return r?(0,oxt.decodeFlag)(r):null}getBandit(e){return this.banditModelConfigurationStore?.get(e)??null}getFlagKeys(){return this.flagConfigurationStore.getKeys()}isInitialized(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}setLogger(e){this.setAssignmentLogger(e)}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.assignmentEventsQueue,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new i4e.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new rxt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}disableBanditAssignmentCache(){this.banditAssignmentCache=void 0}useNonExpiringInMemoryBanditAssignmentCache(){this.banditAssignmentCache=new i4e.NonExpiringInMemoryAssignmentCache}useExpiringInMemoryBanditAssignmentCache(e,r){this.banditAssignmentCache=new nxt.TLRUInMemoryAssignmentCache(e,r)}useCustomBanditAssignmentCache(e){this.banditAssignmentCache=e}setIsGracefulFailureMode(e){this.isGracefulFailureMode=e}getFlagConfigurations(){return this.flagConfigurationStore.entries()}flushQueuedEvents(e,r){let n=e.flush();r&&n.forEach(i=>{try{r(i)}catch(o){ji.logger.error(`${ji.loggerPrefix} Error flushing event to logger: ${o.message}`)}})}maybeLogAssignment(e){let{flagKey:r,format:n,subjectKey:i,allocationKey:o,subjectAttributes:s,variation:c}=e,l={...e.extraLogging??{},allocation:o??null,experiment:o?`${r}-${o}`:null,featureFlag:r,format:n,variation:c?.key??null,subject:i,timestamp:new Date().toISOString(),subjectAttributes:s,metaData:this.buildLoggerMetadata(),evaluationDetails:e.flagEvaluationDetails};if(!(c&&o&&this.assignmentCache?.has({flagKey:r,subjectKey:i,allocationKey:o,variationKey:c.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.assignmentEventsQueue.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:i,allocationKey:o??"__eppo_no_allocation",variationKey:c?.key??"__eppo_no_variation"})}catch(m){ji.logger.error(`${ji.loggerPrefix} Error logging assignment event: ${m.message}`)}}buildLoggerMetadata(){return{obfuscated:this.isObfuscated,sdkLanguage:"javascript",sdkLibVersion:lxt.LIB_VERSION}}computeBanditsForFlags(e,r,n,i){let o={};return Object.keys(n).forEach(s=>{let c=i[s];if(c){let l=this.getPrecomputedBandit(s,c.variationValue,e,r,n[s]);l&&(o[s]=l)}}),o}findBanditByVariation(e,r){let i=this.banditVariationConfigurationStore?.get(e)?.find(o=>o.variationValue===r)?.key;return i?this.getBandit(i):null}getPrecomputedBandit(e,r,n,i,o){let s=this.findBanditByVariation(e,r);if(!s)return null;let c=this.evaluateBanditAction(e,n,i,o,s.modelData);return c?{banditKey:s.banditKey,action:c.actionKey,actionNumericAttributes:c.actionAttributes.numericAttributes,actionCategoricalAttributes:c.actionAttributes.categoricalAttributes,actionProbability:c.actionWeight,modelVersion:s.modelVersion,optimalityGap:c.optimalityGap}:null}};o8.default=MQ;function u4e(t,e){return t===void 0||e===t}function dxt(t,e){if(t==null)return!0;switch(t){case lh.VariationType.STRING:return typeof e=="string";case lh.VariationType.BOOLEAN:return typeof e=="boolean";case lh.VariationType.INTEGER:return typeof e=="number"&&Number.isInteger(e);case lh.VariationType.NUMERIC:return typeof e=="number";case lh.VariationType.JSON:return typeof e=="string";default:return!1}}});var d4e=K(PQ=>{"use strict";d();h();Object.defineProperty(PQ,"__esModule",{value:!0});var f4e=UZ(),l4e=ep(),kQ=class{constructor(e,r,n,i,o,s){this.httpClient=e,this.precomputedFlagStore=r,this.subjectKey=n,this.subjectAttributes=i,this.precomputedBanditsStore=o,this.banditActions=s}async fetchAndStorePrecomputedFlags(){let e=await this.httpClient.getPrecomputedFlags({subject_key:this.subjectKey,subject_attributes:this.subjectAttributes,bandit_actions:this.banditActions});if(!e)return;let r=[];r.push((0,f4e.hydrateConfigurationStore)(this.precomputedFlagStore,{entries:e.flags,environment:e.environment??{name:l4e.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt})),this.precomputedBanditsStore&&r.push((0,f4e.hydrateConfigurationStore)(this.precomputedBanditsStore,{entries:e.bandits,environment:e.environment??{name:l4e.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt}))}};PQ.default=kQ});var y4e=K(BQ=>{"use strict";d();h();Object.defineProperty(BQ,"__esModule",{value:!0});var hxt=qB(),di=uh(),h4e=IZ(),pxt=zB(),mxt=GB(),cv=Y0(),p4e=iC(),yxt=xC(),s8=ep(),m4e=Q0(),gxt=TQ(),bxt=d4e(),vxt=AC(),xxt=IQ(),wxt=bC(),RQ=class{constructor(e){this.queuedAssignmentEvents=[],this.banditEventsQueue=[],this.precomputedFlagStore=e.precomputedFlagStore,this.precomputedBanditStore=e.precomputedBanditStore;let{subjectKey:r,subjectAttributes:n}=e.subject;this.subject={subjectKey:r,subjectAttributes:(0,h4e.ensureContextualSubjectAttributes)(n)},this.banditActions=e.banditActions,e.requestParameters?this.requestParameters=e.requestParameters:(this.precomputedFlagStore.isInitialized()||di.logger.error(`${di.loggerPrefix} EppoPrecomputedClient requires an initialized precomputedFlagStore if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.isInitialized()&&di.logger.error(`${di.loggerPrefix} Passing banditOptions without requestParameters requires an initialized precomputedBanditStore`),this.precomputedFlagStore.salt||di.logger.error(`${di.loggerPrefix} EppoPrecomputedClient requires a precomputedFlagStore with a salt if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.salt&&di.logger.warn(`${di.loggerPrefix} EppoPrecomputedClient missing or empty salt for precomputedBanditStore`))}async fetchPrecomputedFlags(){if(!this.requestParameters)throw new Error("Eppo SDK unable to fetch precomputed flags without the request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:o=cv.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:s=cv.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=cv.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:m=!1,throwOnFailedInitialization:w=!1,skipInitialPoll:b=!1}=this.requestParameters,{subjectKey:E,subjectAttributes:I}=this.subject,{pollingIntervalMs:M=cv.DEFAULT_POLL_INTERVAL_MS}=this.requestParameters;M<=0&&(di.logger.error("pollingIntervalMs must be greater than 0. Using default"),M=cv.DEFAULT_POLL_INTERVAL_MS);let k=new hxt.default({baseUrl:i??cv.PRECOMPUTED_BASE_URL,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),B=new yxt.default(k,o),R=new bxt.default(B,this.precomputedFlagStore,E,I,this.precomputedBanditStore,this.banditActions),U=async()=>{if(await this.precomputedFlagStore.isExpired())return R.fetchAndStorePrecomputedFlags()};this.requestPoller=(0,gxt.default)(M,U,{maxStartRetries:s,maxPollRetries:c,pollAfterSuccessfulStart:l,pollAfterFailedStart:m,errorOnFailedStart:w,skipInitialPoll:b}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getPrecomputedAssignment(e,r,n,i=o=>o){(0,vxt.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let o=this.getPrecomputedFlag(e);if(o==null)return di.logger.warn(`${di.loggerPrefix} No assigned variation. Flag not found: ${e}`),r;if(!(0,wxt.checkTypeMatch)(n,o.variationType)){let c=`${di.loggerPrefix} Type mismatch: expected ${n} but flag ${e} has type ${o.variationType}`;return di.logger.error(c),r}let s={flagKey:e,format:this.precomputedFlagStore.getFormat()??"",subjectKey:this.subject.subjectKey??"",subjectAttributes:(0,h4e.ensureNonContextualSubjectAttributes)(this.subject.subjectAttributes??{}),variation:{key:o.variationKey??"",value:o.variationValue},allocationKey:o.allocationKey??"",extraLogging:o.extraLogging??{},doLog:o.doLog};try{s?.doLog&&this.logAssignment(s)}catch(c){di.logger.error(`${di.loggerPrefix} Error logging assignment event: ${c}`)}try{return s.variation?.value!==void 0?i(s.variation.value):r}catch(c){return di.logger.error(`${di.loggerPrefix} Error transforming value: ${c}`),r}}getStringAssignment(e,r){return this.getPrecomputedAssignment(e,r,s8.VariationType.STRING)}getBooleanAssignment(e,r){return this.getPrecomputedAssignment(e,r,s8.VariationType.BOOLEAN)}getIntegerAssignment(e,r){return this.getPrecomputedAssignment(e,r,s8.VariationType.INTEGER)}getNumericAssignment(e,r){return this.getPrecomputedAssignment(e,r,s8.VariationType.NUMERIC)}getJSONAssignment(e,r){return this.getPrecomputedAssignment(e,r,s8.VariationType.JSON,n=>typeof n=="string"?JSON.parse(n):r)}getBanditAction(e,r){let n=this.getPrecomputedBandit(e);if(n==null)return di.logger.warn(`${di.loggerPrefix} No assigned variation. Bandit not found: ${e}`),{variation:r,action:null};let i=this.getStringAssignment(e,r),o={timestamp:new Date().toISOString(),featureFlag:e,bandit:n.banditKey,subject:this.subject.subjectKey??"",action:n.action,actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:n.actionNumericAttributes,subjectCategoricalAttributes:n.actionCategoricalAttributes,actionNumericAttributes:n.actionNumericAttributes,actionCategoricalAttributes:n.actionCategoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:null};try{this.logBanditAction(o)}catch(s){di.logger.error(`${di.loggerPrefix} Error logging bandit action: ${s}`)}return{variation:i,action:o.action}}getPrecomputedFlag(e){return this.getObfuscatedFlag(e)}getObfuscatedFlag(e){let r=this.precomputedFlagStore.salt,n=(0,m4e.getMD5Hash)(e,r),i=this.precomputedFlagStore.get(n);return i?(0,p4e.decodePrecomputedFlag)(i):null}getPrecomputedBandit(e){let r=this.getObfuscatedPrecomputedBandit(e);return r?(0,p4e.decodePrecomputedBandit)(r):null}getObfuscatedPrecomputedBandit(e){let r=this.precomputedBanditStore?.salt,n=(0,m4e.getMD5Hash)(e,r);return this.precomputedBanditStore?.get(n)??null}isInitialized(){return this.precomputedFlagStore.isInitialized()}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new mxt.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new pxt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}flushQueuedEvents(e,r){let n=[...e];e.length=0,r&&n.forEach(i=>{try{r(i)}catch(o){di.logger.error(`${di.loggerPrefix} Error flushing event to logger: ${o.message}`)}})}logAssignment(e){let{flagKey:r,subjectKey:n,allocationKey:i,subjectAttributes:o,variation:s,format:c}=e,l={...e.extraLogging??{},allocation:i??null,experiment:i?`${r}-${i}`:null,featureFlag:r,format:c,variation:s?.key??null,subject:n,timestamp:new Date().toISOString(),subjectAttributes:o,metaData:this.buildLoggerMetadata(),evaluationDetails:null};if(!(s&&i&&this.assignmentCache?.has({flagKey:r,subjectKey:n,allocationKey:i,variationKey:s.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.queuedAssignmentEvents.length<cv.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:n,allocationKey:i??"__eppo_no_allocation",variationKey:s?.key??"__eppo_no_variation"})}catch(m){di.logger.error(`${di.loggerPrefix} Error logging assignment event: ${m.message}`)}}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,o=e.action??"__eppo_no_action",s={flagKey:n,subjectKey:r,banditKey:i,actionKey:o};if(!this.banditAssignmentCache?.has(s))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(s)}catch(c){di.logger.warn("Error encountered logging bandit action",c)}}buildLoggerMetadata(){return{obfuscated:!0,sdkLanguage:"javascript",sdkLibVersion:xxt.LIB_VERSION}}};BQ.default=RQ});var g4e=K(IC=>{"use strict";d();h();Object.defineProperty(IC,"__esModule",{value:!0});IC.HybridConfigurationStore=void 0;var TC=uh(),CQ=class{constructor(e,r){this.servingStore=e,this.persistentStore=r,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null,this.format=null}async init(){if(!this.persistentStore)return;this.persistentStore.isInitialized()||TC.logger.warn(`${TC.loggerPrefix} Persistent store is not initialized from remote configuration. Serving assignments that may be stale.`);let e=await this.persistentStore.entries();this.servingStore.setEntries(e)}isInitialized(){return this.servingStore.isInitialized()&&(this.persistentStore?.isInitialized()??!0)}async isExpired(){return await this.persistentStore?.isExpired()??!0}get(e){return this.servingStore.isInitialized()||TC.logger.warn(`${TC.loggerPrefix} getting a value from a ServingStore that is not initialized.`),this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async setEntries(e){return this.persistentStore&&await this.persistentStore.setEntries(e),this.servingStore.setEntries(e),!0}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};IC.HybridConfigurationStore=CQ});var b4e=K(SS=>{"use strict";d();h();Object.defineProperty(SS,"__esModule",{value:!0});SS.MemoryOnlyConfigurationStore=SS.MemoryStore=void 0;var MC=class{constructor(){this.store={},this.initialized=!1}get(e){return this.store[e]??null}entries(){return this.store}getKeys(){return Object.keys(this.store)}isInitialized(){return this.initialized}setEntries(e){this.store={...e},this.initialized=!0}};SS.MemoryStore=MC;var OQ=class{constructor(){this.servingStore=new MC,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null,this.format=null}init(){return this.initialized=!0,Promise.resolve()}get(e){return this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async isExpired(){return!0}isInitialized(){return this.initialized}async setEntries(e){return this.servingStore.setEntries(e),this.initialized=!0,!0}getEnvironment(){return this.environment}setEnvironment(e){this.environment=e}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};SS.MemoryOnlyConfigurationStore=OQ});var UQ=K(DQ=>{"use strict";d();h();Object.defineProperty(DQ,"__esModule",{value:!0});var Sxt=100,Axt=1e4,NQ=class{constructor(e,r){this.eventQueue=e,this.batchSize=Math.max(Sxt,Math.min(Axt,r))}nextBatch(){return this.eventQueue.splice(this.batchSize)}push(...e){this.eventQueue.push(...e)}isEmpty(){return this.eventQueue.isEmpty()}};DQ.default=NQ});var v4e=K(qQ=>{"use strict";d();h();Object.defineProperty(qQ,"__esModule",{value:!0});var LQ=uh(),FQ=class{constructor(e,r){this.delivery=e,this.config=r}async retry(e,r=0){let{retryIntervalMs:n,maxRetryDelayMs:i,maxRetries:o}=this.config,s=Math.min(n*Math.pow(2,r),i);LQ.logger.info(`[BatchRetryManager] Retrying batch delivery of ${e.length} events in ${s}ms...`),await new Promise(l=>setTimeout(l,s));let{failedEvents:c}=await this.delivery.deliver(e);return c.length===0?(LQ.logger.info(`[BatchRetryManager] Batch delivery successfully after ${r+1} tries.`),[]):r<o-1?this.retry(c,r+1):(LQ.logger.warn(`[BatchRetryManager] Failed to deliver batch after ${o} tries, bailing`),e)}};qQ.default=FQ});var x4e=K(VQ=>{"use strict";d();h();Object.defineProperty(VQ,"__esModule",{value:!0});var kC=uh(),KQ=class{constructor(e,r){this.sdkKey=e,this.ingestionUrl=r}async deliver(e){try{kC.logger.info(`[EventDispatcher] Delivering batch of ${e.length} events to ${this.ingestionUrl}...`);let r=await fetch(this.ingestionUrl,{method:"POST",headers:{"Content-Type":"application/json","x-eppo-token":this.sdkKey},body:JSON.stringify({eppo_events:e})});return r.ok?await this.parseFailedEvents(r,e):{failedEvents:e}}catch(r){return kC.logger.warn("Failed to upload event batch",r),{failedEvents:e}}}async parseFailedEvents(e,r){kC.logger.info("[EventDispatcher] Batch delivered successfully.");let n=await e.json(),i=new Set(n?.failed_events||[]);return i.size>0?(kC.logger.warn(`[EventDispatcher] ${i.size}/${r.length} events failed ingestion.`),{failedEvents:r.filter(({uuid:o})=>i.has(o))}):{failedEvents:[]}}};VQ.default=KQ});var S4e=K(jQ=>{"use strict";d();h();Object.defineProperty(jQ,"__esModule",{value:!0});var Ext=$Y(),w4e="v0/i",HQ=class{decodeEventIngestionUrl(e){let r=e.split(".")[1];if(!r)return null;let n=Ext.Base64.decode(r),o=new URLSearchParams(n).get("eh");if(!o)return null;let s=o.endsWith("/")?`${o}${w4e}`:`${o}/${w4e}`;return!s.startsWith("http://")&&!s.startsWith("https://")?`https://${s}`:s}};jQ.default=HQ});var A4e=K(dh=>{"use strict";d();h();Object.defineProperty(dh,"__esModule",{value:!0});dh.DEFAULT_EVENT_DISPATCHER_CONFIG=dh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=void 0;dh.newDefaultEventDispatcher=Pxt;var AS=uh(),_xt=UQ(),Txt=v4e(),Ixt=x4e(),Mxt=SQ(),kxt=S4e();dh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=1e3;dh.DEFAULT_EVENT_DISPATCHER_CONFIG={deliveryIntervalMs:1e4,retryIntervalMs:5e3,maxRetryDelayMs:3e4,maxRetries:3};var PC=class{constructor(e,r,n){this.batchProcessor=e,this.networkStatusListener=r,this.dispatchTimer=null,this.isOffline=!1,this.ensureConfigFields(n);let{sdkKey:i,ingestionUrl:o,retryIntervalMs:s,maxRetryDelayMs:c,maxRetries:l=3}=n;this.eventDelivery=new Ixt.default(i,o),this.retryManager=new Txt.default(this.eventDelivery,{retryIntervalMs:s,maxRetryDelayMs:c,maxRetries:l}),this.deliveryIntervalMs=n.deliveryIntervalMs,this.networkStatusListener.onNetworkStatusChange(m=>{AS.logger.info(`[EventDispatcher] Network status change, isOffline=${m}.`),this.isOffline=m,m?this.dispatchTimer=null:this.maybeScheduleNextDelivery()})}dispatch(e){this.batchProcessor.push(e),this.maybeScheduleNextDelivery()}async deliverNextBatch(){if(this.isOffline){AS.logger.warn("[EventDispatcher] Skipping delivery; network status is offline.");return}let e=this.batchProcessor.nextBatch();if(e.length===0){this.dispatchTimer=null;return}let{failedEvents:r}=await this.eventDelivery.deliver(e);if(r.length>0){AS.logger.warn("[EventDispatcher] Failed to deliver some events from batch, retrying...");let n=await this.retryManager.retry(r);n.length>0&&this.batchProcessor.push(...n)}AS.logger.debug(`[EventDispatcher] Delivered batch of ${e.length} events.`),this.dispatchTimer=null,this.maybeScheduleNextDelivery()}maybeScheduleNextDelivery(){!this.isOffline&&!this.batchProcessor.isEmpty()&&!this.dispatchTimer&&(AS.logger.info(`[EventDispatcher] Scheduling next delivery in ${this.deliveryIntervalMs}ms.`),this.dispatchTimer=setTimeout(()=>this.deliverNextBatch(),this.deliveryIntervalMs))}ensureConfigFields(e){if(!e.ingestionUrl)throw new Error("Missing required ingestionUrl in EventDispatcherConfig");if(!e.deliveryIntervalMs)throw new Error("Missing required deliveryIntervalMs in EventDispatcherConfig");if(!e.retryIntervalMs)throw new Error("Missing required retryIntervalMs in EventDispatcherConfig");if(!e.maxRetryDelayMs)throw new Error("Missing required maxRetryDelayMs in EventDispatcherConfig")}};dh.default=PC;function Pxt(t,e,r,n=dh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE,i=dh.DEFAULT_EVENT_DISPATCHER_CONFIG){let s=new kxt.default().decodeEventIngestionUrl(r);return s?new PC(new _xt.default(t,n),e,{...i,ingestionUrl:s,sdkKey:r}):(AS.logger.debug("Unable to parse Event ingestion URL from SDK key, falling back to no-op event dispatcher"),new Mxt.default)}});var I4e=K(Ft=>{"use strict";d();h();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.decodePrecomputedFlag=Ft.DefaultEventDispatcher=Ft.BatchEventProcessor=Ft.newDefaultEventDispatcher=Ft.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=Ft.DEFAULT_EVENT_DISPATCHER_CONFIG=Ft.BoundedEventQueue=Ft.FormatEnum=Ft.VariationType=Ft.assignmentCacheValueToString=Ft.assignmentCacheKeyToString=Ft.LRUInMemoryAssignmentCache=Ft.NonExpiringInMemoryAssignmentCache=Ft.MemoryOnlyConfigurationStore=Ft.HybridConfigurationStore=Ft.MemoryStore=Ft.EppoPrecomputedClient=Ft.validation=Ft.HttpClient=Ft.FlagConfigRequestor=Ft.ApiEndpoints=Ft.constants=Ft.EppoClient=Ft.AbstractAssignmentCache=Ft.applicationLogger=Ft.loggerPrefix=void 0;var Rxt=qB();Ft.ApiEndpoints=Rxt.default;var E4e=uh();Object.defineProperty(Ft,"applicationLogger",{enumerable:!0,get:function(){return E4e.logger}});Object.defineProperty(Ft,"loggerPrefix",{enumerable:!0,get:function(){return E4e.loggerPrefix}});var zQ=D4();Object.defineProperty(Ft,"AbstractAssignmentCache",{enumerable:!0,get:function(){return zQ.AbstractAssignmentCache}});Object.defineProperty(Ft,"assignmentCacheKeyToString",{enumerable:!0,get:function(){return zQ.assignmentCacheKeyToString}});Object.defineProperty(Ft,"assignmentCacheValueToString",{enumerable:!0,get:function(){return zQ.assignmentCacheValueToString}});var Bxt=zB();Object.defineProperty(Ft,"LRUInMemoryAssignmentCache",{enumerable:!0,get:function(){return Bxt.LRUInMemoryAssignmentCache}});var Cxt=GB();Object.defineProperty(Ft,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:function(){return Cxt.NonExpiringInMemoryAssignmentCache}});var Oxt=bC();Ft.EppoClient=Oxt.default;var Nxt=y4e();Ft.EppoPrecomputedClient=Nxt.default;var Dxt=KZ();Ft.FlagConfigRequestor=Dxt.default;var Uxt=g4e();Object.defineProperty(Ft,"HybridConfigurationStore",{enumerable:!0,get:function(){return Uxt.HybridConfigurationStore}});var _4e=b4e();Object.defineProperty(Ft,"MemoryStore",{enumerable:!0,get:function(){return _4e.MemoryStore}});Object.defineProperty(Ft,"MemoryOnlyConfigurationStore",{enumerable:!0,get:function(){return _4e.MemoryOnlyConfigurationStore}});var Lxt=Y0();Ft.constants=Lxt;var Fxt=iC();Object.defineProperty(Ft,"decodePrecomputedFlag",{enumerable:!0,get:function(){return Fxt.decodePrecomputedFlag}});var qxt=UQ();Ft.BatchEventProcessor=qxt.default;var Kxt=vQ();Object.defineProperty(Ft,"BoundedEventQueue",{enumerable:!0,get:function(){return Kxt.BoundedEventQueue}});var RC=A4e();Ft.DefaultEventDispatcher=RC.default;Object.defineProperty(Ft,"DEFAULT_EVENT_DISPATCHER_CONFIG",{enumerable:!0,get:function(){return RC.DEFAULT_EVENT_DISPATCHER_CONFIG}});Object.defineProperty(Ft,"DEFAULT_EVENT_DISPATCHER_BATCH_SIZE",{enumerable:!0,get:function(){return RC.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE}});Object.defineProperty(Ft,"newDefaultEventDispatcher",{enumerable:!0,get:function(){return RC.newDefaultEventDispatcher}});var Vxt=xC();Ft.HttpClient=Vxt.default;var T4e=ep();Object.defineProperty(Ft,"VariationType",{enumerable:!0,get:function(){return T4e.VariationType}});Object.defineProperty(Ft,"FormatEnum",{enumerable:!0,get:function(){return T4e.FormatEnum}});var Hxt=AC();Ft.validation=Hxt});var UTe=K((HWr,DTe)=>{d();h();var $Et=RLe(),YEt=FF(),ZEt="[object Date]";function QEt(t){return YEt(t)&&$Et(t)==ZEt}DTe.exports=QEt});var KTe=K((WWr,qTe)=>{d();h();var JEt=UTe(),XEt=qF(),LTe=KF(),FTe=LTe&&LTe.isDate,e3t=FTe?XEt(FTe):JEt;qTe.exports=e3t});var yA=K(zN=>{"use strict";d();h();Object.defineProperty(zN,"__esModule",{value:!0});zN.AppAuthError=void 0;var i_t=function(){function t(e,r){this.message=e,this.extras=r}return t}();zN.AppAuthError=i_t});var WN=K(Ih=>{"use strict";d();h();Object.defineProperty(Ih,"__esModule",{value:!0});Ih.DefaultCrypto=Ih.textEncodeLite=Ih.urlSafe=Ih.bufferToString=void 0;var o_t=fae(),mMe=yA(),yMe=typeof self<"u"&&!!self.crypto,s_t=yMe&&!!self.crypto.subtle,Uee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function gMe(t){for(var e=[],r=0;r<t.byteLength;r+=1){var n=t[r]%Uee.length;e.push(Uee[n])}return e.join("")}Ih.bufferToString=gMe;function bMe(t){var e=o_t.fromByteArray(new Uint8Array(t));return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}Ih.urlSafe=bMe;function vMe(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}Ih.textEncodeLite=vMe;var a_t=function(){function t(){}return t.prototype.generateRandom=function(e){var r=new Uint8Array(e);if(yMe)self.crypto.getRandomValues(r);else for(var n=0;n<e;n+=1)r[n]=Math.random()*Uee.length|0;return gMe(r)},t.prototype.deriveChallenge=function(e){return e.length<43||e.length>128?Promise.reject(new mMe.AppAuthError("Invalid code length.")):s_t?new Promise(function(r,n){self.crypto.subtle.digest("SHA-256",vMe(e)).then(function(i){return r(bMe(new Uint8Array(i)))},function(i){return n(i)})}):Promise.reject(new mMe.AppAuthError("window.crypto.subtle is unavailable."))},t}();Ih.DefaultCrypto=a_t});var Lee=K(Mu=>{"use strict";d();h();Object.defineProperty(Mu,"__esModule",{value:!0});Mu.IS_PROFILE=Mu.IS_LOG=Mu.setFlag=Mu.Flags=void 0;Mu.Flags={IS_LOG:!0,IS_PROFILE:!1};function c_t(t,e){Mu.Flags[t]=e}Mu.setFlag=c_t;Mu.IS_LOG=Mu.Flags.IS_LOG,Mu.IS_PROFILE=Mu.Flags.IS_PROFILE});var f5=K(xg=>{"use strict";d();h();var Fee=xg&&xg.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(xg,"__esModule",{value:!0});xg.profile=xg.log=void 0;var xMe=Lee();function qee(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(xMe.Flags.IS_LOG){var n=e?e.length:0;n>0?console.log.apply(console,Fee([t],e,!1)):console.log(t)}}xg.log=qee;var u_t=typeof self<"u"&&!!self.performance&&!!console.profile;function f_t(t,e,r){return xMe.Flags.IS_PROFILE?l_t(t,e,r):r}xg.profile=f_t;function l_t(t,e,r){var n=r.value,i=n.name;return i||(i="anonymous function"),u_t?r.value=function(o){console.profile(i);var s=self.performance.now(),c=n.call.apply(n,Fee([this||self],o,!1)),l=self.performance.now()-s;return console.log("".concat(i," took ").concat(l," ms")),console.profileEnd(),c}:r.value=function(o){qee("Profile start ".concat(i));var s=Date.now(),c=n.call.apply(n,Fee([this||self],o,!1)),l=Date.now()-s;return qee("Profile end ".concat(i," took ").concat(l," ms.")),c},r}});var Kee=K(GN=>{"use strict";d();h();Object.defineProperty(GN,"__esModule",{value:!0});GN.AuthorizationRequest=void 0;var d_t=WN(),h_t=f5(),p_t=10,m_t=function(t){return t.generateRandom(p_t)},y_t=function(){function t(e,r,n){r===void 0&&(r=new d_t.DefaultCrypto),n===void 0&&(n=!0),this.crypto=r,this.usePkce=n,this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.scope=e.scope,this.responseType=e.response_type||t.RESPONSE_TYPE_CODE,this.state=e.state||m_t(r),this.extras=e.extras,this.internal=e.internal}return t.prototype.setupCodeVerifier=function(){var e=this;if(this.usePkce){var r=this.crypto.generateRandom(128),n=this.crypto.deriveChallenge(r).catch(function(i){(0,h_t.log)("Unable to generate PKCE challenge. Not using PKCE",i)});return n.then(function(i){i&&(e.internal=e.internal||{},e.internal.code_verifier=r,e.extras=e.extras||{},e.extras.code_challenge=i,e.extras.code_challenge_method="S256")})}else return Promise.resolve()},t.prototype.toJson=function(){var e=this;return this.setupCodeVerifier().then(function(){return{response_type:e.responseType,client_id:e.clientId,redirect_uri:e.redirectUri,scope:e.scope,state:e.state,extras:e.extras,internal:e.internal}})},t.RESPONSE_TYPE_TOKEN="token",t.RESPONSE_TYPE_CODE="code",t}();GN.AuthorizationRequest=y_t});var wMe=K($N=>{"use strict";d();h();Object.defineProperty($N,"__esModule",{value:!0});$N.requireValidUrl=void 0;var g_t=yA();function b_t(t){try{return new URL(t),t}catch{throw new g_t.AppAuthError("Invalid input url ".concat(t))}}$N.requireValidUrl=b_t});var Hee=K(vp=>{"use strict";d();h();Object.defineProperty(vp,"__esModule",{value:!0});vp.AuthorizationRequestHandler=vp.BUILT_IN_PARAMETERS=vp.AuthorizationNotifier=void 0;var Vee=f5(),v_t=wMe(),x_t=function(){function t(){this.listener=null}return t.prototype.setAuthorizationListener=function(e){this.listener=e},t.prototype.onAuthorizationComplete=function(e,r,n){this.listener&&this.listener(e,r,n)},t}();vp.AuthorizationNotifier=x_t;vp.BUILT_IN_PARAMETERS=["redirect_uri","client_id","response_type","state","scope"];var w_t=function(){function t(e,r){this.utils=e,this.crypto=r,this.notifier=null}return t.prototype.buildRequestUrl=function(e,r){var n={redirect_uri:r.redirectUri,client_id:r.clientId,response_type:r.responseType,state:r.state,scope:r.scope};if(r.extras)for(var i in r.extras)r.extras.hasOwnProperty(i)&&vp.BUILT_IN_PARAMETERS.indexOf(i)<0&&(n[i]=r.extras[i]);var o=this.utils.stringify(n),s=(0,v_t.requireValidUrl)(e.authorizationEndpoint),c="".concat(s,"?").concat(o);return c},t.prototype.completeAuthorizationRequestIfPossible=function(){var e=this;return(0,Vee.log)("Checking to see if there is an authorization response to be delivered."),this.notifier||(0,Vee.log)(`Notifier is not present on AuthorizationRequest handler.
          No delivery of result will be possible`),this.completeAuthorizationRequest().then(function(r){r||(0,Vee.log)("No result is available yet."),r&&e.notifier&&e.notifier.onAuthorizationComplete(r.request,r.response,r.error)})},t.prototype.setAuthorizationNotifier=function(e){return this.notifier=e,this},t}();vp.AuthorizationRequestHandler=w_t});var jee=K(gA=>{"use strict";d();h();Object.defineProperty(gA,"__esModule",{value:!0});gA.AuthorizationError=gA.AuthorizationResponse=void 0;var S_t=function(){function t(e){this.code=e.code,this.state=e.state}return t.prototype.toJson=function(){return{code:this.code,state:this.state}},t}();gA.AuthorizationResponse=S_t;var A_t=function(){function t(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri,this.state=e.state}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri,state:this.state}},t}();gA.AuthorizationError=A_t});var ZN=K($f=>{"use strict";d();h();var Wee=$f&&$f.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty($f,"__esModule",{value:!0});$f.TestRequestor=$f.FetchRequestor=$f.JQueryRequestor=$f.Requestor=void 0;var zee=yA(),YN=function(){function t(){}return t}();$f.Requestor=YN;var E_t=function(t){Wee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.xhr=function(r){var n=$.ajax(r);return new Promise(function(i,o){n.then(function(s,c,l){i(s)},function(s,c,l){o(new zee.AppAuthError(l))})})},e}(YN);$f.JQueryRequestor=E_t;var __t=function(t){Wee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.xhr=function(r){if(!r.url)return Promise.reject(new zee.AppAuthError("A URL must be provided."));var n=new URL(r.url),i={};if(i.method=r.method,i.mode="cors",r.data)if(r.method&&r.method.toUpperCase()==="POST")i.body=r.data;else{var o=new URLSearchParams(r.data);o.forEach(function(l,m){n.searchParams.append(m,l)})}if(i.headers={},r.headers)for(var s in r.headers)r.headers.hasOwnProperty(s)&&(i.headers[s]=r.headers[s]);var c=r.dataType&&r.dataType.toLowerCase()==="json";return c&&(i.headers.Accept="application/json, text/javascript, */*; q=0.01"),fetch(n.toString(),i).then(function(l){if(l.status>=200&&l.status<300){var m=l.headers.get("content-type");return c||m&&m.indexOf("application/json")!==-1?l.json():l.text()}else return Promise.reject(new zee.AppAuthError(l.status.toString(),l.statusText))})},e}(YN);$f.FetchRequestor=__t;var T_t=function(t){Wee(e,t);function e(r){var n=t.call(this)||this;return n.promise=r,n}return e.prototype.xhr=function(r){return this.promise},e}(YN);$f.TestRequestor=T_t});var SMe=K(QN=>{"use strict";d();h();Object.defineProperty(QN,"__esModule",{value:!0});QN.AuthorizationServiceConfiguration=void 0;var I_t=ZN(),M_t=".well-known",k_t="openid-configuration",P_t=function(){function t(e){this.authorizationEndpoint=e.authorization_endpoint,this.tokenEndpoint=e.token_endpoint,this.revocationEndpoint=e.revocation_endpoint,this.userInfoEndpoint=e.userinfo_endpoint,this.endSessionEndpoint=e.end_session_endpoint}return t.prototype.toJson=function(){return{authorization_endpoint:this.authorizationEndpoint,token_endpoint:this.tokenEndpoint,revocation_endpoint:this.revocationEndpoint,end_session_endpoint:this.endSessionEndpoint,userinfo_endpoint:this.userInfoEndpoint}},t.fetchFromIssuer=function(e,r){var n="".concat(e,"/").concat(M_t,"/").concat(k_t),i=r||new I_t.JQueryRequestor;return i.xhr({url:n,dataType:"json",method:"GET"}).then(function(o){return new t(o)})},t}();QN.AuthorizationServiceConfiguration=P_t});var XN=K(JN=>{"use strict";d();h();Object.defineProperty(JN,"__esModule",{value:!0});JN.BasicQueryStringUtils=void 0;var R_t=function(){function t(){}return t.prototype.parse=function(e,r){return r?this.parseQueryString(e.hash):this.parseQueryString(e.search)},t.prototype.parseQueryString=function(e){var r={};e=e.trim().replace(/^(\?|#|&)/,"");for(var n=e.split("&"),i=0;i<n.length;i+=1){var o=n[i],s=o.split("=");if(s.length>=2){var c=decodeURIComponent(s.shift()),l=s.length>0?s.join("="):null;l&&(r[c]=decodeURIComponent(l))}}return r},t.prototype.stringify=function(e){var r=[];for(var n in e)e.hasOwnProperty(n)&&e[n]&&r.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])));return r.join("&")},t}();JN.BasicQueryStringUtils=R_t});var Gee=K(wg=>{"use strict";d();h();var B_t=wg&&wg.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(wg,"__esModule",{value:!0});wg.LocalStorageBackend=wg.StorageBackend=void 0;var AMe=function(){function t(){}return t}();wg.StorageBackend=AMe;var C_t=function(t){B_t(e,t);function e(r){var n=t.call(this)||this;return n.storage=r||self.localStorage,n}return e.prototype.getItem=function(r){var n=this;return new Promise(function(i,o){var s=n.storage.getItem(r);i(s||null)})},e.prototype.removeItem=function(r){var n=this;return new Promise(function(i,o){n.storage.removeItem(r),i()})},e.prototype.clear=function(){var r=this;return new Promise(function(n,i){r.storage.clear(),n()})},e.prototype.setItem=function(r,n){var i=this;return new Promise(function(o,s){i.storage.setItem(r,n),o()})},e}(AMe);wg.LocalStorageBackend=C_t});var TMe=K(bA=>{"use strict";d();h();var O_t=bA&&bA.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(bA,"__esModule",{value:!0});bA.RedirectRequestHandler=void 0;var N_t=Kee(),D_t=Hee(),EMe=jee(),U_t=WN(),eD=f5(),L_t=XN(),F_t=Gee(),$ee=function(t){return"".concat(t,"_appauth_authorization_request")},_Me=function(t){return"".concat(t,"_appauth_authorization_service_configuration")},Yee="appauth_current_authorization_request",q_t=function(t){O_t(e,t);function e(r,n,i,o){r===void 0&&(r=new F_t.LocalStorageBackend),n===void 0&&(n=new L_t.BasicQueryStringUtils),i===void 0&&(i=self.location),o===void 0&&(o=new U_t.DefaultCrypto);var s=t.call(this,n,o)||this;return s.storageBackend=r,s.locationLike=i,s}return e.prototype.performAuthorizationRequest=function(r,n){var i=this,o=this.crypto.generateRandom(10),s=Promise.all([this.storageBackend.setItem(Yee,o),n.toJson().then(function(c){return i.storageBackend.setItem($ee(o),JSON.stringify(c))}),this.storageBackend.setItem(_Me(o),JSON.stringify(r.toJson()))]);s.then(function(){var c=i.buildRequestUrl(r,n);(0,eD.log)("Making a request to ",n,c),i.locationLike.assign(c)})},e.prototype.completeAuthorizationRequest=function(){var r=this;return this.storageBackend.getItem(Yee).then(function(n){return n?r.storageBackend.getItem($ee(n)).then(function(i){return JSON.parse(i)}).then(function(i){return new N_t.AuthorizationRequest(i)}).then(function(i){var o="".concat(r.locationLike.origin).concat(r.locationLike.pathname),s=r.utils.parse(r.locationLike,!0),c=s.state,l=s.code,m=s.error;(0,eD.log)("Potential authorization request ",o,s,c,l,m);var w=c===i.state,b=null,E=null;if(w){if(m){var I=s.error_uri,M=s.error_description;E=new EMe.AuthorizationError({error:m,error_description:M,error_uri:I,state:c})}else b=new EMe.AuthorizationResponse({code:l,state:c});return Promise.all([r.storageBackend.removeItem(Yee),r.storageBackend.removeItem($ee(n)),r.storageBackend.removeItem(_Me(n))]).then(function(){return(0,eD.log)("Delivering authorization response"),{request:i,response:b,error:E}})}else return(0,eD.log)("Mismatched request (state and request_uri) dont match."),Promise.resolve(null)}):null})},e}(D_t.AuthorizationRequestHandler);bA.RedirectRequestHandler=q_t});var IMe=K(tD=>{"use strict";d();h();Object.defineProperty(tD,"__esModule",{value:!0});tD.RevokeTokenRequest=void 0;var K_t=function(){function t(e){this.token=e.token,this.tokenTypeHint=e.token_type_hint,this.clientId=e.client_id,this.clientSecret=e.client_secret}return t.prototype.toJson=function(){var e={token:this.token};return this.tokenTypeHint&&(e.token_type_hint=this.tokenTypeHint),this.clientId&&(e.client_id=this.clientId),this.clientSecret&&(e.client_secret=this.clientSecret),e},t.prototype.toStringMap=function(){var e=this.toJson();return e},t}();tD.RevokeTokenRequest=K_t});var MMe=K(Sg=>{"use strict";d();h();Object.defineProperty(Sg,"__esModule",{value:!0});Sg.TokenRequest=Sg.GRANT_TYPE_REFRESH_TOKEN=Sg.GRANT_TYPE_AUTHORIZATION_CODE=void 0;Sg.GRANT_TYPE_AUTHORIZATION_CODE="authorization_code";Sg.GRANT_TYPE_REFRESH_TOKEN="refresh_token";var V_t=function(){function t(e){this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.grantType=e.grant_type,this.code=e.code,this.refreshToken=e.refresh_token,this.extras=e.extras}return t.prototype.toJson=function(){return{grant_type:this.grantType,code:this.code,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,client_id:this.clientId,extras:this.extras}},t.prototype.toStringMap=function(){var e={grant_type:this.grantType,client_id:this.clientId,redirect_uri:this.redirectUri};if(this.code&&(e.code=this.code),this.refreshToken&&(e.refresh_token=this.refreshToken),this.extras)for(var r in this.extras)this.extras.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=this.extras[r]);return e},t}();Sg.TokenRequest=V_t});var Zee=K(Mh=>{"use strict";d();h();Object.defineProperty(Mh,"__esModule",{value:!0});Mh.TokenError=Mh.TokenResponse=Mh.nowInSeconds=void 0;var H_t=10*60*-1,j_t=function(){return Math.round(new Date().getTime()/1e3)};Mh.nowInSeconds=j_t;var z_t=function(){function t(e){this.accessToken=e.access_token,this.tokenType=e.token_type||"bearer",e.expires_in&&(this.expiresIn=parseInt(e.expires_in,10)),this.refreshToken=e.refresh_token,this.scope=e.scope,this.idToken=e.id_token,this.issuedAt=e.issued_at||(0,Mh.nowInSeconds)()}return t.prototype.toJson=function(){var e;return{access_token:this.accessToken,id_token:this.idToken,refresh_token:this.refreshToken,scope:this.scope,token_type:this.tokenType,issued_at:this.issuedAt,expires_in:(e=this.expiresIn)===null||e===void 0?void 0:e.toString()}},t.prototype.isValid=function(e){if(e===void 0&&(e=H_t),this.expiresIn){var r=(0,Mh.nowInSeconds)();return r<this.issuedAt+this.expiresIn+e}else return!0},t}();Mh.TokenResponse=z_t;var W_t=function(){function t(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri}},t}();Mh.TokenError=W_t});var PMe=K(rD=>{"use strict";d();h();Object.defineProperty(rD,"__esModule",{value:!0});rD.BaseTokenRequestHandler=void 0;var G_t=yA(),$_t=XN(),kMe=Zee(),Y_t=ZN(),Z_t=function(){function t(e,r){e===void 0&&(e=new Y_t.JQueryRequestor),r===void 0&&(r=new $_t.BasicQueryStringUtils),this.requestor=e,this.utils=r}return t.prototype.isTokenResponse=function(e){return e.error===void 0},t.prototype.performRevokeTokenRequest=function(e,r){var n=this.requestor.xhr({url:e.revocationEndpoint,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(r.toStringMap())});return n.then(function(i){return!0})},t.prototype.performTokenRequest=function(e,r){var n=this,i=this.requestor.xhr({url:e.tokenEndpoint,method:"POST",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(r.toStringMap())});return i.then(function(o){return n.isTokenResponse(o)?new kMe.TokenResponse(o):Promise.reject(new G_t.AppAuthError(o.error,new kMe.TokenError(o)))})},t}();rD.BaseTokenRequestHandler=Z_t});var BMe=K(RMe=>{"use strict";d();h();Object.defineProperty(RMe,"__esModule",{value:!0})});var Qee=K(zi=>{"use strict";d();h();var Q_t=zi&&zi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ws=zi&&zi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Q_t(e,t,r)};Object.defineProperty(zi,"__esModule",{value:!0});Ws(Kee(),zi);Ws(Hee(),zi);Ws(jee(),zi);Ws(SMe(),zi);Ws(WN(),zi);Ws(yA(),zi);Ws(Lee(),zi);Ws(f5(),zi);Ws(XN(),zi);Ws(TMe(),zi);Ws(IMe(),zi);Ws(Gee(),zi);Ws(MMe(),zi);Ws(PMe(),zi);Ws(Zee(),zi);Ws(BMe(),zi);Ws(ZN(),zi)});var tke=K((fdn,eke)=>{d();h();function a8t(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}eke.exports=a8t});var nke=K((hdn,rke)=>{d();h();var c8t=iI(),u8t=bae();function f8t(t,e){return t&&c8t(e,u8t(e),t)}rke.exports=f8t});var oke=K((ydn,ike)=>{d();h();var l8t=iI(),d8t=zF();function h8t(t,e){return t&&l8t(e,d8t(e),t)}ike.exports=h8t});var ake=K((vdn,ske)=>{d();h();var p8t=iI(),m8t=pce();function y8t(t,e){return p8t(t,m8t(t),e)}ske.exports=y8t});var yte=K((Sdn,cke)=>{d();h();var g8t=KLe(),b8t=VLe(),v8t=pce(),x8t=qLe(),w8t=Object.getOwnPropertySymbols,S8t=w8t?function(t){for(var e=[];t;)g8t(e,v8t(t)),t=b8t(t);return e}:x8t;cke.exports=S8t});var fke=K((_dn,uke)=>{d();h();var A8t=iI(),E8t=yte();function _8t(t,e){return A8t(t,E8t(t),e)}uke.exports=_8t});var dke=K((Mdn,lke)=>{d();h();var T8t=HLe(),I8t=yte(),M8t=zF();function k8t(t){return T8t(t,M8t,I8t)}lke.exports=k8t});var pke=K((Rdn,hke)=>{d();h();var P8t=Object.prototype,R8t=P8t.hasOwnProperty;function B8t(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&R8t.call(t,"index")&&(r.index=t.index,r.input=t.input),r}hke.exports=B8t});var yke=K((Odn,mke)=>{d();h();var C8t=mce();function O8t(t,e){var r=e?C8t(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}mke.exports=O8t});var bke=K((Udn,gke)=>{d();h();var N8t=/\w*$/;function D8t(t){var e=new t.constructor(t.source,N8t.exec(t));return e.lastIndex=t.lastIndex,e}gke.exports=D8t});var Ake=K((qdn,Ske)=>{d();h();var vke=PLe(),xke=vke?vke.prototype:void 0,wke=xke?xke.valueOf:void 0;function U8t(t){return wke?Object(wke.call(t)):{}}Ske.exports=U8t});var _ke=K((Hdn,Eke)=>{d();h();var L8t=mce(),F8t=yke(),q8t=bke(),K8t=Ake(),V8t=zLe(),H8t="[object Boolean]",j8t="[object Date]",z8t="[object Map]",W8t="[object Number]",G8t="[object RegExp]",$8t="[object Set]",Y8t="[object String]",Z8t="[object Symbol]",Q8t="[object ArrayBuffer]",J8t="[object DataView]",X8t="[object Float32Array]",e5t="[object Float64Array]",t5t="[object Int8Array]",r5t="[object Int16Array]",n5t="[object Int32Array]",i5t="[object Uint8Array]",o5t="[object Uint8ClampedArray]",s5t="[object Uint16Array]",a5t="[object Uint32Array]";function c5t(t,e,r){var n=t.constructor;switch(e){case Q8t:return L8t(t);case H8t:case j8t:return new n(+t);case J8t:return F8t(t,r);case X8t:case e5t:case t5t:case r5t:case n5t:case i5t:case o5t:case s5t:case a5t:return V8t(t,r);case z8t:return new n;case W8t:case Y8t:return new n(t);case G8t:return q8t(t);case $8t:return new n;case Z8t:return K8t(t)}}Eke.exports=c5t});var Ike=K((Wdn,Tke)=>{d();h();var u5t=WF(),f5t=FF(),l5t="[object Map]";function d5t(t){return f5t(t)&&u5t(t)==l5t}Tke.exports=d5t});var Rke=K((Ydn,Pke)=>{d();h();var h5t=Ike(),p5t=qF(),Mke=KF(),kke=Mke&&Mke.isMap,m5t=kke?p5t(kke):h5t;Pke.exports=m5t});var Cke=K((Jdn,Bke)=>{d();h();var y5t=WF(),g5t=FF(),b5t="[object Set]";function v5t(t){return g5t(t)&&y5t(t)==b5t}Bke.exports=v5t});var Uke=K((thn,Dke)=>{d();h();var x5t=Cke(),w5t=qF(),Oke=KF(),Nke=Oke&&Oke.isSet,S5t=Nke?w5t(Nke):x5t;Dke.exports=S5t});var Vke=K((ihn,Kke)=>{d();h();var A5t=ULe(),E5t=tke(),_5t=CLe(),T5t=nke(),I5t=oke(),M5t=LLe(),k5t=FLe(),P5t=ake(),R5t=fke(),B5t=jLe(),C5t=dke(),O5t=WF(),N5t=pke(),D5t=_ke(),U5t=WLe(),L5t=OLe(),F5t=NLe(),q5t=Rke(),K5t=BLe(),V5t=Uke(),H5t=bae(),j5t=zF(),z5t=1,W5t=2,G5t=4,Lke="[object Arguments]",$5t="[object Array]",Y5t="[object Boolean]",Z5t="[object Date]",Q5t="[object Error]",Fke="[object Function]",J5t="[object GeneratorFunction]",X5t="[object Map]",eTt="[object Number]",qke="[object Object]",tTt="[object RegExp]",rTt="[object Set]",nTt="[object String]",iTt="[object Symbol]",oTt="[object WeakMap]",sTt="[object ArrayBuffer]",aTt="[object DataView]",cTt="[object Float32Array]",uTt="[object Float64Array]",fTt="[object Int8Array]",lTt="[object Int16Array]",dTt="[object Int32Array]",hTt="[object Uint8Array]",pTt="[object Uint8ClampedArray]",mTt="[object Uint16Array]",yTt="[object Uint32Array]",hi={};hi[Lke]=hi[$5t]=hi[sTt]=hi[aTt]=hi[Y5t]=hi[Z5t]=hi[cTt]=hi[uTt]=hi[fTt]=hi[lTt]=hi[dTt]=hi[X5t]=hi[eTt]=hi[qke]=hi[tTt]=hi[rTt]=hi[nTt]=hi[iTt]=hi[hTt]=hi[pTt]=hi[mTt]=hi[yTt]=!0;hi[Q5t]=hi[Fke]=hi[oTt]=!1;function mD(t,e,r,n,i,o){var s,c=e&z5t,l=e&W5t,m=e&G5t;if(r&&(s=i?r(t,n,i,o):r(t)),s!==void 0)return s;if(!K5t(t))return t;var w=L5t(t);if(w){if(s=N5t(t),!c)return k5t(t,s)}else{var b=O5t(t),E=b==Fke||b==J5t;if(F5t(t))return M5t(t,c);if(b==qke||b==Lke||E&&!i){if(s=l||E?{}:U5t(t),!c)return l?R5t(t,I5t(s,t)):P5t(t,T5t(s,t))}else{if(!hi[b])return i?t:{};s=D5t(t,b,c)}}o||(o=new A5t);var I=o.get(t);if(I)return I;o.set(t,s),V5t(t)?t.forEach(function(B){s.add(mD(B,e,r,B,t,o))}):q5t(t)&&t.forEach(function(B,R){s.set(R,mD(B,e,r,R,t,o))});var M=m?l?C5t:B5t:l?j5t:H5t,k=w?void 0:M(t);return E5t(k||t,function(B,R){k&&(R=B,B=t[R]),_5t(s,R,mD(B,e,r,R,t,o))}),s}Kke.exports=mD});var jke=K((ahn,Hke)=>{d();h();var gTt=Vke(),bTt=1,vTt=4;function xTt(t){return gTt(t,bTt|vTt)}Hke.exports=xTt});var n7e=K((khn,r7e)=>{d();h();var En={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function Zf(t,e){if(!t)throw new Error(e)}function on(t,e,r){if(Zf(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let n=r.join(", "),i=`Expected ${t} to be an Uint8Array with length [${n}]`;Zf(r.includes(e.length),i)}else{let n=`Expected ${t} to be an Uint8Array with length ${r}`;Zf(e.length===r,n)}}function Fv(t){Zf(TA(t)==="Boolean","Expected compressed to be a Boolean")}function nd(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),on("output",t,e),t}function TA(t){return Object.prototype.toString.call(t).slice(8,-1)}r7e.exports=t=>({contextRandomize(e){switch(Zf(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&on("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(En.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return on("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(on("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(En.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(on("private key",e,32),on("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(En.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(on("private key",e,32),on("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(En.TWEAK_MUL)}},publicKeyVerify(e){return on("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,n){switch(on("private key",e,32),Fv(r),n=nd(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(En.SECKEY_INVALID);case 2:throw new Error(En.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,n){switch(on("public key",e,[33,65]),Fv(r),n=nd(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(En.PUBKEY_PARSE);case 2:throw new Error(En.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,n){switch(on("public key",e,[33,65]),Fv(r),n=nd(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(En.PUBKEY_PARSE);case 2:throw new Error(En.IMPOSSIBLE_CASE);case 3:throw new Error(En.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,n){Zf(Array.isArray(e),"Expected public keys to be an Array"),Zf(e.length>0,"Expected public keys array will have more than zero items");for(let i of e)on("public key",i,[33,65]);switch(Fv(r),n=nd(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(En.PUBKEY_PARSE);case 2:throw new Error(En.PUBKEY_COMBINE);case 3:throw new Error(En.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,n=!0,i){switch(on("public key",e,[33,65]),on("tweak",r,32),Fv(n),i=nd(i,n?33:65),t.publicKeyTweakAdd(i,e,r)){case 0:return i;case 1:throw new Error(En.PUBKEY_PARSE);case 2:throw new Error(En.TWEAK_ADD)}},publicKeyTweakMul(e,r,n=!0,i){switch(on("public key",e,[33,65]),on("tweak",r,32),Fv(n),i=nd(i,n?33:65),t.publicKeyTweakMul(i,e,r)){case 0:return i;case 1:throw new Error(En.PUBKEY_PARSE);case 2:throw new Error(En.TWEAK_MUL)}},signatureNormalize(e){switch(on("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(En.SIG_PARSE)}},signatureExport(e,r){on("signature",e,64),r=nd(r,72);let n={output:r,outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(En.SIG_PARSE);case 2:throw new Error(En.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(on("signature",e),r=nd(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(En.SIG_PARSE);case 2:throw new Error(En.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,n={},i){on("message",e,32),on("private key",r,32),Zf(TA(n)==="Object","Expected options to be an Object"),n.data!==void 0&&on("options.data",n.data),n.noncefn!==void 0&&Zf(TA(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=nd(i,64);let o={signature:i,recid:null};switch(t.ecdsaSign(o,e,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(En.SIGN);case 2:throw new Error(En.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,n){switch(on("signature",e,64),on("message",r,32),on("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(En.SIG_PARSE);case 2:throw new Error(En.PUBKEY_PARSE)}},ecdsaRecover(e,r,n,i=!0,o){switch(on("signature",e,64),Zf(TA(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),on("message",n,32),Fv(i),o=nd(o,i?33:65),t.ecdsaRecover(o,e,r,n)){case 0:return o;case 1:throw new Error(En.SIG_PARSE);case 2:throw new Error(En.RECOVER);case 3:throw new Error(En.IMPOSSIBLE_CASE)}},ecdh(e,r,n={},i){switch(on("public key",e,[33,65]),on("private key",r,32),Zf(TA(n)==="Object","Expected options to be an Object"),n.data!==void 0&&on("options.data",n.data),n.hashfn!==void 0?(Zf(TA(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&on("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&on("options.ybuf",n.ybuf,32),on("output",i)):i=nd(i,32),t.ecdh(i,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(En.PUBKEY_PARSE);case 2:throw new Error(En.ECDH)}}})});var o7e=K((Bhn,i7e)=>{d();h();var MTt=pw().ec,Rh=new MTt("secp256k1"),Jr=Rh.curve,ii=Jr.n.constructor;function kTt(t,e){let r=new ii(e);if(r.cmp(Jr.p)>=0)return null;r=r.toRed(Jr.red);let n=r.redSqr().redIMul(r).redIAdd(Jr.b).redSqrt();return t===3!==n.isOdd()&&(n=n.redNeg()),Rh.keyPair({pub:{x:r,y:n}})}function PTt(t,e,r){let n=new ii(e),i=new ii(r);if(n.cmp(Jr.p)>=0||i.cmp(Jr.p)>=0||(n=n.toRed(Jr.red),i=i.toRed(Jr.red),(t===6||t===7)&&i.isOdd()!==(t===7)))return null;let o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(Jr.b)).isZero()?Rh.keyPair({pub:{x:n,y:i}}):null}function Ig(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:kTt(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:PTt(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function qv(t,e){let r=e.encode(null,t.length===33);for(let n=0;n<t.length;++n)t[n]=r[n]}i7e.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new ii(t);return e.cmp(Jr.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new ii(t),r=Jr.n.sub(e).umod(Jr.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new ii(e);if(r.cmp(Jr.n)>=0||(r.iadd(new ii(t)),r.cmp(Jr.n)>=0&&r.isub(Jr.n),r.isZero()))return 1;let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new ii(e);if(r.cmp(Jr.n)>=0||r.isZero())return 1;r.imul(new ii(t)),r.cmp(Jr.n)>=0&&(r=r.umod(Jr.n));let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){return Ig(t)===null?1:0},publicKeyCreate(t,e){let r=new ii(e);if(r.cmp(Jr.n)>=0||r.isZero())return 1;let n=Rh.keyFromPrivate(e).getPublic();return qv(t,n),0},publicKeyConvert(t,e){let r=Ig(e);if(r===null)return 1;let n=r.getPublic();return qv(t,n),0},publicKeyNegate(t,e){let r=Ig(e);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),qv(t,n),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=Ig(e[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(qv(t,n),0)},publicKeyTweakAdd(t,e,r){let n=Ig(e);if(n===null)return 1;if(r=new ii(r),r.cmp(Jr.n)>=0)return 2;let i=n.getPublic().add(Jr.g.mul(r));return i.isInfinity()?2:(qv(t,i),0)},publicKeyTweakMul(t,e,r){let n=Ig(e);if(n===null)return 1;if(r=new ii(r),r.cmp(Jr.n)>=0||r.isZero())return 2;let i=n.getPublic().mul(r);return qv(t,i),0},signatureNormalize(t){let e=new ii(t.subarray(0,32)),r=new ii(t.subarray(32,64));return e.cmp(Jr.n)>=0||r.cmp(Jr.n)>=0?1:(r.cmp(Rh.nh)===1&&t.set(Jr.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),n=e.subarray(32,64);if(new ii(r).cmp(Jr.n)>=0||new ii(n).cmp(Jr.n)>=0)return 1;let{output:i}=t,o=i.subarray(4,37);o[0]=0,o.set(r,1);let s=33,c=0;for(;s>1&&o[c]===0&&!(o[c+1]&128);--s,++c);if(o=o.subarray(c),o[0]&128||s>1&&o[0]===0&&!(o[1]&128))return 1;let l=i.subarray(39,72);l[0]=0,l.set(n,1);let m=33,w=0;for(;m>1&&l[w]===0&&!(l[w+1]&128);--m,++w);return l=l.subarray(w),l[0]&128||m>1&&l[0]===0&&!(l[1]&128)?1:(t.outputlen=6+s+m,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+s]=2,i[5+s]=l.length,i.set(l,6+s),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let i=e.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let o=e.subarray(6+r);if(o.length===33&&o[0]===0&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let s=new ii(i);s.cmp(Jr.n)>=0&&(s=new ii(0));let c=new ii(e.subarray(6+r));return c.cmp(Jr.n)>=0&&(c=new ii(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,i){if(i){let c=i;i=l=>{let m=c(e,r,null,n,l);if(!(m instanceof Uint8Array&&m.length===32))throw new Error("This is the way");return new ii(m)}}let o=new ii(r);if(o.cmp(Jr.n)>=0||o.isZero())return 1;let s;try{s=Rh.sign(e,r,{canonical:!0,k:i,pers:n})}catch{return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){let n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new ii(n.r),o=new ii(n.s);if(i.cmp(Jr.n)>=0||o.cmp(Jr.n)>=0)return 1;if(o.cmp(Rh.nh)===1||i.isZero()||o.isZero())return 3;let s=Ig(r);if(s===null)return 2;let c=s.getPublic();return Rh.verify(e,n,c)?0:3},ecdsaRecover(t,e,r,n){let i={r:e.slice(0,32),s:e.slice(32,64)},o=new ii(i.r),s=new ii(i.s);if(o.cmp(Jr.n)>=0||s.cmp(Jr.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;let c;try{c=Rh.recoverPubKey(n,i,r)}catch{return 2}return qv(t,c),0},ecdh(t,e,r,n,i,o,s){let c=Ig(e);if(c===null)return 1;let l=new ii(r);if(l.cmp(Jr.n)>=0||l.isZero())return 2;let m=c.getPublic().mul(l);if(i===void 0){let w=m.encode(null,!0),b=Rh.hash().update(w).digest();for(let E=0;E<32;++E)t[E]=b[E]}else{o||(o=new Uint8Array(32));let w=m.getX().toArray("be",32);for(let M=0;M<32;++M)o[M]=w[M];s||(s=new Uint8Array(32));let b=m.getY().toArray("be",32);for(let M=0;M<32;++M)s[M]=b[M];let E=i(o,s,n);if(!(E instanceof Uint8Array&&E.length===t.length))return 2;t.set(E)}return 0}}});var xte=K((Nhn,s7e)=>{d();h();s7e.exports=n7e()(o7e())});var c7e=K(SD=>{"use strict";d();h();Object.defineProperty(SD,"__esModule",{value:!0});var a7e=Xh();function RTt(t){return new Promise(function(e,r){a7e(t,function(n,i){if(n){r(n);return}e(i)})})}SD.getRandomBytes=RTt;function BTt(t){return a7e(t)}SD.getRandomBytesSync=BTt});var d7e=K(Bh=>{"use strict";d();h();var CTt=Bh&&Bh.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},OTt=Bh&&Bh.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(m){return function(w){return l([m,w])}}function l(m){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){r.label=m[1];break}if(m[0]===6&&r.label<o[1]){r.label=o[1],o=m;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(m);break}o[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(w){m=[6,w],i=0}finally{n=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};function NTt(t){for(var e in t)Bh.hasOwnProperty(e)||(Bh[e]=t[e])}Object.defineProperty(Bh,"__esModule",{value:!0});var u7e=xte(),f7e=c7e(),l7e=32;function DTt(){return CTt(this,void 0,void 0,function(){var t;return OTt(this,function(e){switch(e.label){case 0:return[4,f7e.getRandomBytes(l7e)];case 1:return t=e.sent(),u7e.privateKeyVerify(t)?[2,t]:[3,0];case 2:return[2]}})})}Bh.createPrivateKey=DTt;function UTt(){for(;;){var t=f7e.getRandomBytesSync(l7e);if(u7e.privateKeyVerify(t))return t}}Bh.createPrivateKeySync=UTt;NTt(xte())});var Kv=K((h7e,wte)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Lp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var q=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)q*=f;this.imuln(q),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var q=this.clone();for(q.negative=0;!q.isZero();){var L=q.modn(x).toString(a);q=q.idivn(x),q.isZero()?p=L+p:p=m[u-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,q=v&67108863,L=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=L;C++){var W=u-C|0;y=S.words[W]|0,g=a.words[C]|0,A=y*g+q,x+=A/67108864|0,q=A&67108863}f.words[u]=q|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,q=y[0]|0,L=q&8191,C=q>>>13,W=y[1]|0,ee=W&8191,ne=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Wr=y[6]|0,Ie=Wr&8191,we=Wr>>>13,yn=y[7]|0,ve=yn&8191,Re=yn>>>13,_n=y[8]|0,Be=_n&8191,Ce=_n>>>13,Bn=y[9]|0,De=Bn&8191,Me=Bn>>>13,Tn=g[0]|0,_e=Tn&8191,Se=Tn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,an=g[2]|0,Ee=an&8191,ke=an>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Br=g[4]|0,be=Br&8191,xe=Br>>>13,In=g[5]|0,Pe=In&8191,Oe=In>>>13,Un=g[6]|0,me=Un&8191,Ne=Un>>>13,Z=g[7]|0,z=Z&8191,j=Z>>>13,N=g[8]|0,Q=N&8191,X=N>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(L,_e),u=Math.imul(L,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(L,Ae)|0,u=u+Math.imul(L,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(G,_e)|0,x=Math.imul(G,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(L,Ee)|0,u=u+Math.imul(L,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(G,Ae)|0,x=x+Math.imul(G,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(L,Ue)|0,u=u+Math.imul(L,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(G,Ee)|0,x=x+Math.imul(G,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(L,be)|0,u=u+Math.imul(L,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(G,Ue)|0,x=x+Math.imul(G,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(L,Pe)|0,u=u+Math.imul(L,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(G,be)|0,x=x+Math.imul(G,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(L,me)|0,u=u+Math.imul(L,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Re,_e)|0,x=Math.imul(Re,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(G,Pe)|0,x=x+Math.imul(G,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(L,z)|0,u=u+Math.imul(L,j)|0,u=u+Math.imul(C,z)|0,x=x+Math.imul(C,j)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Be,_e),u=Math.imul(Be,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Re,Ae)|0,x=x+Math.imul(Re,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(G,me)|0,x=x+Math.imul(G,Ne)|0,v=v+Math.imul(ee,z)|0,u=u+Math.imul(ee,j)|0,u=u+Math.imul(ne,z)|0,x=x+Math.imul(ne,j)|0,v=v+Math.imul(L,Q)|0,u=u+Math.imul(L,X)|0,u=u+Math.imul(C,Q)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Be,Ae)|0,u=u+Math.imul(Be,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Re,Ee)|0,x=x+Math.imul(Re,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,z)|0,u=u+Math.imul(ae,j)|0,u=u+Math.imul(G,z)|0,x=x+Math.imul(G,j)|0,v=v+Math.imul(ee,Q)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Q)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(L,oe)|0,u=u+Math.imul(L,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Be,Ee)|0,u=u+Math.imul(Be,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Re,Ue)|0,x=x+Math.imul(Re,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,z)|0,u=u+Math.imul(te,j)|0,u=u+Math.imul(ce,z)|0,x=x+Math.imul(ce,j)|0,v=v+Math.imul(ae,Q)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(G,Q)|0,x=x+Math.imul(G,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Be,Ue)|0,u=u+Math.imul(Be,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Re,be)|0,x=x+Math.imul(Re,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,z)|0,u=u+Math.imul(se,j)|0,u=u+Math.imul(le,z)|0,x=x+Math.imul(le,j)|0,v=v+Math.imul(te,Q)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Q)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(G,oe)|0,x=x+Math.imul(G,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Be,be)|0,u=u+Math.imul(Be,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Re,Pe)|0,x=x+Math.imul(Re,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,z)|0,u=u+Math.imul(ge,j)|0,u=u+Math.imul(ye,z)|0,x=x+Math.imul(ye,j)|0,v=v+Math.imul(se,Q)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Q)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Be,Pe)|0,u=u+Math.imul(Be,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Re,me)|0,x=x+Math.imul(Re,Ne)|0,v=v+Math.imul(Ie,z)|0,u=u+Math.imul(Ie,j)|0,u=u+Math.imul(we,z)|0,x=x+Math.imul(we,j)|0,v=v+Math.imul(ge,Q)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Q)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Be,me)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,z)|0,u=u+Math.imul(ve,j)|0,u=u+Math.imul(Re,z)|0,x=x+Math.imul(Re,j)|0,v=v+Math.imul(Ie,Q)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Q)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Be,z)|0,u=u+Math.imul(Be,j)|0,u=u+Math.imul(Ce,z)|0,x=x+Math.imul(Ce,j)|0,v=v+Math.imul(ve,Q)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Re,Q)|0,x=x+Math.imul(Re,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,z),u=Math.imul(De,j),u=u+Math.imul(Me,z)|0,x=Math.imul(Me,j),v=v+Math.imul(Be,Q)|0,u=u+Math.imul(Be,X)|0,u=u+Math.imul(Ce,Q)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Re,oe)|0,x=x+Math.imul(Re,ue)|0;var Ze=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,v=Math.imul(De,Q),u=Math.imul(De,X),u=u+Math.imul(Me,Q)|0,x=Math.imul(Me,X),v=v+Math.imul(Be,oe)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var qe=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(qe>>>26)|0,qe&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=qe,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,q=S.words[x]|0,L=a.words[u]|0,C=q*L,W=C&67108863;A=A+(C/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function B(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=B(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),q=0;q<g;q+=v)for(var L=u,C=x,W=0;W<_;W++){var ee=p[q+W],ne=y[q+W],Ve=p[q+W+_],ae=y[q+W+_],G=L*Ve-C*ae;ae=L*ae+C*Ve,Ve=G,p[q+W]=ee+Ve,y[q+W]=ne+ae,p[q+W+_]=ee-Ve,y[q+W+_]=ne-ae,W!==v&&(G=u*L-x*C,C=u*C+x*L,L=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),q=new Array(y),L=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,q,L,y,g);for(var W=0;W<y;W++){var ee=v[W]*q[W]-u[W]*L[W];u[W]=v[W]*L[W]+u[W]*q[W],v[W]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),B(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var q=this.words[u]|0;this.words[u]=x<<26-g|q>>>g,x=q&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var q=y.clone()._ishlnsubmul(g,1,v);q.negative===0&&(y=q,u&&(u.words[v]=1));for(var L=v-1;L>=0;L--){var C=(y.words[g.length+L]|0)*67108864+(y.words[g.length+L-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,L);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,L),y.isZero()||(y.negative^=1);u&&(u.words[L]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var q=0,L=1;!(f.words[0]&L)&&q<26;++q,L<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,W=1;!(p.words[0]&W)&&C<26;++C,W<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var q;return f.cmpn(1)===0?q=y:q=g,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function H(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new V;else if(a==="p192")f=new H;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),q=this.pow(a,y.addn(1).iushrn(1)),L=this.pow(a,y),C=g;L.cmp(A)!==0;){for(var W=L,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));q=q.redMul(ne),x=ne.redSqr(),L=L.redMul(x),C=ee}return q},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],q=u-1;q>=0;q--){var L=x>>q&1;if(A!==y[0]&&(A=this.sqr(A)),L===0&&_===0){v=0;continue}_<<=1,_|=L,v++,!(v!==p&&(g!==0||q!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,J),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof wte>"u"||wte,h7e)});var m7e=K(MA=>{"use strict";d();h();Object.defineProperty(MA,"__esModule",{value:!0});var Vv=Kv(),LTt=pw().ec,Ste=new LTt("secp256k1"),IA=Ste.curve;MA.privateKeyExport=function(t,e){e===void 0&&(e=!0);var r=new Vv(t);if(r.ucmp(IA.n)>=0)throw new Error("couldn't export to DER format");var n=Ste.g.mul(r);return p7e(n.getX(),n.getY(),e)};MA.privateKeyModInverse=function(t){var e=new Vv(t);if(e.ucmp(IA.n)>=0||e.isZero())throw new Error("private key range is invalid");return e.invm(IA.n).toArrayLike(Buffer,"be",32)};MA.signatureImport=function(t){var e=new Vv(t.r);e.ucmp(IA.n)>=0&&(e=new Vv(0));var r=new Vv(t.s);return r.ucmp(IA.n)>=0&&(r=new Vv(0)),Buffer.concat([e.toArrayLike(Buffer,"be",32),r.toArrayLike(Buffer,"be",32)])};MA.ecdhUnsafe=function(t,e,r){r===void 0&&(r=!0);var n=Ste.keyFromPublic(t),i=new Vv(e);if(i.ucmp(IA.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return p7e(o.getX(),o.getY(),r)};var p7e=function(t,e,r){var n;return r?(n=Buffer.alloc(33),n[0]=e.isOdd()?3:2,t.toArrayLike(Buffer,"be",32).copy(n,1)):(n=Buffer.alloc(65),n[0]=4,t.toArrayLike(Buffer,"be",32).copy(n,1),e.toArrayLike(Buffer,"be",32).copy(n,33)),n}});var y7e=K(E5=>{"use strict";d();h();Object.defineProperty(E5,"__esModule",{value:!0});var{Buffer:A5}=Fn(),FTt=A5.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),qTt=A5.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);E5.privateKeyExport=function(t,e,r){r===void 0&&(r=!0);var n=A5.from(r?FTt:qTt);return t.copy(n,r?8:9),e.copy(n,r?181:214),n};E5.privateKeyImport=function(t){var e=t.length,r=0;if(e<r+1||t[r]!==48||(r+=1,e<r+1||!(t[r]&128)))return null;var n=t[r]&127;if(r+=1,n<1||n>2||e<r+n)return null;var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);return r+=n,e<r+i||e<r+3||t[r]!==2||t[r+1]!==1||t[r+2]!==1||(r+=3,e<r+2||t[r]!==4||t[r+1]>32||e<r+2+t[r+1])?null:t.slice(r+2,r+2+t[r+1])};E5.signatureImportLax=function(t){var e=A5.alloc(32,0),r=A5.alloc(32,0),n=t.length,i=0;if(t[i++]!==48)return null;var o=t[i++];if(o&128&&(i+=o-128,i>n)||t[i++]!==2)return null;var s=t[i++];if(s&128){if(o=s-128,i+o>n)return null;for(;o>0&&t[i]===0;i+=1,o-=1);for(s=0;o>0;i+=1,o-=1)s=(s<<8)+t[i]}if(s>n-i)return null;var c=i;if(i+=s,t[i++]!==2)return null;var l=t[i++];if(l&128){if(o=l-128,i+o>n)return null;for(;o>0&&t[i]===0;i+=1,o-=1);for(l=0;o>0;i+=1,o-=1)l=(l<<8)+t[i]}if(l>n-i)return null;var m=i;for(i+=l;s>0&&t[c]===0;s-=1,c+=1);if(s>32)return null;var w=t.slice(c,c+s);for(w.copy(e,32-w.length);l>0&&t[m]===0;l-=1,m+=1);if(l>32)return null;var b=t.slice(m,m+l);return b.copy(r,32-b.length),{r:e,s:r}}});var ED=K(Jt=>{"use strict";d();h();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.ecdhUnsafe=Jt.ecdh=Jt.recover=Jt.verify=Jt.sign=Jt.signatureImportLax=Jt.signatureImport=Jt.signatureExport=Jt.signatureNormalize=Jt.publicKeyCombine=Jt.publicKeyTweakMul=Jt.publicKeyTweakAdd=Jt.publicKeyVerify=Jt.publicKeyConvert=Jt.publicKeyCreate=Jt.privateKeyTweakMul=Jt.privateKeyTweakAdd=Jt.privateKeyModInverse=Jt.privateKeyNegate=Jt.privateKeyImport=Jt.privateKeyExport=Jt.privateKeyVerify=void 0;var Gs=d7e(),AD=m7e(),Ate=y7e();Jt.privateKeyVerify=function(t){return t.length!==32?!1:Gs.privateKeyVerify(Uint8Array.from(t))};Jt.privateKeyExport=function(t,e){if(t.length!==32)throw new RangeError("private key length is invalid");var r=AD.privateKeyExport(t,e);return Ate.privateKeyExport(t,r,e)};Jt.privateKeyImport=function(t){if(t=Ate.privateKeyImport(t),t!==null&&t.length===32&&Jt.privateKeyVerify(t))return t;throw new Error("couldn't import from DER format")};Jt.privateKeyNegate=function(t){return Buffer.from(Gs.privateKeyNegate(Uint8Array.from(t)))};Jt.privateKeyModInverse=function(t){if(t.length!==32)throw new Error("private key length is invalid");return Buffer.from(AD.privateKeyModInverse(Uint8Array.from(t)))};Jt.privateKeyTweakAdd=function(t,e){return Buffer.from(Gs.privateKeyTweakAdd(Uint8Array.from(t),e))};Jt.privateKeyTweakMul=function(t,e){return Buffer.from(Gs.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e)))};Jt.publicKeyCreate=function(t,e){return Buffer.from(Gs.publicKeyCreate(Uint8Array.from(t),e))};Jt.publicKeyConvert=function(t,e){return Buffer.from(Gs.publicKeyConvert(Uint8Array.from(t),e))};Jt.publicKeyVerify=function(t){return t.length!==33&&t.length!==65?!1:Gs.publicKeyVerify(Uint8Array.from(t))};Jt.publicKeyTweakAdd=function(t,e,r){return Buffer.from(Gs.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(e),r))};Jt.publicKeyTweakMul=function(t,e,r){return Buffer.from(Gs.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e),r))};Jt.publicKeyCombine=function(t,e){var r=[];return t.forEach(function(n){r.push(Uint8Array.from(n))}),Buffer.from(Gs.publicKeyCombine(r,e))};Jt.signatureNormalize=function(t){return Buffer.from(Gs.signatureNormalize(Uint8Array.from(t)))};Jt.signatureExport=function(t){return Buffer.from(Gs.signatureExport(Uint8Array.from(t)))};Jt.signatureImport=function(t){return Buffer.from(Gs.signatureImport(Uint8Array.from(t)))};Jt.signatureImportLax=function(t){if(t.length===0)throw new RangeError("signature length is invalid");var e=Ate.signatureImportLax(t);if(e===null)throw new Error("couldn't parse DER signature");return AD.signatureImport(e)};Jt.sign=function(t,e,r){if(r===null)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},r.data===null)throw new TypeError("options.data should be a Buffer");if(r.data){if(r.data.length!=32)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(r.noncefn===null)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(o,s,c,l,m){var w=c!=null?Buffer.from(c):null,b=l!=null?Buffer.from(l):null,E=Buffer.from("");return r.noncefn&&(E=r.noncefn(Buffer.from(o),Buffer.from(s),w,b,m)),new Uint8Array(E)})}var i=Gs.ecdsaSign(Uint8Array.from(t),Uint8Array.from(e),n);return{signature:Buffer.from(i.signature),recovery:i.recid}};Jt.verify=function(t,e,r){return Gs.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(t),r)};Jt.recover=function(t,e,r,n){return Buffer.from(Gs.ecdsaRecover(Uint8Array.from(e),r,Uint8Array.from(t),n))};Jt.ecdh=function(t,e){return Buffer.from(Gs.ecdh(Uint8Array.from(t),Uint8Array.from(e),{}))};Jt.ecdhUnsafe=function(t,e,r){if(t.length!==33&&t.length!==65)throw new RangeError("public key length is invalid");if(e.length!==32)throw new RangeError("private key length is invalid");return Buffer.from(AD.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(e),r))}});var Ete=K((t0n,g7e)=>{d();h();g7e.exports=function(e){if(typeof e!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return e.slice(0,2)==="0x"}});var v7e=K((i0n,b7e)=>{d();h();var KTt=Ete();b7e.exports=function(e){return typeof e!="string"?e:KTt(e)?e.slice(2):e}});var Hv=K((a0n,S7e)=>{"use strict";d();h();var VTt=Ete(),x7e=v7e();function _D(t){var e=t;if(typeof e!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function w7e(t){var e=t.toString(16);return"0x"+e}function HTt(t){var e=w7e(t);return new Buffer(_D(e.slice(2)),"hex")}function jTt(t){if(typeof t!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return Buffer.byteLength(t,"utf8")}function zTt(t,e,r){if(Array.isArray(t)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof t+"'");if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[!!r&&"some"||"every"](function(n){return t.indexOf(n)>=0})}function WTt(t){var e=new Buffer(_D(x7e(t).replace(/^0+|0+$/g,"")),"hex");return e.toString("utf8")}function GTt(t){var e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}function $Tt(t){var e=new Buffer(t,"utf8");return"0x"+_D(e.toString("hex")).replace(/^0+|0+$/g,"")}function YTt(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0"+i:i}return"0x"+e}function ZTt(t,e,r){if(!Array.isArray(t))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof t+"'");if(typeof e!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],i=0;i<t.length;i++){var o=t[i][e];if(r&&!o)o="";else if(typeof o!="string")throw new Error("invalid abi");n.push(o)}return n}function QTt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}S7e.exports={arrayContainsArray:zTt,intToBuffer:HTt,getBinarySize:jTt,isHexPrefixed:VTt,stripHexPrefix:x7e,padToEven:_D,intToHex:w7e,fromAscii:YTt,fromUtf8:$Tt,toAscii:GTt,toUtf8:WTt,getKeys:ZTt,isHexString:QTt}});var TD=K(Ch=>{"use strict";d();h();var JTt=Ch&&Ch.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ch,"__esModule",{value:!0});Ch.getLength=Ch.decode=Ch.encode=void 0;var XTt=JTt(mb());function E7e(t){if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r++)e.push(E7e(t[r]));var n=Buffer.concat(e);return Buffer.concat([A7e(n.length,192),n])}else{var i=Mte(t);return i.length===1&&i[0]<128?i:Buffer.concat([A7e(i.length,128),i])}}Ch.encode=E7e;function _te(t,e){if(t[0]==="0"&&t[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function A7e(t,e){if(t<56)return Buffer.from([t+e]);var r=Ite(t),n=r.length/2,i=Ite(e+55+n);return Buffer.from(i+r,"hex")}function eIt(t,e){if(e===void 0&&(e=!1),!t||t.length===0)return Buffer.from([]);var r=Mte(t),n=Tte(r);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}Ch.decode=eIt;function tIt(t){if(!t||t.length===0)return Buffer.from([]);var e=Mte(t),r=e[0];if(r<=127)return e.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246,i=_te(e.slice(1,n).toString("hex"),16);return n+i}Ch.getLength=tIt;function Tte(t){var e,r,n,i,o,s=[],c=t[0];if(c<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(c<=183){if(e=c-127,c===128?n=Buffer.from([]):n=t.slice(1,e),e===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:t.slice(e)}}else if(c<=191){if(r=c-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=_te(t.slice(1,r).toString("hex"),16),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=t.slice(r,e+r),n.length<e)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:t.slice(e+r)}}else if(c<=247){for(e=c-191,i=t.slice(1,e);i.length;)o=Tte(i),s.push(o.data),i=o.remainder;return{data:s,remainder:t.slice(e)}}else{r=c-246,e=_te(t.slice(1,r).toString("hex"),16);var l=r+e;if(l>t.length)throw new Error("invalid rlp: total length is larger than the data");if(i=t.slice(r,l),i.length===0)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=Tte(i),s.push(o.data),i=o.remainder;return{data:s,remainder:t.slice(l)}}}function _7e(t){return t.slice(0,2)==="0x"}function rIt(t){return typeof t!="string"?t:_7e(t)?t.slice(2):t}function Ite(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");var e=t.toString(16);return e.length%2?"0"+e:e}function nIt(t){return t.length%2?"0"+t:t}function iIt(t){var e=Ite(t);return Buffer.from(e,"hex")}function Mte(t){if(!Buffer.isBuffer(t)){if(typeof t=="string")return _7e(t)?Buffer.from(nIt(rIt(t)),"hex"):Buffer.from(t);if(typeof t=="number"||typeof t=="bigint")return t?iIt(t):Buffer.from([]);if(t==null)return Buffer.from([]);if(t instanceof Uint8Array)return Buffer.from(t);if(XTt.default.isBN(t))return Buffer.from(t.toArray());throw new Error("invalid type")}return t}});var I7e=K(yo=>{"use strict";d();h();Object.defineProperty(yo,"__esModule",{value:!0});yo.KECCAK256_RLP=yo.KECCAK256_RLP_S=yo.KECCAK256_RLP_ARRAY=yo.KECCAK256_RLP_ARRAY_S=yo.KECCAK256_NULL=yo.KECCAK256_NULL_S=yo.TWO_POW256=yo.MAX_INTEGER=void 0;var T7e=Kv(),{Buffer:kte}=Fn();yo.MAX_INTEGER=new T7e("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);yo.TWO_POW256=new T7e("10000000000000000000000000000000000000000000000000000000000000000",16);yo.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";yo.KECCAK256_NULL=kte.from(yo.KECCAK256_NULL_S,"hex");yo.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";yo.KECCAK256_RLP_ARRAY=kte.from(yo.KECCAK256_RLP_ARRAY_S,"hex");yo.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";yo.KECCAK256_RLP=kte.from(yo.KECCAK256_RLP_S,"hex")});var Pte=K((y0n,M7e)=>{"use strict";d();h();M7e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var _5=K((v0n,k7e)=>{"use strict";d();h();var oIt=Pte();k7e.exports=function(){return oIt()&&!!Symbol.toStringTag}});var T5=K((S0n,R7e)=>{"use strict";d();h();var P7e=typeof Symbol<"u"&&Symbol,sIt=Pte();R7e.exports=function(){return typeof P7e!="function"||typeof Symbol!="function"||typeof P7e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:sIt()}});var C7e=K((_0n,B7e)=>{"use strict";d();h();var aIt="Function.prototype.bind called on incompatible ",Rte=Array.prototype.slice,cIt=Object.prototype.toString,uIt="[object Function]";B7e.exports=function(e){var r=this;if(typeof r!="function"||cIt.call(r)!==uIt)throw new TypeError(aIt+r);for(var n=Rte.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(Rte.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(Rte.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var N7e=K((M0n,O7e)=>{"use strict";d();h();var fIt=C7e();O7e.exports=Function.prototype.bind||fIt});var U7e=K((R0n,D7e)=>{"use strict";d();h();var lIt="Function.prototype.bind called on incompatible ",Bte=Array.prototype.slice,dIt=Object.prototype.toString,hIt="[object Function]";D7e.exports=function(e){var r=this;if(typeof r!="function"||dIt.call(r)!==hIt)throw new TypeError(lIt+r);for(var n=Bte.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(Bte.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(Bte.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var F7e=K((O0n,L7e)=>{"use strict";d();h();var pIt=U7e();L7e.exports=Function.prototype.bind||pIt});var I5=K((U0n,q7e)=>{"use strict";d();h();var mIt=F7e();q7e.exports=mIt.call(Function.call,Object.prototype.hasOwnProperty)});var k5=K((q0n,j7e)=>{"use strict";d();h();var sn,CA=SyntaxError,H7e=Function,RA=TypeError,Cte=function(t){try{return H7e('"use strict"; return ('+t+").constructor;")()}catch{}},jv=Object.getOwnPropertyDescriptor;if(jv)try{jv({},"")}catch{jv=null}var Ote=function(){throw new RA},yIt=jv?function(){try{return arguments.callee,Ote}catch{try{return jv(arguments,"callee").get}catch{return Ote}}}():Ote,kA=T5()(),Mg=Object.getPrototypeOf||function(t){return t.__proto__},PA={},gIt=typeof Uint8Array>"u"?sn:Mg(Uint8Array),BA={"%AggregateError%":typeof AggregateError>"u"?sn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?sn:ArrayBuffer,"%ArrayIteratorPrototype%":kA?Mg([][Symbol.iterator]()):sn,"%AsyncFromSyncIteratorPrototype%":sn,"%AsyncFunction%":PA,"%AsyncGenerator%":PA,"%AsyncGeneratorFunction%":PA,"%AsyncIteratorPrototype%":PA,"%Atomics%":typeof Atomics>"u"?sn:Atomics,"%BigInt%":typeof BigInt>"u"?sn:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?sn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?sn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?sn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?sn:FinalizationRegistry,"%Function%":H7e,"%GeneratorFunction%":PA,"%Int8Array%":typeof Int8Array>"u"?sn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?sn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?sn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":kA?Mg(Mg([][Symbol.iterator]())):sn,"%JSON%":typeof JSON=="object"?JSON:sn,"%Map%":typeof Map>"u"?sn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!kA?sn:Mg(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?sn:Promise,"%Proxy%":typeof Proxy>"u"?sn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?sn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?sn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!kA?sn:Mg(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?sn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":kA?Mg(""[Symbol.iterator]()):sn,"%Symbol%":kA?Symbol:sn,"%SyntaxError%":CA,"%ThrowTypeError%":yIt,"%TypedArray%":gIt,"%TypeError%":RA,"%Uint8Array%":typeof Uint8Array>"u"?sn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?sn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?sn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?sn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?sn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?sn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?sn:WeakSet},bIt=function t(e){var r;if(e==="%AsyncFunction%")r=Cte("async function () {}");else if(e==="%GeneratorFunction%")r=Cte("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Cte("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Mg(i.prototype))}return BA[e]=r,r},K7e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M5=N7e(),ID=I5(),vIt=M5.call(Function.call,Array.prototype.concat),xIt=M5.call(Function.apply,Array.prototype.splice),V7e=M5.call(Function.call,String.prototype.replace),MD=M5.call(Function.call,String.prototype.slice),wIt=M5.call(Function.call,RegExp.prototype.exec),SIt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,AIt=/\\(\\)?/g,EIt=function(e){var r=MD(e,0,1),n=MD(e,-1);if(r==="%"&&n!=="%")throw new CA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new CA("invalid intrinsic syntax, expected opening `%`");var i=[];return V7e(e,SIt,function(o,s,c,l){i[i.length]=c?V7e(l,AIt,"$1"):s||o}),i},_It=function(e,r){var n=e,i;if(ID(K7e,n)&&(i=K7e[n],n="%"+i[0]+"%"),ID(BA,n)){var o=BA[n];if(o===PA&&(o=bIt(n)),typeof o>"u"&&!r)throw new RA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new CA("intrinsic "+e+" does not exist!")};j7e.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new RA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new RA('"allowMissing" argument must be a boolean');if(wIt(/^%?[^%]*%?$/,e)===null)throw new CA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=EIt(e),i=n.length>0?n[0]:"",o=_It("%"+i+"%",r),s=o.name,c=o.value,l=!1,m=o.alias;m&&(i=m[0],xIt(n,vIt([0,1],m)));for(var w=1,b=!0;w<n.length;w+=1){var E=n[w],I=MD(E,0,1),M=MD(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new CA("property names with quotes must have matching quotes");if((E==="constructor"||!b)&&(l=!0),i+="."+E,s="%"+i+"%",ID(BA,s))c=BA[s];else if(c!=null){if(!(E in c)){if(!r)throw new RA("base intrinsic for "+e+" exists, but the property is not available.");return}if(jv&&w+1>=n.length){var k=jv(c,E);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[E]}else b=ID(c,E),c=c[E];b&&!l&&(BA[s]=c)}}return c}});var W7e=K((H0n,z7e)=>{"use strict";d();h();var TIt="Function.prototype.bind called on incompatible ",Nte=Array.prototype.slice,IIt=Object.prototype.toString,MIt="[object Function]";z7e.exports=function(e){var r=this;if(typeof r!="function"||IIt.call(r)!==MIt)throw new TypeError(TIt+r);for(var n=Nte.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(Nte.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(Nte.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var $7e=K((W0n,G7e)=>{"use strict";d();h();var kIt=W7e();G7e.exports=Function.prototype.bind||kIt});var PD=K((Y0n,kD)=>{"use strict";d();h();var Dte=$7e(),OA=k5(),Q7e=OA("%Function.prototype.apply%"),J7e=OA("%Function.prototype.call%"),X7e=OA("%Reflect.apply%",!0)||Dte.call(J7e,Q7e),Y7e=OA("%Object.getOwnPropertyDescriptor%",!0),zv=OA("%Object.defineProperty%",!0),PIt=OA("%Math.max%");if(zv)try{zv({},"a",{value:1})}catch{zv=null}kD.exports=function(e){var r=X7e(Dte,J7e,arguments);if(Y7e&&zv){var n=Y7e(r,"length");n.configurable&&zv(r,"length",{value:1+PIt(0,e.length-(arguments.length-1))})}return r};var Z7e=function(){return X7e(Dte,Q7e,arguments)};zv?zv(kD.exports,"apply",{value:Z7e}):kD.exports.apply=Z7e});var Ute=K((J0n,rPe)=>{"use strict";d();h();var ePe=k5(),tPe=PD(),RIt=tPe(ePe("String.prototype.indexOf"));rPe.exports=function(e,r){var n=ePe(e,!!r);return typeof n=="function"&&RIt(e,".prototype.")>-1?tPe(n):n}});var oPe=K((tpn,iPe)=>{"use strict";d();h();var BIt=_5()(),CIt=Ute(),Lte=CIt("Object.prototype.toString"),RD=function(e){return BIt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Lte(e)==="[object Arguments]"},nPe=function(e){return RD(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Lte(e)!=="[object Array]"&&Lte(e.callee)==="[object Function]"},OIt=function(){return RD(arguments)}();RD.isLegacyArguments=nPe;iPe.exports=OIt?RD:nPe});var cPe=K((ipn,aPe)=>{"use strict";d();h();var NIt=Object.prototype.toString,DIt=Function.prototype.toString,UIt=/^\s*(?:function)?\*/,sPe=_5()(),Fte=Object.getPrototypeOf,LIt=function(){if(!sPe)return!1;try{return Function("return function*() {}")()}catch{}},qte;aPe.exports=function(e){if(typeof e!="function")return!1;if(UIt.test(DIt.call(e)))return!0;if(!sPe){var r=NIt.call(e);return r==="[object GeneratorFunction]"}if(!Fte)return!1;if(typeof qte>"u"){var n=LIt();qte=n?Fte(n):!1}return Fte(e)===qte}});var dPe=K((apn,lPe)=>{"use strict";d();h();var fPe=Function.prototype.toString,NA=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Vte,BD;if(typeof NA=="function"&&typeof Object.defineProperty=="function")try{Vte=Object.defineProperty({},"length",{get:function(){throw BD}}),BD={},NA(function(){throw 42},null,Vte)}catch(t){t!==BD&&(NA=null)}else NA=null;var FIt=/^\s*class\b/,Hte=function(e){try{var r=fPe.call(e);return FIt.test(r)}catch{return!1}},Kte=function(e){try{return Hte(e)?!1:(fPe.call(e),!0)}catch{return!1}},CD=Object.prototype.toString,qIt="[object Object]",KIt="[object Function]",VIt="[object GeneratorFunction]",HIt="[object HTMLAllCollection]",jIt="[object HTML document.all class]",zIt="[object HTMLCollection]",WIt=typeof Symbol=="function"&&!!Symbol.toStringTag,GIt=!(0 in[,]),jte=function(){return!1};typeof document=="object"&&(uPe=document.all,CD.call(uPe)===CD.call(document.all)&&(jte=function(e){if((GIt||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=CD.call(e);return(r===HIt||r===jIt||r===zIt||r===qIt)&&e("")==null}catch{}return!1}));var uPe;lPe.exports=NA?function(e){if(jte(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{NA(e,null,Vte)}catch(r){if(r!==BD)return!1}return!Hte(e)&&Kte(e)}:function(e){if(jte(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(WIt)return Kte(e);if(Hte(e))return!1;var r=CD.call(e);return r!==KIt&&r!==VIt&&!/^\[object HTML/.test(r)?!1:Kte(e)}});var mPe=K((fpn,pPe)=>{"use strict";d();h();var $It=dPe(),YIt=Object.prototype.toString,hPe=Object.prototype.hasOwnProperty,ZIt=function(e,r,n){for(var i=0,o=e.length;i<o;i++)hPe.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},QIt=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},JIt=function(e,r,n){for(var i in e)hPe.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},XIt=function(e,r,n){if(!$It(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),YIt.call(e)==="[object Array]"?ZIt(e,r,i):typeof e=="string"?QIt(e,r,i):JIt(e,r,i)};pPe.exports=XIt});var Wte=K((hpn,yPe)=>{"use strict";d();h();var zte=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],eMt=typeof globalThis>"u"?self:globalThis;yPe.exports=function(){for(var e=[],r=0;r<zte.length;r++)typeof eMt[zte[r]]=="function"&&(e[e.length]=zte[r]);return e}});var vPe=K((ypn,bPe)=>{"use strict";d();h();var tMt="Function.prototype.bind called on incompatible ",rMt=Object.prototype.toString,nMt=Math.max,iMt="[object Function]",gPe=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},oMt=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},sMt=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};bPe.exports=function(e){var r=this;if(typeof r!="function"||rMt.apply(r)!==iMt)throw new TypeError(tMt+r);for(var n=oMt(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,gPe(n,arguments));return Object(w)===w?w:this}return r.apply(e,gPe(n,arguments))},s=nMt(0,r.length-n.length),c=[],l=0;l<s;l++)c[l]="$"+l;if(i=Function("binder","return function ("+sMt(c,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var wPe=K((vpn,xPe)=>{"use strict";d();h();var aMt=vPe();xPe.exports=Function.prototype.bind||aMt});var OD=K((Spn,APe)=>{"use strict";d();h();var SPe={foo:{}},cMt=Object;APe.exports=function(){return{__proto__:SPe}.foo===SPe.foo&&!({__proto__:null}instanceof cMt)}});var _Pe=K((_pn,EPe)=>{"use strict";d();h();var uMt="Function.prototype.bind called on incompatible ",Gte=Array.prototype.slice,fMt=Object.prototype.toString,lMt="[object Function]";EPe.exports=function(e){var r=this;if(typeof r!="function"||fMt.call(r)!==lMt)throw new TypeError(uMt+r);for(var n=Gte.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(Gte.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(Gte.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var IPe=K((Mpn,TPe)=>{"use strict";d();h();var dMt=_Pe();TPe.exports=Function.prototype.bind||dMt});var Zte=K((Rpn,BPe)=>{"use strict";d();h();var Vr,FA=SyntaxError,RPe=Function,LA=TypeError,$te=function(t){try{return RPe('"use strict"; return ('+t+").constructor;")()}catch{}},Wv=Object.getOwnPropertyDescriptor;if(Wv)try{Wv({},"")}catch{Wv=null}var Yte=function(){throw new LA},hMt=Wv?function(){try{return arguments.callee,Yte}catch{try{return Wv(arguments,"callee").get}catch{return Yte}}}():Yte,DA=T5()(),pMt=OD()(),gs=Object.getPrototypeOf||(pMt?function(t){return t.__proto__}:null),UA={},mMt=typeof Uint8Array>"u"||!gs?Vr:gs(Uint8Array),Gv={"%AggregateError%":typeof AggregateError>"u"?Vr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Vr:ArrayBuffer,"%ArrayIteratorPrototype%":DA&&gs?gs([][Symbol.iterator]()):Vr,"%AsyncFromSyncIteratorPrototype%":Vr,"%AsyncFunction%":UA,"%AsyncGenerator%":UA,"%AsyncGeneratorFunction%":UA,"%AsyncIteratorPrototype%":UA,"%Atomics%":typeof Atomics>"u"?Vr:Atomics,"%BigInt%":typeof BigInt>"u"?Vr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Vr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Vr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Vr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Vr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Vr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Vr:FinalizationRegistry,"%Function%":RPe,"%GeneratorFunction%":UA,"%Int8Array%":typeof Int8Array>"u"?Vr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Vr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Vr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":DA&&gs?gs(gs([][Symbol.iterator]())):Vr,"%JSON%":typeof JSON=="object"?JSON:Vr,"%Map%":typeof Map>"u"?Vr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!DA||!gs?Vr:gs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Vr:Promise,"%Proxy%":typeof Proxy>"u"?Vr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Vr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Vr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!DA||!gs?Vr:gs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Vr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":DA&&gs?gs(""[Symbol.iterator]()):Vr,"%Symbol%":DA?Symbol:Vr,"%SyntaxError%":FA,"%ThrowTypeError%":hMt,"%TypedArray%":mMt,"%TypeError%":LA,"%Uint8Array%":typeof Uint8Array>"u"?Vr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Vr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Vr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Vr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Vr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Vr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Vr:WeakSet};if(gs)try{null.error}catch(t){MPe=gs(gs(t)),Gv["%Error.prototype%"]=MPe}var MPe,yMt=function t(e){var r;if(e==="%AsyncFunction%")r=$te("async function () {}");else if(e==="%GeneratorFunction%")r=$te("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=$te("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&gs&&(r=gs(i.prototype))}return Gv[e]=r,r},kPe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},P5=IPe(),ND=I5(),gMt=P5.call(Function.call,Array.prototype.concat),bMt=P5.call(Function.apply,Array.prototype.splice),PPe=P5.call(Function.call,String.prototype.replace),DD=P5.call(Function.call,String.prototype.slice),vMt=P5.call(Function.call,RegExp.prototype.exec),xMt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,wMt=/\\(\\)?/g,SMt=function(e){var r=DD(e,0,1),n=DD(e,-1);if(r==="%"&&n!=="%")throw new FA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new FA("invalid intrinsic syntax, expected opening `%`");var i=[];return PPe(e,xMt,function(o,s,c,l){i[i.length]=c?PPe(l,wMt,"$1"):s||o}),i},AMt=function(e,r){var n=e,i;if(ND(kPe,n)&&(i=kPe[n],n="%"+i[0]+"%"),ND(Gv,n)){var o=Gv[n];if(o===UA&&(o=yMt(n)),typeof o>"u"&&!r)throw new LA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new FA("intrinsic "+e+" does not exist!")};BPe.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new LA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new LA('"allowMissing" argument must be a boolean');if(vMt(/^%?[^%]*%?$/,e)===null)throw new FA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=SMt(e),i=n.length>0?n[0]:"",o=AMt("%"+i+"%",r),s=o.name,c=o.value,l=!1,m=o.alias;m&&(i=m[0],bMt(n,gMt([0,1],m)));for(var w=1,b=!0;w<n.length;w+=1){var E=n[w],I=DD(E,0,1),M=DD(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new FA("property names with quotes must have matching quotes");if((E==="constructor"||!b)&&(l=!0),i+="."+E,s="%"+i+"%",ND(Gv,s))c=Gv[s];else if(c!=null){if(!(E in c)){if(!r)throw new LA("base intrinsic for "+e+" exists, but the property is not available.");return}if(Wv&&w+1>=n.length){var k=Wv(c,E);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[E]}else b=ND(c,E),c=c[E];b&&!l&&(Gv[s]=c)}}return c}});var OPe=K((Opn,CPe)=>{"use strict";d();h();var EMt="Function.prototype.bind called on incompatible ",Qte=Array.prototype.slice,_Mt=Object.prototype.toString,TMt="[object Function]";CPe.exports=function(e){var r=this;if(typeof r!="function"||_Mt.call(r)!==TMt)throw new TypeError(EMt+r);for(var n=Qte.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(Qte.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(Qte.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var DPe=K((Upn,NPe)=>{"use strict";d();h();var IMt=OPe();NPe.exports=Function.prototype.bind||IMt});var VPe=K((qpn,KPe)=>{"use strict";d();h();var Hr,HA=SyntaxError,qPe=Function,VA=TypeError,Jte=function(t){try{return qPe('"use strict"; return ('+t+").constructor;")()}catch{}},$v=Object.getOwnPropertyDescriptor;if($v)try{$v({},"")}catch{$v=null}var Xte=function(){throw new VA},MMt=$v?function(){try{return arguments.callee,Xte}catch{try{return $v(arguments,"callee").get}catch{return Xte}}}():Xte,qA=T5()(),kMt=OD()(),bs=Object.getPrototypeOf||(kMt?function(t){return t.__proto__}:null),KA={},PMt=typeof Uint8Array>"u"||!bs?Hr:bs(Uint8Array),Yv={"%AggregateError%":typeof AggregateError>"u"?Hr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Hr:ArrayBuffer,"%ArrayIteratorPrototype%":qA&&bs?bs([][Symbol.iterator]()):Hr,"%AsyncFromSyncIteratorPrototype%":Hr,"%AsyncFunction%":KA,"%AsyncGenerator%":KA,"%AsyncGeneratorFunction%":KA,"%AsyncIteratorPrototype%":KA,"%Atomics%":typeof Atomics>"u"?Hr:Atomics,"%BigInt%":typeof BigInt>"u"?Hr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Hr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Hr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Hr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Hr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Hr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Hr:FinalizationRegistry,"%Function%":qPe,"%GeneratorFunction%":KA,"%Int8Array%":typeof Int8Array>"u"?Hr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Hr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Hr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":qA&&bs?bs(bs([][Symbol.iterator]())):Hr,"%JSON%":typeof JSON=="object"?JSON:Hr,"%Map%":typeof Map>"u"?Hr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!qA||!bs?Hr:bs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Hr:Promise,"%Proxy%":typeof Proxy>"u"?Hr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Hr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Hr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!qA||!bs?Hr:bs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Hr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":qA&&bs?bs(""[Symbol.iterator]()):Hr,"%Symbol%":qA?Symbol:Hr,"%SyntaxError%":HA,"%ThrowTypeError%":MMt,"%TypedArray%":PMt,"%TypeError%":VA,"%Uint8Array%":typeof Uint8Array>"u"?Hr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Hr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Hr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Hr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Hr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Hr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Hr:WeakSet};if(bs)try{null.error}catch(t){UPe=bs(bs(t)),Yv["%Error.prototype%"]=UPe}var UPe,RMt=function t(e){var r;if(e==="%AsyncFunction%")r=Jte("async function () {}");else if(e==="%GeneratorFunction%")r=Jte("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Jte("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&bs&&(r=bs(i.prototype))}return Yv[e]=r,r},LPe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R5=DPe(),UD=I5(),BMt=R5.call(Function.call,Array.prototype.concat),CMt=R5.call(Function.apply,Array.prototype.splice),FPe=R5.call(Function.call,String.prototype.replace),LD=R5.call(Function.call,String.prototype.slice),OMt=R5.call(Function.call,RegExp.prototype.exec),NMt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,DMt=/\\(\\)?/g,UMt=function(e){var r=LD(e,0,1),n=LD(e,-1);if(r==="%"&&n!=="%")throw new HA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new HA("invalid intrinsic syntax, expected opening `%`");var i=[];return FPe(e,NMt,function(o,s,c,l){i[i.length]=c?FPe(l,DMt,"$1"):s||o}),i},LMt=function(e,r){var n=e,i;if(UD(LPe,n)&&(i=LPe[n],n="%"+i[0]+"%"),UD(Yv,n)){var o=Yv[n];if(o===KA&&(o=RMt(n)),typeof o>"u"&&!r)throw new VA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new HA("intrinsic "+e+" does not exist!")};KPe.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new VA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new VA('"allowMissing" argument must be a boolean');if(OMt(/^%?[^%]*%?$/,e)===null)throw new HA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=UMt(e),i=n.length>0?n[0]:"",o=LMt("%"+i+"%",r),s=o.name,c=o.value,l=!1,m=o.alias;m&&(i=m[0],CMt(n,BMt([0,1],m)));for(var w=1,b=!0;w<n.length;w+=1){var E=n[w],I=LD(E,0,1),M=LD(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new HA("property names with quotes must have matching quotes");if((E==="constructor"||!b)&&(l=!0),i+="."+E,s="%"+i+"%",UD(Yv,s))c=Yv[s];else if(c!=null){if(!(E in c)){if(!r)throw new VA("base intrinsic for "+e+" exists, but the property is not available.");return}if($v&&w+1>=n.length){var k=$v(c,E);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[E]}else b=UD(c,E),c=c[E];b&&!l&&(Yv[s]=c)}}return c}});var FD=K((Hpn,HPe)=>{"use strict";d();h();var FMt=k5(),ere=FMt("%Object.defineProperty%",!0),tre=function(){if(ere)try{return ere({},"a",{value:1}),!0}catch{return!1}return!1};tre.hasArrayLengthDefineBug=function(){if(!tre())return null;try{return ere([],"length",{value:1}).length!==1}catch{return!0}};HPe.exports=tre});var zPe=K((Wpn,jPe)=>{"use strict";d();h();var qMt="Function.prototype.bind called on incompatible ",rre=Array.prototype.slice,KMt=Object.prototype.toString,VMt="[object Function]";jPe.exports=function(e){var r=this;if(typeof r!="function"||KMt.call(r)!==VMt)throw new TypeError(qMt+r);for(var n=rre.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(rre.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(rre.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var GPe=K((Ypn,WPe)=>{"use strict";d();h();var HMt=zPe();WPe.exports=Function.prototype.bind||HMt});var XPe=K((Jpn,JPe)=>{"use strict";d();h();var jr,GA=SyntaxError,QPe=Function,WA=TypeError,nre=function(t){try{return QPe('"use strict"; return ('+t+").constructor;")()}catch{}},Zv=Object.getOwnPropertyDescriptor;if(Zv)try{Zv({},"")}catch{Zv=null}var ire=function(){throw new WA},jMt=Zv?function(){try{return arguments.callee,ire}catch{try{return Zv(arguments,"callee").get}catch{return ire}}}():ire,jA=T5()(),zMt=OD()(),vs=Object.getPrototypeOf||(zMt?function(t){return t.__proto__}:null),zA={},WMt=typeof Uint8Array>"u"||!vs?jr:vs(Uint8Array),Qv={"%AggregateError%":typeof AggregateError>"u"?jr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?jr:ArrayBuffer,"%ArrayIteratorPrototype%":jA&&vs?vs([][Symbol.iterator]()):jr,"%AsyncFromSyncIteratorPrototype%":jr,"%AsyncFunction%":zA,"%AsyncGenerator%":zA,"%AsyncGeneratorFunction%":zA,"%AsyncIteratorPrototype%":zA,"%Atomics%":typeof Atomics>"u"?jr:Atomics,"%BigInt%":typeof BigInt>"u"?jr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?jr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?jr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?jr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?jr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?jr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?jr:FinalizationRegistry,"%Function%":QPe,"%GeneratorFunction%":zA,"%Int8Array%":typeof Int8Array>"u"?jr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?jr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?jr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":jA&&vs?vs(vs([][Symbol.iterator]())):jr,"%JSON%":typeof JSON=="object"?JSON:jr,"%Map%":typeof Map>"u"?jr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!jA||!vs?jr:vs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?jr:Promise,"%Proxy%":typeof Proxy>"u"?jr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?jr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?jr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!jA||!vs?jr:vs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?jr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":jA&&vs?vs(""[Symbol.iterator]()):jr,"%Symbol%":jA?Symbol:jr,"%SyntaxError%":GA,"%ThrowTypeError%":jMt,"%TypedArray%":WMt,"%TypeError%":WA,"%Uint8Array%":typeof Uint8Array>"u"?jr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?jr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?jr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?jr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?jr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?jr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?jr:WeakSet};if(vs)try{null.error}catch(t){$Pe=vs(vs(t)),Qv["%Error.prototype%"]=$Pe}var $Pe,GMt=function t(e){var r;if(e==="%AsyncFunction%")r=nre("async function () {}");else if(e==="%GeneratorFunction%")r=nre("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=nre("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&vs&&(r=vs(i.prototype))}return Qv[e]=r,r},YPe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B5=GPe(),qD=I5(),$Mt=B5.call(Function.call,Array.prototype.concat),YMt=B5.call(Function.apply,Array.prototype.splice),ZPe=B5.call(Function.call,String.prototype.replace),KD=B5.call(Function.call,String.prototype.slice),ZMt=B5.call(Function.call,RegExp.prototype.exec),QMt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,JMt=/\\(\\)?/g,XMt=function(e){var r=KD(e,0,1),n=KD(e,-1);if(r==="%"&&n!=="%")throw new GA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new GA("invalid intrinsic syntax, expected opening `%`");var i=[];return ZPe(e,QMt,function(o,s,c,l){i[i.length]=c?ZPe(l,JMt,"$1"):s||o}),i},ekt=function(e,r){var n=e,i;if(qD(YPe,n)&&(i=YPe[n],n="%"+i[0]+"%"),qD(Qv,n)){var o=Qv[n];if(o===zA&&(o=GMt(n)),typeof o>"u"&&!r)throw new WA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new GA("intrinsic "+e+" does not exist!")};JPe.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new WA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new WA('"allowMissing" argument must be a boolean');if(ZMt(/^%?[^%]*%?$/,e)===null)throw new GA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=XMt(e),i=n.length>0?n[0]:"",o=ekt("%"+i+"%",r),s=o.name,c=o.value,l=!1,m=o.alias;m&&(i=m[0],YMt(n,$Mt([0,1],m)));for(var w=1,b=!0;w<n.length;w+=1){var E=n[w],I=KD(E,0,1),M=KD(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new GA("property names with quotes must have matching quotes");if((E==="constructor"||!b)&&(l=!0),i+="."+E,s="%"+i+"%",qD(Qv,s))c=Qv[s];else if(c!=null){if(!(E in c)){if(!r)throw new WA("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zv&&w+1>=n.length){var k=Zv(c,E);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[E]}else b=qD(c,E),c=c[E];b&&!l&&(Qv[s]=c)}}return c}});var C5=K((tmn,e9e)=>{"use strict";d();h();var tkt=k5(),VD=tkt("%Object.getOwnPropertyDescriptor%",!0);if(VD)try{VD([],"length")}catch{VD=null}e9e.exports=VD});var n9e=K((imn,r9e)=>{"use strict";d();h();var rkt=FD()(),ore=XPe(),O5=rkt&&ore("%Object.defineProperty%",!0);if(O5)try{O5({},"a",{value:1})}catch{O5=!1}var nkt=ore("%SyntaxError%"),$A=ore("%TypeError%"),t9e=C5();r9e.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new $A("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new $A("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $A("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $A("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $A("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $A("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,l=!!t9e&&t9e(e,r);if(O5)O5(e,r,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:o===null&&l?l.writable:!o});else if(c||!i&&!o&&!s)e[r]=n;else throw new nkt("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var u9e=K((amn,c9e)=>{"use strict";d();h();var a9e=VPe(),i9e=n9e(),ikt=FD()(),o9e=C5(),s9e=a9e("%TypeError%"),okt=a9e("%Math.floor%");c9e.exports=function(e,r){if(typeof e!="function")throw new s9e("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||okt(r)!==r)throw new s9e("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&o9e){var s=o9e(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(ikt?i9e(e,"length",r,!0,!0):i9e(e,"length",r)),e}});var are=K((fmn,HD)=>{"use strict";d();h();var sre=wPe(),YA=Zte(),skt=u9e(),akt=YA("%TypeError%"),l9e=YA("%Function.prototype.apply%"),d9e=YA("%Function.prototype.call%"),h9e=YA("%Reflect.apply%",!0)||sre.call(d9e,l9e),N5=YA("%Object.defineProperty%",!0),ckt=YA("%Math.max%");if(N5)try{N5({},"a",{value:1})}catch{N5=null}HD.exports=function(e){if(typeof e!="function")throw new akt("a function is required");var r=h9e(sre,d9e,arguments);return skt(r,1+ckt(0,e.length-(arguments.length-1)),!0)};var f9e=function(){return h9e(sre,l9e,arguments)};N5?N5(HD.exports,"apply",{value:f9e}):HD.exports.apply=f9e});var g9e=K((hmn,y9e)=>{"use strict";d();h();var p9e=Zte(),m9e=are(),ukt=m9e(p9e("String.prototype.indexOf"));y9e.exports=function(e,r){var n=p9e(e,!!r);return typeof n=="function"&&ukt(e,".prototype.")>-1?m9e(n):n}});var S9e=K((ymn,w9e)=>{"use strict";d();h();var zD=mPe(),fkt=Wte(),b9e=are(),fre=g9e(),jD=C5(),lkt=fre("Object.prototype.toString"),x9e=_5()(),v9e=typeof globalThis>"u"?self:globalThis,ure=fkt(),lre=fre("String.prototype.slice"),cre=Object.getPrototypeOf,dkt=fre("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},WD={__proto__:null};x9e&&jD&&cre?zD(ure,function(t){var e=new v9e[t];if(Symbol.toStringTag in e){var r=cre(e),n=jD(r,Symbol.toStringTag);if(!n){var i=cre(r);n=jD(i,Symbol.toStringTag)}WD["$"+t]=b9e(n.get)}}):zD(ure,function(t){var e=new v9e[t],r=e.slice||e.set;r&&(WD["$"+t]=b9e(r))});var hkt=function(e){var r=!1;return zD(WD,function(n,i){if(!r)try{"$"+n(e)===i&&(r=lre(i,1))}catch{}}),r},pkt=function(e){var r=!1;return zD(WD,function(n,i){if(!r)try{n(e),r=lre(i,1)}catch{}}),r};w9e.exports=function(e){if(!e||typeof e!="object")return!1;if(!x9e){var r=lre(lkt(e),8,-1);return dkt(ure,r)>-1?r:r!=="Object"?!1:pkt(e)}return jD?hkt(e):null}});var E9e=K((vmn,A9e)=>{d();h();var mkt=Object.prototype.hasOwnProperty,ykt=Object.prototype.toString;A9e.exports=function(e,r,n){if(ykt.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var o=0;o<i;o++)r.call(n,e[o],o,e);else for(var s in e)mkt.call(e,s)&&r.call(n,e[s],s,e)}});var T9e=K((Smn,_9e)=>{"use strict";d();h();_9e.exports=C5()});var B9e=K((_mn,R9e)=>{"use strict";d();h();var I9e=E9e(),gkt=Wte(),hre=Ute(),bkt=hre("Object.prototype.toString"),M9e=_5()(),vkt=typeof globalThis>"u"?self:globalThis,k9e=gkt(),xkt=hre("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},wkt=hre("String.prototype.slice"),P9e={},GD=T9e(),dre=Object.getPrototypeOf;M9e&&GD&&dre&&I9e(k9e,function(t){var e=new vkt[t];if(Symbol.toStringTag in e){var r=dre(e),n=GD(r,Symbol.toStringTag);if(!n){var i=dre(r);n=GD(i,Symbol.toStringTag)}P9e[t]=n.get}});var Skt=function(e){var r=!1;return I9e(P9e,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r};R9e.exports=function(e){if(!e||typeof e!="object")return!1;if(!M9e||!(Symbol.toStringTag in e)){var r=wkt(bkt(e),8,-1);return xkt(k9e,r)>-1}return GD?Skt(e):!1}});var W9e=K(Dr=>{"use strict";d();h();var Akt=oPe(),Ekt=cPe(),id=S9e(),C9e=B9e();function ZA(t){return t.call.bind(t)}var O9e=typeof BigInt<"u",N9e=typeof Symbol<"u",Qf=ZA(Object.prototype.toString),_kt=ZA(Number.prototype.valueOf),Tkt=ZA(String.prototype.valueOf),Ikt=ZA(Boolean.prototype.valueOf);O9e&&(D9e=ZA(BigInt.prototype.valueOf));var D9e;N9e&&(U9e=ZA(Symbol.prototype.valueOf));var U9e;function U5(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}Dr.isArgumentsObject=Akt;Dr.isGeneratorFunction=Ekt;Dr.isTypedArray=C9e;function Mkt(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}Dr.isPromise=Mkt;function kkt(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):C9e(t)||F9e(t)}Dr.isArrayBufferView=kkt;function Pkt(t){return id(t)==="Uint8Array"}Dr.isUint8Array=Pkt;function Rkt(t){return id(t)==="Uint8ClampedArray"}Dr.isUint8ClampedArray=Rkt;function Bkt(t){return id(t)==="Uint16Array"}Dr.isUint16Array=Bkt;function Ckt(t){return id(t)==="Uint32Array"}Dr.isUint32Array=Ckt;function Okt(t){return id(t)==="Int8Array"}Dr.isInt8Array=Okt;function Nkt(t){return id(t)==="Int16Array"}Dr.isInt16Array=Nkt;function Dkt(t){return id(t)==="Int32Array"}Dr.isInt32Array=Dkt;function Ukt(t){return id(t)==="Float32Array"}Dr.isFloat32Array=Ukt;function Lkt(t){return id(t)==="Float64Array"}Dr.isFloat64Array=Lkt;function Fkt(t){return id(t)==="BigInt64Array"}Dr.isBigInt64Array=Fkt;function qkt(t){return id(t)==="BigUint64Array"}Dr.isBigUint64Array=qkt;function $D(t){return Qf(t)==="[object Map]"}$D.working=typeof Map<"u"&&$D(new Map);function Kkt(t){return typeof Map>"u"?!1:$D.working?$D(t):t instanceof Map}Dr.isMap=Kkt;function YD(t){return Qf(t)==="[object Set]"}YD.working=typeof Set<"u"&&YD(new Set);function Vkt(t){return typeof Set>"u"?!1:YD.working?YD(t):t instanceof Set}Dr.isSet=Vkt;function ZD(t){return Qf(t)==="[object WeakMap]"}ZD.working=typeof WeakMap<"u"&&ZD(new WeakMap);function Hkt(t){return typeof WeakMap>"u"?!1:ZD.working?ZD(t):t instanceof WeakMap}Dr.isWeakMap=Hkt;function mre(t){return Qf(t)==="[object WeakSet]"}mre.working=typeof WeakSet<"u"&&mre(new WeakSet);function jkt(t){return mre(t)}Dr.isWeakSet=jkt;function QD(t){return Qf(t)==="[object ArrayBuffer]"}QD.working=typeof ArrayBuffer<"u"&&QD(new ArrayBuffer);function L9e(t){return typeof ArrayBuffer>"u"?!1:QD.working?QD(t):t instanceof ArrayBuffer}Dr.isArrayBuffer=L9e;function JD(t){return Qf(t)==="[object DataView]"}JD.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&JD(new DataView(new ArrayBuffer(1),0,1));function F9e(t){return typeof DataView>"u"?!1:JD.working?JD(t):t instanceof DataView}Dr.isDataView=F9e;var pre=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function D5(t){return Qf(t)==="[object SharedArrayBuffer]"}function q9e(t){return typeof pre>"u"?!1:(typeof D5.working>"u"&&(D5.working=D5(new pre)),D5.working?D5(t):t instanceof pre)}Dr.isSharedArrayBuffer=q9e;function zkt(t){return Qf(t)==="[object AsyncFunction]"}Dr.isAsyncFunction=zkt;function Wkt(t){return Qf(t)==="[object Map Iterator]"}Dr.isMapIterator=Wkt;function Gkt(t){return Qf(t)==="[object Set Iterator]"}Dr.isSetIterator=Gkt;function $kt(t){return Qf(t)==="[object Generator]"}Dr.isGeneratorObject=$kt;function Ykt(t){return Qf(t)==="[object WebAssembly.Module]"}Dr.isWebAssemblyCompiledModule=Ykt;function K9e(t){return U5(t,_kt)}Dr.isNumberObject=K9e;function V9e(t){return U5(t,Tkt)}Dr.isStringObject=V9e;function H9e(t){return U5(t,Ikt)}Dr.isBooleanObject=H9e;function j9e(t){return O9e&&U5(t,D9e)}Dr.isBigIntObject=j9e;function z9e(t){return N9e&&U5(t,U9e)}Dr.isSymbolObject=z9e;function Zkt(t){return K9e(t)||V9e(t)||H9e(t)||j9e(t)||z9e(t)}Dr.isBoxedPrimitive=Zkt;function Qkt(t){return typeof Uint8Array<"u"&&(L9e(t)||q9e(t))}Dr.isAnyArrayBuffer=Qkt;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Dr,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var $9e=K((Rmn,G9e)=>{d();h();G9e.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var JA=K(Ur=>{d();h();var Y9e=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},Jkt=/%[sdj%]/g;Ur.format=function(t){if(!oU(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(kg(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(t).replace(Jkt,function(c){if(c==="%%")return"%";if(r>=i)return c;switch(c){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return c}}),s=n[r];r<i;s=n[++r])iU(s)||!QA(s)?o+=" "+s:o+=" "+kg(s);return o};Ur.deprecate=function(t,e){if(typeof process<"u"&&process.noDeprecation===!0)return t;if(typeof process>"u")return function(){return Ur.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var XD={},Z9e=/^$/;T.NODE_DEBUG&&(eU=T.NODE_DEBUG,eU=eU.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Z9e=new RegExp("^"+eU+"$","i"));var eU;Ur.debuglog=function(t){if(t=t.toUpperCase(),!XD[t])if(Z9e.test(t)){var e=process.pid;XD[t]=function(){var r=Ur.format.apply(Ur,arguments);console.error("%s %d: %s",t,e,r)}}else XD[t]=function(){};return XD[t]};function kg(t,e){var r={seen:[],stylize:e7t};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),vre(e)?r.showHidden=e:e&&Ur._extend(r,e),Xv(r.showHidden)&&(r.showHidden=!1),Xv(r.depth)&&(r.depth=2),Xv(r.colors)&&(r.colors=!1),Xv(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Xkt),rU(r,t,r.depth)}Ur.inspect=kg;kg.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};kg.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Xkt(t,e){var r=kg.styles[e];return r?"\x1B["+kg.colors[r][0]+"m"+t+"\x1B["+kg.colors[r][1]+"m":t}function e7t(t,e){return t}function t7t(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function rU(t,e,r){if(t.customInspect&&e&&tU(e.inspect)&&e.inspect!==Ur.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return oU(n)||(n=rU(t,n,r)),n}var i=r7t(t,e);if(i)return i;var o=Object.keys(e),s=t7t(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),F5(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return yre(e);if(o.length===0){if(tU(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(L5(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(nU(e))return t.stylize(Date.prototype.toString.call(e),"date");if(F5(e))return yre(e)}var l="",m=!1,w=["{","}"];if(Q9e(e)&&(m=!0,w=["[","]"]),tU(e)){var b=e.name?": "+e.name:"";l=" [Function"+b+"]"}if(L5(e)&&(l=" "+RegExp.prototype.toString.call(e)),nU(e)&&(l=" "+Date.prototype.toUTCString.call(e)),F5(e)&&(l=" "+yre(e)),o.length===0&&(!m||e.length==0))return w[0]+l+w[1];if(r<0)return L5(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return m?E=n7t(t,e,r,s,o):E=o.map(function(I){return bre(t,e,r,s,I,m)}),t.seen.pop(),i7t(E,l,w)}function r7t(t,e){if(Xv(e))return t.stylize("undefined","undefined");if(oU(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(J9e(e))return t.stylize(""+e,"number");if(vre(e))return t.stylize(""+e,"boolean");if(iU(e))return t.stylize("null","null")}function yre(t){return"["+Error.prototype.toString.call(t)+"]"}function n7t(t,e,r,n,i){for(var o=[],s=0,c=e.length;s<c;++s)X9e(e,String(s))?o.push(bre(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(l){l.match(/^\d+$/)||o.push(bre(t,e,r,n,l,!0))}),o}function bre(t,e,r,n,i,o){var s,c,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):l.set&&(c=t.stylize("[Setter]","special")),X9e(n,i)||(s="["+i+"]"),c||(t.seen.indexOf(l.value)<0?(iU(r)?c=rU(t,l.value,null):c=rU(t,l.value,r-1),c.indexOf(`
`)>-1&&(o?c=c.split(`
`).map(function(m){return"  "+m}).join(`
`).slice(2):c=`
`+c.split(`
`).map(function(m){return"   "+m}).join(`
`))):c=t.stylize("[Circular]","special")),Xv(s)){if(o&&i.match(/^\d+$/))return c;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+c}function i7t(t,e,r){var n=0,i=t.reduce(function(o,s){return n++,s.indexOf(`
`)>=0&&n++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}Ur.types=W9e();function Q9e(t){return Array.isArray(t)}Ur.isArray=Q9e;function vre(t){return typeof t=="boolean"}Ur.isBoolean=vre;function iU(t){return t===null}Ur.isNull=iU;function o7t(t){return t==null}Ur.isNullOrUndefined=o7t;function J9e(t){return typeof t=="number"}Ur.isNumber=J9e;function oU(t){return typeof t=="string"}Ur.isString=oU;function s7t(t){return typeof t=="symbol"}Ur.isSymbol=s7t;function Xv(t){return t===void 0}Ur.isUndefined=Xv;function L5(t){return QA(t)&&xre(t)==="[object RegExp]"}Ur.isRegExp=L5;Ur.types.isRegExp=L5;function QA(t){return typeof t=="object"&&t!==null}Ur.isObject=QA;function nU(t){return QA(t)&&xre(t)==="[object Date]"}Ur.isDate=nU;Ur.types.isDate=nU;function F5(t){return QA(t)&&(xre(t)==="[object Error]"||t instanceof Error)}Ur.isError=F5;Ur.types.isNativeError=F5;function tU(t){return typeof t=="function"}Ur.isFunction=tU;function a7t(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Ur.isPrimitive=a7t;Ur.isBuffer=$9e();function xre(t){return Object.prototype.toString.call(t)}function gre(t){return t<10?"0"+t.toString(10):t.toString(10)}var c7t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function u7t(){var t=new Date,e=[gre(t.getHours()),gre(t.getMinutes()),gre(t.getSeconds())].join(":");return[t.getDate(),c7t[t.getMonth()],e].join(" ")}Ur.log=function(){console.log("%s - %s",u7t(),Ur.format.apply(Ur,arguments))};Ur.inherits=Xt();Ur._extend=function(t,e){if(!e||!QA(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function X9e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Jv=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Ur.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Jv&&e[Jv]){var r=e[Jv];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Jv,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,o=new Promise(function(l,m){n=l,i=m}),s=[],c=0;c<arguments.length;c++)s.push(arguments[c]);s.push(function(l,m){l?i(l):n(m)});try{e.apply(this,s)}catch(l){i(l)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Jv&&Object.defineProperty(r,Jv,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,Y9e(e))};Ur.promisify.custom=Jv;function f7t(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function l7t(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,r).then(function(c){process.nextTick(s.bind(null,null,c))},function(c){process.nextTick(f7t.bind(null,c,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Y9e(t)),e}Ur.callbackify=l7t});var Ere=K((Umn,rRe)=>{"use strict";d();h();function XA(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?XA=function(r){return typeof r}:XA=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},XA(t)}function d7t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h7t(t,e){return e&&(XA(e)==="object"||typeof e=="function")?e:p7t(t)}function p7t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sre(t){return Sre=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Sre(t)}function m7t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Are(t,e)}function Are(t,e){return Are=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Are(t,e)}var tRe={},eE,wre;function q5(t,e,r){r||(r=Error);function n(o,s,c){return typeof e=="string"?e:e(o,s,c)}var i=function(o){m7t(s,o);function s(c,l,m){var w;return d7t(this,s),w=h7t(this,Sre(s).call(this,n(c,l,m))),w.code=t,w}return s}(r);tRe[t]=i}function eRe(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function y7t(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function g7t(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function b7t(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}q5("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);q5("ERR_INVALID_ARG_TYPE",function(t,e,r){eE===void 0&&(eE=K5()),eE(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&y7t(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(g7t(t," argument"))i="The ".concat(t," ").concat(n," ").concat(eRe(e,"type"));else{var o=b7t(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(eRe(e,"type"))}return i+=". Received type ".concat(XA(r)),i},TypeError);q5("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";wre===void 0&&(wre=JA());var n=wre.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);q5("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(XA(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);q5("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];eE===void 0&&(eE=K5()),eE(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(o){return'"'.concat(o,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);rRe.exports.codes=tRe});var aRe=K((qmn,sRe)=>{"use strict";d();h();function v7t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){x7t(t,i,r[i])})}return t}function x7t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w7t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S7t(t,e,r){return e&&nRe(t.prototype,e),r&&nRe(t,r),t}function tE(t,e){return e&&(Jf(e)==="object"||typeof e=="function")?e:_re(t)}function _re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A7t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z5(t,e)}function Tre(t){var e=typeof Map=="function"?new Map:void 0;return Tre=function(n){if(n===null||!_7t(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return sU(n,arguments,Pg(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),z5(i,n)},Tre(t)}function E7t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function sU(t,e,r){return E7t()?sU=Reflect.construct:sU=function(i,o,s){var c=[null];c.push.apply(c,o);var l=Function.bind.apply(i,c),m=new l;return s&&z5(m,s.prototype),m},sU.apply(null,arguments)}function _7t(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function z5(t,e){return z5=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},z5(t,e)}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(t)}function Jf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jf=function(r){return typeof r}:Jf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jf(t)}var T7t=JA(),Ire=T7t.inspect,I7t=Ere(),M7t=I7t.codes.ERR_INVALID_ARG_TYPE;function iRe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function k7t(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}var od="",V5="",H5="",$s="",ex={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},P7t=10;function oRe(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}function j5(t){return Ire(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function R7t(t,e,r){var n="",i="",o=0,s="",c=!1,l=j5(t),m=l.split(`
`),w=j5(e).split(`
`),b=0,E="";if(r==="strictEqual"&&Jf(t)==="object"&&Jf(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),m.length===1&&w.length===1&&m[0]!==w[0]){var I=m[0].length+w[0].length;if(I<=P7t){if((Jf(t)!=="object"||t===null)&&(Jf(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(ex[r],`

`)+"".concat(m[0]," !== ").concat(w[0],`
`)}else if(r!=="strictEqualObject"){var M=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(I<M){for(;m[0][b]===w[0][b];)b++;b>2&&(E=`
  `.concat(k7t(" ",b),"^"),b=0)}}}for(var k=m[m.length-1],B=w[w.length-1];k===B&&(b++<2?s=`
  `.concat(k).concat(s):n=k,m.pop(),w.pop(),!(m.length===0||w.length===0));)k=m[m.length-1],B=w[w.length-1];var R=Math.max(m.length,w.length);if(R===0){var U=l.split(`
`);if(U.length>30)for(U[26]="".concat(od,"...").concat($s);U.length>27;)U.pop();return"".concat(ex.notIdentical,`

`).concat(U.join(`
`),`
`)}b>3&&(s=`
`.concat(od,"...").concat($s).concat(s),c=!0),n!==""&&(s=`
  `.concat(n).concat(s),n="");var P=0,F=ex[r]+`
`.concat(V5,"+ actual").concat($s," ").concat(H5,"- expected").concat($s),V=" ".concat(od,"...").concat($s," Lines skipped");for(b=0;b<R;b++){var H=b-o;if(m.length<b+1)H>1&&b>2&&(H>4?(i+=`
`.concat(od,"...").concat($s),c=!0):H>3&&(i+=`
  `.concat(w[b-2]),P++),i+=`
  `.concat(w[b-1]),P++),o=b,n+=`
`.concat(H5,"-").concat($s," ").concat(w[b]),P++;else if(w.length<b+1)H>1&&b>2&&(H>4?(i+=`
`.concat(od,"...").concat($s),c=!0):H>3&&(i+=`
  `.concat(m[b-2]),P++),i+=`
  `.concat(m[b-1]),P++),o=b,i+=`
`.concat(V5,"+").concat($s," ").concat(m[b]),P++;else{var re=w[b],J=m[b],ie=J!==re&&(!iRe(J,",")||J.slice(0,-1)!==re);ie&&iRe(re,",")&&re.slice(0,-1)===J&&(ie=!1,J+=","),ie?(H>1&&b>2&&(H>4?(i+=`
`.concat(od,"...").concat($s),c=!0):H>3&&(i+=`
  `.concat(m[b-2]),P++),i+=`
  `.concat(m[b-1]),P++),o=b,i+=`
`.concat(V5,"+").concat($s," ").concat(J),n+=`
`.concat(H5,"-").concat($s," ").concat(re),P+=2):(i+=n,n="",(H===1||b===0)&&(i+=`
  `.concat(J),P++))}if(P>20&&b<R-2)return"".concat(F).concat(V,`
`).concat(i,`
`).concat(od,"...").concat($s).concat(n,`
`)+"".concat(od,"...").concat($s)}return"".concat(F).concat(c?V:"",`
`).concat(i).concat(n).concat(s).concat(E)}var B7t=function(t){A7t(e,t);function e(r){var n;if(w7t(this,e),Jf(r)!=="object"||r===null)throw new M7t("options","Object",r);var i=r.message,o=r.operator,s=r.stackStartFn,c=r.actual,l=r.expected,m=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)n=tE(this,Pg(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(od="\x1B[34m",V5="\x1B[32m",$s="\x1B[39m",H5="\x1B[31m"):(od="",V5="",$s="",H5="")),Jf(c)==="object"&&c!==null&&Jf(l)==="object"&&l!==null&&"stack"in c&&c instanceof Error&&"stack"in l&&l instanceof Error&&(c=oRe(c),l=oRe(l)),o==="deepStrictEqual"||o==="strictEqual")n=tE(this,Pg(e).call(this,R7t(c,l,o)));else if(o==="notDeepStrictEqual"||o==="notStrictEqual"){var w=ex[o],b=j5(c).split(`
`);if(o==="notStrictEqual"&&Jf(c)==="object"&&c!==null&&(w=ex.notStrictEqualObject),b.length>30)for(b[26]="".concat(od,"...").concat($s);b.length>27;)b.pop();b.length===1?n=tE(this,Pg(e).call(this,"".concat(w," ").concat(b[0]))):n=tE(this,Pg(e).call(this,"".concat(w,`

`).concat(b.join(`
`),`
`)))}else{var E=j5(c),I="",M=ex[o];o==="notDeepEqual"||o==="notEqual"?(E="".concat(ex[o],`

`).concat(E),E.length>1024&&(E="".concat(E.slice(0,1021),"..."))):(I="".concat(j5(l)),E.length>512&&(E="".concat(E.slice(0,509),"...")),I.length>512&&(I="".concat(I.slice(0,509),"...")),o==="deepEqual"||o==="equal"?E="".concat(M,`

`).concat(E,`

should equal

`):I=" ".concat(o," ").concat(I)),n=tE(this,Pg(e).call(this,"".concat(E).concat(I)))}return Error.stackTraceLimit=m,n.generatedMessage=!i,Object.defineProperty(_re(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=c,n.expected=l,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(_re(n),s),n.stack,n.name="AssertionError",tE(n)}return S7t(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:Ire.custom,value:function(n,i){return Ire(this,v7t({},i,{customInspect:!1,depth:0}))}}]),e}(Tre(Error));sRe.exports=B7t});var fRe=K((Hmn,uRe)=>{"use strict";d();h();function cRe(t,e){if(t==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var o=Object.keys(Object(i)),s=0,c=o.length;s<c;s++){var l=o[s],m=Object.getOwnPropertyDescriptor(i,l);m!==void 0&&m.enumerable&&(r[l]=i[l])}}return r}function C7t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:cRe})}uRe.exports={assign:cRe,polyfill:C7t}});var Mre=K((Wmn,dRe)=>{"use strict";d();h();var lRe=Object.prototype.toString;dRe.exports=function(e){var r=lRe.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&lRe.call(e.callee)==="[object Function]"),n}});var wRe=K((Ymn,xRe)=>{"use strict";d();h();var vRe;Object.keys||(W5=Object.prototype.hasOwnProperty,kre=Object.prototype.toString,hRe=Mre(),Pre=Object.prototype.propertyIsEnumerable,pRe=!Pre.call({toString:null},"toString"),mRe=Pre.call(function(){},"prototype"),G5=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],aU=function(t){var e=t.constructor;return e&&e.prototype===t},yRe={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},gRe=function(){if(typeof self>"u")return!1;for(var t in self)try{if(!yRe["$"+t]&&W5.call(self,t)&&self[t]!==null&&typeof self[t]=="object")try{aU(self[t])}catch{return!0}}catch{return!0}return!1}(),bRe=function(t){if(typeof self>"u"||!gRe)return aU(t);try{return aU(t)}catch{return!1}},vRe=function(e){var r=e!==null&&typeof e=="object",n=kre.call(e)==="[object Function]",i=hRe(e),o=r&&kre.call(e)==="[object String]",s=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var c=mRe&&n;if(o&&e.length>0&&!W5.call(e,0))for(var l=0;l<e.length;++l)s.push(String(l));if(i&&e.length>0)for(var m=0;m<e.length;++m)s.push(String(m));else for(var w in e)!(c&&w==="prototype")&&W5.call(e,w)&&s.push(String(w));if(pRe)for(var b=bRe(e),E=0;E<G5.length;++E)!(b&&G5[E]==="constructor")&&W5.call(e,G5[E])&&s.push(G5[E]);return s});var W5,kre,hRe,Pre,pRe,mRe,G5,aU,yRe,gRe,bRe;xRe.exports=vRe});var _Re=K((Jmn,ERe)=>{"use strict";d();h();var O7t=Array.prototype.slice,N7t=Mre(),SRe=Object.keys,cU=SRe?function(e){return SRe(e)}:wRe(),ARe=Object.keys;cU.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return N7t(n)?ARe(O7t.call(n)):ARe(n)})}else Object.keys=cU;return Object.keys||cU};ERe.exports=cU});var $5=K((tyn,kRe)=>{"use strict";d();h();var D7t=_Re(),U7t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",L7t=Object.prototype.toString,F7t=Array.prototype.concat,TRe=Object.defineProperty,q7t=function(t){return typeof t=="function"&&L7t.call(t)==="[object Function]"},K7t=FD()(),IRe=TRe&&K7t,V7t=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!q7t(n)||!n())return}IRe?TRe(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},MRe=function(t,e){var r=arguments.length>2?arguments[2]:{},n=D7t(e);U7t&&(n=F7t.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)V7t(t,n[i],e[n[i]],r[n[i]])};MRe.supportsDescriptors=!!IRe;kRe.exports=MRe});var Rre=K((iyn,RRe)=>{"use strict";d();h();var PRe=function(t){return t!==t};RRe.exports=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||PRe(e)&&PRe(r))}});var Bre=K((ayn,BRe)=>{"use strict";d();h();var H7t=Rre();BRe.exports=function(){return typeof Object.is=="function"?Object.is:H7t}});var ORe=K((fyn,CRe)=>{"use strict";d();h();var j7t=Bre(),z7t=$5();CRe.exports=function(){var e=j7t();return z7t(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var Cre=K((hyn,URe)=>{"use strict";d();h();var W7t=$5(),G7t=PD(),$7t=Rre(),NRe=Bre(),Y7t=ORe(),DRe=G7t(NRe(),Object);W7t(DRe,{getPolyfill:NRe,implementation:$7t,shim:Y7t});URe.exports=DRe});var Ore=K((yyn,LRe)=>{"use strict";d();h();LRe.exports=function(e){return e!==e}});var Nre=K((vyn,FRe)=>{"use strict";d();h();var Z7t=Ore();FRe.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:Z7t}});var KRe=K((Syn,qRe)=>{"use strict";d();h();var Q7t=$5(),J7t=Nre();qRe.exports=function(){var e=J7t();return Q7t(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var zRe=K((_yn,jRe)=>{"use strict";d();h();var X7t=PD(),ePt=$5(),tPt=Ore(),VRe=Nre(),rPt=KRe(),HRe=X7t(VRe(),Number);ePt(HRe,{getPolyfill:VRe,implementation:tPt,shim:rPt});jRe.exports=HRe});var fBe=K((Myn,uBe)=>{"use strict";d();h();function WRe(t,e){return oPt(t)||iPt(t,e)||nPt()}function nPt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function iPt(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}function oPt(t){if(Array.isArray(t))return t}function Bu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bu=function(r){return typeof r}:Bu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bu(t)}var sPt=/a/g.flags!==void 0,mU=function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},GRe=function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},iBe=Object.is?Object.is:Cre(),hU=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},Dre=Number.isNaN?Number.isNaN:zRe();function Lre(t){return t.call.bind(t)}var Z5=Lre(Object.prototype.hasOwnProperty),pU=Lre(Object.prototype.propertyIsEnumerable),$Re=Lre(Object.prototype.toString),cc=JA().types,aPt=cc.isAnyArrayBuffer,cPt=cc.isArrayBufferView,YRe=cc.isDate,uU=cc.isMap,ZRe=cc.isRegExp,fU=cc.isSet,uPt=cc.isNativeError,fPt=cc.isBoxedPrimitive,QRe=cc.isNumberObject,JRe=cc.isStringObject,XRe=cc.isBooleanObject,eBe=cc.isBigIntObject,lPt=cc.isSymbolObject,dPt=cc.isFloat32Array,hPt=cc.isFloat64Array;function pPt(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}function lU(t){return Object.keys(t).filter(pPt).concat(hU(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function oBe(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var dU=void 0,mPt=!0,yPt=!1,Ure=0,Fre=1,sBe=2,aBe=3;function gPt(t,e){return sPt?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function bPt(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function vPt(t,e){return t.byteLength!==e.byteLength?!1:oBe(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function xPt(t,e){return t.byteLength===e.byteLength&&oBe(new Uint8Array(t),new Uint8Array(e))===0}function wPt(t,e){return QRe(t)?QRe(e)&&iBe(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):JRe(t)?JRe(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):XRe(t)?XRe(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):eBe(t)?eBe(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):lPt(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function Xf(t,e,r,n){if(t===e)return t!==0?!0:r?iBe(t,e):!0;if(r){if(Bu(t)!=="object")return typeof t=="number"&&Dre(t)&&Dre(e);if(Bu(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||Bu(t)!=="object")return e===null||Bu(e)!=="object"?t==e:!1;if(e===null||Bu(e)!=="object")return!1}var i=$Re(t),o=$Re(e);if(i!==o)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var s=lU(t,dU),c=lU(e,dU);return s.length!==c.length?!1:Y5(t,e,r,n,Fre,s)}if(i==="[object Object]"&&(!uU(t)&&uU(e)||!fU(t)&&fU(e)))return!1;if(YRe(t)){if(!YRe(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(ZRe(t)){if(!ZRe(e)||!gPt(t,e))return!1}else if(uPt(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(cPt(t)){if(!r&&(dPt(t)||hPt(t))){if(!bPt(t,e))return!1}else if(!vPt(t,e))return!1;var l=lU(t,dU),m=lU(e,dU);return l.length!==m.length?!1:Y5(t,e,r,n,Ure,l)}else{if(fU(t))return!fU(e)||t.size!==e.size?!1:Y5(t,e,r,n,sBe);if(uU(t))return!uU(e)||t.size!==e.size?!1:Y5(t,e,r,n,aBe);if(aPt(t)){if(!xPt(t,e))return!1}else if(fPt(t)&&!wPt(t,e))return!1}return Y5(t,e,r,n,Ure)}function tBe(t,e){return e.filter(function(r){return pU(t,r)})}function Y5(t,e,r,n,i,o){if(arguments.length===5){o=Object.keys(t);var s=Object.keys(e);if(o.length!==s.length)return!1}for(var c=0;c<o.length;c++)if(!Z5(e,o[c]))return!1;if(r&&arguments.length===5){var l=hU(t);if(l.length!==0){var m=0;for(c=0;c<l.length;c++){var w=l[c];if(pU(t,w)){if(!pU(e,w))return!1;o.push(w),m++}else if(pU(e,w))return!1}var b=hU(e);if(l.length!==b.length&&tBe(e,b).length!==m)return!1}else{var E=hU(e);if(E.length!==0&&tBe(e,E).length!==0)return!1}}if(o.length===0&&(i===Ure||i===Fre&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var I=n.val1.get(t);if(I!==void 0){var M=n.val2.get(e);if(M!==void 0)return I===M}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var k=TPt(t,e,r,o,n,i);return n.val1.delete(t),n.val2.delete(e),k}function rBe(t,e,r,n){for(var i=mU(t),o=0;o<i.length;o++){var s=i[o];if(Xf(e,s,r,n))return t.delete(s),!0}return!1}function cBe(t){switch(Bu(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(Dre(t))return!1}return!0}function SPt(t,e,r){var n=cBe(r);return n??(e.has(n)&&!t.has(n))}function APt(t,e,r,n,i){var o=cBe(r);if(o!=null)return o;var s=e.get(o);return s===void 0&&!e.has(o)||!Xf(n,s,!1,i)?!1:!t.has(o)&&Xf(n,s,!1,i)}function EPt(t,e,r,n){for(var i=null,o=mU(t),s=0;s<o.length;s++){var c=o[s];if(Bu(c)==="object"&&c!==null)i===null&&(i=new Set),i.add(c);else if(!e.has(c)){if(r||!SPt(t,e,c))return!1;i===null&&(i=new Set),i.add(c)}}if(i!==null){for(var l=mU(e),m=0;m<l.length;m++){var w=l[m];if(Bu(w)==="object"&&w!==null){if(!rBe(i,w,r,n))return!1}else if(!r&&!t.has(w)&&!rBe(i,w,r,n))return!1}return i.size===0}return!0}function nBe(t,e,r,n,i,o){for(var s=mU(t),c=0;c<s.length;c++){var l=s[c];if(Xf(r,l,i,o)&&Xf(n,e.get(l),i,o))return t.delete(l),!0}return!1}function _Pt(t,e,r,n){for(var i=null,o=GRe(t),s=0;s<o.length;s++){var c=WRe(o[s],2),l=c[0],m=c[1];if(Bu(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var w=e.get(l);if(w===void 0&&!e.has(l)||!Xf(m,w,r,n)){if(r||!APt(t,e,l,m,n))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var b=GRe(e),E=0;E<b.length;E++){var I=WRe(b[E],2),l=I[0],M=I[1];if(Bu(l)==="object"&&l!==null){if(!nBe(i,t,l,M,r,n))return!1}else if(!r&&(!t.has(l)||!Xf(t.get(l),M,!1,n))&&!nBe(i,t,l,M,!1,n))return!1}return i.size===0}return!0}function TPt(t,e,r,n,i,o){var s=0;if(o===sBe){if(!EPt(t,e,r,i))return!1}else if(o===aBe){if(!_Pt(t,e,r,i))return!1}else if(o===Fre)for(;s<t.length;s++)if(Z5(t,s)){if(!Z5(e,s)||!Xf(t[s],e[s],r,i))return!1}else{if(Z5(e,s))return!1;for(var c=Object.keys(t);s<c.length;s++){var l=c[s];if(!Z5(e,l)||!Xf(t[l],e[l],r,i))return!1}return c.length===Object.keys(e).length}for(s=0;s<n.length;s++){var m=n[s];if(!Xf(t[m],e[m],r,i))return!1}return!0}function IPt(t,e){return Xf(t,e,yPt)}function MPt(t,e){return Xf(t,e,mPt)}uBe.exports={isDeepEqual:IPt,isDeepStrictEqual:MPt}});var K5=K((Ryn,TBe)=>{"use strict";d();h();function Rg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rg=function(r){return typeof r}:Rg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rg(t)}function kPt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PPt=Ere(),J5=PPt.codes,lBe=J5.ERR_AMBIGUOUS_ARGUMENT,Q5=J5.ERR_INVALID_ARG_TYPE,RPt=J5.ERR_INVALID_ARG_VALUE,BPt=J5.ERR_INVALID_RETURN_VALUE,Cg=J5.ERR_MISSING_ARGS,tx=aRe(),CPt=JA(),OPt=CPt.inspect,mBe=JA().types,NPt=mBe.isPromise,qre=mBe.isRegExp,DPt=Object.assign?Object.assign:fRe().assign,yBe=Object.is?Object.is:Cre(),Bg,yU;function X5(){var t=fBe();Bg=t.isDeepEqual,yU=t.isDeepStrictEqual}var dBe=!1,Bi=TBe.exports=Kre,gU={};function sd(t){throw t.message instanceof Error?t.message:new tx(t)}function gBe(t,e,r,n,i){var o=arguments.length,s;if(o===0)s="Failed";else if(o===1)r=t,t=void 0;else{if(dBe===!1){dBe=!0;var c=process.emitWarning?process.emitWarning:console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}o===2&&(n="!=")}if(r instanceof Error)throw r;var l={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||gBe};r!==void 0&&(l.message=r);var m=new tx(l);throw s&&(m.message=s,m.generatedMessage=!0),m}Bi.fail=gBe;Bi.AssertionError=tx;function bBe(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new tx({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function Kre(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];bBe.apply(void 0,[Kre,e.length].concat(e))}Bi.ok=Kre;Bi.equal=function t(e,r,n){if(arguments.length<2)throw new Cg("actual","expected");e!=r&&sd({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})};Bi.notEqual=function t(e,r,n){if(arguments.length<2)throw new Cg("actual","expected");e==r&&sd({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})};Bi.deepEqual=function t(e,r,n){if(arguments.length<2)throw new Cg("actual","expected");Bg===void 0&&X5(),Bg(e,r)||sd({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})};Bi.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new Cg("actual","expected");Bg===void 0&&X5(),Bg(e,r)&&sd({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})};Bi.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new Cg("actual","expected");Bg===void 0&&X5(),yU(e,r)||sd({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})};Bi.notDeepStrictEqual=vBe;function vBe(t,e,r){if(arguments.length<2)throw new Cg("actual","expected");Bg===void 0&&X5(),yU(t,e)&&sd({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:vBe})}Bi.strictEqual=function t(e,r,n){if(arguments.length<2)throw new Cg("actual","expected");yBe(e,r)||sd({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})};Bi.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new Cg("actual","expected");yBe(e,r)&&sd({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var hBe=function t(e,r,n){var i=this;kPt(this,t),r.forEach(function(o){o in e&&(n!==void 0&&typeof n[o]=="string"&&qre(e[o])&&e[o].test(n[o])?i[o]=n[o]:i[o]=e[o])})};function UPt(t,e,r,n,i,o){if(!(r in t)||!yU(t[r],e[r])){if(!n){var s=new hBe(t,i),c=new hBe(e,i,t),l=new tx({actual:s,expected:c,operator:"deepStrictEqual",stackStartFn:o});throw l.actual=t,l.expected=e,l.operator=o.name,l}sd({actual:t,expected:e,message:n,operator:o.name,stackStartFn:o})}}function xBe(t,e,r,n){if(typeof e!="function"){if(qre(e))return e.test(t);if(arguments.length===2)throw new Q5("expected",["Function","RegExp"],e);if(Rg(t)!=="object"||t===null){var i=new tx({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var o=Object.keys(e);if(e instanceof Error)o.push("name","message");else if(o.length===0)throw new RPt("error",e,"may not be an empty object");return Bg===void 0&&X5(),o.forEach(function(s){typeof t[s]=="string"&&qre(e[s])&&e[s].test(t[s])||UPt(t,e,s,r,o,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function wBe(t){if(typeof t!="function")throw new Q5("fn","Function",t);try{t()}catch(e){return e}return gU}function pBe(t){return NPt(t)||t!==null&&Rg(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}function SBe(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!pBe(e))throw new BPt("instance of Promise","promiseFn",e)}else if(pBe(t))e=t;else throw new Q5("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return gU}).catch(function(r){return r})})}function ABe(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new Q5("error",["Object","Error","Function","RegExp"],r);if(Rg(e)==="object"&&e!==null){if(e.message===r)throw new lBe("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new lBe("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&Rg(r)!=="object"&&typeof r!="function")throw new Q5("error",["Object","Error","Function","RegExp"],r);if(e===gU){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var o=t.name==="rejects"?"rejection":"exception";sd({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(o).concat(i),stackStartFn:t})}if(r&&!xBe(e,r,n,t))throw e}function EBe(t,e,r,n){if(e!==gU){if(typeof r=="string"&&(n=r,r=void 0),!r||xBe(e,r)){var i=n?": ".concat(n):".",o=t.name==="doesNotReject"?"rejection":"exception";sd({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}Bi.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];ABe.apply(void 0,[t,wBe(e)].concat(n))};Bi.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return SBe(e).then(function(o){return ABe.apply(void 0,[t,o].concat(n))})};Bi.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];EBe.apply(void 0,[t,wBe(e)].concat(n))};Bi.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return SBe(e).then(function(o){return EBe.apply(void 0,[t,o].concat(n))})};Bi.ifError=function t(e){if(e!=null){var r="ifError got unwanted exception: ";Rg(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=OPt(e);var n=new tx({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var o=i.split(`
`);o.shift();for(var s=n.stack.split(`
`),c=0;c<o.length;c++){var l=s.indexOf(o[c]);if(l!==-1){s=s.slice(0,l);break}}n.stack="".concat(s.join(`
`),`
`).concat(o.join(`
`))}throw n}};function _Be(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];bBe.apply(void 0,[_Be,e.length].concat(e))}Bi.strict=DPt(_Be,Bi,{equal:Bi.strictEqual,deepEqual:Bi.deepStrictEqual,notEqual:Bi.notStrictEqual,notDeepEqual:Bi.notDeepStrictEqual});Bi.strict.strict=Bi.strict});var nE=K(zr=>{"use strict";d();h();Object.defineProperty(zr,"__esModule",{value:!0});zr.baToJSON=zr.addHexPrefix=zr.toUnsigned=zr.fromSigned=zr.bufferToHex=zr.bufferToInt=zr.toBuffer=zr.stripZeros=zr.unpad=zr.setLengthRight=zr.setLength=zr.setLengthLeft=zr.zeros=void 0;var rE=Hv(),Vre=Kv();zr.zeros=function(t){return Buffer.allocUnsafe(t).fill(0)};zr.setLengthLeft=function(t,e,r){r===void 0&&(r=!1);var n=zr.zeros(e);return t=zr.toBuffer(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)};zr.setLength=zr.setLengthLeft;zr.setLengthRight=function(t,e){return zr.setLength(t,e,!0)};zr.unpad=function(t){t=rE.stripHexPrefix(t);for(var e=t[0];t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t};zr.stripZeros=zr.unpad;zr.toBuffer=function(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")if(rE.isHexString(t))t=Buffer.from(rE.padToEven(rE.stripHexPrefix(t)),"hex");else throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+t);else if(typeof t=="number")t=rE.intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Vre.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t};zr.bufferToInt=function(t){return new Vre(zr.toBuffer(t)).toNumber()};zr.bufferToHex=function(t){return t=zr.toBuffer(t),"0x"+t.toString("hex")};zr.fromSigned=function(t){return new Vre(t).fromTwos(256)};zr.toUnsigned=function(t){return Buffer.from(t.toTwos(256).toArray())};zr.addHexPrefix=function(t){return typeof t!="string"||rE.isHexPrefixed(t)?t:"0x"+t};zr.baToJSON=function(t){if(Buffer.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var e=[],r=0;r<t.length;r++)e.push(zr.baToJSON(t[r]));return e}}});var IBe=K(Hre=>{"use strict";d();h();Object.defineProperty(Hre,"__esModule",{value:!0});function LPt(t){return function(e){var r=t();return r.update(e),Buffer.from(r.digest())}}Hre.createHashFunction=LPt});var PBe=K((qyn,kBe)=>{d();h();var{Transform:FPt}=VI();kBe.exports=t=>class MBe extends FPt{constructor(r,n,i,o,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new MBe(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var CBe=K((Hyn,BBe)=>{d();h();var{Transform:qPt}=VI();BBe.exports=t=>class RBe extends qPt{constructor(r,n,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new RBe(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var NBe=K((Wyn,OBe)=>{d();h();var KPt=PBe(),VPt=CBe();OBe.exports=function(t){let e=KPt(t),r=VPt(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var LBe=K(UBe=>{d();h();var DBe=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];UBe.p1600=function(t){for(let e=0;e<24;++e){let r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],m=t[7]^t[17]^t[27]^t[37]^t[47],w=t[8]^t[18]^t[28]^t[38]^t[48],b=t[9]^t[19]^t[29]^t[39]^t[49],E=w^(i<<1|o>>>31),I=b^(o<<1|i>>>31),M=t[0]^E,k=t[1]^I,B=t[10]^E,R=t[11]^I,U=t[20]^E,P=t[21]^I,F=t[30]^E,V=t[31]^I,H=t[40]^E,re=t[41]^I;E=r^(s<<1|c>>>31),I=n^(c<<1|s>>>31);let J=t[2]^E,ie=t[3]^I,S=t[12]^E,a=t[13]^I,f=t[22]^E,p=t[23]^I,y=t[32]^E,g=t[33]^I,A=t[42]^E,_=t[43]^I;E=i^(l<<1|m>>>31),I=o^(m<<1|l>>>31);let v=t[4]^E,u=t[5]^I,x=t[14]^E,q=t[15]^I,L=t[24]^E,C=t[25]^I,W=t[34]^E,ee=t[35]^I,ne=t[44]^E,Ve=t[45]^I;E=s^(w<<1|b>>>31),I=c^(b<<1|w>>>31);let ae=t[6]^E,G=t[7]^I,he=t[16]^E,te=t[17]^I,ce=t[26]^E,Ye=t[27]^I,se=t[36]^E,le=t[37]^I,Pt=t[46]^E,ge=t[47]^I;E=l^(r<<1|n>>>31),I=m^(n<<1|r>>>31);let ye=t[8]^E,Wr=t[9]^I,Ie=t[18]^E,we=t[19]^I,yn=t[28]^E,ve=t[29]^I,Re=t[38]^E,_n=t[39]^I,Be=t[48]^E,Ce=t[49]^I,Bn=M,De=k,Me=R<<4|B>>>28,Tn=B<<4|R>>>28,_e=U<<3|P>>>29,Se=P<<3|U>>>29,en=V<<9|F>>>23,Ae=F<<9|V>>>23,Te=H<<18|re>>>14,an=re<<18|H>>>14,Ee=J<<1|ie>>>31,ke=ie<<1|J>>>31,Cn=a<<12|S>>>20,Ue=S<<12|a>>>20,Le=f<<10|p>>>22,Br=p<<10|f>>>22,be=g<<13|y>>>19,xe=y<<13|g>>>19,In=A<<2|_>>>30,Pe=_<<2|A>>>30,Oe=u<<30|v>>>2,Un=v<<30|u>>>2,me=x<<6|q>>>26,Ne=q<<6|x>>>26,Z=C<<11|L>>>21,z=L<<11|C>>>21,j=W<<15|ee>>>17,N=ee<<15|W>>>17,Q=Ve<<29|ne>>>3,X=ne<<29|Ve>>>3,pe=ae<<28|G>>>4,oe=G<<28|ae>>>4,ue=te<<23|he>>>9,at=he<<23|te>>>9,Je=ce<<25|Ye>>>7,At=Ye<<25|ce>>>7,tt=se<<21|le>>>11,dt=le<<21|se>>>11,ht=ge<<24|Pt>>>8,bt=Pt<<24|ge>>>8,gt=ye<<27|Wr>>>5,pt=Wr<<27|ye>>>5,yt=Ie<<20|we>>>12,mt=we<<20|Ie>>>12,it=ve<<7|yn>>>25,ut=yn<<7|ve>>>25,Xe=Re<<8|_n>>>24,ot=_n<<8|Re>>>24,st=Be<<14|Ce>>>18,Ze=Ce<<14|Be>>>18;t[0]=Bn^~Cn&Z,t[1]=De^~Ue&z,t[10]=pe^~yt&_e,t[11]=oe^~mt&Se,t[20]=Ee^~me&Je,t[21]=ke^~Ne&At,t[30]=gt^~Me&Le,t[31]=pt^~Tn&Br,t[40]=Oe^~ue&it,t[41]=Un^~at&ut,t[2]=Cn^~Z&tt,t[3]=Ue^~z&dt,t[12]=yt^~_e&be,t[13]=mt^~Se&xe,t[22]=me^~Je&Xe,t[23]=Ne^~At&ot,t[32]=Me^~Le&j,t[33]=Tn^~Br&N,t[42]=ue^~it&en,t[43]=at^~ut&Ae,t[4]=Z^~tt&st,t[5]=z^~dt&Ze,t[14]=_e^~be&Q,t[15]=Se^~xe&X,t[24]=Je^~Xe&Te,t[25]=At^~ot&an,t[34]=Le^~j&ht,t[35]=Br^~N&bt,t[44]=it^~en&In,t[45]=ut^~Ae&Pe,t[6]=tt^~st&Bn,t[7]=dt^~Ze&De,t[16]=be^~Q&pe,t[17]=xe^~X&oe,t[26]=Xe^~Te&Ee,t[27]=ot^~an&ke,t[36]=j^~ht&gt,t[37]=N^~bt&pt,t[46]=en^~In&Oe,t[47]=Ae^~Pe&Un,t[8]=st^~Bn&Cn,t[9]=Ze^~De&Ue,t[18]=Q^~pe&yt,t[19]=X^~oe&mt,t[28]=Te^~Ee&me,t[29]=an^~ke&Ne,t[38]=ht^~gt&Me,t[39]=bt^~pt&Tn,t[48]=In^~Oe&ue,t[49]=Pe^~Un&at,t[0]^=DBe[e*2],t[1]^=DBe[e*2+1]}}});var qBe=K((Jyn,FBe)=>{d();h();var bU=LBe();function iE(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}iE.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};iE.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(bU.p1600(this.state),this.count=0)};iE.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&bU.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),bU.p1600(this.state),this.count=0,this.squeezing=!0};iE.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);let e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(bU.p1600(this.state),this.count=0);return e};iE.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};FBe.exports=iE});var VBe=K((tgn,KBe)=>{d();h();KBe.exports=NBe()(qBe())});var HBe=K(oE=>{"use strict";d();h();Object.defineProperty(oE,"__esModule",{value:!0});var vU=IBe(),xU=VBe();oE.keccak224=vU.createHashFunction(function(){return xU("keccak224")});oE.keccak256=vU.createHashFunction(function(){return xU("keccak256")});oE.keccak384=vU.createHashFunction(function(){return xU("keccak384")});oE.keccak512=vU.createHashFunction(function(){return xU("keccak512")})});var AU=K(jc=>{"use strict";d();h();Object.defineProperty(jc,"__esModule",{value:!0});jc.rlphash=jc.ripemd160=jc.sha256=jc.keccak256=jc.keccak=void 0;var SU=HBe(),HPt=SU.keccak224,jPt=SU.keccak384,zPt=SU.keccak256,WPt=SU.keccak512,jBe=rm(),GPt=Hv(),$Pt=TD(),wU=nE();jc.keccak=function(t,e){switch(e===void 0&&(e=256),typeof t=="string"&&!GPt.isHexString(t)?t=Buffer.from(t,"utf8"):t=wU.toBuffer(t),e||(e=256),e){case 224:return HPt(t);case 256:return zPt(t);case 384:return jPt(t);case 512:return WPt(t);default:throw new Error("Invald algorithm: keccak"+e)}};jc.keccak256=function(t){return jc.keccak(t)};jc.sha256=function(t){return t=wU.toBuffer(t),jBe("sha256").update(t).digest()};jc.ripemd160=function(t,e){t=wU.toBuffer(t);var r=jBe("rmd160").update(t).digest();return e===!0?wU.setLength(r,32):r};jc.rlphash=function(t){return jc.keccak($Pt.encode(t))}});var zBe=K(Rr=>{"use strict";d();h();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.importPublic=Rr.privateToPublic=Rr.privateToAddress=Rr.publicToAddress=Rr.pubToAddress=Rr.isValidPublic=Rr.isValidPrivate=Rr.isPrecompiled=Rr.generateAddress2=Rr.generateAddress=Rr.isValidChecksumAddress=Rr.toChecksumAddress=Rr.isZeroAddress=Rr.isValidAddress=Rr.zeroAddress=void 0;var jre=K5(),YPt=Hv(),sE=ED(),ZPt=Kv(),ad=nE(),aE=AU();Rr.zeroAddress=function(){var t=20,e=ad.zeros(t);return ad.bufferToHex(e)};Rr.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)};Rr.isZeroAddress=function(t){var e=Rr.zeroAddress();return e===ad.addHexPrefix(t)};Rr.toChecksumAddress=function(t,e){t=YPt.stripHexPrefix(t).toLowerCase();for(var r=e!==void 0?e.toString()+"0x":"",n=aE.keccak(r+t).toString("hex"),i="0x",o=0;o<t.length;o++)parseInt(n[o],16)>=8?i+=t[o].toUpperCase():i+=t[o];return i};Rr.isValidChecksumAddress=function(t,e){return Rr.isValidAddress(t)&&Rr.toChecksumAddress(t,e)===t};Rr.generateAddress=function(t,e){t=ad.toBuffer(t);var r=new ZPt(e);return r.isZero()?aE.rlphash([t,null]).slice(-20):aE.rlphash([t,Buffer.from(r.toArray())]).slice(-20)};Rr.generateAddress2=function(t,e,r){var n=ad.toBuffer(t),i=ad.toBuffer(e),o=ad.toBuffer(r);jre(n.length===20),jre(i.length===32);var s=aE.keccak256(Buffer.concat([Buffer.from("ff","hex"),n,i,aE.keccak256(o)]));return s.slice(-20)};Rr.isPrecompiled=function(t){var e=ad.unpad(t);return e.length===1&&e[0]>=1&&e[0]<=8};Rr.isValidPrivate=function(t){return sE.privateKeyVerify(t)};Rr.isValidPublic=function(t,e){return e===void 0&&(e=!1),t.length===64?sE.publicKeyVerify(Buffer.concat([Buffer.from([4]),t])):e?sE.publicKeyVerify(t):!1};Rr.pubToAddress=function(t,e){return e===void 0&&(e=!1),t=ad.toBuffer(t),e&&t.length!==64&&(t=sE.publicKeyConvert(t,!1).slice(1)),jre(t.length===64),aE.keccak(t).slice(-20)};Rr.publicToAddress=Rr.pubToAddress;Rr.privateToAddress=function(t){return Rr.publicToAddress(Rr.privateToPublic(t))};Rr.privateToPublic=function(t){return t=ad.toBuffer(t),sE.publicKeyCreate(t,!1).slice(1)};Rr.importPublic=function(t){return t=ad.toBuffer(t),t.length!==64&&(t=sE.publicKeyConvert(t,!1).slice(1)),t}});var WBe=K(zc=>{"use strict";d();h();Object.defineProperty(zc,"__esModule",{value:!0});zc.hashPersonalMessage=zc.isValidSignature=zc.fromRpcSig=zc.toRpcSig=zc.ecrecover=zc.ecsign=void 0;var zre=ED(),EU=Kv(),rx=nE(),QPt=AU();zc.ecsign=function(t,e,r){var n=zre.sign(t,e),i=n.recovery,o={r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?i+(r*2+35):i+27};return o};zc.ecrecover=function(t,e,r,n,i){var o=Buffer.concat([rx.setLength(r,32),rx.setLength(n,32)],64),s=Wre(e,i);if(!Gre(s))throw new Error("Invalid signature v value");var c=zre.recover(t,o,s);return zre.publicKeyConvert(c,!1).slice(1)};zc.toRpcSig=function(t,e,r,n){var i=Wre(t,n);if(!Gre(i))throw new Error("Invalid signature v value");return rx.bufferToHex(Buffer.concat([rx.setLengthLeft(e,32),rx.setLengthLeft(r,32),rx.toBuffer(t)]))};zc.fromRpcSig=function(t){var e=rx.toBuffer(t);if(e.length!==65)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}};zc.isValidSignature=function(t,e,r,n,i){n===void 0&&(n=!0);var o=new EU("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new EU("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||r.length!==32||!Gre(Wre(t,i)))return!1;var c=new EU(e),l=new EU(r);return!(c.isZero()||c.gt(s)||l.isZero()||l.gt(s)||n&&l.cmp(o)===1)};zc.hashPersonalMessage=function(t){var e=Buffer.from(`Ethereum Signed Message:
`+t.length.toString(),"utf-8");return QPt.keccak(Buffer.concat([e,t]))};function Wre(t,e){return e?t-(2*e+35):t-27}function Gre(t){return t===0||t===1}});var YBe=K(TU=>{"use strict";d();h();Object.defineProperty(TU,"__esModule",{value:!0});TU.defineProperties=void 0;var GBe=K5(),JPt=Hv(),$Be=TD(),_U=nE();TU.defineProperties=function(t,e,r){if(t.raw=[],t._fields=[],t.toJSON=function(i){if(i===void 0&&(i=!1),i){var o={};return t._fields.forEach(function(s){o[s]="0x"+t[s].toString("hex")}),o}return _U.baToJSON(t.raw)},t.serialize=function(){return $Be.encode(t.raw)},e.forEach(function(i,o){t._fields.push(i.name);function s(){return t.raw[o]}function c(l){l=_U.toBuffer(l),l.toString("hex")==="00"&&!i.allowZero&&(l=Buffer.allocUnsafe(0)),i.allowLess&&i.length?(l=_U.stripZeros(l),GBe(i.length>=l.length,"The field "+i.name+" must not have more "+i.length+" bytes")):!(i.allowZero&&l.length===0)&&i.length&&GBe(i.length===l.length,"The field "+i.name+" must have byte length of "+i.length),t.raw[o]=l}Object.defineProperty(t,i.name,{enumerable:!0,configurable:!0,get:s,set:c}),i.default&&(t[i.name]=i.default),i.alias&&Object.defineProperty(t,i.alias,{enumerable:!1,configurable:!0,set:c,get:s})}),r)if(typeof r=="string"&&(r=Buffer.from(JPt.stripHexPrefix(r),"hex")),Buffer.isBuffer(r)&&(r=$Be.decode(r)),Array.isArray(r)){if(r.length>t._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(i,o){t[t._fields[o]]=_U.toBuffer(i)})}else if(typeof r=="object"){var n=Object.keys(r);e.forEach(function(i){n.indexOf(i.name)!==-1&&(t[i.name]=r[i.name]),n.indexOf(i.alias)!==-1&&(t[i.alias]=r[i.alias])})}else throw new Error("invalid data")}});var eT=K(jo=>{"use strict";d();h();var XPt=jo&&jo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cE=jo&&jo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&XPt(e,t,r)};Object.defineProperty(jo,"__esModule",{value:!0});jo.secp256k1=jo.rlp=jo.BN=void 0;var e9t=ED();jo.secp256k1=e9t;var t9t=Hv(),r9t=Kv();jo.BN=r9t;var n9t=TD();jo.rlp=n9t;Object.assign(jo,t9t);cE(I7e(),jo);cE(zBe(),jo);cE(AU(),jo);cE(WBe(),jo);cE(nE(),jo);cE(YBe(),jo)});var tT=K(Wc=>{"use strict";d();h();Object.defineProperty(Wc,"__esModule",{value:!0});Wc.normalize=Wc.recoverPublicKey=Wc.concatSig=Wc.legacyToBuffer=Wc.isNullish=Wc.padWithZeroes=void 0;var el=eT(),$re=Hv();function Yre(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}Wc.padWithZeroes=Yre;function i9t(t){return t==null}Wc.isNullish=i9t;function o9t(t){return typeof t=="string"&&!$re.isHexString(t)?Buffer.from(t):el.toBuffer(t)}Wc.legacyToBuffer=o9t;function s9t(t,e,r){let n=el.fromSigned(e),i=el.fromSigned(r),o=el.bufferToInt(t),s=Yre(el.toUnsigned(n).toString("hex"),64),c=Yre(el.toUnsigned(i).toString("hex"),64),l=$re.stripHexPrefix($re.intToHex(o));return el.addHexPrefix(s.concat(c,l))}Wc.concatSig=s9t;function a9t(t,e){let r=el.fromRpcSig(e);return el.ecrecover(t,r.v,r.r,r.s)}Wc.recoverPublicKey=a9t;function c9t(t){if(t){if(typeof t=="number"){let e=el.toBuffer(t);t=el.bufferToHex(e)}if(typeof t!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof t}: ${t}`,new Error(e)}return el.addHexPrefix(t.toLowerCase())}}Wc.normalize=c9t});var QBe=K(Og=>{"use strict";d();h();Object.defineProperty(Og,"__esModule",{value:!0});Og.extractPublicKey=Og.recoverPersonalSignature=Og.personalSign=void 0;var uE=eT(),Oh=tT();function u9t({privateKey:t,data:e}){if(Oh.isNullish(e))throw new Error("Missing data parameter");if(Oh.isNullish(t))throw new Error("Missing privateKey parameter");let r=Oh.legacyToBuffer(e),n=uE.hashPersonalMessage(r),i=uE.ecsign(n,t);return Oh.concatSig(uE.toBuffer(i.v),i.r,i.s)}Og.personalSign=u9t;function f9t({data:t,signature:e}){if(Oh.isNullish(t))throw new Error("Missing data parameter");if(Oh.isNullish(e))throw new Error("Missing signature parameter");let r=ZBe(t,e),n=uE.publicToAddress(r);return uE.bufferToHex(n)}Og.recoverPersonalSignature=f9t;function l9t({data:t,signature:e}){if(Oh.isNullish(t))throw new Error("Missing data parameter");if(Oh.isNullish(e))throw new Error("Missing signature parameter");return`0x${ZBe(t,e).toString("hex")}`}Og.extractPublicKey=l9t;function ZBe(t,e){let r=uE.hashPersonalMessage(Oh.legacyToBuffer(t));return Oh.recoverPublicKey(r,e)}});var XBe=K((JBe,Zre)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Lp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var q=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)q*=f;this.imuln(q),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var q=this.clone();for(q.negative=0;!q.isZero();){var L=q.modn(x).toString(a);q=q.idivn(x),q.isZero()?p=L+p:p=m[u-L.length]+L+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,q=v&67108863,L=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=L;C++){var W=u-C|0;y=S.words[W]|0,g=a.words[C]|0,A=y*g+q,x+=A/67108864|0,q=A&67108863}f.words[u]=q|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,q=y[0]|0,L=q&8191,C=q>>>13,W=y[1]|0,ee=W&8191,ne=W>>>13,Ve=y[2]|0,ae=Ve&8191,G=Ve>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ye=y[4]|0,se=Ye&8191,le=Ye>>>13,Pt=y[5]|0,ge=Pt&8191,ye=Pt>>>13,Wr=y[6]|0,Ie=Wr&8191,we=Wr>>>13,yn=y[7]|0,ve=yn&8191,Re=yn>>>13,_n=y[8]|0,Be=_n&8191,Ce=_n>>>13,Bn=y[9]|0,De=Bn&8191,Me=Bn>>>13,Tn=g[0]|0,_e=Tn&8191,Se=Tn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,an=g[2]|0,Ee=an&8191,ke=an>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Br=g[4]|0,be=Br&8191,xe=Br>>>13,In=g[5]|0,Pe=In&8191,Oe=In>>>13,Un=g[6]|0,me=Un&8191,Ne=Un>>>13,Z=g[7]|0,z=Z&8191,j=Z>>>13,N=g[8]|0,Q=N&8191,X=N>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(L,_e),u=Math.imul(L,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(L,Ae)|0,u=u+Math.imul(L,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(G,_e)|0,x=Math.imul(G,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(L,Ee)|0,u=u+Math.imul(L,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(G,Ae)|0,x=x+Math.imul(G,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(L,Ue)|0,u=u+Math.imul(L,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(G,Ee)|0,x=x+Math.imul(G,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(L,be)|0,u=u+Math.imul(L,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(G,Ue)|0,x=x+Math.imul(G,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(L,Pe)|0,u=u+Math.imul(L,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(G,be)|0,x=x+Math.imul(G,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(L,me)|0,u=u+Math.imul(L,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Re,_e)|0,x=Math.imul(Re,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(G,Pe)|0,x=x+Math.imul(G,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(L,z)|0,u=u+Math.imul(L,j)|0,u=u+Math.imul(C,z)|0,x=x+Math.imul(C,j)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Be,_e),u=Math.imul(Be,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Re,Ae)|0,x=x+Math.imul(Re,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(G,me)|0,x=x+Math.imul(G,Ne)|0,v=v+Math.imul(ee,z)|0,u=u+Math.imul(ee,j)|0,u=u+Math.imul(ne,z)|0,x=x+Math.imul(ne,j)|0,v=v+Math.imul(L,Q)|0,u=u+Math.imul(L,X)|0,u=u+Math.imul(C,Q)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Be,Ae)|0,u=u+Math.imul(Be,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Re,Ee)|0,x=x+Math.imul(Re,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,z)|0,u=u+Math.imul(ae,j)|0,u=u+Math.imul(G,z)|0,x=x+Math.imul(G,j)|0,v=v+Math.imul(ee,Q)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Q)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(L,oe)|0,u=u+Math.imul(L,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Be,Ee)|0,u=u+Math.imul(Be,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Re,Ue)|0,x=x+Math.imul(Re,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,z)|0,u=u+Math.imul(te,j)|0,u=u+Math.imul(ce,z)|0,x=x+Math.imul(ce,j)|0,v=v+Math.imul(ae,Q)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(G,Q)|0,x=x+Math.imul(G,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Be,Ue)|0,u=u+Math.imul(Be,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Re,be)|0,x=x+Math.imul(Re,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,z)|0,u=u+Math.imul(se,j)|0,u=u+Math.imul(le,z)|0,x=x+Math.imul(le,j)|0,v=v+Math.imul(te,Q)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Q)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(G,oe)|0,x=x+Math.imul(G,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Be,be)|0,u=u+Math.imul(Be,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Re,Pe)|0,x=x+Math.imul(Re,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,z)|0,u=u+Math.imul(ge,j)|0,u=u+Math.imul(ye,z)|0,x=x+Math.imul(ye,j)|0,v=v+Math.imul(se,Q)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Q)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Be,Pe)|0,u=u+Math.imul(Be,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Re,me)|0,x=x+Math.imul(Re,Ne)|0,v=v+Math.imul(Ie,z)|0,u=u+Math.imul(Ie,j)|0,u=u+Math.imul(we,z)|0,x=x+Math.imul(we,j)|0,v=v+Math.imul(ge,Q)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Q)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Be,me)|0,u=u+Math.imul(Be,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,z)|0,u=u+Math.imul(ve,j)|0,u=u+Math.imul(Re,z)|0,x=x+Math.imul(Re,j)|0,v=v+Math.imul(Ie,Q)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Q)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Be,z)|0,u=u+Math.imul(Be,j)|0,u=u+Math.imul(Ce,z)|0,x=x+Math.imul(Ce,j)|0,v=v+Math.imul(ve,Q)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Re,Q)|0,x=x+Math.imul(Re,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,z),u=Math.imul(De,j),u=u+Math.imul(Me,z)|0,x=Math.imul(Me,j),v=v+Math.imul(Be,Q)|0,u=u+Math.imul(Be,X)|0,u=u+Math.imul(Ce,Q)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Re,oe)|0,x=x+Math.imul(Re,ue)|0;var Ze=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,v=Math.imul(De,Q),u=Math.imul(De,X),u=u+Math.imul(Me,Q)|0,x=Math.imul(Me,X),v=v+Math.imul(Be,oe)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var qe=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(qe>>>26)|0,qe&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Ze,A[17]=Fe,A[18]=qe,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,q=S.words[x]|0,L=a.words[u]|0,C=q*L,W=C&67108863;A=A+(C/67108864|0)|0,W=W+_|0,_=W&67108863,A=A+(W>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function B(S,a,f){var p=new R;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=B(this,a,f),p};function R(S,a){this.x=S,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},R.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},R.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),q=0;q<g;q+=v)for(var L=u,C=x,W=0;W<_;W++){var ee=p[q+W],ne=y[q+W],Ve=p[q+W+_],ae=y[q+W+_],G=L*Ve-C*ae;ae=L*ae+C*Ve,Ve=G,p[q+W]=ee+Ve,y[q+W]=ne+ae,p[q+W+_]=ee-Ve,y[q+W+_]=ne-ae,W!==v&&(G=u*L-x*C,C=u*C+x*L,L=G)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},R.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},R.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),q=new Array(y),L=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,q,L,y,g);for(var W=0;W<y;W++){var ee=v[W]*q[W]-u[W]*L[W];u[W]=v[W]*L[W]+u[W]*q[W],v[W]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),B(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var q=this.words[u]|0;this.words[u]=x<<26-g|q>>>g,x=q&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var q=y.clone()._ishlnsubmul(g,1,v);q.negative===0&&(y=q,u&&(u.words[v]=1));for(var L=v-1;L>=0;L--){var C=(y.words[g.length+L]|0)*67108864+(y.words[g.length+L-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,L);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,L),y.isZero()||(y.negative^=1);u&&(u.words[L]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var q=0,L=1;!(f.words[0]&L)&&q<26;++q,L<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,W=1;!(p.words[0]&W)&&C<26;++C,W<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var q;return f.cmpn(1)===0?q=y:q=g,q.cmpn(0)<0&&q.iadd(a),q},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new J(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(V,P);function H(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new V;else if(a==="p192")f=new H;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function J(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}J.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},J.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},J.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},J.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},J.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},J.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},J.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},J.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},J.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},J.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},J.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},J.prototype.isqr=function(a){return this.imul(a,a.clone())},J.prototype.sqr=function(a){return this.mul(a,a)},J.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),q=this.pow(a,y.addn(1).iushrn(1)),L=this.pow(a,y),C=g;L.cmp(A)!==0;){for(var W=L,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));q=q.redMul(ne),x=ne.redSqr(),L=L.redMul(x),C=ee}return q},J.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},J.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],q=u-1;q>=0;q--){var L=x>>q&1;if(A!==y[0]&&(A=this.sqr(A)),L===0&&_===0){v=0;continue}_<<=1,_|=L,v++,!(v!==p&&(g!==0||q!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},J.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},J.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){J.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,J),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof Zre>"u"||Zre,JBe)});var nCe=K((Pgn,rCe)=>{d();h();var Dh=eT(),Gc=XBe(),Ci=function(){};function IU(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}Ci.eventID=function(t,e){var r=t+"("+e.map(IU).join(",")+")";return Dh.keccak256(Buffer.from(r))};Ci.methodID=function(t,e){return Ci.eventID(t,e).slice(0,4)};function Ng(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Qre(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function nT(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function nx(t){var e=typeof t;if(e==="string")return Dh.isHexPrefixed(t)?new Gc(Dh.stripHexPrefix(t),16):new Gc(t,10);if(e==="number")return new Gc(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function tCe(t){var e=/^(\w+)\((.*)\)$/.exec(t);if(e.length!==3)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(e[2]);if(r!==null&&r.length===3)return{method:e[1],args:r[1].split(","),retargs:r[2].split(",")};var n=e[2].split(",");return n.length===1&&n[0]===""&&(n=[]),{method:e[1],args:n}}function Nh(t,e){var r,n,i,o;if(t==="address")return Nh("uint160",nx(e));if(t==="bool")return Nh("uint8",e?1:0);if(t==="string")return Nh("bytes",Buffer.from(e,"utf8"));if(rT(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=nT(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(o in e)i.push(Nh(t,e[o]));if(r==="dynamic"){var s=Nh("uint256",e.length);i.unshift(s)}return Buffer.concat(i)}else{if(t==="bytes")return e=Buffer.from(e),i=Buffer.concat([Nh("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Dh.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Ng(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Dh.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Ng(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=nx(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Ng(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=nx(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Qre(t),n=nx(e),n<0)throw new Error("Supplied ufixed is negative");return Nh("uint256",n.mul(new Gc(2).pow(new Gc(r[1]))))}else if(t.startsWith("fixed"))return r=Qre(t),Nh("int256",nx(e).mul(new Gc(2).pow(new Gc(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function cd(t,e,r){typeof t=="string"&&(t=Jre(t));var n,i,o,s;if(t.name==="address")return cd(t.rawType,e,r).toArrayLike(Buffer,"be",20).toString("hex");if(t.name==="bool")return cd(t.rawType,e,r).toString()===new Gc(1).toString();if(t.name==="string"){var c=cd(t.rawType,e,r);return Buffer.from(c,"utf8").toString()}else if(t.isArray){for(o=[],n=t.size,t.size==="dynamic"&&(r=cd("uint256",e,r).toNumber(),n=cd("uint256",e,r).toNumber(),r=r+32),s=0;s<n;s++){var l=cd(t.subArray,e,r);o.push(l),r+=t.subArray.memoryUsage}return o}else{if(t.name==="bytes")return r=cd("uint256",e,r).toNumber(),n=cd("uint256",e,r).toNumber(),e.slice(r+32,r+32+n);if(t.name.startsWith("bytes"))return e.slice(r,r+t.size);if(t.name.startsWith("uint")){if(i=new Gc(e.slice(r,r+32),16,"be"),i.bitLength()>t.size)throw new Error("Decoded int exceeds width: "+t.size+" vs "+i.bitLength());return i}else if(t.name.startsWith("int")){if(i=new Gc(e.slice(r,r+32),16,"be").fromTwos(256),i.bitLength()>t.size)throw new Error("Decoded uint exceeds width: "+t.size+" vs "+i.bitLength());return i}else if(t.name.startsWith("ufixed")){if(n=new Gc(2).pow(new Gc(t.size[1])),i=cd("uint256",e,r),!i.mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}else if(t.name.startsWith("fixed")){if(n=new Gc(2).pow(new Gc(t.size[1])),i=cd("int256",e,r),!i.mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}}throw new Error("Unsupported or invalid type: "+t.name)}function Jre(t){var e,r;if(rT(t)){e=nT(t);var n=t.slice(0,t.lastIndexOf("["));return n=Jre(n),r={isArray:!0,name:t,size:e,memoryUsage:e==="dynamic"?32:n.memoryUsage*e,subArray:n},r}else{var i;switch(t){case"address":i="uint160";break;case"bool":i="uint8";break;case"string":i="bytes";break}if(r={rawType:i,name:t,memoryUsage:32},t.startsWith("bytes")&&t!=="bytes"||t.startsWith("uint")||t.startsWith("int")?r.size=Ng(t):(t.startsWith("ufixed")||t.startsWith("fixed"))&&(r.size=Qre(t)),t.startsWith("bytes")&&t!=="bytes"&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((t.startsWith("uint")||t.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}}function d9t(t){return t==="string"||t==="bytes"||nT(t)==="dynamic"}function rT(t){return t.lastIndexOf("]")===t.length-1}Ci.rawEncode=function(t,e){var r=[],n=[],i=0;t.forEach(function(m){if(rT(m)){var w=nT(m);w!=="dynamic"?i+=32*w:i+=32}else i+=32});for(var o=0;o<t.length;o++){var s=IU(t[o]),c=e[o],l=Nh(s,c);d9t(s)?(r.push(Nh("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))};Ci.rawDecode=function(t,e){var r=[];e=Buffer.from(e);for(var n=0,i=0;i<t.length;i++){var o=IU(t[i]),s=Jre(o,e,n),c=cd(s,e,n);n+=s.memoryUsage,r.push(c)}return r};Ci.simpleEncode=function(t){var e=Array.prototype.slice.call(arguments).slice(1),r=tCe(t);if(e.length!==r.args.length)throw new Error("Argument count mismatch");return Buffer.concat([Ci.methodID(r.method,r.args),Ci.rawEncode(r.args,e)])};Ci.simpleDecode=function(t,e){var r=tCe(t);if(!r.retargs)throw new Error("No return values in method");return Ci.rawDecode(r.retargs,e)};function eCe(t,e){return t.startsWith("address")||t.startsWith("bytes")?"0x"+e.toString("hex"):e.toString()}Ci.stringify=function(t,e){var r=[];for(var n in t){var i=t[n],o=e[n];/^[^\[]+\[.*\]$/.test(i)?o=o.map(function(s){return eCe(i,s)}).join(", "):o=eCe(i,o),r.push(o)}return r};Ci.solidityHexValue=function(t,e,r){var n,i;if(rT(t)){var o=t.replace(/\[.*?\]/,"");if(!rT(o)){var s=nT(t);if(s!=="dynamic"&&s!==0&&e.length>s)throw new Error("Elements exceed array size: "+s)}var c=e.map(function(w){return Ci.solidityHexValue(o,w,256)});return Buffer.concat(c)}else{if(t==="bytes")return e;if(t==="string")return Buffer.from(e,"utf8");if(t==="bool"){r=r||8;var l=Array(r/4).join("0");return Buffer.from(e?l+"1":l+"0","hex")}else if(t==="address"){var m=20;return r&&(m=r/8),Dh.setLengthLeft(e,m)}else if(t.startsWith("bytes")){if(n=Ng(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Dh.setLengthRight(e,n)}else if(t.startsWith("uint")){if(n=Ng(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(i=nx(e),i.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toArrayLike(Buffer,"be",r/8)}else if(t.startsWith("int")){if(n=Ng(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(i=nx(e),i.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toTwos(n).toArrayLike(Buffer,"be",r/8)}else throw new Error("Unsupported or invalid type: "+t)}};Ci.solidityPack=function(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<t.length;n++){var i=IU(t[n]),o=e[n];r.push(Ci.solidityHexValue(i,o,null))}return Buffer.concat(r)};Ci.soliditySHA3=function(t,e){return Dh.keccak256(Ci.solidityPack(t,e))};Ci.soliditySHA256=function(t,e){return Dh.sha256(Ci.solidityPack(t,e))};Ci.solidityRIPEMD160=function(t,e){return Dh.ripemd160(Ci.solidityPack(t,e),!0)};function h9t(t){return t>="0"&&t<="9"}Ci.fromSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n==="s")e.push("bytes");else if(n==="b"){for(var i="bytes",o=r+1;o<t.length&&h9t(t[o]);)i+=t[o]-"0",o++;r=o-1,e.push(i)}else if(n==="i")e.push("int256");else if(n==="a")e.push("int256[]");else throw new Error("Unsupported or invalid type: "+n)}return e};Ci.toSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n==="bytes")e.push("s");else if(n.startsWith("bytes"))e.push("b"+Ng(n));else if(n==="int256")e.push("i");else if(n==="int256[]")e.push("a");else throw new Error("Unsupported or invalid type: "+n)}return e.join("")};rCe.exports=Ci});var oCe=K((Cgn,iCe)=>{d();h();iCe.exports=nCe()});var fCe=K(xs=>{"use strict";d();h();Object.defineProperty(xs,"__esModule",{value:!0});xs.recoverTypedSignature=xs.signTypedData=xs.typedSignatureHash=xs.TypedDataUtils=xs.TYPED_MESSAGE_SCHEMA=xs.SignTypedDataVersion=void 0;var tl=eT(),iT=oCe(),ix=tT(),uc;(function(t){t.V1="V1",t.V3="V3",t.V4="V4"})(uc=xs.SignTypedDataVersion||(xs.SignTypedDataVersion={}));xs.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function fE(t,e){if(Object.keys(uc).includes(t)){if(e&&!e.includes(t))throw new Error(`SignTypedDataVersion not allowed: '${t}'. Allowed versions are: ${e.join(", ")}`)}else throw new Error(`Invalid version: '${t}'`)}function sCe(t,e,r,n,i){if(fE(i,[uc.V3,uc.V4]),t[r]!==void 0)return["bytes32",i===uc.V4&&n==null?"0x0000000000000000000000000000000000000000000000000000000000000000":tl.keccak(ene(r,n,t,i))];if(n===void 0)throw new Error(`missing value for field ${e} of type ${r}`);if(r==="bytes")return["bytes32",tl.keccak(n)];if(r==="string")return typeof n=="string"&&(n=Buffer.from(n,"utf8")),["bytes32",tl.keccak(n)];if(r.lastIndexOf("]")===r.length-1){if(i===uc.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");let o=r.slice(0,r.lastIndexOf("[")),s=n.map(c=>sCe(t,e,o,c,i));return["bytes32",tl.keccak(iT.rawEncode(s.map(([c])=>c),s.map(([,c])=>c)))]}return[r,n]}function ene(t,e,r,n){fE(n,[uc.V3,uc.V4]);let i=["bytes32"],o=[cCe(t,r)];for(let s of r[t]){if(n===uc.V3&&e[s.name]===void 0)continue;let[c,l]=sCe(r,s.name,s.type,e[s.name],n);i.push(c),o.push(l)}return iT.rawEncode(i,o)}function aCe(t,e){let r="",n=tne(t,e);n.delete(t);let i=[t,...Array.from(n).sort()];for(let o of i){if(!e[o])throw new Error(`No type definition specified: ${o}`);r+=`${o}(${e[o].map(({name:c,type:l})=>`${l} ${c}`).join(",")})`}return r}function tne(t,e,r=new Set){if([t]=t.match(/^\w*/u),r.has(t)||e[t]===void 0)return r;r.add(t);for(let n of e[t])tne(n.type,e,r);return r}function Xre(t,e,r,n){return fE(n,[uc.V3,uc.V4]),tl.keccak(ene(t,e,r,n))}function cCe(t,e){return tl.keccak(aCe(t,e))}function uCe(t){let e={};for(let r in xs.TYPED_MESSAGE_SCHEMA.properties)t[r]&&(e[r]=t[r]);return"types"in e&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e}function p9t(t,e){fE(e,[uc.V3,uc.V4]);let r=uCe(t),n=[Buffer.from("1901","hex")];return n.push(Xre("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(Xre(r.primaryType,r.message,r.types,e)),tl.keccak(Buffer.concat(n))}xs.TypedDataUtils={encodeData:ene,encodeType:aCe,findTypeDependencies:tne,hashStruct:Xre,hashType:cCe,sanitizeData:uCe,eip712Hash:p9t};function m9t(t){let e=rne(t);return tl.bufferToHex(e)}xs.typedSignatureHash=m9t;function rne(t){let e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!("length"in t)||!t.length)throw e;let r=t.map(function(o){return o.type!=="bytes"?o.value:ix.legacyToBuffer(o.value)}),n=t.map(function(o){return o.type}),i=t.map(function(o){if(!o.name)throw e;return`${o.type} ${o.name}`});return iT.soliditySHA3(["bytes32","bytes32"],[iT.soliditySHA3(new Array(t.length).fill("string"),i),iT.soliditySHA3(n,r)])}function y9t({privateKey:t,data:e,version:r}){if(fE(r),ix.isNullish(e))throw new Error("Missing data parameter");if(ix.isNullish(t))throw new Error("Missing private key parameter");let n=r===uc.V1?rne(e):xs.TypedDataUtils.eip712Hash(e,r),i=tl.ecsign(n,t);return ix.concatSig(tl.toBuffer(i.v),i.r,i.s)}xs.signTypedData=y9t;function g9t({data:t,signature:e,version:r}){if(fE(r),ix.isNullish(t))throw new Error("Missing data parameter");if(ix.isNullish(e))throw new Error("Missing signature parameter");let n=r===uc.V1?rne(t):xs.TypedDataUtils.eip712Hash(t,r),i=ix.recoverPublicKey(n,e),o=tl.publicToAddress(i);return tl.bufferToHex(o)}xs.recoverTypedSignature=g9t});var dCe=K((lCe,MU)=>{d();h();(function(t,e){"use strict";typeof MU<"u"&&MU.exports?MU.exports=e():(t.nacl||(t.nacl={}),t.nacl.util=e())})(lCe,function(){"use strict";var t={};function e(r){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(r){if(typeof r!="string")throw new TypeError("expected string");var n,i=unescape(encodeURIComponent(r)),o=new Uint8Array(i.length);for(n=0;n<i.length;n++)o[n]=i.charCodeAt(n);return o},t.encodeUTF8=function(r){var n,i=[];for(n=0;n<r.length;n++)i.push(String.fromCharCode(r[n]));return decodeURIComponent(escape(i.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(t.encodeBase64=function(r){return Buffer.from(r).toString("base64")},t.decodeBase64=function(r){return e(r),new Uint8Array(Array.prototype.slice.call(Buffer.from(r,"base64"),0))}):(t.encodeBase64=function(r){return new Buffer(r).toString("base64")},t.decodeBase64=function(r){return e(r),new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0))}):(t.encodeBase64=function(r){var n,i=[],o=r.length;for(n=0;n<o;n++)i.push(String.fromCharCode(r[n]));return btoa(i.join(""))},t.decodeBase64=function(r){e(r);var n,i=atob(r),o=new Uint8Array(i.length);for(n=0;n<i.length;n++)o[n]=i.charCodeAt(n);return o}),t})});var gCe=K(ws=>{"use strict";d();h();var b9t=ws&&ws.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),v9t=ws&&ws.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hCe=ws&&ws.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b9t(e,t,r);return v9t(e,t),e};Object.defineProperty(ws,"__esModule",{value:!0});ws.getEncryptionPublicKey=ws.decryptSafely=ws.decrypt=ws.encryptSafely=ws.encrypt=void 0;var ox=hCe(ls()),ud=hCe(dCe()),Uh=tT();function pCe({publicKey:t,data:e,version:r}){if(Uh.isNullish(t))throw new Error("Missing publicKey parameter");if(Uh.isNullish(e))throw new Error("Missing data parameter");if(Uh.isNullish(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof e!="string")throw new Error("Message data must be given as a string");let n=ox.box.keyPair(),i;try{i=ud.decodeBase64(t)}catch{throw new Error("Bad public key")}let o=ud.decodeUTF8(e),s=ox.randomBytes(ox.box.nonceLength),c=ox.box(o,s,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:ud.encodeBase64(s),ephemPublicKey:ud.encodeBase64(n.publicKey),ciphertext:ud.encodeBase64(c)}}default:throw new Error("Encryption type/version not supported")}}ws.encrypt=pCe;function x9t({publicKey:t,data:e,version:r}){if(Uh.isNullish(t))throw new Error("Missing publicKey parameter");if(Uh.isNullish(e))throw new Error("Missing data parameter");if(Uh.isNullish(r))throw new Error("Missing version parameter");let n=2**11,i=16;if(typeof e=="object"&&"toJSON"in e)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");let o={data:e,padding:""},c=Buffer.byteLength(JSON.stringify(o),"utf-8")%n,l=0;c>0&&(l=n-c-i),o.padding="0".repeat(l);let m=JSON.stringify(o);return pCe({publicKey:t,data:m,version:r})}ws.encryptSafely=x9t;function mCe({encryptedData:t,privateKey:e}){if(Uh.isNullish(t))throw new Error("Missing encryptedData parameter");if(Uh.isNullish(e))throw new Error("Missing privateKey parameter");switch(t.version){case"x25519-xsalsa20-poly1305":{let r=yCe(e),n=ox.box.keyPair.fromSecretKey(r).secretKey,i=ud.decodeBase64(t.nonce),o=ud.decodeBase64(t.ciphertext),s=ud.decodeBase64(t.ephemPublicKey),c=ox.box.open(o,i,s,n),l;try{l=ud.encodeUTF8(c)}catch{throw new Error("Decryption failed.")}if(l)return l;throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}}ws.decrypt=mCe;function w9t({encryptedData:t,privateKey:e}){if(Uh.isNullish(t))throw new Error("Missing encryptedData parameter");if(Uh.isNullish(e))throw new Error("Missing privateKey parameter");return JSON.parse(mCe({encryptedData:t,privateKey:e})).data}ws.decryptSafely=w9t;function S9t(t){let e=yCe(t),r=ox.box.keyPair.fromSecretKey(e).publicKey;return ud.encodeBase64(r)}ws.getEncryptionPublicKey=S9t;function yCe(t){let e=Buffer.from(t,"hex").toString("base64");return ud.decodeBase64(e)}});var ine=K(Cu=>{"use strict";d();h();var A9t=Cu&&Cu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nne=Cu&&Cu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&A9t(e,t,r)};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.normalize=Cu.concatSig=void 0;nne(QBe(),Cu);nne(fCe(),Cu);nne(gCe(),Cu);var bCe=tT();Object.defineProperty(Cu,"concatSig",{enumerable:!0,get:function(){return bCe.concatSig}});Object.defineProperty(Cu,"normalize",{enumerable:!0,get:function(){return bCe.normalize}})});var pDe=K(NE=>{"use strict";d();h();Object.defineProperty(NE,"__esModule",{value:!0});NE.testnet=NE.bitcoin=void 0;NE.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};NE.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var mDe=K(si=>{"use strict";d();h();Object.defineProperty(si,"__esModule",{value:!0});si.maybe=si.Boolean=si.Array=si.Buffer256bit=si.Network=si.typeforce=void 0;si.typeforce=qG();si.Network=si.typeforce.compile({messagePrefix:si.typeforce.oneOf(si.typeforce.Buffer,si.typeforce.String),bip32:{public:si.typeforce.UInt32,private:si.typeforce.UInt32},pubKeyHash:si.typeforce.UInt8,scriptHash:si.typeforce.UInt8,wif:si.typeforce.UInt8});si.Buffer256bit=si.typeforce.BufferN(32);si.Array=si.typeforce.Array;si.Boolean=si.typeforce.Boolean;si.maybe=si.typeforce.maybe});var yDe=K(YL=>{"use strict";d();h();Object.defineProperty(YL,"__esModule",{value:!0});YL.testEcc=void 0;var jt=t=>Buffer.from(t,"hex");function TNt(t){Ai(t.isPoint(jt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Ai(!t.isPoint(jt("030000000000000000000000000000000000000000000000000000000000000005"))),Ai(t.isPrivate(jt("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Ai(t.isPrivate(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),Ai(!t.isPrivate(jt("0000000000000000000000000000000000000000000000000000000000000000"))),Ai(!t.isPrivate(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),Ai(!t.isPrivate(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),Ai(Buffer.from(t.privateAdd(jt("0000000000000000000000000000000000000000000000000000000000000001"),jt("0000000000000000000000000000000000000000000000000000000000000000"))).equals(jt("0000000000000000000000000000000000000000000000000000000000000001"))),Ai(t.privateAdd(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),jt("0000000000000000000000000000000000000000000000000000000000000003"))===null),Ai(Buffer.from(t.privateAdd(jt("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),jt("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(jt("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),Ai(Buffer.from(t.privateNegate(jt("0000000000000000000000000000000000000000000000000000000000000001"))).equals(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),Ai(Buffer.from(t.privateNegate(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(jt("0000000000000000000000000000000000000000000000000000000000000003"))),Ai(Buffer.from(t.privateNegate(jt("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(jt("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),Ai(Buffer.from(t.pointCompress(jt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(jt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Ai(Buffer.from(t.pointCompress(jt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(jt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),Ai(Buffer.from(t.pointCompress(jt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(jt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Ai(Buffer.from(t.pointCompress(jt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(jt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),Ai(Buffer.from(t.pointFromScalar(jt("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(jt("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),Ai(t.xOnlyPointAddTweak(jt("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))===null);let e=t.xOnlyPointAddTweak(jt("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),jt("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));Ai(Buffer.from(e.xOnlyPubkey).equals(jt("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&e.parity===1),e=t.xOnlyPointAddTweak(jt("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),jt("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),Ai(Buffer.from(e.xOnlyPubkey).equals(jt("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&e.parity===0),Ai(Buffer.from(t.sign(jt("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(jt("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),Ai(t.verify(jt("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),jt("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),jt("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),t.signSchnorr&&Ai(Buffer.from(t.signSchnorr(jt("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),jt("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),jt("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(jt("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),t.verifySchnorr&&Ai(t.verifySchnorr(jt("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),jt("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),jt("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}YL.testEcc=TNt;function Ai(t){if(!t)throw new Error("ecc library invalid")}});var bDe=K(DE=>{"use strict";d();h();Object.defineProperty(DE,"__esModule",{value:!0});DE.ECPairFactory=DE.networks=void 0;var hoe=pDe();DE.networks=hoe;var lc=mDe(),INt=Xh(),gDe=H9(),MNt=yDe(),doe=lc.typeforce.maybe(lc.typeforce.compile({compressed:lc.maybe(lc.Boolean),network:lc.maybe(lc.Network)})),kNt=t=>t.length===32?t:t.slice(1,33);function PNt(t){(0,MNt.testEcc)(t);function e(c){return t.isPoint(c)}function r(c,l){if(lc.typeforce(lc.Buffer256bit,c),!t.isPrivate(c))throw new TypeError("Private key not in range [1, n)");return lc.typeforce(doe,l),new s(c,void 0,l)}function n(c,l){return lc.typeforce(t.isPoint,c),lc.typeforce(doe,l),new s(void 0,c,l)}function i(c,l){let m=gDe.decode(c),w=m.version;if(lc.Array(l)){if(l=l.filter(b=>w===b.wif).pop(),!l)throw new Error("Unknown network version")}else if(l=l||hoe.bitcoin,w!==l.wif)throw new Error("Invalid network version");return r(m.privateKey,{compressed:m.compressed,network:l})}function o(c){lc.typeforce(doe,c),c===void 0&&(c={});let l=c.rng||INt,m;do m=l(32),lc.typeforce(lc.Buffer256bit,m);while(!t.isPrivate(m));return r(m,c)}class s{__D;__Q;compressed;network;lowR;constructor(l,m,w){this.__D=l,this.__Q=m,this.lowR=!1,w===void 0&&(w={}),this.compressed=w.compressed===void 0?!0:w.compressed,this.network=w.network||hoe.bitcoin,m!==void 0&&(this.__Q=Buffer.from(t.pointCompress(m,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){let l=t.pointFromScalar(this.__D,this.compressed);this.__Q=Buffer.from(l)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return gDe.encode(this.network.wif,this.__D,this.compressed)}tweak(l){return this.privateKey?this.tweakFromPrivateKey(l):this.tweakFromPublicKey(l)}sign(l,m){if(!this.__D)throw new Error("Missing private key");if(m===void 0&&(m=this.lowR),m===!1)return Buffer.from(t.sign(l,this.__D));{let w=t.sign(l,this.__D),b=Buffer.alloc(32,0),E=0;for(;w[0]>127;)E++,b.writeUIntLE(E,0,6),w=t.sign(l,this.__D,b);return Buffer.from(w)}}signSchnorr(l){if(!this.privateKey)throw new Error("Missing private key");if(!t.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return Buffer.from(t.signSchnorr(l,this.privateKey))}verify(l,m){return t.verify(l,this.publicKey,m)}verifySchnorr(l,m){if(!t.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return t.verifySchnorr(l,this.publicKey.subarray(1,33),m)}tweakFromPublicKey(l){let m=kNt(this.publicKey),w=t.xOnlyPointAddTweak(m,l);if(!w||w.xOnlyPubkey===null)throw new Error("Cannot tweak public key!");let b=Buffer.from([w.parity===0?2:3]);return n(Buffer.concat([b,w.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(l){let w=this.publicKey[0]===3||this.publicKey[0]===4&&(this.publicKey[64]&1)===1?t.privateNegate(this.privateKey):this.privateKey,b=t.privateAdd(w,l);if(!b)throw new Error("Invalid tweaked private key!");return r(Buffer.from(b),{network:this.network,compressed:this.compressed})}}return{isPoint:e,fromPrivateKey:r,fromPublicKey:n,fromWIF:i,makeRandom:o}}DE.ECPairFactory=PNt});var vDe=K(cb=>{"use strict";d();h();Object.defineProperty(cb,"__esModule",{value:!0});cb.networks=cb.ECPairFactory=cb.default=void 0;var poe=bDe();Object.defineProperty(cb,"default",{enumerable:!0,get:function(){return poe.ECPairFactory}});Object.defineProperty(cb,"ECPairFactory",{enumerable:!0,get:function(){return poe.ECPairFactory}});Object.defineProperty(cb,"networks",{enumerable:!0,get:function(){return poe.networks}})});d();h();var f1=Ke(Fn()),co=Ke(D7()),A0=Ke(Fa());d();h();t3.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});d();h();var Brt=(t,e)=>t+e,Fge=t=>t.reduce(Brt,0);var qge=f1.Buffer.alloc(64).fill(0),_j=t=>pf(t)?f1.Buffer.from(t.message.serialize()):t.serializeMessage(),U7=t=>A0.default.encode(_j(t)),Kge=t=>{try{return U7(Yw(t,"bs58"))}catch{return U7(Yw(t,"base64"))}},Vge=t=>{try{return Yw(t,"bs58").version}catch{return Yw(t,"base64").version}},Hge=t=>Tj(Mj(t)),pf=t=>t&&"version"in t,L7=(t,e)=>pf(t)?f1.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),Tj=(t,e)=>A0.default.encode(L7(t,e)),jge=(t,e)=>L7(t,e).toString("base64"),Yw=(t,e)=>{let r;if(e==="base64")r=f1.Buffer.from(t,"base64");else if(e==="bs58")r=A0.default.decode(t);else throw new Error("Unsupported encoding");return co.VersionedTransaction.deserialize(r)};function Ij(t){return pf(t)?t.signatures.filter(r=>r.every(i=>i===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(i=>i!==0)!==void 0:!1).length>0}var zge=t=>{let e=t.map(r=>co.VersionedMessage.deserialize(A0.default.decode(r)));return Fge(e.map(r=>r.header.numRequiredSignatures))},Mj=t=>{let e=A0.default.decode(t);if(co.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let i=co.Message.from(e);return co.Transaction.populate(i,[])}let n=co.VersionedMessage.deserialize(e);return new co.VersionedTransaction(n)},Wge=(t,e=[])=>{let r=A0.default.decode(t);if(co.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let i=co.Message.from(r);return co.Transaction.populate(i,e.map(s=>s?A0.default.encode(s):A0.default.encode(qge)))}else{let i=co.VersionedMessage.deserialize(r);return new co.VersionedTransaction(i,e.map(s=>s||qge))}},Gge=t=>t.compileMessage().accountKeys,kj=t=>pf(t)?t.message.recentBlockhash:t.recentBlockhash,$ge=(t,e)=>{pf(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},Yge=async(t,e)=>{if(kj(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;$ge(t,r)},Zge=async(t,e)=>{if(Ij(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;$ge(t,r)},Pj=(t,e)=>{pf(t)||(t.feePayer=e)},Rj=t=>pf(t)?t.message.staticAccountKeys[0]:t.feePayer,Qge=(t,e)=>{Rj(t)||Pj(t,e)},Jge=(t,e)=>{pf(t)?t.sign(e):t.partialSign(...e)},Xge=t=>pf(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),ebe=t=>pf(t)?t.signatures.map(e=>f1.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null);function tbe(t){if(!Crt(f1.Buffer.from(t)))return!1;let e;try{e=co.Message.from(t)}catch{e=void 0}let r;try{r=co.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}function Crt(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}var rbe=t=>t3(t).dividedBy(co.LAMPORTS_PER_SOL),nbe=t=>t3(t).multipliedBy(co.LAMPORTS_PER_SOL);var du={};UF(du,{BufferLayout:()=>Urt,Message:()=>Ec.Message,MessageV0:()=>Ec.MessageV0,Transaction:()=>Ec.Transaction,TransactionInstruction:()=>Ec.TransactionInstruction,TransactionMessage:()=>Ec.TransactionMessage,VersionedMessage:()=>Ec.VersionedMessage,VersionedTransaction:()=>Ec.VersionedTransaction,getAccountsFromTransaction:()=>Gge,getFeePayer:()=>Rj,getRecentBlockhash:()=>kj,getRequiredSignatures:()=>zge,getSignaturePubKeys:()=>Xge,getSignatures:()=>ebe,isAlreadySigned:()=>Ij,isSafeMessage:()=>tbe,isVersionedTransaction:()=>pf,lamportsToSolana:()=>rbe,messageAndSignaturesToTransaction:()=>Wge,messageStringToTransaction:()=>Mj,messageStringToTransactionString:()=>Hge,setFeePayer:()=>Pj,setFeePayerIfNotExists:()=>Qge,setRecentBlockhashIfNotExists:()=>Yge,setRecentBlockhashIfNotSigned:()=>Zge,signWithAdditionalSigners:()=>Jge,solanaInstructionEncodeData:()=>cbe,solanaToLamports:()=>nbe,transactionStringToMessageString:()=>Kge,transactionStringToTransaction:()=>Yw,transactionStringToVersion:()=>Vge,transactionToBase58TransactionString:()=>Tj,transactionToBase64TransactionString:()=>jge,transactionToMessageString:()=>U7,transactionToSerializedMessage:()=>_j,transactionToSerializedTransaction:()=>L7,u64:()=>sbe});d();h();var Urt=Ke(f6()),Ec=Ke(D7());Yh(du,Ke(D7()));d();h();var ibe=Ke(s3()),obe=Ke(f6()),F7=Ke(vH()),Ort=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},q7=t=>e=>{let r=(0,obe.blob)(t,e),{encode:n,decode:i}=Ort(r),o=r;return o.decode=(s,c)=>{let l=i(s,c);return(0,F7.toBigIntLE)(ibe.Buffer.from(l))},o.encode=(s,c,l)=>{let m=(0,F7.toBufferLE)(s,t);return n(m,c,l)},o},sbe=q7(8),kZt=q7(16),PZt=q7(24),RZt=q7(32);d();h();var abe=Ke(s3());d();h();var Nrt=Ke(s3()),Zw=Ke(f6());function Bj(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return Bj({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function cbe(t,e){let r=t.layout.span>=0?t.layout.span:Bj(t,e),n=abe.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}d();h();var l1=(i=>(i.Mainnet="solana:101",i.Testnet="solana:102",i.Devnet="solana:103",i.Localnet="solana:localnet",i))(l1||{}),Dm=O.union([O.literal("solana:101"),O.literal("solana:102"),O.literal("solana:103"),O.literal("solana:localnet")]),Qw=(r=>(r.Mainnet="eip155:1",r.Sepolia="eip155:11155111",r))(Qw||{}),K7=O.union([O.literal("eip155:1"),O.literal("eip155:11155111")]),Jw=(r=>(r.Mainnet="eip155:137",r.Amoy="eip155:80002",r))(Jw||{}),V7=O.union([O.literal("eip155:137"),O.literal("eip155:80002")]),Xw=(r=>(r.Mainnet="eip155:8453",r.Sepolia="eip155:84532",r))(Xw||{}),H7=O.union([O.literal("eip155:8453"),O.literal("eip155:84532")]),e2=(r=>(r.Mainnet="eip155:42161",r.Sepolia="eip155:421614",r))(e2||{}),j7=O.union([O.literal("eip155:42161"),O.literal("eip155:421614")]),d1=(n=>(n.Mainnet="eip155:143",n.Testnet="eip155:10143",n.Devnet="eip155:41454",n))(d1||{}),z7=O.union([O.literal("eip155:143"),O.literal("eip155:10143"),O.literal("eip155:41454")]),Ao=(r=>(r.Mainnet="bip122:000000000019d6689c085ae165831e93",r.Testnet="bip122:000000000933ea01ad0ee984209779ba",r))(Ao||{}),Um=O.union([O.literal("bip122:000000000019d6689c085ae165831e93"),O.literal("bip122:000000000933ea01ad0ee984209779ba")]),t2=(r=>(r.Mainnet="sui:mainnet",r.Testnet="sui:testnet",r))(t2||{}),Lm=O.union([O.literal("sui:mainnet"),O.literal("sui:testnet")]),r2=(r=>(r.Mainnet="hypercore:mainnet",r.Testnet="hypercore:testnet",r))(r2||{}),E0=O.union([O.literal("hypercore:mainnet"),O.literal("hypercore:testnet")]),Fm=O.union([K7,V7,H7,z7,j7,E0]),_l=O.union([Um,Fm,Dm,Lm,E0]),Ar={Bitcoin:Ao,Ethereum:Qw,Polygon:Jw,Solana:l1,Sui:t2,Base:Xw,Monad:d1,Arbitrum:e2,Hypercore:r2};d();h();d();h();var Tt=(c=>(c.BitcoinTaproot="bip122_p2tr",c.BitcoinNativeSegwit="bip122_p2wpkh",c.BitcoinNestedSegwit="bip122_p2sh",c.BitcoinLegacy="bip122_p2pkh",c.Solana="solana",c.EVM="eip155",c.Sui="sui",c))(Tt||{}),W7=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],jd=O.enum(W7);d();h();var to=(m=>(m.Solana="solana",m.Monad="monad",m.Ethereum="ethereum",m.Base="base",m.Arbitrum="arbitrum",m.Polygon="polygon",m.Bitcoin="bitcoin",m.Sui="sui",m.Hypercore="hypercore",m))(to||{}),Rs=(m=>(m.Ethereum="60",m.Monad="143",m.Polygon="966",m.Base="8453",m.Arbitrum="9001",m.Solana="501",m.Bitcoin="0",m.Sui="784",m.Hypercore="925",m))(Rs||{});d();h();d();h();d();h();d();h();d();h();var Lrt=Ke(sm(),1);var cs=BigInt(0),nn=BigInt(1),Vm=BigInt(2),Frt=BigInt(8),ube=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),yi=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:ube,n:ube,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var pbe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),G6=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),pQt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),qrt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Krt=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Vrt=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Hrt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Co=class t{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof uo))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(uo.ZERO)?t.ZERO:new t(e.x,e.y,nn,rt(e.x*e.y))}static toAffineBatch(e){let r=Wrt(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){lbe(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=rt(r*c),m=rt(o*i),w=rt(n*c),b=rt(s*i);return l===m&&w===b}negate(){return new t(rt(-this.x),this.y,this.z,rt(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=yi,o=rt(e*e),s=rt(r*r),c=rt(Vm*rt(n*n)),l=rt(i*o),m=e+r,w=rt(rt(m*m)-o-s),b=l+s,E=b-c,I=l-s,M=rt(w*E),k=rt(b*I),B=rt(w*I),R=rt(E*b);return new t(M,k,R,B)}add(e){lbe(e);let{x:r,y:n,z:i,t:o}=this,{x:s,y:c,z:l,t:m}=e,w=rt((n-r)*(c+s)),b=rt((n+r)*(c-s)),E=rt(b-w);if(E===cs)return this.double();let I=rt(i*Vm*m),M=rt(o*Vm*l),k=M+I,B=b+w,R=M-I,U=rt(k*E),P=rt(B*R),F=rt(k*R),V=rt(E*B);return new t(U,P,V,F)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=uo.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Dj.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),Dj.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+256/n,l=2**(n-1),m=BigInt(2**n-1),w=2**n,b=BigInt(n);for(let E=0;E<c;E++){let I=E*l,M=Number(e&m);e>>=b,M>l&&(M-=w,e+=nn);let k=I,B=I+Math.abs(M)-1,R=E%2!==0,U=M<0;M===0?s=s.add(fbe(R,i[k])):o=o.add(fbe(U,i[B]))}return t.normalizeZ([o,s])[0]}multiply(e,r){return this.wNAF($7(e,yi.l),r)}multiplyUnsafe(e){let r=$7(e,yi.l,!1),n=t.BASE,i=t.ZERO;if(r===cs)return i;if(this.equals(i)||r===nn)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>cs;)r&nn&&(o=o.add(s)),s=s.double(),r>>=nn;return o}isSmallOrder(){return this.multiplyUnsafe(yi.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(yi.l/Vm).double();return yi.l%Vm&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?Frt:Z7(i));let s=rt(r*e),c=rt(n*e),l=rt(i*e);if(o)return uo.ZERO;if(l!==nn)throw new Error("invZ was invalid");return new uo(s,c)}fromRistrettoBytes(){Oj()}toRistrettoBytes(){Oj()}fromRistrettoHash(){Oj()}};Co.BASE=new Co(yi.Gx,yi.Gy,nn,rt(yi.Gx*yi.Gy));Co.ZERO=new Co(cs,nn,nn,cs);function fbe(t,e){let r=e.negate();return t?r:e}function lbe(t){if(!(t instanceof Co))throw new TypeError("ExtendedPoint expected")}function Cj(t){if(!(t instanceof h1))throw new TypeError("RistrettoPoint expected")}function Oj(){throw new Error("Legacy method: switch to RistrettoPoint")}var h1=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=yi,n=rt(G6*e*e),i=rt((n+nn)*Vrt),o=BigInt(-1),s=rt((o-r*n)*rt(n+r)),{isValid:c,value:l}=Lj(i,s),m=rt(l*e);Km(m)||(m=rt(-m)),c||(l=m),c||(o=n);let w=rt(o*(n-nn)*Hrt-s),b=l*l,E=rt((l+l)*s),I=rt(w*qrt),M=rt(nn-b),k=rt(nn+b);return new Co(rt(E*k),rt(M*I),rt(I*k),rt(E*M))}static hashToCurve(e){e=Hm(e,64);let r=Nj(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=Nj(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new t(n.add(o))}static fromHex(e){e=Hm(e,32);let{a:r,d:n}=yi,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=Nj(e);if(!$rt(Z6(o),e)||Km(o))throw new Error(i);let s=rt(o*o),c=rt(nn+r*s),l=rt(nn-r*s),m=rt(c*c),w=rt(l*l),b=rt(r*n*m-w),{isValid:E,value:I}=hbe(rt(b*w)),M=rt(I*l),k=rt(I*M*b),B=rt((o+o)*M);Km(B)&&(B=rt(-B));let R=rt(c*k),U=rt(B*R);if(!E||Km(U)||R===cs)throw new Error(i);return new t(new Co(B,R,nn,U))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=rt(rt(n+r)*rt(n-r)),s=rt(e*r),c=rt(s*s),{value:l}=hbe(rt(o*c)),m=rt(l*o),w=rt(l*s),b=rt(m*w*i),E;if(Km(i*b)){let M=rt(r*G6),k=rt(e*G6);e=M,r=k,E=rt(m*Krt)}else E=w;Km(e*b)&&(r=rt(-r));let I=rt((n-r)*E);return Km(I)&&(I=rt(-I)),Z6(I)}toHex(){return Q6(this.toRawBytes())}toString(){return this.toHex()}equals(e){Cj(e);let r=this.ep,n=e.ep,i=rt(r.x*n.y)===rt(r.y*n.x),o=rt(r.y*n.y)===rt(r.x*n.x);return i||o}add(e){return Cj(e),new t(this.ep.add(e.ep))}subtract(e){return Cj(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};h1.BASE=new h1(Co.BASE);h1.ZERO=new h1(Co.ZERO);var Dj=new WeakMap,uo=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Dj.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=yi;e=Hm(e,32);let o=e.slice();o[31]=e[31]&-129;let s=J6(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=pbe)throw new Error("Expected 0 < hex < 2**256");let c=rt(s*s),l=rt(c-nn),m=rt(n*c+nn),{isValid:w,value:b}=Lj(l,m);if(!w)throw new Error("Point.fromHex: invalid y coordinate");let E=(b&nn)===nn;return(e[31]&128)!==0!==E&&(b=rt(-b)),new t(b,s)}static async fromPrivateKey(e){return(await bbe(e)).point}toRawBytes(){let e=Z6(this.y);return e[31]|=this.x&nn?128:0,e}toHex(){return Q6(this.toRawBytes())}toX25519(){let{y:e}=this,r=rt((nn+e)*Z7(nn-e));return Z6(r)}isTorsionFree(){return Co.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(rt(-this.x),this.y)}add(e){return Co.fromAffine(this).add(Co.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Co.fromAffine(this).multiply(e,this).toAffine()}};uo.BASE=new uo(yi.Gx,yi.Gy);uo.ZERO=new uo(cs,nn);var Y6=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Hm(e,64),n=uo.fromHex(r.slice(0,32),!1),i=J6(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof uo))throw new Error("Expected Point instance");return $7(r,yi.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Z6(this.s),32),e}toHex(){return Q6(this.toRawBytes())}};function dbe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var jrt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Q6(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=jrt[t[r]];return e}function Uj(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function mbe(t){let r=t.toString(16).padStart(64,"0");return Uj(r)}function Z6(t){return mbe(t).reverse()}function Km(t){return(rt(t)&nn)===nn}function J6(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Q6(Uint8Array.from(t).reverse()))}var zrt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Nj(t){return rt(J6(t)&zrt)}function rt(t,e=yi.P){let r=t%e;return r>=cs?r:e+r}function Z7(t,e=yi.P){if(t===cs||e<=cs)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=rt(t,e),n=e,i=cs,o=nn,s=nn,c=cs;for(;r!==cs;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==nn)throw new Error("invert: does not exist");return rt(i,e)}function Wrt(t,e=yi.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===cs?o:(r[c]=o,rt(o*s,e)),nn),i=Z7(n,e);return t.reduceRight((o,s,c)=>s===cs?o:(r[c]=rt(o*r[c],e),rt(o*s,e)),i),r}function zd(t,e){let{P:r}=yi,n=t;for(;e-- >cs;)n*=n,n%=r;return n}function Grt(t){let{P:e}=yi,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),l=t*t%e*t%e,m=zd(l,Vm)*l%e,w=zd(m,nn)*t%e,b=zd(w,r)*w%e,E=zd(b,n)*b%e,I=zd(E,i)*E%e,M=zd(I,o)*I%e,k=zd(M,s)*M%e,B=zd(k,s)*M%e,R=zd(B,n)*b%e;return{pow_p_5_8:zd(R,Vm)*t%e,b2:l}}function Lj(t,e){let r=rt(e*e*e),n=rt(r*r*e),i=Grt(t*n).pow_p_5_8,o=rt(t*r*i),s=rt(e*o*o),c=o,l=rt(o*G6),m=s===t,w=s===rt(-t),b=s===rt(-t*G6);return m&&(o=c),(w||b)&&(o=l),Km(o)&&(o=rt(-o)),{isValid:m||w,value:o}}function hbe(t){return Lj(nn,t)}function G7(t){return rt(J6(t),yi.l)}function $rt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Hm(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):Uj(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function $7(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(cs<t)return t}else if(cs<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Yrt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function ybe(t){if(t=typeof t=="bigint"||typeof t=="number"?mbe($7(t,pbe)):Hm(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function gbe(t){let e=Yrt(t.slice(0,32)),r=t.slice(32,64),n=G7(e),i=uo.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}var $6;function Y7(...t){if(typeof $6!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return $6(...t)}async function bbe(t){return gbe(await _0.sha512(ybe(t)))}function Fj(t){return gbe(Y7(ybe(t)))}function Zrt(t){return Fj(t).pointBytes}function Qrt(t,e){t=Hm(t);let{prefix:r,scalar:n,pointBytes:i}=Fj(e),o=G7(Y7(r,t)),s=uo.BASE.multiply(o),c=G7(Y7(s.toRawBytes(),i,t)),l=rt(o+c*n,yi.l);return new Y6(s,l).toRawBytes()}function Jrt(t,e,r){e=Hm(e),r instanceof uo||(r=uo.fromHex(r,!1));let{r:n,s:i}=t instanceof Y6?t.assertValidity():Y6.fromHex(t),o=Co.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:e}}function Xrt(t,e,r,n){let i=G7(n),o=Co.fromAffine(t).multiplyUnsafe(i);return Co.fromAffine(e).add(o).subtract(r).multiplyUnsafe(yi.h).equals(Co.ZERO)}function ent(t,e,r){let{r:n,SB:i,msg:o,pub:s}=Jrt(t,e,r),c=Y7(n.toRawBytes(),s.toRawBytes(),o);return Xrt(s,n,i,c)}var Q7={getExtendedPublicKey:Fj,getPublicKey:Zrt,sign:Qrt,verify:ent};uo.BASE._setWindowSize(8);var qm={node:Lrt,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},_0={bytesToHex:Q6,hexToBytes:Uj,concatBytes:dbe,getExtendedPublicKey:bbe,mod:rt,invert:Z7,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Hm(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return rt(J6(t),yi.l-nn)+nn},randomBytes:(t=32)=>{if(qm.web)return qm.web.getRandomValues(new Uint8Array(t));if(qm.node){let{randomBytes:e}=qm.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>_0.randomBytes(32),sha512:async(...t)=>{let e=dbe(...t);if(qm.web){let r=await qm.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(qm.node)return Uint8Array.from(qm.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=uo.BASE){let r=e.equals(uo.BASE)?e:new uo(e.x,e.y);return r._setWindowSize(t),r.multiply(Vm),r},sha512Sync:void 0};Object.defineProperties(_0,{sha512Sync:{configurable:!1,get(){return $6},set(t){$6||($6=t)}}});d();h();d();h();d();h();function qj(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function tnt(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function vbe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function rnt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");qj(t.outputLen),qj(t.blockLen)}function nnt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function int(t,e){vbe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var ont={number:qj,bool:tnt,bytes:vbe,hash:rnt,exists:nnt,output:int},T0=ont;d();h();d();h();var snt={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var J7=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var ant=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ant)throw new Error("Non little-endian hardware is not supported");var _Qt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cnt(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function X6(t){if(typeof t=="string"&&(t=cnt(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var n2=class{clone(){return this._cloneInto()}};function e_(t){let e=n=>t().update(X6(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function unt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var X7=class extends n2{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=J7(this.buffer)}update(e){T0.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=X6(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=J7(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){T0.exists(this),T0.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;unt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=J7(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};d();h();var eP=BigInt(4294967295),Kj=BigInt(32);function xbe(t,e=!1){return e?{h:Number(t&eP),l:Number(t>>Kj&eP)}:{h:Number(t>>Kj&eP)|0,l:Number(t&eP)|0}}function fnt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=xbe(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var lnt=(t,e)=>BigInt(t>>>0)<<Kj|BigInt(e>>>0),dnt=(t,e,r)=>t>>>r,hnt=(t,e,r)=>t<<32-r|e>>>r,pnt=(t,e,r)=>t>>>r|e<<32-r,mnt=(t,e,r)=>t<<32-r|e>>>r,ynt=(t,e,r)=>t<<64-r|e>>>r-32,gnt=(t,e,r)=>t>>>r-32|e<<64-r,bnt=(t,e)=>e,vnt=(t,e)=>t,xnt=(t,e,r)=>t<<r|e>>>32-r,wnt=(t,e,r)=>e<<r|t>>>32-r,Snt=(t,e,r)=>e<<r-32|t>>>64-r,Ant=(t,e,r)=>t<<r-32|e>>>64-r;function Ent(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var _nt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Tnt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Int=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Mnt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,knt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Pnt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,Rnt={fromBig:xbe,split:fnt,toBig:lnt,shrSH:dnt,shrSL:hnt,rotrSH:pnt,rotrSL:mnt,rotrBH:ynt,rotrBL:gnt,rotr32H:bnt,rotr32L:vnt,rotlSH:xnt,rotlSL:wnt,rotlBH:Snt,rotlBL:Ant,add:Ent,add3L:_nt,add3H:Tnt,add4L:Int,add4H:Mnt,add5H:Pnt,add5L:knt},cr=Rnt;var[Bnt,Cnt]=cr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),jm=new Uint32Array(80),zm=new Uint32Array(80),i2=class extends X7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let P=0;P<16;P++,r+=4)jm[P]=e.getUint32(r),zm[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=jm[P-15]|0,V=zm[P-15]|0,H=cr.rotrSH(F,V,1)^cr.rotrSH(F,V,8)^cr.shrSH(F,V,7),re=cr.rotrSL(F,V,1)^cr.rotrSL(F,V,8)^cr.shrSL(F,V,7),J=jm[P-2]|0,ie=zm[P-2]|0,S=cr.rotrSH(J,ie,19)^cr.rotrBH(J,ie,61)^cr.shrSH(J,ie,6),a=cr.rotrSL(J,ie,19)^cr.rotrBL(J,ie,61)^cr.shrSL(J,ie,6),f=cr.add4L(re,a,zm[P-7],zm[P-16]),p=cr.add4H(f,H,S,jm[P-7],jm[P-16]);jm[P]=p|0,zm[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:B,Hh:R,Hl:U}=this;for(let P=0;P<80;P++){let F=cr.rotrSH(b,E,14)^cr.rotrSH(b,E,18)^cr.rotrBH(b,E,41),V=cr.rotrSL(b,E,14)^cr.rotrSL(b,E,18)^cr.rotrBL(b,E,41),H=b&I^~b&k,re=E&M^~E&B,J=cr.add5L(U,V,re,Cnt[P],zm[P]),ie=cr.add5H(J,R,F,H,Bnt[P],jm[P]),S=J|0,a=cr.rotrSH(n,i,28)^cr.rotrBH(n,i,34)^cr.rotrBH(n,i,39),f=cr.rotrSL(n,i,28)^cr.rotrBL(n,i,34)^cr.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;R=k|0,U=B|0,k=I|0,B=M|0,I=b|0,M=E|0,{h:b,l:E}=cr.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=cr.add3L(S,f,y);n=cr.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=cr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=cr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=cr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=cr.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=cr.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=cr.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:B}=cr.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:R,l:U}=cr.add(this.Hh|0,this.Hl|0,R|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,B,R,U)}roundClean(){jm.fill(0),zm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Vj=class extends i2{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Hj=class extends i2{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},jj=class extends i2{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Wm=e_(()=>new i2),qQt=e_(()=>new Vj),KQt=e_(()=>new Hj),VQt=e_(()=>new jj);d();h();var Ont=Ke(sm(),1);var vn=BigInt(0),Ti=BigInt(1),$m=BigInt(2),n_=BigInt(3),wbe=BigInt(8),Ii=Object.freeze({a:vn,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Ti,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Sbe=(t,e)=>(t+e/$m)/e,tP={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Ii,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ti*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=Sbe(o*t,e),l=Sbe(-n*t,e),m=Et(t-c*r-l*i,e),w=Et(-c*n-l*o,e),b=m>s,E=w>s;if(b&&(m=e-m),E&&(w=e-w),m>s||w>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:b,k1:m,k2neg:E,k2:w}}},o2=32,o_=32;var Abe=o2+1,Ebe=2*o2+1;function _be(t){let{a:e,b:r}=Ii,n=Et(t*t),i=Et(n*t);return Et(i+e*t+r)}var rP=Ii.a===vn,sP=class extends Error{constructor(e){super(e)}};function Tbe(t){if(!(t instanceof za))throw new TypeError("JacobianPoint expected")}var za=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof fo))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(fo.ZERO)?t.ZERO:new t(e.x,e.y,Ti)}static toAffineBatch(e){let r=Fnt(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Tbe(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=Et(i*i),m=Et(c*c),w=Et(r*m),b=Et(o*l),E=Et(Et(n*c)*m),I=Et(Et(s*i)*l);return w===b&&E===I}negate(){return new t(this.x,Et(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=Et(e*e),o=Et(r*r),s=Et(o*o),c=e+o,l=Et($m*(Et(c*c)-i-s)),m=Et(n_*i),w=Et(m*m),b=Et(w-$m*l),E=Et(m*(l-b)-wbe*s),I=Et($m*r*n);return new t(b,E,I)}add(e){Tbe(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e;if(o===vn||s===vn)return this;if(r===vn||n===vn)return e;let l=Et(i*i),m=Et(c*c),w=Et(r*m),b=Et(o*l),E=Et(Et(n*c)*m),I=Et(Et(s*i)*l),M=Et(b-w),k=Et(I-E);if(M===vn)return k===vn?this.double():t.ZERO;let B=Et(M*M),R=Et(M*B),U=Et(w*B),P=Et(k*k-R-$m*U),F=Et(k*(U-P)-E*R),V=Et(i*c*M);return new t(P,F,V)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===vn)return r;let n=kbe(e);if(n===Ti)return this;if(!rP){let b=r,E=this;for(;n>vn;)n&Ti&&(b=b.add(E)),E=E.double(),n>>=Ti;return b}let{k1neg:i,k1:o,k2neg:s,k2:c}=tP.splitScalar(n),l=r,m=r,w=this;for(;o>vn||c>vn;)o&Ti&&(l=l.add(w)),c&Ti&&(m=m.add(w)),w=w.double(),o>>=Ti,c>>=Ti;return i&&(l=l.negate()),s&&(m=m.negate()),m=new t(Et(m.x*tP.beta),m.y,m.z),l.add(m)}precomputeWindow(e){let r=rP?128/e+1:256/e+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=fo.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Wj.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),Wj.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+(rP?128/n:256/n),l=2**(n-1),m=BigInt(2**n-1),w=2**n,b=BigInt(n);for(let E=0;E<c;E++){let I=E*l,M=Number(e&m);e>>=b,M>l&&(M-=w,e+=Ti);let k=I,B=I+Math.abs(M)-1,R=E%2!==0,U=M<0;M===0?s=s.add(nP(R,i[k])):o=o.add(nP(U,i[B]))}return{p:o,f:s}}multiply(e,r){let n=kbe(e),i,o;if(rP){let{k1neg:s,k1:c,k2neg:l,k2:m}=tP.splitScalar(n),{p:w,f:b}=this.wNAF(c,r),{p:E,f:I}=this.wNAF(m,r);w=nP(s,w),E=nP(l,E),E=new t(Et(E.x*tP.beta),E.y,E.z),i=w.add(E),o=b.add(I)}else{let{p:s,f:c}=this.wNAF(n,r);i=s,o=c}return t.normalizeZ([i,o])[0]}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?wbe:fP(i));let s=e,c=Et(s*s),l=Et(c*s),m=Et(r*c),w=Et(n*l),b=Et(i*s);if(o)return fo.ZERO;if(b!==Ti)throw new Error("invZ was invalid");return new fo(m,w)}};za.BASE=new za(Ii.Gx,Ii.Gy,Ti);za.ZERO=new za(vn,Ti,vn);function nP(t,e){let r=e.negate();return t?r:e}var Wj=new WeakMap,fo=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Wj.delete(this)}hasEvenY(){return this.y%$m===vn}static fromCompressedHex(e){let r=e.length===32,n=yf(r?e:e.subarray(1));if(!oP(n))throw new Error("Point is not on curve");let i=_be(n),o=Lnt(i),s=(o&Ti)===Ti;r?s&&(o=Et(-o)):(e[0]&1)===1!==s&&(o=Et(-o));let c=new t(n,o);return c.assertValidity(),c}static fromUncompressedHex(e){let r=yf(e.subarray(1,o2+1)),n=yf(e.subarray(o2+1,o2*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=p1(e),n=r.length,i=r[0];if(n===o2)return this.fromCompressedHex(r);if(n===Abe&&(i===2||i===3))return this.fromCompressedHex(r);if(n===Ebe&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Abe} compressed bytes or ${Ebe} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(c_(e))}static fromSignature(e,r,n){let{r:i,s:o}=Hnt(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=Knt(p1(e)),{n:c}=Ii,l=n===2||n===3?i+c:i,m=fP(l,c),w=Et(-s*m,c),b=Et(o*m,c),E=n&1?"03":"02",I=t.fromHex(E+Ym(l)),M=t.BASE.multiplyAndAddUnsafe(I,w,b);if(!M)throw new Error("Cannot recover signature: point at infinify");return M.assertValidity(),M}toRawBytes(e=!1){return Zm(this.toHex(e))}toHex(e=!1){let r=Ym(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Ym(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!oP(r)||!oP(n))throw new Error(e);let i=Et(n*n),o=_be(r);if(Et(i-o)!==vn)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,Et(-this.y))}double(){return za.fromAffine(this).double().toAffine()}add(e){return za.fromAffine(this).add(za.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return za.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=za.fromAffine(this),o=r===vn||r===Ti||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),s=za.fromAffine(e).multiplyUnsafe(n),c=o.add(s);return c.equals(za.ZERO)?void 0:c.toAffine()}};fo.BASE=new fo(Ii.Gx,Ii.Gy);fo.ZERO=new fo(vn,vn);function Ibe(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Mbe(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${a2(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:yf(r),left:t.subarray(e+2)}}function Nnt(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${a2(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Mbe(t.subarray(2)),{data:n,left:i}=Mbe(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${a2(i)}`);return{r:e,s:n}}var i_=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?a2(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(aP(i.slice(0,64)),aP(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=Nnt(r?e:Zm(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!a_(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!a_(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Ii.n>>Ti;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,Et(-this.s,Ii.n)):this}toDERRawBytes(){return Zm(this.toDERHex())}toDERHex(){let e=Ibe(r_(this.s)),r=Ibe(r_(this.r)),n=e.length/2,i=r.length/2,o=r_(n),s=r_(i);return`30${r_(i+n+4)}02${s}${r}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Zm(this.toCompactHex())}toCompactHex(){return Ym(this.r)+Ym(this.s)}};function t_(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var Dnt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function a2(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=Dnt[t[r]];return e}var Unt=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Ym(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(vn<=t&&t<Unt))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function s_(t){let e=Zm(Ym(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function r_(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function aP(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Zm(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function yf(t){return aP(a2(t))}function p1(t){return t instanceof Uint8Array?Uint8Array.from(t):Zm(t)}function kbe(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&a_(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Et(t,e=Ii.P){let r=t%e;return r>=vn?r:e+r}function mf(t,e){let{P:r}=Ii,n=t;for(;e-- >vn;)n*=n,n%=r;return n}function Lnt(t){let{P:e}=Ii,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,m=l*l*t%e,w=mf(m,n_)*m%e,b=mf(w,n_)*m%e,E=mf(b,$m)*l%e,I=mf(E,n)*E%e,M=mf(I,i)*I%e,k=mf(M,s)*M%e,B=mf(k,c)*k%e,R=mf(B,s)*M%e,U=mf(R,n_)*m%e,P=mf(U,o)*I%e,F=mf(P,r)*l%e,V=mf(F,$m);if(V*V%e!==t)throw new Error("Cannot find square root");return V}function fP(t,e=Ii.P){if(t===vn||e<=vn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Et(t,e),n=e,i=vn,o=Ti,s=Ti,c=vn;for(;r!==vn;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==Ti)throw new Error("invert: does not exist");return Et(i,e)}function Fnt(t,e=Ii.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===vn?o:(r[c]=o,Et(o*s,e)),Ti),i=fP(n,e);return t.reduceRight((o,s,c)=>s===vn?o:(r[c]=Et(o*r[c],e),Et(o*s,e)),i),r}function qnt(t){let e=t.length*8-o_*8,r=yf(t);return e>0?r>>BigInt(e):r}function Knt(t,e=!1){let r=qnt(t);if(e)return r;let{n}=Ii;return r>=n?r-n:r}var s2,zj;function a_(t){return vn<t&&t<Ii.n}function oP(t){return vn<t&&t<Ii.P}function c_(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*o_)throw new Error("Expected 32 bytes of private key");e=aP(t)}else if(t instanceof Uint8Array){if(t.length!==o_)throw new Error("Expected 32 bytes of private key");e=yf(t)}else throw new TypeError("Expected valid private key");if(!a_(e))throw new Error("Expected private key: 0 < key < n");return e}function Vnt(t){return t instanceof fo?(t.assertValidity(),t):fo.fromHex(t)}function Hnt(t){if(t instanceof i_)return t.assertValidity(),t;try{return i_.fromDER(t)}catch{return i_.fromCompact(t)}}function I0(t,e=!1){return fo.fromPrivateKey(t).toRawBytes(e)}function cP(t){return Et(yf(t),Ii.n)}var c2=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=p1(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=yf(r.subarray(0,32)),i=yf(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!oP(e)||!a_(r))throw new Error("Invalid signature")}toHex(){return Ym(this.r)+Ym(this.s)}toRawBytes(){return Zm(this.toHex())}};function jnt(t){return fo.fromPrivateKey(t).toRawX()}var uP=class{constructor(e,r,n=Wd.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=p1(e);let{x:i,scalar:o}=this.getScalar(c_(r));if(this.px=i,this.d=o,this.rand=p1(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=fo.fromPrivateKey(e),n=r.hasEvenY()?e:Ii.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return s_(e^yf(r))}finalizeNonce(e){let r=Et(yf(e),Ii.n);if(r===vn)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:o}=this.getScalar(r);return{R:n,rx:i,k:o}}finalizeSig(e,r,n,i){return new c2(e.x,Et(r+n*i,Ii.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,o=Wd.taggedHash,s=this.initNonce(r,await o(Gm.aux,i)),{R:c,rx:l,k:m}=this.finalizeNonce(await o(Gm.nonce,s,n,e)),w=cP(await o(Gm.challenge,l,n,e)),b=this.finalizeSig(c,m,w,r);return await Bbe(b,e,n)||this.error(),b}calcSync(){let{m:e,d:r,px:n,rand:i}=this,o=Wd.taggedHashSync,s=this.initNonce(r,o(Gm.aux,i)),{R:c,rx:l,k:m}=this.finalizeNonce(o(Gm.nonce,s,n,e)),w=cP(o(Gm.challenge,l,n,e)),b=this.finalizeSig(c,m,w,r);return Cbe(b,e,n)||this.error(),b}};async function znt(t,e,r){return new uP(t,e,r).calc()}function Wnt(t,e,r){return new uP(t,e,r).calcSync()}function Pbe(t,e,r){let n=t instanceof c2,i=n?t:c2.fromHex(t);return n&&i.assertValidity(),{...i,m:p1(e),P:Vnt(r)}}function Rbe(t,e,r,n){let i=fo.BASE.multiplyAndAddUnsafe(e,c_(r),Et(-n,Ii.n));return!(!i||!i.hasEvenY()||i.x!==t)}async function Bbe(t,e,r){try{let{r:n,s:i,m:o,P:s}=Pbe(t,e,r),c=cP(await Wd.taggedHash(Gm.challenge,s_(n),s.toRawX(),o));return Rbe(n,s,i,c)}catch{return!1}}function Cbe(t,e,r){try{let{r:n,s:i,m:o,P:s}=Pbe(t,e,r),c=cP(Wd.taggedHashSync(Gm.challenge,s_(n),s.toRawX(),o));return Rbe(n,s,i,c)}catch(n){if(n instanceof sP)throw n;return!1}}var Obe={Signature:c2,getPublicKey:jnt,sign:znt,verify:Bbe,signSync:Wnt,verifySync:Cbe};fo.BASE._setWindowSize(8);var hu={node:Ont,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Gm={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},iP={},Wd={bytesToHex:a2,hexToBytes:Zm,concatBytes:t_,mod:Et,invert:fP,isValidPrivateKey(t){try{return c_(t),!0}catch{return!1}},_bigintTo32Bytes:s_,_normalizePrivateKey:c_,hashToPrivateKey:t=>{t=p1(t);let e=o_+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=Et(yf(t),Ii.n-Ti)+Ti;return s_(r)},randomBytes:(t=32)=>{if(hu.web)return hu.web.getRandomValues(new Uint8Array(t));if(hu.node){let{randomBytes:e}=hu.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Wd.hashToPrivateKey(Wd.randomBytes(o_+8)),precompute(t=8,e=fo.BASE){let r=e===fo.BASE?e:new fo(e.x,e.y);return r._setWindowSize(t),r.multiply(n_),r},sha256:async(...t)=>{if(hu.web){let e=await hu.web.subtle.digest("SHA-256",t_(...t));return new Uint8Array(e)}else if(hu.node){let{createHash:e}=hu.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(hu.web){let r=await hu.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=t_(...e),i=await hu.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(hu.node){let{createHmac:r}=hu.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=iP[t];if(r===void 0){let n=await Wd.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=t_(n,n),iP[t]=r}return Wd.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof s2!="function")throw new sP("sha256Sync is undefined, you need to set it");let r=iP[t];if(r===void 0){let n=s2(Uint8Array.from(t,i=>i.charCodeAt(0)));r=t_(n,n),iP[t]=r}return s2(r,...e)},_JacobianPoint:za};Object.defineProperties(Wd,{sha256Sync:{configurable:!1,get(){return s2},set(t){s2||(s2=t)}},hmacSha256Sync:{configurable:!1,get(){return zj},set(t){zj||(zj=t)}}});d();h();var Nbe=new RegExp("^[0-9]+'?$"),u2=2147483648;d();h();d();h();var lP=class extends n2{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,T0.hash(e);let n=X6(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return T0.exists(this),this.iHash.update(e),this}digestInto(e){T0.exists(this),T0.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},m1=(t,e,r)=>new lP(t,e).update(r).digest();m1.create=(t,e)=>new lP(t,e);var oJt=new RegExp("^m(\\/[0-9]+')+$");var $nt="ed25519 seed",Dbe=t=>{let e=Buffer.from(m1(Wm,Buffer.from($nt),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},Ube=({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=Buffer.concat([Buffer.alloc(1,0),t,n]),o=Buffer.from(m1(Wm,e,i)).toString("hex"),s=o.slice(0,64),c=o.slice(64);return{key:Buffer.from(s,"hex"),chainCode:Buffer.from(c,"hex")}};d();h();var M0=Ke(Fn());var f2=Ke(ts());var Ynt=M0.Buffer.from("Bitcoin seed"),Lbe=On.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Fbe=t=>{let e=M0.Buffer.from(m1(Wm,M0.Buffer.from(Ynt),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:M0.Buffer.from(r,"hex"),chainCode:M0.Buffer.from(n,"hex")}},qbe=(t,e)=>{let{key:r,chainCode:n}=t,i=new Uint8Array(37);if(e&u2)i.set(r,1);else{let b=I0(r,!0);i.set((0,f2.arrayify)(b))}for(let b=24;b>=0;b-=8)i[33+(b>>3)]=e>>24-b&255;let o=M0.Buffer.from(m1(Wm,n,i)).toString("hex"),s=o.slice(0,64),c=o.slice(64),l=On.from(`0x${s}`);if(l.gte(Lbe))throw new Error("Invalid private key");let m=l.add(`0x${r.toString("hex")}`).mod(Lbe);if(m.eq(On.from(0)))throw new Error("Invalid private key");let w=(0,f2.hexZeroPad)((0,f2.hexlify)(m),32);return{key:M0.Buffer.from(w.replace("0x",""),"hex"),chainCode:M0.Buffer.from(c,"hex")}};d();h();var Gj=O.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!Nbe.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."});var $j=O.union([O.literal("bitcoinTaproot"),O.literal("bitcoinNativeSegwit"),O.literal("bitcoinNestedSegwit"),O.literal("bitcoinLegacy")]),Yj=O.union([O.literal("bip44RootEthereum"),O.literal("bip44Ethereum"),O.literal("bip44EthereumSecondary"),O.literal("bip44EthereumTertiary")]),Zj=O.union([O.literal("bip44Root"),O.literal("bip44"),O.literal("bip44Change"),O.literal("deprecated")]),Znt=O.literal("bip44Sui");d();h();var Qnt=O.union([O.literal("bip44Change"),O.literal("bip44"),O.literal("deprecated")]),Jnt=O.union([O.literal("bip44Ethereum"),O.literal("bip44EthereumSecondary"),O.literal("bip44EthereumTertiary")]),Xnt=O.union([O.literal("bitcoinTaproot"),O.literal("bitcoinNativeSegwit"),O.literal("bitcoinNestedSegwit"),O.literal("bitcoinLegacy")]),eit=O.literal("bip44Sui"),dP=O.number().int().min(0),tit=O.object({pathType:O.literal("bip44Root"),index:O.number().optional()}),rit=O.object({pathType:Qnt,index:dP}),nit=O.object({pathType:O.literal("bip44RootEthereum"),index:O.number().optional()}),iit=O.object({pathType:Jnt,index:dP}),oit=O.object({pathType:Xnt,index:dP}),sit=O.object({pathType:eit,index:dP}),hP=O.union([tit,rit,nit,iit,oit,sit]),u_=new Error("Invalid derivation path."),Vbe=new Error("Unsupported derivation path."),f_=t=>{if(!hP.safeParse(t).success)throw u_;switch(t.pathType){case"bitcoinTaproot":return`m/86'/0'/0'/0/${t.index}`;case"bitcoinNativeSegwit":return`m/84'/0'/0'/0/${t.index}`;case"bitcoinNestedSegwit":return`m/46'/0'/0'/0/${t.index}`;case"bitcoinLegacy":return`m/44'/0'/0'/0/${t.index}`;case"bip44RootEthereum":return"m/44'/60'";case"bip44Ethereum":return`m/44'/60'/0'/0/${t.index}`;case"bip44EthereumSecondary":return`m/44'/60'/1'/0/${t.index}`;case"bip44EthereumTertiary":return`m/44'/60'/2'/0/${t.index}`;case"bip44Root":return"m/44'/501'";case"deprecated":return`m/501'/${t.index}'/0/0`;case"bip44":return`m/44'/501'/${t.index}'`;case"bip44Change":return`m/44'/501'/${t.index}'/0'`;case"bip44Sui":return`m/44'/784'/${t.index}'/0'/0'`}},Kbe=1<<31>>>0,ait=t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw u_;let r=parseInt(e[0],16),n="m";for(let i=0;i<r;i++){let o="";for(let l=0;l<4;l++)o+=e[1+i*4+l];let s=parseInt(o,16),c=s>=Kbe;c&&(s-=Kbe),n+=`/${s.toString(10)}${c?"'":""}`}return n}catch{throw u_}},cit=t=>{let e,r=Gj.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=ait(t)}catch{throw u_}if(e==="m/44'/501'")return{pathType:"bip44Root"};if(e==="m/44'/60'")return{pathType:"bip44RootEthereum"};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinTaproot",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNativeSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNestedSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinLegacy",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bip44Ethereum",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:"bip44EthereumSecondary",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:"bip44EthereumTertiary",index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:"bip44Change",index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:"bip44",index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:"deprecated",index:parseInt(n[1],10)}}catch{}throw Vbe};d();h();var MJt=new Error("Unsupported path."),uit=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!0;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},fit=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!1;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return!0;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},lit=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!0}};_0.sha512Sync=(...t)=>Wm(_0.concatBytes(...t));var{getPublicKey:dit}=Q7,pa=class{#e;#t;constructor(e){this.#e={ellipticCurve:"ed25519",value:Dbe(e),nodes:{}},this.#t={ellipticCurve:"secp256k1",value:Fbe(e),nodes:{}}}derivePathType(e,r){switch(e){case"bitcoinTaproot":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNativeSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNestedSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinLegacy":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bip44Ethereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case"bip44EthereumSecondary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case"bip44EthereumTertiary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case"bip44RootEthereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case"bip44Change":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case"bip44":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case"deprecated":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case"bip44Root":return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case"bip44Sui":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):Ct(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:i}=e,o=n.split("/"),s=this.#e;for(let m of o){if(m==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let w=s.nodes?.[m]??null;if(!w){let b={ellipticCurve:r,value:Ube(s.value,parseInt(m,10)+u2),nodes:{}};w=b,s.nodes[m]=b}s=w}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=dit(s.value.key),l;switch(i){case 32:return l=new Uint8Array(32),l.set(s.value.key),{publicKey:c,secretKey:l};case 64:return l=new Uint8Array(64),l.set(s.value.key),l.set(c,32),{publicKey:c,secretKey:l}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:i=!1}=e,o=n.split("/"),s=this.#t;for(let m of o){if(m==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let w=s.nodes?.[m]??null;if(!w){let b=0;m.endsWith("'")&&(b=u2);let E={ellipticCurve:r,value:qbe(s.value,parseInt(m,10)+b),nodes:{}};w=E,s.nodes[m]=E}s=w}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=s.value.key;return{publicKey:I0(c,i),secretKey:new Uint8Array(c)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#e),this.cleanUpTree(this.#t),this.#e=null,this.#t=null}};d();h();var pP=class{type="bip122_p2pkh";displayName="Legacy";defaultDerivationPathType="bitcoinLegacy";otherDerivationPathType=[]};d();h();var mP=class{type="bip122_p2wpkh";displayName="Native Segwit";defaultDerivationPathType="bitcoinNativeSegwit";otherDerivationPathType=[]};d();h();var yP=class{type="bip122_p2sh";displayName="Nested Segwit";defaultDerivationPathType="bitcoinNestedSegwit";otherDerivationPathType=[]};d();h();var gP=class{type="bip122_p2tr";displayName="Taproot";defaultDerivationPathType="bitcoinTaproot";otherDerivationPathType=[]};d();h();var bP=class{type="eip155";displayName="Ethereum";defaultDerivationPathType="bip44Ethereum";otherDerivationPathType=["bip44RootEthereum","bip44EthereumSecondary","bip44EthereumTertiary"]};d();h();var vP=class{type="solana";displayName="Solana";defaultDerivationPathType="bip44Change";otherDerivationPathType=["bip44Root","bip44","deprecated"]};d();h();var xP=class{type="sui";displayName="Sui";defaultDerivationPathType="bip44Sui";otherDerivationPathType=[]};var Qj=class{bip122_p2tr=new gP;bip122_p2wpkh=new mP;bip122_p2sh=new yP;bip122_p2pkh=new pP;eip155=new bP;solana=new vP;sui=new xP;allAddressTypes=Object.values(Tt);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},ma=new Qj;d();h();function wP(t){return Buffer.from(t).toString("base64")}d();h();d();h();d();h();d();h();d();h();d();h();var l_={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var pit=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!pit)throw new Error("Non little-endian hardware is not supported");var ter=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Jj(t=32){if(l_.web)return l_.web.getRandomValues(new Uint8Array(t));if(l_.node)return new Uint8Array(l_.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}var Hbe="Do not return the plaintext from .fold(), convert it to something else inside the callback first.",Mi=class t{#e;#t;constructor(e){let r=e.length,n=Jj(r),i=jbe(e,n);this.#t=n,this.#e=i}static from(e){return new t(e)}read=e=>{let r=SP(this.#e,this.#t);try{e(r)}finally{this.cleanup(r)}};readAsync=async e=>{let r=SP(this.#e,this.#t);try{await e(r)}finally{this.cleanup(r)}};fold=e=>{let r=SP(this.#e,this.#t);try{let n=e(r);if(n===r)throw new Error(Hbe);return n}finally{this.cleanup(r)}};foldAsync=async e=>{let r=SP(this.#e,this.#t);try{let n=await e(r);if(n===r)throw new Error(Hbe);return n}finally{this.cleanup(r)}};cleanup=e=>{let r=Jj(e.length),n=jbe(e,r);this.#t=r,this.#e=n,e.fill(0)}},jbe=(t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},SP=(t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n};d();h();var ri=t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");d();h();d();h();var d_=/^[A-Za-z0-9-_]*$/;var h_=t=>{if(!t.match(d_))throw new Error("Invalid base64URL string");return Buffer.from(t.replace(/-/g,"+").replace(/_/g,"/"),"base64")};d();h();d();h();var mit=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mit)throw new Error("Non little-endian hardware is not supported");d();h();d();h();d();h();function yit(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let m=0;m<e.length;m++)e[m]=255;for(let m=0;m<t.length;m++){let w=t.charAt(m),b=w.charCodeAt(0);if(e[b]!==255)throw new TypeError(w+" is ambiguous");e[b]=m}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";let w=0,b=0,E=0,I=m.length;for(;E!==I&&m[E]===0;)E++,w++;let M=(I-E)*o+1>>>0,k=new Uint8Array(M);for(;E!==I;){let U=m[E],P=0;for(let F=M-1;(U!==0||P<b)&&F!==-1;F--,P++)U+=256*k[F]>>>0,k[F]=U%r>>>0,U=U/r>>>0;if(U!==0)throw new Error("Non-zero carry");b=P,E++}let B=M-b;for(;B!==M&&k[B]===0;)B++;let R=n.repeat(w);for(;B<M;++B)R+=t.charAt(k[B]);return R}function c(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;let w=0,b=0,E=0;for(;m[w]===n;)b++,w++;let I=(m.length-w)*i+1>>>0,M=new Uint8Array(I);for(;m[w];){let U=e[m.charCodeAt(w)];if(U===255)return;let P=0;for(let F=I-1;(U!==0||P<E)&&F!==-1;F--,P++)U+=r*M[F]>>>0,M[F]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");E=P,w++}let k=I-E;for(;k!==I&&M[k]===0;)k++;let B=new Uint8Array(b+(I-k)),R=b;for(;k!==I;)B[R++]=M[k++];return B}function l(m){let w=c(m);if(w)return w;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:c,decode:l}}var zbe=yit;var git="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Wbe=zbe(git);function Xj(t){let e=h_(t);return Wbe.encode(e)}d();h();d();h();d();h();var AP=class{addressTypes=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"];generateKeypairFromPrivateKey(e){let r=e.fold(i=>Buffer.from(i));return{publicKey:I0(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new pa(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();var $be=Ke(qa());d();h();var Gbe="properties/5.7.0";var bit=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},EP=new $be.Logger(Gbe);function qt(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function htr(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function k0(t){return bit(this,void 0,void 0,function*(){let e=Object.keys(t).map(n=>{let i=t[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Ybe(t,e){(!t||typeof t!="object")&&EP.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||EP.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function m_(t){let e={};for(let r in t)e[r]=t[r];return e}var vit={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Zbe(t){if(t==null||vit[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Zbe(n))return!1}return!0}return EP.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function xit(t){if(Zbe(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>p_(e)));if(typeof t=="object"){let e={};for(let r in t){let n=t[r];n!==void 0&&qt(e,r,p_(n))}return e}return EP.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function p_(t){return xit(t)}var Qm=class{constructor(e){for(let r in e)this[r]=p_(e[r])}};var Xbe=Ke(qa());d();h();var Qbe="abstract-provider/5.7.0";var wit=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},Sit=new Xbe.Logger(Qbe),Jbe=class extends Qm{static isForkEvent(e){return!!(e&&e._isForkEvent)}};var _P=class t{constructor(){Sit.checkAbstract(new.target,t),qt(this,"_isProvider",!0)}getFeeData(){return wit(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield k0({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)}),n=null,i=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=On.from("1500000000"),i=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};d();h();var Gd=Ke(qa());d();h();var e1e="abstract-signer/5.7.0";var Tl=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},gf=new Gd.Logger(e1e),Ait=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Eit=[Gd.Logger.errors.INSUFFICIENT_FUNDS,Gd.Logger.errors.NONCE_EXPIRED,Gd.Logger.errors.REPLACEMENT_UNDERPRICED],y_=class t{constructor(){gf.checkAbstract(new.target,t),qt(this,"_isSigner",!0)}getBalance(e){return Tl(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Tl(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Tl(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield k0(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Tl(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield k0(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Tl(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Tl(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Tl(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Tl(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Tl(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)Ait.indexOf(n)===-1&&gf.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=m_(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&gf.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Tl(this,void 0,void 0,function*(){let r=yield k0(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Tl(this,void 0,void 0,function*(){if(i==null)return null;let o=yield this.resolveName(i);return o==null&&gf.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?gf.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&gf.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&gf.throwError("network does not support EIP-1559",Gd.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):gf.throwError("failed to get consistent fee data",Gd.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(Eit.indexOf(i.code)>=0)throw i;return gf.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Gd.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&gf.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield k0(r)})}_checkProvider(e){this.provider||gf.throwError("missing provider",Gd.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},t1e=class t extends y_{constructor(e,r){super(),qt(this,"address",e),qt(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{gf.throwError(e,Gd.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var kl=Ke(ts());d();h();d();h();d();h();d();h();d();h();var _it="0x0000000000000000000000000000000000000000";d();h();var Tit=On.from(-1),ez=On.from(0),Iit=On.from(1);var Mit=On.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");d();h();var kit="0x0000000000000000000000000000000000000000000000000000000000000000";d();h();var tz=Ke(ts()),n1e=Ke(qa());d();h();var r1e="strings/5.7.0";var i1e=new n1e.Logger(r1e),Il;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Il||(Il={}));var _c;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(_c||(_c={}));function Pit(t,e,r,n,i){return i1e.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function o1e(t,e,r,n,i){if(t===_c.BAD_PREFIX||t===_c.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return t===_c.OVERRUN?r.length-e-1:0}function Rit(t,e,r,n,i){return t===_c.OVERLONG?(n.push(i),0):(n.push(65533),o1e(t,e,r,n,i))}var s1e=Object.freeze({error:Pit,ignore:o1e,replace:Rit});function a1e(t,e){e==null&&(e=s1e.error),t=(0,tz.arrayify)(t);let r=[],n=0;for(;n<t.length;){let i=t[n++];if(!(i>>7)){r.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=e(_c.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(_c.BAD_PREFIX,n-1,t,r);continue}if(n-1+o>=t.length){n+=e(_c.OVERRUN,n-1,t,r);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let m=t[n];if((m&192)!=128){n+=e(_c.MISSING_CONTINUE,n,t,r),c=null;break}c=c<<6|m&63,n++}if(c!==null){if(c>1114111){n+=e(_c.OUT_OF_RANGE,n-1-o,t,r,c);continue}if(c>=55296&&c<=57343){n+=e(_c.UTF16_SURROGATE,n-1-o,t,r,c);continue}if(c<=s){n+=e(_c.OVERLONG,n-1-o,t,r,c);continue}r.push(c)}}return r}function us(t,e=Il.current){e!=Il.current&&(i1e.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let o=t.charCodeAt(n);if(n>=t.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");let s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return(0,tz.arrayify)(r)}function Bit(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function c1e(t,e){return Bit(a1e(t,e))}function rz(t,e=Il.current){return a1e(us(t,e))}function l2(t){return qn(us(t))}d();h();var d2=Ke(ts());var S1e=Ke(qa());d();h();var TP="hash/5.7.0";d();h();d();h();d();h();d();h();var nz=Ke(ts());function iz(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,nz.arrayify)(e)}function Cit(t){t=(0,nz.arrayify)(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}d();h();function f1e(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=function(o,s){n.call(o,function(c){s>0&&Array.isArray(c)?i(c,s-1):r.push(c)})};return i(t,e),r}function Oit(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}function Nit(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let V=1;V<n;V++)o.push(i+=r());let s=r(),c=e;e+=s;let l=0,m=0;function w(){return l==0&&(m=m<<8|t[e++],l=8),m>>--l&1}let b=31,E=Math.pow(2,b),I=E>>>1,M=I>>1,k=E-1,B=0;for(let V=0;V<b;V++)B=B<<1|w();let R=[],U=0,P=E;for(;;){let V=Math.floor(((B-U+1)*i-1)/P),H=0,re=n;for(;re-H>1;){let S=H+re>>>1;V<o[S]?re=S:H=S}if(H==0)break;R.push(H);let J=U+Math.floor(P*o[H]/i),ie=U+Math.floor(P*o[H+1]/i)-1;for(;!((J^ie)&I);)B=B<<1&k|w(),J=J<<1&k,ie=ie<<1&k|1;for(;J&~ie&M;)B=B&I|B<<1&k>>>1|w(),J=J<<1^I,ie=(ie^I)<<1|I|1;U=J,P=1+ie-J}let F=n-4;return R.map(V=>{switch(V-F){case 3:return F+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return F+256+(t[c++]<<8|t[c++]);case 1:return F+t[c++];default:return V-1}})}function Dit(t){let e=0;return()=>t[e++]}function l1e(t){return Dit(Nit(t))}function Uit(t){return t&1?~t>>1:t>>1}function Lit(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function u1e(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Fit(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Uit(e());return r}function g_(t,e){let r=u1e(t(),t),n=t(),i=u1e(n,t),o=Lit(n,t);for(let s=0;s<n;s++)for(let c=0;c<o[s];c++)r.push(i[s]+c);return e?r.map(s=>e[s]):r}function d1e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Kit(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Vit(r,t))}return Oit(f1e(e))}function qit(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function h1e(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Fit(t,r).forEach((o,s)=>n[s].push(o));return n}function Kit(t,e){let r=1+e(),n=e(),i=qit(e),o=h1e(i.length,1+t,e);return f1e(o.map((s,c)=>{let l=s[0],m=s.slice(1);return Array(i[c]).fill(void 0).map((w,b)=>{let E=b*n;return[l+b*r,m.map(I=>I+E)]})}))}function Vit(t,e){let r=1+e();return h1e(r,1+t,e).map(i=>[i[0],i.slice(1)])}function p1e(t){let e=g_(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let m=g_(t,e);if(m.length==0)break;n.push({set:new Set(m),node:r()})}n.sort((m,w)=>w.set.size-m.set.size);let i=t(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let c=i==1,l=i==2;return{branches:n,valid:o,fe0f:s,save:c,check:l}}}function m1e(){return l1e(iz("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}var IP=m1e(),Hit=new Set(g_(IP)),jit=new Set(g_(IP)),zit=d1e(IP),Wit=p1e(IP),y1e=45,g1e=95;function b1e(t){return rz(t)}function Git(t){return t.filter(e=>e!=65039)}function v1e(t){for(let e of t.split(".")){let r=b1e(e);try{for(let n=r.lastIndexOf(g1e)-1;n>=0;n--)if(r[n]!==g1e)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===y1e&&r[3]===y1e)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function x1e(t){return v1e($it(t,Git))}function $it(t,e){let r=b1e(t).reverse(),n=[];for(;r.length;){let i=Zit(r);if(i){n.push(...e(i));continue}let o=r.pop();if(Hit.has(o)){n.push(o);continue}if(jit.has(o))continue;let s=zit[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return v1e(Yit(String.fromCodePoint(...n)))}function Yit(t){return t.normalize("NFC")}function Zit(t,e){var r;let n=Wit,i,o,s=[],c=t.length;for(e&&(e.length=0);c;){let l=t[--c];if(n=(r=n.branches.find(m=>m.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)o=l;else if(n.check&&l===o)break;s.push(l),n.fe0f&&(s.push(65039),c>0&&t[c-1]==65039&&c--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(c).reverse()),t.length=c)}return i}var Qit=new S1e.Logger(TP),A1e=new Uint8Array(32);A1e.fill(0);function w1e(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function E1e(t){let e=us(x1e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(w1e(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(w1e(e.slice(n))),r}function Jit(t){typeof t!="string"&&Qit.throwArgumentError("invalid ENS name; not a string","name",t);let e=A1e,r=E1e(t);for(;r.length;)e=qn((0,d2.concat)([e,qn(r.pop())]));return(0,d2.hexlify)(e)}function Xit(t){return(0,d2.hexlify)((0,d2.concat)(E1e(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}d();h();var _1e=Ke(ts());var T1e=`Ethereum Signed Message:
`;function oz(t){return typeof t=="string"&&(t=us(t)),qn((0,_1e.concat)([us(T1e),us(String(t.length)),t]))}d();h();var ro=Ke(ts());var P1e=Ke(qa());var eot=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},Fi=new P1e.Logger(TP),R1e=new Uint8Array(32);R1e.fill(0);var tot=On.from(-1),B1e=On.from(0),C1e=On.from(1),rot=On.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function not(t){let e=(0,ro.arrayify)(t),r=e.length%32;return r?(0,ro.hexConcat)([e,R1e.slice(r)]):(0,ro.hexlify)(e)}var iot=(0,ro.hexZeroPad)(C1e.toHexString(),32),oot=(0,ro.hexZeroPad)(B1e.toHexString(),32),I1e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},sz=["name","version","chainId","verifyingContract","salt"];function M1e(t){return function(e){return typeof e!="string"&&Fi.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var sot={name:M1e("name"),version:M1e("version"),chainId:function(t){try{return On.from(t).toString()}catch{}return Fi.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Es(t).toLowerCase()}catch{}return Fi.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{let e=(0,ro.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,ro.hexlify)(e)}catch{}return Fi.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function az(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Fi.throwArgumentError("invalid numeric width","type",t);let i=rot.mask(r?n-1:n),o=r?i.add(C1e).mul(tot):B1e;return function(s){let c=On.from(s);return(c.lt(o)||c.gt(i))&&Fi.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),(0,ro.hexZeroPad)(c.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Fi.throwArgumentError("invalid bytes width","type",t),function(n){return(0,ro.arrayify)(n).length!==r&&Fi.throwArgumentError(`invalid length for ${t}`,"value",n),not(n)}}}switch(t){case"address":return function(e){return(0,ro.hexZeroPad)(Es(e),32)};case"bool":return function(e){return e?iot:oot};case"bytes":return function(e){return qn(e)};case"string":return function(e){return l2(e)}}return null}function k1e(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}var h2=class t{constructor(e){qt(this,"types",Object.freeze(p_(e))),qt(this,"_encoderCache",{}),qt(this,"_types",{});let r={},n={},i={};Object.keys(e).forEach(c=>{r[c]={},n[c]=[],i[c]={}});for(let c in e){let l={};e[c].forEach(m=>{l[m.name]&&Fi.throwArgumentError(`duplicate variable name ${JSON.stringify(m.name)} in ${JSON.stringify(c)}`,"types",e),l[m.name]=!0;let w=m.type.match(/^([^\x5b]*)(\x5b|$)/)[1];w===c&&Fi.throwArgumentError(`circular type reference to ${JSON.stringify(w)}`,"types",e),!az(w)&&(n[w]||Fi.throwArgumentError(`unknown type ${JSON.stringify(w)}`,"types",e),n[w].push(c),r[c][w]=!0)})}let o=Object.keys(n).filter(c=>n[c].length===0);o.length===0?Fi.throwArgumentError("missing primary type","types",e):o.length>1&&Fi.throwArgumentError(`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),qt(this,"primaryType",o[0]);function s(c,l){l[c]&&Fi.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),l[c]=!0,Object.keys(r[c]).forEach(m=>{n[m]&&(s(m,l),Object.keys(l).forEach(w=>{i[w][m]=!0}))}),delete l[c]}s(this.primaryType,{});for(let c in i){let l=Object.keys(i[c]);l.sort(),this._types[c]=k1e(c,e[c])+l.map(m=>k1e(m,e[m])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{let i=az(e);if(i)return i}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],o=this.getEncoder(i),s=parseInt(r[3]);return c=>{s>=0&&c.length!==s&&Fi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",c);let l=c.map(o);return this._types[i]&&(l=l.map(qn)),qn((0,ro.hexConcat)(l))}}let n=this.types[e];if(n){let i=l2(this._types[e]);return o=>{let s=n.map(({name:c,type:l})=>{let m=this.getEncoder(l)(o[c]);return this._types[l]?qn(m):m});return s.unshift(i),(0,ro.hexConcat)(s)}}return Fi.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let r=this._types[e];return r||Fi.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return qn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(az(e))return n(e,r);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let s=i[1],c=parseInt(i[3]);return c>=0&&r.length!==c&&Fi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(s,l,n))}let o=this.types[e];return o?o.reduce((s,{name:c,type:l})=>(s[c]=this._visit(l,r[c],n),s),{}):Fi.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){let i=I1e[n];i||Fi.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>sz.indexOf(n.name)-sz.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return(0,ro.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return qn(t.encode(e,r,n))}static resolveNames(e,r,n,i){return eot(this,void 0,void 0,function*(){e=m_(e);let o={};e.verifyingContract&&!(0,ro.isHexString)(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");let s=t.from(r);s.visit(n,(c,l)=>(c==="address"&&!(0,ro.isHexString)(l,20)&&(o[l]="0x"),l));for(let c in o)o[c]=yield i(c);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(c,l)=>c==="address"&&o[l]?o[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){t.hashDomain(e);let i={},o=[];sz.forEach(l=>{let m=e[l];m!=null&&(i[l]=sot[l](m),o.push({name:l,type:I1e[l]}))});let s=t.from(r),c=m_(r);return c.EIP712Domain?Fi.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):c.EIP712Domain=o,s.encode(n),{types:c,domain:i,primaryType:s.primaryType,message:s.visit(n,(l,m)=>{if(l.match(/^bytes(\d*)/))return(0,ro.hexlify)((0,ro.arrayify)(m));if(l.match(/^u?int/))return On.from(m).toString();switch(l){case"address":return m.toLowerCase();case"bool":return!!m;case"string":return typeof m!="string"&&Fi.throwArgumentError("invalid string","value",m),m}return Fi.throwArgumentError("unsupported type","type",l)})}}};d();h();d();h();var cz=Ke(ts());var MP=class{constructor(e){qt(this,"alphabet",e),qt(this,"base",e.length),qt(this,"_alphabetMap",{}),qt(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,cz.arrayify)(e);if(r.length===0)return"";let n=[0];for(let o=0;o<r.length;++o){let s=r[o];for(let c=0;c<n.length;++c)s+=n[c]<<8,n[c]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;r[o]===0&&o<r.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<r.length;++s)o+=r[s]*this.base,r[s]=o&255,o>>=8;for(;o>0;)r.push(o&255),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,cz.arrayify)(new Uint8Array(r.reverse()))}},gnr=new MP("abcdefghijklmnopqrstuvwxyz234567"),uz=new MP("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var hn=Ke(ts());d();h();d();h();var Jm=Ke(ts()),dz=Ke(lz());function y1(t,e,r,n,i){t=(0,Jm.arrayify)(t),e=(0,Jm.arrayify)(e);let o,s=1,c=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let m,w;for(let b=1;b<=s;b++){l[e.length]=b>>24&255,l[e.length+1]=b>>16&255,l[e.length+2]=b>>8&255,l[e.length+3]=b&255;let E=(0,Jm.arrayify)((0,dz.computeHmac)(i,t,l));o||(o=E.length,w=new Uint8Array(o),s=Math.ceil(n/o),m=n-(s-1)*o),w.set(E);for(let k=1;k<r;k++){E=(0,Jm.arrayify)((0,dz.computeHmac)(i,t,E));for(let B=0;B<o;B++)w[B]^=E[B]}let I=(b-1)*o,M=b===s?m:o;c.set((0,Jm.arrayify)(w).slice(0,M),I)}return(0,Jm.hexlify)(c)}d();h();d();h();var rr=Ke(mb()),$d=Ke(lw());function p2(t,e,r){return r={path:e,exports:{},require:function(n,i){return got(n,i??r.path)}},t(r,r.exports),r.exports}function got(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var yz=L1e;function L1e(t,e){if(!t)throw new Error(e||"Assertion failed")}L1e.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Ml=p2(function(t,e){"use strict";var r=e;function n(s,c){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var m=0;m<s.length;m++)l[m]=s[m]|0;return l}if(c==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var m=0;m<s.length;m+=2)l.push(parseInt(s[m]+s[m+1],16))}else for(var m=0;m<s.length;m++){var w=s.charCodeAt(m),b=w>>8,E=w&255;b?l.push(b,E):l.push(E)}return l}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function o(s){for(var c="",l=0;l<s.length;l++)c+=i(s[l].toString(16));return c}r.toHex=o,r.encode=function(c,l){return l==="hex"?o(c):c}}),pu=p2(function(t,e){"use strict";var r=e;r.assert=yz,r.toArray=Ml.toArray,r.zero2=Ml.zero2,r.toHex=Ml.toHex,r.encode=Ml.encode;function n(l,m,w){var b=new Array(Math.max(l.bitLength(),w)+1);b.fill(0);for(var E=1<<m+1,I=l.clone(),M=0;M<b.length;M++){var k,B=I.andln(E-1);I.isOdd()?(B>(E>>1)-1?k=(E>>1)-B:k=B,I.isubn(k)):k=0,b[M]=k,I.iushrn(1)}return b}r.getNAF=n;function i(l,m){var w=[[],[]];l=l.clone(),m=m.clone();for(var b=0,E=0,I;l.cmpn(-b)>0||m.cmpn(-E)>0;){var M=l.andln(3)+b&3,k=m.andln(3)+E&3;M===3&&(M=-1),k===3&&(k=-1);var B;M&1?(I=l.andln(7)+b&7,(I===3||I===5)&&k===2?B=-M:B=M):B=0,w[0].push(B);var R;k&1?(I=m.andln(7)+E&7,(I===3||I===5)&&M===2?R=-k:R=k):R=0,w[1].push(R),2*b===B+1&&(b=1-b),2*E===R+1&&(E=1-E),l.iushrn(1),m.iushrn(1)}return w}r.getJSF=i;function o(l,m,w){var b="_"+m;l.prototype[m]=function(){return this[b]!==void 0?this[b]:this[b]=w.call(this)}}r.cachedProperty=o;function s(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=s;function c(l){return new rr.default(l,"hex","le")}r.intFromLE=c}),CP=pu.getNAF,bot=pu.getJSF,OP=pu.assert;function ey(t,e){this.type=t,this.p=new rr.default(e.p,16),this.red=e.prime?rr.default.red(e.prime):rr.default.mont(this.p),this.zero=new rr.default(0).toRed(this.red),this.one=new rr.default(1).toRed(this.red),this.two=new rr.default(2).toRed(this.red),this.n=e.n&&new rr.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var g1=ey;ey.prototype.point=function(){throw new Error("Not implemented")};ey.prototype.validate=function(){throw new Error("Not implemented")};ey.prototype._fixedNafMul=function(e,r){OP(e.precomputed);var n=e._getDoubles(),i=CP(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],c,l;for(c=0;c<i.length;c+=n.step){l=0;for(var m=c+n.step-1;m>=c;m--)l=(l<<1)+i[m];s.push(l)}for(var w=this.jpoint(null,null,null),b=this.jpoint(null,null,null),E=o;E>0;E--){for(c=0;c<s.length;c++)l=s[c],l===E?b=b.mixedAdd(n.points[c]):l===-E&&(b=b.mixedAdd(n.points[c].neg()));w=w.add(b)}return w.toP()};ey.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=CP(r,n,this._bitLength),c=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var m=0;l>=0&&s[l]===0;l--)m++;if(l>=0&&m++,c=c.dblp(m),l<0)break;var w=s[l];OP(w!==0),e.type==="affine"?w>0?c=c.mixedAdd(o[w-1>>1]):c=c.mixedAdd(o[-w-1>>1].neg()):w>0?c=c.add(o[w-1>>1]):c=c.add(o[-w-1>>1].neg())}return e.type==="affine"?c.toP():c};ey.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,c=this._wnafT2,l=this._wnafT3,m=0,w,b,E;for(w=0;w<i;w++){E=r[w];var I=E._getNAFPoints(e);s[w]=I.wnd,c[w]=I.points}for(w=i-1;w>=1;w-=2){var M=w-1,k=w;if(s[M]!==1||s[k]!==1){l[M]=CP(n[M],s[M],this._bitLength),l[k]=CP(n[k],s[k],this._bitLength),m=Math.max(l[M].length,m),m=Math.max(l[k].length,m);continue}var B=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(B[1]=r[M].add(r[k]),B[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(B[1]=r[M].toJ().mixedAdd(r[k]),B[2]=r[M].add(r[k].neg())):(B[1]=r[M].toJ().mixedAdd(r[k]),B[2]=r[M].toJ().mixedAdd(r[k].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],U=bot(n[M],n[k]);for(m=Math.max(U[0].length,m),l[M]=new Array(m),l[k]=new Array(m),b=0;b<m;b++){var P=U[0][b]|0,F=U[1][b]|0;l[M][b]=R[(P+1)*3+(F+1)],l[k][b]=0,c[M]=B}}var V=this.jpoint(null,null,null),H=this._wnafT4;for(w=m;w>=0;w--){for(var re=0;w>=0;){var J=!0;for(b=0;b<i;b++)H[b]=l[b][w]|0,H[b]!==0&&(J=!1);if(!J)break;re++,w--}if(w>=0&&re++,V=V.dblp(re),w<0)break;for(b=0;b<i;b++){var ie=H[b];ie!==0&&(ie>0?E=c[b][ie-1>>1]:ie<0&&(E=c[b][-ie-1>>1].neg()),E.type==="affine"?V=V.mixedAdd(E):V=V.add(E))}}for(w=0;w<i;w++)c[w]=null;return o?V:V.toP()};function wf(t,e){this.curve=t,this.type=e,this.precomputed=null}ey.BasePoint=wf;wf.prototype.eq=function(){throw new Error("Not implemented")};wf.prototype.validate=function(){return this.curve.validate(this)};ey.prototype.decodePoint=function(e,r){e=pu.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?OP(e[e.length-1]%2===0):e[0]===7&&OP(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};wf.prototype.encodeCompressed=function(e){return this.encode(e,!0)};wf.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};wf.prototype.encode=function(e,r){return pu.encode(this._encode(r),e)};wf.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};wf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};wf.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};wf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};wf.prototype._getBeta=function(){return null};wf.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var gz=p2(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),vot=pu.assert;function Sf(t){g1.call(this,"short",t),this.a=new rr.default(t.a,16).toRed(this.red),this.b=new rr.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}gz(Sf,g1);var xot=Sf;Sf.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new rr.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new rr.default(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],vot(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(c){return{a:new rr.default(c.a,16),b:new rr.default(c.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Sf.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:rr.default.mont(e),n=new rr.default(2).toRed(r).redInvm(),i=n.redNeg(),o=new rr.default(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),c=i.redSub(o).fromRed();return[s,c]};Sf.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new rr.default(1),s=new rr.default(0),c=new rr.default(0),l=new rr.default(1),m,w,b,E,I,M,k,B=0,R,U;n.cmpn(0)!==0;){var P=i.div(n);R=i.sub(P.mul(n)),U=c.sub(P.mul(o));var F=l.sub(P.mul(s));if(!b&&R.cmp(r)<0)m=k.neg(),w=o,b=R.neg(),E=U;else if(b&&++B===2)break;k=R,i=n,n=R,c=o,o=U,l=s,s=F}I=R.neg(),M=U;var V=b.sqr().add(E.sqr()),H=I.sqr().add(M.sqr());return H.cmp(V)>=0&&(I=m,M=w),b.negative&&(b=b.neg(),E=E.neg()),I.negative&&(I=I.neg(),M=M.neg()),[{a:b,b:E},{a:I,b:M}]};Sf.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),c=o.mul(n.a),l=s.mul(i.a),m=o.mul(n.b),w=s.mul(i.b),b=e.sub(c).sub(l),E=m.add(w).neg();return{k1:b,k2:E}};Sf.prototype.pointFromX=function(e,r){e=new rr.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};Sf.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Sf.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var c=this._endoSplit(r[s]),l=e[s],m=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),m=m.neg(!0)),i[s*2]=l,i[s*2+1]=m,o[s*2]=c.k1,o[s*2+1]=c.k2}for(var w=this._wnafMulAdd(1,i,o,s*2,n),b=0;b<s*2;b++)i[b]=null,o[b]=null;return w};function fs(t,e,r,n){g1.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new rr.default(e,16),this.y=new rr.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}gz(fs,g1.BasePoint);Sf.prototype.point=function(e,r,n){return new fs(this,e,r,n)};Sf.prototype.pointFromJSON=function(e,r){return fs.fromJSON(this,e,r)};fs.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};fs.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};fs.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(c){return e.point(c[0],c[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};fs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};fs.prototype.isInfinity=function(){return this.inf};fs.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};fs.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),c=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,c)};fs.prototype.getX=function(){return this.x.fromRed()};fs.prototype.getY=function(){return this.y.fromRed()};fs.prototype.mul=function(e){return e=new rr.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};fs.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};fs.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};fs.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};fs.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};fs.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Cs(t,e,r,n){g1.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new rr.default(0)):(this.x=new rr.default(e,16),this.y=new rr.default(r,16),this.z=new rr.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}gz(Cs,g1.BasePoint);Sf.prototype.jpoint=function(e,r,n){return new Cs(this,e,r,n)};Cs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Cs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Cs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=i.redSub(o),m=s.redSub(c);if(l.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=l.redSqr(),b=w.redMul(l),E=i.redMul(w),I=m.redSqr().redIAdd(b).redISub(E).redISub(E),M=m.redMul(E.redISub(I)).redISub(s.redMul(b)),k=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(I,M,k)};Cs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),c=n.redSub(i),l=o.redSub(s);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=c.redSqr(),w=m.redMul(c),b=n.redMul(m),E=l.redSqr().redIAdd(w).redISub(b).redISub(b),I=l.redMul(b.redISub(E)).redISub(o.redMul(w)),M=this.z.redMul(c);return this.curve.jpoint(E,I,M)};Cs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,c=this.y,l=this.z,m=l.redSqr().redSqr(),w=c.redAdd(c);for(r=0;r<e;r++){var b=s.redSqr(),E=w.redSqr(),I=E.redSqr(),M=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(m)),k=s.redMul(E),B=M.redSqr().redISub(k.redAdd(k)),R=k.redISub(B),U=M.redMul(R);U=U.redIAdd(U).redISub(I);var P=w.redMul(l);r+1<e&&(m=m.redMul(I)),s=B,l=P,w=U}return this.curve.jpoint(s,w.redMul(o),l)};Cs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Cs.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i),m=l.redSqr().redISub(c).redISub(c),w=s.redIAdd(s);w=w.redIAdd(w),w=w.redIAdd(w),e=m,r=l.redMul(c.redISub(m)).redISub(w),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),E=this.y.redSqr(),I=E.redSqr(),M=this.x.redAdd(E).redSqr().redISub(b).redISub(I);M=M.redIAdd(M);var k=b.redAdd(b).redIAdd(b),B=k.redSqr(),R=I.redIAdd(I);R=R.redIAdd(R),R=R.redIAdd(R),e=B.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(R),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Cs.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=l.redSqr().redISub(c).redISub(c);e=m;var w=s.redIAdd(s);w=w.redIAdd(w),w=w.redIAdd(w),r=l.redMul(c.redISub(m)).redISub(w),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),E=this.y.redSqr(),I=this.x.redMul(E),M=this.x.redSub(b).redMul(this.x.redAdd(b));M=M.redAdd(M).redIAdd(M);var k=I.redIAdd(I);k=k.redIAdd(k);var B=k.redAdd(k);e=M.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(b);var R=E.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R),r=M.redMul(k.redISub(e)).redISub(R)}return this.curve.jpoint(e,r,n)};Cs.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),c=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),m=r.redAdd(r);m=m.redIAdd(m);var w=m.redMul(c),b=l.redSqr().redISub(w.redAdd(w)),E=w.redISub(b),I=c.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=l.redMul(E).redISub(I),k=n.redAdd(n).redMul(i);return this.curve.jpoint(b,M,k)};Cs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(s);var l=c.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var w=o.redIAdd(c).redSqr().redISub(s).redISub(l).redISub(m),b=r.redMul(w);b=b.redIAdd(b),b=b.redIAdd(b);var E=this.x.redMul(l).redISub(b);E=E.redIAdd(E),E=E.redIAdd(E);var I=this.y.redMul(w.redMul(m.redISub(w)).redISub(c.redMul(l)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,I,M)};Cs.prototype.mul=function(e,r){return e=new rr.default(e,r),this.curve._wnafMul(this,e)};Cs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Cs.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Cs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Cs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var RP=p2(function(t,e){"use strict";var r=e;r.base=g1,r.short=xot,r.mont=null,r.edwards=null}),BP=p2(function(t,e){"use strict";var r=e,n=pu.assert;function i(c){c.type==="short"?this.curve=new RP.short(c):c.type==="edwards"?this.curve=new RP.edwards(c):this.curve=new RP.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(c,l){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){var m=new i(l);return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,value:m}),m}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$d.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$d.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$d.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$d.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$d.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$d.default.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$d.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$d.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Xm(t){if(!(this instanceof Xm))return new Xm(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ml.toArray(t.entropy,t.entropyEnc||"hex"),r=Ml.toArray(t.nonce,t.nonceEnc||"hex"),n=Ml.toArray(t.pers,t.persEnc||"hex");yz(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var F1e=Xm;Xm.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Xm.prototype._hmac=function(){return new $d.default.hmac(this.hash,this.K)};Xm.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Xm.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ml.toArray(e,r),n=Ml.toArray(n,i),yz(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Xm.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ml.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Ml.encode(s,r)};var mz=pu.assert;function ya(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var bz=ya;ya.fromPublic=function(e,r,n){return r instanceof ya?r:new ya(e,{pub:r,pubEnc:n})};ya.fromPrivate=function(e,r,n){return r instanceof ya?r:new ya(e,{priv:r,privEnc:n})};ya.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ya.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ya.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ya.prototype._importPrivate=function(e,r){this.priv=new rr.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ya.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?mz(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&mz(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ya.prototype.derive=function(e){return e.validate()||mz(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ya.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ya.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};ya.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var wot=pu.assert;function NP(t,e){if(t instanceof NP)return t;this._importDER(t,e)||(wot(t.r&&t.s,"Signature without r or s"),this.r=new rr.default(t.r,16),this.s=new rr.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var DP=NP;function Sot(){this.place=0}function hz(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function U1e(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}NP.prototype._importDER=function(e,r){e=pu.toArray(e,r);var n=new Sot;if(e[n.place++]!==48)return!1;var i=hz(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=hz(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var c=hz(e,n);if(c===!1||e.length!==c+n.place)return!1;var l=e.slice(n.place,c+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new rr.default(s),this.s=new rr.default(l),this.recoveryParam=null,!0};function pz(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}NP.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=U1e(r),n=U1e(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];pz(i,r.length),i=i.concat(r),i.push(2),pz(i,n.length);var o=i.concat(n),s=[48];return pz(s,o.length),s=s.concat(o),pu.encode(s,e)};var Aot=function(){throw new Error("unsupported")},q1e=pu.assert;function xf(t){if(!(this instanceof xf))return new xf(t);typeof t=="string"&&(q1e(Object.prototype.hasOwnProperty.call(BP,t),"Unknown curve "+t),t=BP[t]),t instanceof BP.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Eot=xf;xf.prototype.keyPair=function(e){return new bz(this,e)};xf.prototype.keyFromPrivate=function(e,r){return bz.fromPrivate(this,e,r)};xf.prototype.keyFromPublic=function(e,r){return bz.fromPublic(this,e,r)};xf.prototype.genKeyPair=function(e){e||(e={});for(var r=new F1e({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Aot(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new rr.default(2));;){var o=new rr.default(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};xf.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};xf.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new rr.default(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),c=e.toArray("be",o),l=new F1e({hash:this.hash,entropy:s,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),m=this.n.sub(new rr.default(1)),w=0;;w++){var b=i.k?i.k(w):new rr.default(l.generate(this.n.byteLength()));if(b=this._truncateToN(b,!0),!(b.cmpn(1)<=0||b.cmp(m)>=0)){var E=this.g.mul(b);if(!E.isInfinity()){var I=E.getX(),M=I.umod(this.n);if(M.cmpn(0)!==0){var k=b.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var B=(E.getY().isOdd()?1:0)|(I.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),B^=1),new DP({r:M,s:k,recoveryParam:B})}}}}}};xf.prototype.verify=function(e,r,n,i){e=this._truncateToN(new rr.default(e,16)),n=this.keyFromPublic(n,i),r=new DP(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var c=s.invm(this.n),l=c.mul(e).umod(this.n),m=c.mul(o).umod(this.n),w;return this.curve._maxwellTrick?(w=this.g.jmulAdd(l,n.getPublic(),m),w.isInfinity()?!1:w.eqXToP(o)):(w=this.g.mulAdd(l,n.getPublic(),m),w.isInfinity()?!1:w.getX().umod(this.n).cmp(o)===0)};xf.prototype.recoverPubKey=function(t,e,r,n){q1e((3&r)===r,"The recovery param is more than two bits"),e=new DP(e,n);var i=this.n,o=new rr.default(t),s=e.r,c=e.s,l=r&1,m=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var w=e.r.invm(i),b=i.sub(o).mul(w).umod(i),E=c.mul(w).umod(i);return this.g.mulAdd(b,s,E)};xf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new DP(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var _ot=p2(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=pu,r.rand=function(){throw new Error("unsupported")},r.curve=RP,r.curves=BP,r.ec=Eot,r.eddsa=null}),K1e=_ot.ec;var gi=Ke(ts());var H1e=Ke(qa());d();h();var V1e="signing-key/5.7.0";var xz=new H1e.Logger(V1e),vz=null;function Yd(){return vz||(vz=new K1e("secp256k1")),vz}var Af=class{constructor(e){qt(this,"curve","secp256k1"),qt(this,"privateKey",(0,gi.hexlify)(e)),(0,gi.hexDataLength)(this.privateKey)!==32&&xz.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=Yd().keyFromPrivate((0,gi.arrayify)(this.privateKey));qt(this,"publicKey","0x"+r.getPublic(!1,"hex")),qt(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),qt(this,"_isSigningKey",!0)}_addPoint(e){let r=Yd().keyFromPublic((0,gi.arrayify)(this.publicKey)),n=Yd().keyFromPublic((0,gi.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=Yd().keyFromPrivate((0,gi.arrayify)(this.privateKey)),n=(0,gi.arrayify)(e);n.length!==32&&xz.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return(0,gi.splitSignature)({recoveryParam:i.recoveryParam,r:(0,gi.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,gi.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=Yd().keyFromPrivate((0,gi.arrayify)(this.privateKey)),n=Yd().keyFromPublic((0,gi.arrayify)(wz(e)));return(0,gi.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function j1e(t,e){let r=(0,gi.splitSignature)(e),n={r:(0,gi.arrayify)(r.r),s:(0,gi.arrayify)(r.s)};return"0x"+Yd().recoverPubKey((0,gi.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}function wz(t,e){let r=(0,gi.arrayify)(t);if(r.length===32){let n=new Af(r);return e?"0x"+Yd().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,gi.hexlify)(r):"0x"+Yd().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Yd().keyFromPublic(r).getPublic(!0,"hex"):(0,gi.hexlify)(r)}return xz.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Tc=Ke(lz());d();h();var tr=Ke(ts());var UP=Ke(qa());d();h();var z1e="transactions/5.7.0";var ba=new UP.Logger(z1e),W1e;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(W1e||(W1e={}));function Az(t){return t==="0x"?null:Es(t)}function ga(t){return t==="0x"?ez:On.from(t)}var Tot=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Iot={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Zd(t){let e=wz(t);return Es((0,tr.hexDataSlice)(qn((0,tr.hexDataSlice)(e,1)),12))}function Ez(t,e){return Zd(j1e((0,tr.arrayify)(t),e))}function mu(t,e){let r=(0,tr.stripZeros)(On.from(t).toHexString());return r.length>32&&ba.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Sz(t,e){return{address:Es(t),storageKeys:(e||[]).map((r,n)=>((0,tr.hexDataLength)(r)!==32&&ba.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function _z(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&ba.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Sz(r[0],r[1])):Sz(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return Sz(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function G1e(t){return _z(t).map(e=>[e.address,e.storageKeys])}function $1e(t,e){if(t.gasPrice!=null){let n=On.from(t.gasPrice),i=On.from(t.maxFeePerGas||0);n.eq(i)||ba.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[mu(t.chainId||0,"chainId"),mu(t.nonce||0,"nonce"),mu(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),mu(t.maxFeePerGas||0,"maxFeePerGas"),mu(t.gasLimit||0,"gasLimit"),t.to!=null?Es(t.to):"0x",mu(t.value||0,"value"),t.data||"0x",G1e(t.accessList||[])];if(e){let n=(0,tr.splitSignature)(e);r.push(mu(n.recoveryParam,"recoveryParam")),r.push((0,tr.stripZeros)(n.r)),r.push((0,tr.stripZeros)(n.s))}return(0,tr.hexConcat)(["0x02",kx(r)])}function Y1e(t,e){let r=[mu(t.chainId||0,"chainId"),mu(t.nonce||0,"nonce"),mu(t.gasPrice||0,"gasPrice"),mu(t.gasLimit||0,"gasLimit"),t.to!=null?Es(t.to):"0x",mu(t.value||0,"value"),t.data||"0x",G1e(t.accessList||[])];if(e){let n=(0,tr.splitSignature)(e);r.push(mu(n.recoveryParam,"recoveryParam")),r.push((0,tr.stripZeros)(n.r)),r.push((0,tr.stripZeros)(n.s))}return(0,tr.hexConcat)(["0x01",kx(r)])}function Mot(t,e){Ybe(t,Iot);let r=[];Tot.forEach(function(s){let c=t[s.name]||[],l={};s.numeric&&(l.hexPad="left"),c=(0,tr.arrayify)((0,tr.hexlify)(c,l)),s.length&&c.length!==s.length&&c.length>0&&ba.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,c),s.maxLength&&(c=(0,tr.stripZeros)(c),c.length>s.maxLength&&ba.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,c)),r.push((0,tr.hexlify)(c))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&ba.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,tr.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,tr.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return kx(r);let i=(0,tr.splitSignature)(e),o=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),o+=n*2+8,i.v>28&&i.v!==o&&ba.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==o&&ba.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,tr.hexlify)(o)),r.push((0,tr.stripZeros)((0,tr.arrayify)(i.r))),r.push((0,tr.stripZeros)((0,tr.arrayify)(i.s))),kx(r)}function Tz(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&ba.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),Mot(t,e);switch(t.type){case 1:return Y1e(t,e);case 2:return $1e(t,e);default:break}return ba.throwError(`unsupported transaction type: ${t.type}`,UP.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function Z1e(t,e,r){try{let n=ga(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{ba.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,tr.hexZeroPad)(e[1],32),t.s=(0,tr.hexZeroPad)(e[2],32);try{let n=qn(r(t));t.from=Ez(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function kot(t){let e=eI(t.slice(1));e.length!==9&&e.length!==12&&ba.throwArgumentError("invalid component count for transaction type: 2","payload",(0,tr.hexlify)(t));let r=ga(e[2]),n=ga(e[3]),i={type:2,chainId:ga(e[0]).toNumber(),nonce:ga(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ga(e[4]),to:Az(e[5]),value:ga(e[6]),data:e[7],accessList:_z(e[8])};return e.length===9||(i.hash=qn(t),Z1e(i,e.slice(9),$1e)),i}function Pot(t){let e=eI(t.slice(1));e.length!==8&&e.length!==11&&ba.throwArgumentError("invalid component count for transaction type: 1","payload",(0,tr.hexlify)(t));let r={type:1,chainId:ga(e[0]).toNumber(),nonce:ga(e[1]).toNumber(),gasPrice:ga(e[2]),gasLimit:ga(e[3]),to:Az(e[4]),value:ga(e[5]),data:e[6],accessList:_z(e[7])};return e.length===8||(r.hash=qn(t),Z1e(r,e.slice(8),Y1e)),r}function Rot(t){let e=eI(t);e.length!==9&&e.length!==6&&ba.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:ga(e[0]).toNumber(),gasPrice:ga(e[1]),gasLimit:ga(e[2]),to:Az(e[3]),value:ga(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=On.from(e[6]).toNumber()}catch{return r}if(r.r=(0,tr.hexZeroPad)(e[7],32),r.s=(0,tr.hexZeroPad)(e[8],32),On.from(r.r).isZero()&&On.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=e.slice(0,6);r.chainId!==0&&(i.push((0,tr.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);let o=qn(kx(i));try{r.from=Ez(o,{r:(0,tr.hexlify)(r.r),s:(0,tr.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=qn(t)}return r.type=null,r}function uir(t){let e=(0,tr.arrayify)(t);if(e[0]>127)return Rot(e);switch(e[0]){case 1:return Pot(e);case 2:return kot(e);default:break}return ba.throwError(`unsupported transaction type: ${e[0]}`,UP.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}d();h();d();h();var J1e=Ke(qa());d();h();var Q1e="wordlists/5.7.0";var Bot=!1,Cot=new J1e.Logger(Q1e),m2=class t{constructor(e){Cot.checkAbstract(new.target,t),qt(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return l2(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),Bot)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||qt(n._ethers.wordlists,r,e))}catch{}}};d();h();d();h();var Oot="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",w_=null;function X1e(t){if(w_==null&&(w_=Oot.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),m2.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw w_=null,new Error("BIP39 Wordlist for en (English) FAILED")}var Iz=class extends m2{constructor(){super("en")}getWord(e){return X1e(this),w_[e]}getWordIndex(e){return X1e(this),w_.indexOf(e)}},Mz=new Iz;m2.register(Mz);var LP={en:Mz};var rve=Ke(qa());d();h();var eve="hdnode/5.7.0";var qP=new rve.Logger(eve),Not=On.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Dot=us("Bitcoin seed"),S_=2147483648;function nve(t){return(1<<t)-1<<8-t}function Uot(t){return(1<<t)-1}function FP(t){return(0,hn.hexZeroPad)((0,hn.hexlify)(t),32)}function tve(t){return uz.encode((0,hn.concat)([t,(0,hn.hexDataSlice)((0,Tc.sha256)((0,Tc.sha256)(t)),0,4)]))}function kz(t){if(t==null)return LP.en;if(typeof t=="string"){let e=LP[t];return e==null&&qP.throwArgumentError("unknown locale","wordlist",t),e}return t}var y2={},b1="m/44'/60'/0'/0/0",ty=class t{constructor(e,r,n,i,o,s,c,l){if(e!==y2)throw new Error("HDNode constructor cannot be called directly");if(r){let m=new Af(r);qt(this,"privateKey",m.privateKey),qt(this,"publicKey",m.compressedPublicKey)}else qt(this,"privateKey",null),qt(this,"publicKey",(0,hn.hexlify)(n));qt(this,"parentFingerprint",i),qt(this,"fingerprint",(0,hn.hexDataSlice)((0,Tc.ripemd160)((0,Tc.sha256)(this.publicKey)),0,4)),qt(this,"address",Zd(this.publicKey)),qt(this,"chainCode",o),qt(this,"index",s),qt(this,"depth",c),l==null?(qt(this,"mnemonic",null),qt(this,"path",null)):typeof l=="string"?(qt(this,"mnemonic",null),qt(this,"path",l)):(qt(this,"mnemonic",l),qt(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return tve((0,hn.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,hn.hexlify)(this.depth),this.parentFingerprint,(0,hn.hexZeroPad)((0,hn.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,hn.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t(y2,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~S_));let n=new Uint8Array(37);if(e&S_){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,hn.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,hn.arrayify)(this.publicKey));for(let b=24;b>=0;b-=8)n[33+(b>>3)]=e>>24-b&255;let i=(0,hn.arrayify)((0,Tc.computeHmac)(Tc.SupportedAlgorithm.sha512,this.chainCode,n)),o=i.slice(0,32),s=i.slice(32),c=null,l=null;this.privateKey?c=FP(On.from(o).add(this.privateKey).mod(Not)):l=new Af((0,hn.hexlify)(o))._addPoint(this.publicKey);let m=r,w=this.mnemonic;return w&&(m=Object.freeze({phrase:w.phrase,path:r,locale:w.locale||"en"})),new t(y2,c,l,this.fingerprint,FP(s),e,this.depth+1,m)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let o=r[i];if(o.match(/^[0-9]+'$/)){let s=parseInt(o.substring(0,o.length-1));if(s>=S_)throw new Error("invalid path index - "+o);n=n._derive(S_+s)}else if(o.match(/^[0-9]+$/)){let s=parseInt(o);if(s>=S_)throw new Error("invalid path index - "+o);n=n._derive(s)}else throw new Error("invalid path component - "+o)}return n}static _fromSeed(e,r){let n=(0,hn.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=(0,hn.arrayify)((0,Tc.computeHmac)(Tc.SupportedAlgorithm.sha512,Dot,n));return new t(y2,FP(i.slice(0,32)),null,"0x00000000",FP(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=kz(n),e=A_(Pz(e,n),n),t._fromSeed(Lot(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=uz.decode(e);(r.length!==82||tve(r.slice(0,78))!==e)&&qP.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=(0,hn.hexlify)(r.slice(5,9)),o=parseInt((0,hn.hexlify)(r.slice(9,13)).substring(2),16),s=(0,hn.hexlify)(r.slice(13,45)),c=r.slice(45,78);switch((0,hn.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(y2,null,(0,hn.hexlify)(c),i,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new t(y2,(0,hn.hexlify)(c.slice(1)),null,i,s,o,n,null)}return qP.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function Lot(t,e){e||(e="");let r=us("mnemonic"+e,Il.NFKD);return y1(us(t,Il.NFKD),r,2048,64,"sha512")}function Pz(t,e){e=kz(e),qP.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,hn.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let m=0;m<r.length;m++){let w=e.getWordIndex(r[m].normalize("NFKD"));if(w===-1)throw new Error("invalid mnemonic");for(let b=0;b<11;b++)w&1<<10-b&&(n[i>>3]|=1<<7-i%8),i++}let o=32*r.length/3,s=r.length/3,c=nve(s);if(((0,hn.arrayify)((0,Tc.sha256)(n.slice(0,o/8)))[0]&c)!==(n[n.length-1]&c))throw new Error("invalid checksum");return(0,hn.hexlify)(n.slice(0,o/8))}function A_(t,e){if(e=kz(e),t=(0,hn.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&Uot(8-n)),n+=3);let i=t.length/4,o=(0,hn.arrayify)((0,Tc.sha256)(t))[0]&nve(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map(s=>e.getWord(s)))}d();h();d();h();var sve=Ke(ts()),Bz=Ke(qa());d();h();var ive="random/5.7.0";var Rz=new Bz.Logger(ive);function Fot(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}var ove=Fot(),KP=ove.crypto||ove.msCrypto;(!KP||!KP.getRandomValues)&&(Rz.warn("WARNING: Missing strong random number source"),KP={getRandomValues:function(t){return Rz.throwError("no secure random source avaialble",Bz.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function ry(t){(t<=0||t>1024||t%1||t!=t)&&Rz.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return KP.getRandomValues(e),(0,sve.arrayify)(e)}d();h();d();h();var Nz=Ke(Oz());var Dz=Ke(ts());var uve=Ke(qa());d();h();var VP="json-wallets/5.7.0";d();h();var g2=Ke(ts());function P0(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,g2.arrayify)(t)}function b2(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function E_(t){return typeof t=="string"?us(t,Il.NFKC):(0,g2.arrayify)(t)}function qi(t,e){let r=t,n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(let s in r)if(s.toLowerCase()===n[i]){o=r[s];break}if(o===null)return null;r=o}return r}function cve(t){let e=(0,g2.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,g2.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var qot=new uve.Logger(VP),Uz=class extends Qm{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function Lz(t,e){let r=JSON.parse(t);e=E_(e);let n=Es(qi(r,"ethaddr")),i=P0(qi(r,"encseed"));(!i||i.length%16!==0)&&qot.throwArgumentError("invalid encseed","json",t);let o=(0,Dz.arrayify)(y1(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),c=i.slice(16),l=new Nz.default.ModeOfOperation.cbc(o,s),m=Nz.default.padding.pkcs7.strip((0,Dz.arrayify)(l.decrypt(c))),w="";for(let I=0;I<m.length;I++)w+=String.fromCharCode(m[I]);let b=us(w),E=qn(b);return new Uz({_isCrowdsaleAccount:!0,address:n,privateKey:E})}d();h();function Fz(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function qz(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}d();h();var R0=Ke(Oz()),jP=Ke(lve());var Ki=Ke(ts());var HP=Ke(qa());var Kot=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},Vz=new HP.Logger(VP);function dve(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}var Hz=class extends Qm{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function Vot(t,e,r){if(qi(t,"crypto/cipher")==="aes-128-ctr"){let i=P0(qi(t,"crypto/cipherparams/iv")),o=new R0.default.Counter(i),s=new R0.default.ModeOfOperation.ctr(e,o);return(0,Ki.arrayify)(s.decrypt(r))}return null}function hve(t,e){let r=P0(qi(t,"crypto/ciphertext"));if((0,Ki.hexlify)(qn((0,Ki.concat)([e.slice(16,32),r]))).substring(2)!==qi(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=Vot(t,e.slice(0,16),r);i||Vz.throwError("unsupported cipher",HP.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let o=e.slice(32,64),s=Zd(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),Es(l)!==s)throw new Error("address mismatch")}let c={_isKeystoreAccount:!0,address:s,privateKey:(0,Ki.hexlify)(i)};if(qi(t,"x-ethers/version")==="0.1"){let l=P0(qi(t,"x-ethers/mnemonicCiphertext")),m=P0(qi(t,"x-ethers/mnemonicCounter")),w=new R0.default.Counter(m),b=new R0.default.ModeOfOperation.ctr(o,w),E=qi(t,"x-ethers/path")||b1,I=qi(t,"x-ethers/locale")||"en",M=(0,Ki.arrayify)(b.decrypt(l));try{let k=A_(M,I),B=ty.fromMnemonic(k,null,I).derivePath(E);if(B.privateKey!=c.privateKey)throw new Error("mnemonic mismatch");c.mnemonic=B.mnemonic}catch(k){if(k.code!==HP.Logger.errors.INVALID_ARGUMENT||k.argument!=="wordlist")throw k}}return new Hz(c)}function pve(t,e,r,n,i){return(0,Ki.arrayify)(y1(t,e,r,n,i))}function Hot(t,e,r,n,i){return Promise.resolve(pve(t,e,r,n,i))}function mve(t,e,r,n,i){let o=E_(e),s=qi(t,"crypto/kdf");if(s&&typeof s=="string"){let c=function(l,m){return Vz.throwArgumentError("invalid key-derivation function parameters",l,m)};if(s.toLowerCase()==="scrypt"){let l=P0(qi(t,"crypto/kdfparams/salt")),m=parseInt(qi(t,"crypto/kdfparams/n")),w=parseInt(qi(t,"crypto/kdfparams/r")),b=parseInt(qi(t,"crypto/kdfparams/p"));(!m||!w||!b)&&c("kdf",s),m&m-1&&c("N",m);let E=parseInt(qi(t,"crypto/kdfparams/dklen"));return E!==32&&c("dklen",E),n(o,l,m,w,b,64,i)}else if(s.toLowerCase()==="pbkdf2"){let l=P0(qi(t,"crypto/kdfparams/salt")),m=null,w=qi(t,"crypto/kdfparams/prf");w==="hmac-sha256"?m="sha256":w==="hmac-sha512"?m="sha512":c("prf",w);let b=parseInt(qi(t,"crypto/kdfparams/c")),E=parseInt(qi(t,"crypto/kdfparams/dklen"));return E!==32&&c("dklen",E),r(o,l,b,E,m)}}return Vz.throwArgumentError("unsupported key-derivation function","kdf",s)}function yve(t,e){let r=JSON.parse(t),n=mve(r,e,pve,jP.default.syncScrypt);return hve(r,n)}function gve(t,e,r){return Kot(this,void 0,void 0,function*(){let n=JSON.parse(t),i=yield mve(n,e,Hot,jP.default.scrypt,r);return hve(n,i)})}function jz(t,e,r,n){try{if(Es(t.address)!==Zd(t.privateKey))throw new Error("address/privateKey mismatch");if(dve(t)){let B=t.mnemonic;if(ty.fromMnemonic(B.phrase,null,B.locale).derivePath(B.path||b1).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(B){return Promise.reject(B)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=(0,Ki.arrayify)(t.privateKey),o=E_(e),s=null,c=null,l=null;if(dve(t)){let B=t.mnemonic;s=(0,Ki.arrayify)(Pz(B.phrase,B.locale||"en")),c=B.path||b1,l=B.locale||"en"}let m=r.client;m||(m="ethers.js");let w=null;r.salt?w=(0,Ki.arrayify)(r.salt):w=ry(32);let b=null;if(r.iv){if(b=(0,Ki.arrayify)(r.iv),b.length!==16)throw new Error("invalid iv")}else b=ry(16);let E=null;if(r.uuid){if(E=(0,Ki.arrayify)(r.uuid),E.length!==16)throw new Error("invalid uuid")}else E=ry(16);let I=1<<17,M=8,k=1;return r.scrypt&&(r.scrypt.N&&(I=r.scrypt.N),r.scrypt.r&&(M=r.scrypt.r),r.scrypt.p&&(k=r.scrypt.p)),jP.default.scrypt(o,w,I,M,k,64,n).then(B=>{B=(0,Ki.arrayify)(B);let R=B.slice(0,16),U=B.slice(16,32),P=B.slice(32,64),F=new R0.default.Counter(b),V=new R0.default.ModeOfOperation.ctr(R,F),H=(0,Ki.arrayify)(V.encrypt(i)),re=qn((0,Ki.concat)([U,H])),J={address:t.address.substring(2).toLowerCase(),id:cve(E),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Ki.hexlify)(b).substring(2)},ciphertext:(0,Ki.hexlify)(H).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Ki.hexlify)(w).substring(2),n:I,dklen:32,p:k,r:M},mac:re.substring(2)}};if(s){let ie=ry(16),S=new R0.default.Counter(ie),a=new R0.default.ModeOfOperation.ctr(P,S),f=(0,Ki.arrayify)(a.encrypt(s)),p=new Date,y=p.getUTCFullYear()+"-"+b2(p.getUTCMonth()+1,2)+"-"+b2(p.getUTCDate(),2)+"T"+b2(p.getUTCHours(),2)+"-"+b2(p.getUTCMinutes(),2)+"-"+b2(p.getUTCSeconds(),2)+".0Z";J["x-ethers"]={client:m,gethFilename:"UTC--"+y+"--"+J.address,mnemonicCounter:(0,Ki.hexlify)(ie).substring(2),mnemonicCiphertext:(0,Ki.hexlify)(f).substring(2),path:c,locale:l,version:"0.1"}}return JSON.stringify(J)})}function bve(t,e,r){if(Fz(t)){r&&r(0);let n=Lz(t,e);return r&&r(1),Promise.resolve(n)}return qz(t)?gve(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function vve(t,e){if(Fz(t))return Lz(t,e);if(qz(t))return yve(t,e);throw new Error("invalid JSON wallet")}var zz=Ke(qa());d();h();var xve="wallet/5.7.0";var wve=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},v2=new zz.Logger(xve);function jot(t){return t!=null&&(0,kl.isHexString)(t.privateKey,32)&&t.address!=null}function zot(t){let e=t.mnemonic;return e&&e.phrase}var x2=class t extends y_{constructor(e,r){if(super(),jot(e)){let n=new Af(e.privateKey);if(qt(this,"_signingKey",()=>n),qt(this,"address",Zd(this.publicKey)),this.address!==Es(e.address)&&v2.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),zot(e)){let i=e.mnemonic;qt(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||b1,locale:i.locale||"en"}));let o=this.mnemonic,s=ty.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path);Zd(s.privateKey)!==this.address&&v2.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else qt(this,"_mnemonic",()=>null)}else{if(Af.isSigningKey(e))e.curve!=="secp256k1"&&v2.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),qt(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new Af(e);qt(this,"_signingKey",()=>n)}qt(this,"_mnemonic",()=>null),qt(this,"address",Zd(this.publicKey))}r&&!_P.isProvider(r)&&v2.throwArgumentError("invalid provider","provider",r),qt(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return k0(e).then(r=>{r.from!=null&&(Es(r.from)!==this.address&&v2.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest(qn(Tz(r)));return Tz(r,n)})}signMessage(e){return wve(this,void 0,void 0,function*(){return(0,kl.joinSignature)(this._signingKey().signDigest(oz(e)))})}_signTypedData(e,r,n){return wve(this,void 0,void 0,function*(){let i=yield h2.resolveNames(e,r,n,o=>(this.provider==null&&v2.throwError("cannot resolve ENS names without a provider",zz.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:o}),this.provider.resolveName(o)));return(0,kl.joinSignature)(this._signingKey().signDigest(h2.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),jz(this,e,r,n)}static createRandom(e){let r=ry(16);e||(e={}),e.extraEntropy&&(r=(0,kl.arrayify)((0,kl.hexDataSlice)(qn((0,kl.concat)([r,e.extraEntropy])),0,16)));let n=A_(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return bve(e,r,n).then(i=>new t(i))}static fromEncryptedJsonSync(e,r){return new t(vve(e,r))}static fromMnemonic(e,r,n){return r||(r=b1),new t(ty.fromMnemonic(e,null,n).derivePath(r))}};var zP=class{addressTypes=["eip155"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new x2(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new pa(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();d();h();function Wz(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Wot(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Sve(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Got(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wz(t.outputLen),Wz(t.blockLen)}function $ot(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Yot(t,e){Sve(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Zot={number:Wz,bool:Wot,bytes:Sve,hash:Got,exists:$ot,output:Yot},Pl=Zot;d();h();d();h();var Qot={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Ave=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),WP=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var Jot=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Jot)throw new Error("Non little-endian hardware is not supported");var Isr=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xot(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function S2(t){if(typeof t=="string"&&(t=Xot(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var w2=class{clone(){return this._cloneInto()}};function v1(t){let e=n=>t().update(S2(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Eve(t){let e=(n,i)=>t(i).update(S2(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function est(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var GP=class extends w2{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=WP(this.buffer)}update(e){Pl.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=S2(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=WP(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Pl.exists(this),Pl.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;est(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=WP(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};d();h();var $P=BigInt(4294967295),Gz=BigInt(32);function _ve(t,e=!1){return e?{h:Number(t&$P),l:Number(t>>Gz&$P)}:{h:Number(t>>Gz&$P)|0,l:Number(t&$P)|0}}function tst(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=_ve(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var rst=(t,e)=>BigInt(t>>>0)<<Gz|BigInt(e>>>0),nst=(t,e,r)=>t>>>r,ist=(t,e,r)=>t<<32-r|e>>>r,ost=(t,e,r)=>t>>>r|e<<32-r,sst=(t,e,r)=>t<<32-r|e>>>r,ast=(t,e,r)=>t<<64-r|e>>>r-32,cst=(t,e,r)=>t>>>r-32|e<<64-r,ust=(t,e)=>e,fst=(t,e)=>t,lst=(t,e,r)=>t<<r|e>>>32-r,dst=(t,e,r)=>e<<r|t>>>32-r,hst=(t,e,r)=>e<<r-32|t>>>64-r,pst=(t,e,r)=>t<<r-32|e>>>64-r;function mst(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var yst=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),gst=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,bst=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),vst=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,xst=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),wst=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,Sst={fromBig:_ve,split:tst,toBig:rst,shrSH:nst,shrSL:ist,rotrSH:ost,rotrSL:sst,rotrBH:ast,rotrBL:cst,rotr32H:ust,rotr32L:fst,rotlSH:lst,rotlSL:dst,rotlBH:hst,rotlBL:pst,add:mst,add3L:yst,add3H:gst,add4L:bst,add4H:vst,add5H:wst,add5L:xst},Yt=Sst;var[Ast,Est]=Yt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ny=new Uint32Array(80),iy=new Uint32Array(80),A2=class extends GP{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let P=0;P<16;P++,r+=4)ny[P]=e.getUint32(r),iy[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=ny[P-15]|0,V=iy[P-15]|0,H=Yt.rotrSH(F,V,1)^Yt.rotrSH(F,V,8)^Yt.shrSH(F,V,7),re=Yt.rotrSL(F,V,1)^Yt.rotrSL(F,V,8)^Yt.shrSL(F,V,7),J=ny[P-2]|0,ie=iy[P-2]|0,S=Yt.rotrSH(J,ie,19)^Yt.rotrBH(J,ie,61)^Yt.shrSH(J,ie,6),a=Yt.rotrSL(J,ie,19)^Yt.rotrBL(J,ie,61)^Yt.shrSL(J,ie,6),f=Yt.add4L(re,a,iy[P-7],iy[P-16]),p=Yt.add4H(f,H,S,ny[P-7],ny[P-16]);ny[P]=p|0,iy[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:B,Hh:R,Hl:U}=this;for(let P=0;P<80;P++){let F=Yt.rotrSH(b,E,14)^Yt.rotrSH(b,E,18)^Yt.rotrBH(b,E,41),V=Yt.rotrSL(b,E,14)^Yt.rotrSL(b,E,18)^Yt.rotrBL(b,E,41),H=b&I^~b&k,re=E&M^~E&B,J=Yt.add5L(U,V,re,Est[P],iy[P]),ie=Yt.add5H(J,R,F,H,Ast[P],ny[P]),S=J|0,a=Yt.rotrSH(n,i,28)^Yt.rotrBH(n,i,34)^Yt.rotrBH(n,i,39),f=Yt.rotrSL(n,i,28)^Yt.rotrBL(n,i,34)^Yt.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;R=k|0,U=B|0,k=I|0,B=M|0,I=b|0,M=E|0,{h:b,l:E}=Yt.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=Yt.add3L(S,f,y);n=Yt.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=Yt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Yt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=Yt.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=Yt.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=Yt.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=Yt.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:B}=Yt.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:R,l:U}=Yt.add(this.Hh|0,this.Hl|0,R|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,B,R,U)}roundClean(){ny.fill(0),iy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},$z=class extends A2{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Yz=class extends A2{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Zz=class extends A2{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Tve=v1(()=>new A2),Vsr=v1(()=>new $z),Hsr=v1(()=>new Yz),jsr=v1(()=>new Zz);_0.sha512Sync=(...t)=>Tve(_0.concatBytes(...t));var{getPublicKey:_st}=Q7,Qz=t=>{let e=_st(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}};var YP=class{addressTypes=["solana"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new du.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new pa(o));try{let o=i.derivePathType(n,r);switch(n){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Root":case"bip44":case"bip44Change":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return{publicKey:o.publicKey,privateKey:o.secretKey};case"deprecated":{let s=Qz(o.secretKey);return{publicKey:s.publicKey,privateKey:s.secretKey}}}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();d();h();d();h();d();h();function Tst(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let m=0;m<e.length;m++)e[m]=255;for(let m=0;m<t.length;m++){let w=t.charAt(m),b=w.charCodeAt(0);if(e[b]!==255)throw new TypeError(w+" is ambiguous");e[b]=m}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";let w=0,b=0,E=0,I=m.length;for(;E!==I&&m[E]===0;)E++,w++;let M=(I-E)*o+1>>>0,k=new Uint8Array(M);for(;E!==I;){let U=m[E],P=0;for(let F=M-1;(U!==0||P<b)&&F!==-1;F--,P++)U+=256*k[F]>>>0,k[F]=U%r>>>0,U=U/r>>>0;if(U!==0)throw new Error("Non-zero carry");b=P,E++}let B=M-b;for(;B!==M&&k[B]===0;)B++;let R=n.repeat(w);for(;B<M;++B)R+=t.charAt(k[B]);return R}function c(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;let w=0,b=0,E=0;for(;m[w]===n;)b++,w++;let I=(m.length-w)*i+1>>>0,M=new Uint8Array(I);for(;m[w];){let U=e[m.charCodeAt(w)];if(U===255)return;let P=0;for(let F=I-1;(U!==0||P<E)&&F!==-1;F--,P++)U+=r*M[F]>>>0,M[F]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");E=P,w++}let k=I-E;for(;k!==I&&M[k]===0;)k++;let B=new Uint8Array(b+(I-k)),R=b;for(;k!==I;)B[R++]=M[k++];return B}function l(m){let w=c(m);if(w)return w;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:c,decode:l}}var Ive=Tst;var Ist="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Jz=Ive(Ist);var B0=t=>Jz.encode(t),Qd=t=>Jz.decode(t);d();h();function xn(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}var Xz=8192;function ur(t){if(t.length<Xz)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=Xz){let n=t.slice(r,r+Xz);e+=String.fromCharCode(...n)}return btoa(e)}d();h();d();h();function Ef(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}function Oo(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}d();h();d();h();function E2(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}function Mve(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}var ZP=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=Mve(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};d();h();d();h();function eW(t,e){switch(e){case"base58":return B0(t);case"base64":return ur(t);case"hex":return Oo(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function __(t,e=["<",">"]){let[r,n]=e,i=[],o="",s=0;for(let c=0;c<t.length;c++){let l=t[c];if(l===r&&s++,l===n&&s--,s===0&&l===","){i.push(o.trim()),o="";continue}o+=l}return i.push(o.trim()),i}var QP=class{constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return tW(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return tW(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return tW(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return E2(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return eW(this.toBytes(),e)}};function tW(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}var kve=t=>{throw TypeError(t)},Pve=(t,e,r)=>e.has(t)||kve("Cannot "+r),Rl=(t,e,r)=>(Pve(t,e,"read from private field"),r?r.call(t):e.get(t)),XP=(t,e,r)=>e.has(t)?kve("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),e9=(t,e,r,n)=>(Pve(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_2,T_,JP,oy,Mst=class Rve{constructor(e){XP(this,_2),XP(this,T_),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),e9(this,_2,e.write),e9(this,T_,e.serialize??((r,n)=>{let i=new QP({initialSize:this.serializedSize(r)??void 0,...n});return Rl(this,_2).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),Rl(this,_2).call(this,e,r)}serialize(e,r){return this.validate(e),new rW(this,Rl(this,T_).call(this,e,r))}parse(e){let r=new ZP(e);return this.read(r)}fromHex(e){return this.parse(Ef(e))}fromBase58(e){return this.parse(Qd(e))}fromBase64(e){return this.parse(xn(e))}transform({name:e,input:r,output:n,validate:i}){return new Rve({name:e??this.name,read:o=>n(this.read(o)),write:(o,s)=>Rl(this,_2).call(this,r(o),s),serializedSize:o=>this.serializedSize(r(o)),serialize:(o,s)=>Rl(this,T_).call(this,r(o),s),validate:o=>{i?.(o),this.validate(r(o))}})}};_2=new WeakMap;T_=new WeakMap;var Jd=Mst,kst=Symbol.for("@mysten/serialized-bcs");var rW=class{constructor(e,r){XP(this,JP),XP(this,oy),e9(this,JP,e),e9(this,oy,r)}get[kst](){return!0}toBytes(){return Rl(this,oy)}toHex(){return Oo(Rl(this,oy))}toBase64(){return ur(Rl(this,oy))}toBase58(){return B0(Rl(this,oy))}parse(){return Rl(this,JP).parse(Rl(this,oy))}};JP=new WeakMap;oy=new WeakMap;function I_({size:t,...e}){return new Jd({...e,serializedSize:()=>t})}function t9({readMethod:t,writeMethod:e,...r}){return I_({...r,read:n=>n[t](),write:(n,i)=>i[e](n),validate:n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)}})}function r9({readMethod:t,writeMethod:e,...r}){return I_({...r,read:n=>n[t](),write:(n,i)=>i[e](BigInt(n)),validate:n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)}})}function Bve({serialize:t,...e}){let r=new Jd({...e,serialize:t,write:(n,i)=>{for(let o of r.serialize(n).toBytes())i.write8(o)}});return r}function Cve({toBytes:t,fromBytes:e,...r}){return new Jd({...r,read:n=>{let i=n.readULEB(),o=n.readBytes(i);return e(o)},write:(n,i)=>{let o=t(n);i.writeULEB(o.length);for(let s=0;s<o.length;s++)i.write8(o[s])},serialize:n=>{let i=t(n),o=E2(i.length),s=new Uint8Array(o.length+i.length);return s.set(o,0),s.set(i,o.length),s},validate:n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)}})}function Ove(t){let e=null;function r(){return e||(e=t()),e}return new Jd({name:"lazy",read:n=>r().read(n),serializedSize:n=>r().serializedSize(n),write:(n,i)=>r().write(n,i),serialize:(n,i)=>r().serialize(n,i).toBytes()})}d();h();var Y={u8(t){return t9({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return t9({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return t9({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return r9({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return r9({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return r9({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return I_({name:"bool",size:1,read:e=>e.read8()===1,write:(e,r)=>r.write8(e?1:0),...t,validate:e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(t){return Bve({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(E2(e)),...t})},bytes(t,e){return I_({name:`bytes[${t}]`,size:t,read:r=>r.readBytes(t),write:(r,n)=>{let i=new Uint8Array(r);for(let o=0;o<t;o++)n.write8(i[o]??0)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)}})},string(t){return Cve({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...t})},fixedArray(t,e,r){return new Jd({name:`${e.name}[${t}]`,read:n=>{let i=new Array(t);for(let o=0;o<t;o++)i[o]=e.read(n);return i},write:(n,i)=>{for(let o of n)e.write(o,i)},...r,validate:n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)}})},option(t){return Y.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(t,e){return new Jd({name:`vector<${t.name}>`,read:r=>{let n=r.readULEB(),i=new Array(n);for(let o=0;o<n;o++)i[o]=t.read(r);return i},write:(r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)}})},tuple(t,e){return new Jd({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:r=>{let n=0;for(let i=0;i<t.length;i++){let o=t[i].serializedSize(r[i]);if(o==null)return null;n+=o}return n},read:r=>{let n=[];for(let i of t)n.push(i.read(r));return n},write:(r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},...e,validate:r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)}})},struct(t,e,r){let n=Object.entries(e);return new Jd({name:t,serializedSize:i=>{let o=0;for(let[s,c]of n){let l=c.serializedSize(i[s]);if(l==null)return null;o+=l}return o},read:i=>{let o={};for(let[s,c]of n)o[s]=c.read(i);return o},write:(i,o)=>{for(let[s,c]of n)c.write(i[s],o)},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})},enum(t,e,r){let n=Object.entries(e);return new Jd({name:t,read:i=>{let o=i.readULEB(),s=n[o];if(!s)throw new TypeError(`Unknown value ${o} for enum ${t}`);let[c,l]=s;return{[c]:l?.read(i)??!0,$kind:c}},write:(i,o)=>{let[s,c]=Object.entries(i).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<n.length;l++){let[m,w]=n[l];if(m===s){o.writeULEB(l),w?.write(c,o);return}}},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let o=Object.keys(i).filter(c=>i[c]!==void 0&&Object.hasOwn(e,c));if(o.length!==1)throw new TypeError(`Expected object with one key, but found ${o.length} for type ${t}}`);let[s]=o;if(!Object.hasOwn(e,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map(t,e){return Y.vector(Y.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:r=>[...r.entries()],output:r=>{let n=new Map;for(let[i,o]of r)n.set(i,o);return n}})},lazy(t){return Ove(t)}};d();h();d();h();d();h();var sy=32;function Nve(t){return Pst(t)&&Rst(t)===sy}function Xd(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(sy*2,"0")}`}function Pst(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function Rst(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}d();h();var Bst=/^vector<(.+)>$/,Cst=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,M_=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(Bst);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(Cst);if(i)return{struct:{address:r?Xd(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return __(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function Ost(t){return Y.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function Nst(t){return Y.enum("Option",{None:null,Some:t})}var bi=Y.bytes(sy).transform({validate:t=>{let e=typeof t=="string"?t:Oo(t);if(!e||!Nve(Xd(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?Ef(Xd(t)):t,output:t=>Xd(Oo(t))}),yu=Y.vector(Y.u8()).transform({name:"ObjectDigest",input:t=>Qd(t),output:t=>B0(new Uint8Array(t)),validate:t=>{if(Qd(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Ic=Y.struct("SuiObjectRef",{objectId:bi,version:Y.u64(),digest:yu}),nW=Y.struct("SharedObjectRef",{objectId:bi,initialSharedVersion:Y.u64(),mutable:Y.bool()}),iW=Y.enum("ObjectArg",{ImmOrOwnedObject:Ic,SharedObject:nW,Receiving:Ic}),oW=Y.enum("CallArg",{Pure:Y.struct("Pure",{bytes:Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?xn(t):t,output:t=>ur(new Uint8Array(t))})}),Object:iW}),sW=Y.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:Y.lazy(()=>sW),struct:Y.lazy(()=>dW),u16:null,u32:null,u256:null}),n9=sW.transform({input:t=>typeof t=="string"?M_.parseFromStr(t,!0):t,output:t=>M_.tagToString(t)}),Bl=Y.enum("Argument",{GasCoin:null,Input:Y.u16(),Result:Y.u16(),NestedResult:Y.tuple([Y.u16(),Y.u16()])}),aW=Y.struct("ProgrammableMoveCall",{package:bi,module:Y.string(),function:Y.string(),typeArguments:Y.vector(n9),arguments:Y.vector(Bl)}),cW=Y.enum("Command",{MoveCall:aW,TransferObjects:Y.struct("TransferObjects",{objects:Y.vector(Bl),address:Bl}),SplitCoins:Y.struct("SplitCoins",{coin:Bl,amounts:Y.vector(Bl)}),MergeCoins:Y.struct("MergeCoins",{destination:Bl,sources:Y.vector(Bl)}),Publish:Y.struct("Publish",{modules:Y.vector(Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?xn(t):t,output:t=>ur(new Uint8Array(t))})),dependencies:Y.vector(bi)}),MakeMoveVec:Y.struct("MakeMoveVec",{type:Nst(n9).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:Y.vector(Bl)}),Upgrade:Y.struct("Upgrade",{modules:Y.vector(Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?xn(t):t,output:t=>ur(new Uint8Array(t))})),dependencies:Y.vector(bi),package:bi,ticket:Bl})}),uW=Y.struct("ProgrammableTransaction",{inputs:Y.vector(oW),commands:Y.vector(cW)}),fW=Y.enum("TransactionKind",{ProgrammableTransaction:uW,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),lW=Y.enum("TransactionExpiration",{None:null,Epoch:Ost()}),dW=Y.struct("StructTag",{address:bi,module:Y.string(),name:Y.string(),typeParams:Y.vector(sW)}),hW=Y.struct("GasData",{payment:Y.vector(Ic),owner:bi,price:Y.u64(),budget:Y.u64()}),pW=Y.struct("TransactionDataV1",{kind:fW,sender:bi,gasData:hW,expiration:lW}),mW=Y.enum("TransactionData",{V1:pW}),yW=Y.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),gW=Y.enum("IntentVersion",{V0:null}),bW=Y.enum("AppId",{Sui:null}),vW=Y.struct("Intent",{scope:yW,version:gW,appId:bW});function xW(t){return Y.struct(`IntentMessage<${t.name}>`,{intent:vW,value:t})}var wW=Y.enum("CompressedSignature",{ED25519:Y.fixedArray(64,Y.u8()),Secp256k1:Y.fixedArray(64,Y.u8()),Secp256r1:Y.fixedArray(64,Y.u8()),ZkLogin:Y.vector(Y.u8())}),SW=Y.enum("PublicKey",{ED25519:Y.fixedArray(32,Y.u8()),Secp256k1:Y.fixedArray(33,Y.u8()),Secp256r1:Y.fixedArray(33,Y.u8()),ZkLogin:Y.vector(Y.u8())}),AW=Y.struct("MultiSigPkMap",{pubKey:SW,weight:Y.u8()}),EW=Y.struct("MultiSigPublicKey",{pk_map:Y.vector(AW),threshold:Y.u16()}),Dve=Y.struct("MultiSig",{sigs:Y.vector(wW),bitmap:Y.u16(),multisig_pk:EW}),Dst=Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?xn(t):t,output:t=>ur(new Uint8Array(t))}),_W=Y.struct("SenderSignedTransaction",{intentMessage:xW(mW),txSignatures:Y.vector(Dst)}),Uve=Y.vector(_W,{name:"SenderSignedData"});d();h();var Ust=Y.enum("PackageUpgradeError",{UnableToFetchPackage:Y.struct("UnableToFetchPackage",{packageId:bi}),NotAPackage:Y.struct("NotAPackage",{objectId:bi}),IncompatibleUpgrade:null,DigestDoesNotMatch:Y.struct("DigestDoesNotMatch",{digest:Y.vector(Y.u8())}),UnknownUpgradePolicy:Y.struct("UnknownUpgradePolicy",{policy:Y.u8()}),PackageIDDoesNotMatch:Y.struct("PackageIDDoesNotMatch",{packageId:bi,ticketId:bi})}),Lst=Y.struct("ModuleId",{address:bi,name:Y.string()}),Lve=Y.struct("MoveLocation",{module:Lst,function:Y.u16(),instruction:Y.u16(),functionName:Y.option(Y.string())}),Fst=Y.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:Y.struct("IndexOutOfBounds",{idx:Y.u16()}),SecondaryIndexOutOfBounds:Y.struct("SecondaryIndexOutOfBounds",{resultIdx:Y.u16(),secondaryIdx:Y.u16()}),InvalidResultArity:Y.struct("InvalidResultArity",{resultIdx:Y.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),qst=Y.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),Kst=Y.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:Y.struct("MoveObjectTooBig",{objectSize:Y.u64(),maxObjectSize:Y.u64()}),MovePackageTooBig:Y.struct("MovePackageTooBig",{objectSize:Y.u64(),maxObjectSize:Y.u64()}),CircularObjectOwnership:Y.struct("CircularObjectOwnership",{object:bi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:Y.option(Lve),MoveAbort:Y.tuple([Lve,Y.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:Y.struct("CommandArgumentError",{argIdx:Y.u16(),kind:Fst}),TypeArgumentError:Y.struct("TypeArgumentError",{argumentIdx:Y.u16(),kind:qst}),UnusedValueWithoutDrop:Y.struct("UnusedValueWithoutDrop",{resultIdx:Y.u16(),secondaryIdx:Y.u16()}),InvalidPublicFunctionReturnType:Y.struct("InvalidPublicFunctionReturnType",{idx:Y.u16()}),InvalidTransferObject:null,EffectsTooLarge:Y.struct("EffectsTooLarge",{currentSize:Y.u64(),maxSize:Y.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:Y.struct("PackageUpgradeError",{upgradeError:Ust}),WrittenObjectsTooLarge:Y.struct("WrittenObjectsTooLarge",{currentSize:Y.u64(),maxSize:Y.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:Y.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:Y.vector(bi)}),AddressDeniedForCoin:Y.struct("AddressDeniedForCoin",{address:bi,coinType:Y.string()}),CoinTypeGlobalPause:Y.struct("CoinTypeGlobalPause",{coinType:Y.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),Fve=Y.enum("ExecutionStatus",{Success:null,Failed:Y.struct("ExecutionFailed",{error:Kst,command:Y.option(Y.u64())})}),qve=Y.struct("GasCostSummary",{computationCost:Y.u64(),storageCost:Y.u64(),storageRebate:Y.u64(),nonRefundableStorageFee:Y.u64()}),T2=Y.enum("Owner",{AddressOwner:bi,ObjectOwner:bi,Shared:Y.struct("Shared",{initialSharedVersion:Y.u64()}),Immutable:null}),Vst=Y.struct("TransactionEffectsV1",{status:Fve,executedEpoch:Y.u64(),gasUsed:qve,modifiedAtVersions:Y.vector(Y.tuple([bi,Y.u64()])),sharedObjects:Y.vector(Ic),transactionDigest:yu,created:Y.vector(Y.tuple([Ic,T2])),mutated:Y.vector(Y.tuple([Ic,T2])),unwrapped:Y.vector(Y.tuple([Ic,T2])),deleted:Y.vector(Ic),unwrappedThenDeleted:Y.vector(Ic),wrapped:Y.vector(Ic),gasObject:Y.tuple([Ic,T2]),eventsDigest:Y.option(yu),dependencies:Y.vector(yu)}),TW=Y.tuple([Y.u64(),yu]),Hst=Y.enum("ObjectIn",{NotExist:null,Exist:Y.tuple([TW,T2])}),jst=Y.enum("ObjectOut",{NotExist:null,ObjectWrite:Y.tuple([yu,T2]),PackageWrite:TW}),zst=Y.enum("IDOperation",{None:null,Created:null,Deleted:null}),Wst=Y.struct("EffectsObjectChange",{inputState:Hst,outputState:jst,idOperation:zst}),Gst=Y.enum("UnchangedSharedKind",{ReadOnlyRoot:TW,MutateDeleted:Y.u64(),ReadDeleted:Y.u64(),Cancelled:Y.u64(),PerEpochConfig:null}),$st=Y.struct("TransactionEffectsV2",{status:Fve,executedEpoch:Y.u64(),gasUsed:qve,transactionDigest:yu,gasObjectIndex:Y.option(Y.u32()),eventsDigest:Y.option(yu),dependencies:Y.vector(yu),lamportVersion:Y.u64(),changedObjects:Y.vector(Y.tuple([bi,Wst])),unchangedSharedObjects:Y.vector(Y.tuple([bi,Gst])),auxDataDigest:Y.option(yu)}),Kve=Y.enum("TransactionEffects",{V1:Vst,V2:$st});var C0={...Y,U8:Y.u8(),U16:Y.u16(),U32:Y.u32(),U64:Y.u64(),U128:Y.u128(),U256:Y.u256(),ULEB128:Y.uleb128(),Bool:Y.bool(),String:Y.string(),Address:bi,AppId:bW,Argument:Bl,CallArg:oW,CompressedSignature:wW,GasData:hW,Intent:vW,IntentMessage:xW,IntentScope:yW,IntentVersion:gW,MultiSig:Dve,MultiSigPkMap:AW,MultiSigPublicKey:EW,ObjectArg:iW,ObjectDigest:yu,ProgrammableMoveCall:aW,ProgrammableTransaction:uW,PublicKey:SW,SenderSignedData:Uve,SenderSignedTransaction:_W,SharedObjectRef:nW,StructTag:dW,SuiObjectRef:Ic,Command:cW,TransactionData:mW,TransactionDataV1:pW,TransactionExpiration:lW,TransactionKind:fW,TypeTag:n9,TransactionEffects:Kve};d();h();d();h();d();h();d();h();function I2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Yst(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function M2(t,...e){if(!Yst(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Vve(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");I2(t.outputLen),I2(t.blockLen)}function O0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function i9(t,e){M2(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();var k2=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),o9=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var cy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,jve=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,Cl=cy?t=>t:t=>jve(t);function x1(t){for(let e=0;e<t.length;e++)t[e]=jve(t[e])}var Zst=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function s9(t){M2(t);let e="";for(let r=0;r<t.length;r++)e+=Zst[t[r]];return e}var N0={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Hve(t){if(t>=N0._0&&t<=N0._9)return t-N0._0;if(t>=N0._A&&t<=N0._F)return t-(N0._A-10);if(t>=N0._a&&t<=N0._f)return t-(N0._a-10)}function zve(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=Hve(t.charCodeAt(o)),c=Hve(t.charCodeAt(o+1));if(s===void 0||c===void 0){let l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+c}return n}function Qst(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function _f(t){return typeof t=="string"&&(t=Qst(t)),M2(t),t}var ay=class{clone(){return this._cloneInto()}},Wcr={}.toString;function Wve(t){let e=n=>t().update(_f(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Gve(t){let e=(n,i)=>t(i).update(_f(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var $ve=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),a9=class extends ay{constructor(e,r,n={},i,o,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,I2(e),I2(r),I2(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=k2(this.buffer=new Uint8Array(e))}update(e){O0(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=_f(e);let o=e.length,s=e.byteOffset,c=e.buffer;for(let l=0;l<o;){this.pos===r&&(cy||x1(i),this.compress(i,0,!1),cy||x1(i),this.pos=0);let m=Math.min(r-this.pos,o-l),w=s+l;if(m===r&&!(w%4)&&l+m<o){let b=new Uint32Array(c,w,Math.floor((o-l)/4));cy||x1(b);for(let E=0;l+r<o;E+=i.length,l+=r)this.length+=r,this.compress(b,E,!1);cy||x1(b);continue}n.set(e.subarray(l,l+m),this.pos),this.pos+=m,this.length+=m,l+=m}return this}digestInto(e){O0(this),i9(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),cy||x1(n),this.compress(n,0,!0),cy||x1(n);let i=k2(e);this.get().forEach((o,s)=>i[s]=Cl(o))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:c}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=o,e.outputLen=s,e.buffer.set(r),e.pos=c,e}};d();h();var c9=BigInt(4294967295),IW=BigInt(32);function Yve(t,e=!1){return e?{h:Number(t&c9),l:Number(t>>IW&c9)}:{h:Number(t>>IW&c9)|0,l:Number(t&c9)|0}}function Jst(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=Yve(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var Xst=(t,e)=>BigInt(t>>>0)<<IW|BigInt(e>>>0),eat=(t,e,r)=>t>>>r,tat=(t,e,r)=>t<<32-r|e>>>r,rat=(t,e,r)=>t>>>r|e<<32-r,nat=(t,e,r)=>t<<32-r|e>>>r,iat=(t,e,r)=>t<<64-r|e>>>r-32,oat=(t,e,r)=>t>>>r-32|e<<64-r,sat=(t,e)=>e,aat=(t,e)=>t,cat=(t,e,r)=>t<<r|e>>>32-r,uat=(t,e,r)=>e<<r|t>>>32-r,fat=(t,e,r)=>e<<r-32|t>>>64-r,lat=(t,e,r)=>t<<r-32|e>>>64-r;function dat(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var hat=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),pat=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,mat=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),yat=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,gat=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),bat=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var vat={fromBig:Yve,split:Jst,toBig:Xst,shrSH:eat,shrSL:tat,rotrSH:rat,rotrSL:nat,rotrBH:iat,rotrBL:oat,rotr32H:sat,rotr32L:aat,rotlSH:cat,rotlSL:uat,rotlBH:fat,rotlBL:lat,add:dat,add3L:hat,add3H:pat,add4L:mat,add4H:yat,add5H:bat,add5L:gat},Ot=vat;var No=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),wt=new Uint32Array(32);function uy(t,e,r,n,i,o){let s=i[o],c=i[o+1],l=wt[2*t],m=wt[2*t+1],w=wt[2*e],b=wt[2*e+1],E=wt[2*r],I=wt[2*r+1],M=wt[2*n],k=wt[2*n+1],B=Ot.add3L(l,w,s);m=Ot.add3H(B,m,b,c),l=B|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Ot.rotr32H(k,M),Dl:Ot.rotr32L(k,M)},{h:I,l:E}=Ot.add(I,E,k,M),{Bh:b,Bl:w}={Bh:b^I,Bl:w^E},{Bh:b,Bl:w}={Bh:Ot.rotrSH(b,w,24),Bl:Ot.rotrSL(b,w,24)},wt[2*t]=l,wt[2*t+1]=m,wt[2*e]=w,wt[2*e+1]=b,wt[2*r]=E,wt[2*r+1]=I,wt[2*n]=M,wt[2*n+1]=k}function fy(t,e,r,n,i,o){let s=i[o],c=i[o+1],l=wt[2*t],m=wt[2*t+1],w=wt[2*e],b=wt[2*e+1],E=wt[2*r],I=wt[2*r+1],M=wt[2*n],k=wt[2*n+1],B=Ot.add3L(l,w,s);m=Ot.add3H(B,m,b,c),l=B|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Ot.rotrSH(k,M,16),Dl:Ot.rotrSL(k,M,16)},{h:I,l:E}=Ot.add(I,E,k,M),{Bh:b,Bl:w}={Bh:b^I,Bl:w^E},{Bh:b,Bl:w}={Bh:Ot.rotrBH(b,w,63),Bl:Ot.rotrBL(b,w,63)},wt[2*t]=l,wt[2*t+1]=m,wt[2*e]=w,wt[2*e+1]=b,wt[2*r]=E,wt[2*r+1]=I,wt[2*n]=M,wt[2*n+1]=k}var MW=class extends a9{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=No[0]|0,this.v0h=No[1]|0,this.v1l=No[2]|0,this.v1h=No[3]|0,this.v2l=No[4]|0,this.v2h=No[5]|0,this.v3l=No[6]|0,this.v3h=No[7]|0,this.v4l=No[8]|0,this.v4h=No[9]|0,this.v5l=No[10]|0,this.v5h=No[11]|0,this.v6l=No[12]|0,this.v6h=No[13]|0,this.v7l=No[14]|0,this.v7h=No[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=k2(_f(e.salt));this.v4l^=Cl(n[0]),this.v4h^=Cl(n[1]),this.v5l^=Cl(n[2]),this.v5h^=Cl(n[3])}if(e.personalization){let n=k2(_f(e.personalization));this.v6l^=Cl(n[0]),this.v6h^=Cl(n[1]),this.v7l^=Cl(n[2]),this.v7h^=Cl(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(_f(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:c,v3h:l,v4l:m,v4h:w,v5l:b,v5h:E,v6l:I,v6h:M,v7l:k,v7h:B}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=c|0,this.v3h=l|0,this.v4l=m|0,this.v4h=w|0,this.v5l=b|0,this.v5h=E|0,this.v6l=I|0,this.v6h=M|0,this.v7l=k|0,this.v7h=B|0}compress(e,r,n){this.get().forEach((l,m)=>wt[m]=l),wt.set(No,16);let{h:i,l:o}=Ot.fromBig(BigInt(this.length));wt[24]=No[8]^o,wt[25]=No[9]^i,n&&(wt[28]=~wt[28],wt[29]=~wt[29]);let s=0,c=$ve;for(let l=0;l<12;l++)uy(0,4,8,12,e,r+2*c[s++]),fy(0,4,8,12,e,r+2*c[s++]),uy(1,5,9,13,e,r+2*c[s++]),fy(1,5,9,13,e,r+2*c[s++]),uy(2,6,10,14,e,r+2*c[s++]),fy(2,6,10,14,e,r+2*c[s++]),uy(3,7,11,15,e,r+2*c[s++]),fy(3,7,11,15,e,r+2*c[s++]),uy(0,5,10,15,e,r+2*c[s++]),fy(0,5,10,15,e,r+2*c[s++]),uy(1,6,11,12,e,r+2*c[s++]),fy(1,6,11,12,e,r+2*c[s++]),uy(2,7,8,13,e,r+2*c[s++]),fy(2,7,8,13,e,r+2*c[s++]),uy(3,4,9,14,e,r+2*c[s++]),fy(3,4,9,14,e,r+2*c[s++]);this.v0l^=wt[0]^wt[16],this.v0h^=wt[1]^wt[17],this.v1l^=wt[2]^wt[18],this.v1h^=wt[3]^wt[19],this.v2l^=wt[4]^wt[20],this.v2h^=wt[5]^wt[21],this.v3l^=wt[6]^wt[22],this.v3h^=wt[7]^wt[23],this.v4l^=wt[8]^wt[24],this.v4h^=wt[9]^wt[25],this.v5l^=wt[10]^wt[26],this.v5h^=wt[11]^wt[27],this.v6l^=wt[12]^wt[28],this.v6h^=wt[13]^wt[29],this.v7l^=wt[14]^wt[30],this.v7h^=wt[15]^wt[31],wt.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},w1=Gve(t=>new MW(t));d();h();d();h();function u9(t,e){return C0.IntentMessage(C0.fixedArray(e.length,C0.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}function kW(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var P2=class{equals(e){return kW(this.toRawBytes(),e.toRawBytes())}toBase64(){return ur(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return ur(e)}verifyWithIntent(e,r,n){let i=u9(n,e),o=w1(i,{dkLen:32});return this.verify(o,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(C0.vector(C0.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return Xd(s9(w1(this.toSuiBytes(),{dkLen:32})).slice(0,sy*2))}};d();h();var D0={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},Zve={ED25519:32,Secp256k1:33,Secp256r1:33},f9={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};d();h();d();h();d();h();function Qve(t,e){if(!!!t)throw new Error(e)}d();h();var RW={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},xat=new Set(Object.keys(RW));function BW(t){let e=t?.kind;return typeof e=="string"&&xat.has(e)}var PW;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(PW||(PW={}));d();h();var k_;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(k_||(k_={}));d();h();d();h();function CW(t){return t===9||t===32}function Jve(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,o=n.length>1&&n.slice(1).every(I=>I.length===0||CW(I.charCodeAt(0))),s=r.endsWith('\\"""'),c=t.endsWith('"')&&!s,l=t.endsWith("\\"),m=c||l,w=!(e!=null&&e.minimize)&&(!i||t.length>70||m||o||s),b="",E=i&&CW(t.charCodeAt(0));return(w&&!E||o)&&(b+=`
`),b+=r,(w||m)&&(b+=`
`),'"""'+b+'"""'}d();h();function Xve(t){return l9(t,[])}function l9(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return wat(t,e);default:return String(t)}}function wat(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(Sat(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:l9(n,r)}else if(Array.isArray(t))return Eat(t,r);return Aat(t,r)}function Sat(t){return typeof t.toJSON=="function"}function Aat(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+_at(t)+"]":"{ "+r.map(([i,o])=>i+": "+l9(o,e)).join(", ")+" }"}function Eat(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,i=[];for(let o=0;o<r;++o)i.push(l9(t[o],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function _at(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}d();h();d();h();function exe(t){return`"${t.replace(Tat,Iat)}"`}var Tat=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Iat(t){return Mat[t.charCodeAt(0)]}var Mat=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];d();h();var txe=Object.freeze({});function OW(t,e,r=RW){let n=new Map;for(let R of Object.values(k_))n.set(R,rxe(e,R));let i,o=Array.isArray(t),s=[t],c=-1,l=[],m=t,w,b,E=[],I=[];do{c++;let R=c===s.length,U=R&&l.length!==0;if(R){if(w=I.length===0?void 0:E[E.length-1],m=b,b=I.pop(),U)if(o){m=m.slice();let F=0;for(let[V,H]of l){let re=V-F;H===null?(m.splice(re,1),F++):m[re]=H}}else{m=Object.defineProperties({},Object.getOwnPropertyDescriptors(m));for(let[F,V]of l)m[F]=V}c=i.index,s=i.keys,l=i.edits,o=i.inArray,i=i.prev}else if(b){if(w=o?c:s[c],m=b[w],m==null)continue;E.push(w)}let P;if(!Array.isArray(m)){var M,k;BW(m)||Qve(!1,`Invalid AST Node: ${Xve(m)}.`);let F=R?(M=n.get(m.kind))===null||M===void 0?void 0:M.leave:(k=n.get(m.kind))===null||k===void 0?void 0:k.enter;if(P=F?.call(e,m,w,b,E,I),P===txe)break;if(P===!1){if(!R){E.pop();continue}}else if(P!==void 0&&(l.push([w,P]),!R))if(BW(P))m=P;else{E.pop();continue}}if(P===void 0&&U&&l.push([w,m]),R)E.pop();else{var B;i={inArray:o,index:c,keys:s,edits:l,prev:i},o=Array.isArray(m),s=o?m:(B=r[m.kind])!==null&&B!==void 0?B:[],c=-1,l=[],b&&I.push(b),b=m}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function rxe(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function R2(t){return OW(t,Pat)}var kat=80,Pat={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>It(t.definitions,`

`)},OperationDefinition:{leave(t){let e=qr("(",It(t.variableDefinitions,", "),")"),r=It([t.operation,It([t.name,e]),It(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+qr(" = ",r)+qr(" ",It(n," "))},SelectionSet:{leave:({selections:t})=>Ol(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){let o=qr("",t,": ")+e,s=o+qr("(",It(r,", "),")");return s.length>kat&&(s=o+qr(`(
`,d9(It(r,`
`)),`
)`)),It([s,It(n," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+qr(" ",It(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>It(["...",qr("on ",t),It(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${qr("(",It(r,", "),")")} on ${e} ${qr("",It(n," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?Jve(t):exe(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+It(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+It(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+qr("(",It(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>qr("",t,`
`)+It(["schema",It(e," "),Ol(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>qr("",t,`
`)+It(["scalar",e,It(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>qr("",t,`
`)+It(["type",e,qr("implements ",It(r," & ")),It(n," "),Ol(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:i})=>qr("",t,`
`)+e+(nxe(r)?qr(`(
`,d9(It(r,`
`)),`
)`):qr("(",It(r,", "),")"))+": "+n+qr(" ",It(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:i})=>qr("",t,`
`)+It([e+": "+r,qr("= ",n),It(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>qr("",t,`
`)+It(["interface",e,qr("implements ",It(r," & ")),It(n," "),Ol(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>qr("",t,`
`)+It(["union",e,It(r," "),qr("= ",It(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>qr("",t,`
`)+It(["enum",e,It(r," "),Ol(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>qr("",t,`
`)+It([e,It(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>qr("",t,`
`)+It(["input",e,It(r," "),Ol(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:i})=>qr("",t,`
`)+"directive @"+e+(nxe(r)?qr(`(
`,d9(It(r,`
`)),`
)`):qr("(",It(r,", "),")"))+(n?" repeatable":"")+" on "+It(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>It(["extend schema",It(t," "),Ol(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>It(["extend scalar",t,It(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>It(["extend type",t,qr("implements ",It(e," & ")),It(r," "),Ol(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>It(["extend interface",t,qr("implements ",It(e," & ")),It(r," "),Ol(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>It(["extend union",t,It(e," "),qr("= ",It(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>It(["extend enum",t,It(e," "),Ol(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>It(["extend input",t,It(e," "),Ol(r)]," ")}};function It(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function Ol(t){return qr(`{
`,d9(It(t,`
`)),`
}`)}function qr(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function d9(t){return qr("  ",t.replace(/\n/g,`
  `))}function nxe(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}d();h();var ixe=t=>{throw TypeError(t)},oxe=(t,e,r)=>e.has(t)||ixe("Cannot "+r),h9=(t,e,r)=>(oxe(t,e,"read from private field"),r?r.call(t):e.get(t)),p9=(t,e,r)=>e.has(t)?ixe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),m9=(t,e,r,n)=>(oxe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),y9,g9,b9,v9,NW=class extends Error{},x9=class{constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){p9(this,y9),p9(this,g9),p9(this,b9),p9(this,v9),m9(this,y9,e),m9(this,g9,i),m9(this,b9,n),m9(this,v9,(...o)=>r(...o))}async query(e){let r=await h9(this,v9).call(this,h9(this,y9),{method:"POST",headers:{"Content-Type":"application/json",...h9(this,b9)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):R2(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new NW(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:h9(this,g9)[e]})}};y9=new WeakMap;g9=new WeakMap;b9=new WeakMap;v9=new WeakMap;d();h();d();h();d();h();var P_={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var LW=class extends Error{constructor(e,r,n,i,o,s,c){super(e),this.name="GraphQLError",this.message=e,o&&(this.path=o),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var l=c;if(!l&&s){var m=s.extensions;m&&typeof m=="object"&&(l=m)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},wn,Lt;function lo(t){return new LW(`Syntax Error: Unexpected token at ${Lt} in ${t}`)}function gu(t){if(t.lastIndex=Lt,t.test(wn))return wn.slice(Lt,Lt=t.lastIndex)}var w9=/ +(?=[^\s])/y;function Rat(t){for(var e=t.split(`
`),r="",n=0,i=0,o=e.length-1,s=0;s<e.length;s++)w9.lastIndex=0,w9.test(e[s])&&(s&&(!n||w9.lastIndex<n)&&(n=w9.lastIndex),i=i||s,o=s);for(var c=i;c<=o;c++)c!==i&&(r+=`
`),r+=e[c].slice(n).replace(/\\"""/g,'"""');return r}function or(){for(var t=0|wn.charCodeAt(Lt++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|wn.charCodeAt(Lt++))if(t===35)for(;(t=wn.charCodeAt(Lt++))!==10&&t!==13;);Lt--}var Wa=/[_A-Za-z]\w*/y,DW=new RegExp("(?:(null|true|false)|\\$("+Wa.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+Wa.source+"))","y"),ly=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(ly||{}),Bat=/\\/;function S9(t){var e,r;if(DW.lastIndex=Lt,wn.charCodeAt(Lt)===91){Lt++,or();for(var n=[];wn.charCodeAt(Lt)!==93;)n.push(S9(t));return Lt++,or(),{kind:"ListValue",values:n}}else if(wn.charCodeAt(Lt)===123){Lt++,or();for(var i=[];wn.charCodeAt(Lt)!==125;){if((e=gu(Wa))==null||(or(),wn.charCodeAt(Lt++)!==58))throw lo("ObjectField");or(),i.push({kind:"ObjectField",name:{kind:"Name",value:e},value:S9(t)})}return Lt++,or(),{kind:"ObjectValue",fields:i}}else if((r=DW.exec(wn))!=null){if(Lt=DW.lastIndex,or(),(e=r[ly.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[ly.Var])!=null){if(t)throw lo("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[ly.Int])!=null){var o;return(o=r[ly.Float])!=null?{kind:"FloatValue",value:e+o}:{kind:"IntValue",value:e}}else{if((e=r[ly.BlockString])!=null)return{kind:"StringValue",value:Rat(e.slice(3,-3)),block:!0};if((e=r[ly.String])!=null)return{kind:"StringValue",value:Bat.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[ly.Enum])!=null)return{kind:"EnumValue",value:e}}}throw lo("Value")}function sxe(t){if(wn.charCodeAt(Lt)===40){var e=[];Lt++,or();var r;do{if((r=gu(Wa))==null||(or(),wn.charCodeAt(Lt++)!==58))throw lo("Argument");or(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:S9(t)})}while(wn.charCodeAt(Lt)!==41);return Lt++,or(),e}}function B2(t){if(wn.charCodeAt(Lt)===64){var e=[],r;do{if(Lt++,(r=gu(Wa))==null)throw lo("Directive");or(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:sxe(t)})}while(wn.charCodeAt(Lt)===64);return e}}function Cat(){for(var t,e=0;wn.charCodeAt(Lt)===91;)e++,Lt++,or();if((t=gu(Wa))==null)throw lo("NamedType");or();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(wn.charCodeAt(Lt)===33&&(Lt++,or(),r={kind:"NonNullType",type:r}),e){if(wn.charCodeAt(Lt++)!==93)throw lo("NamedType");or(),r={kind:"ListType",type:r}}while(e--);return r}var UW=new RegExp("(?:(\\.{3})|("+Wa.source+"))","y"),FW=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(FW||{});function A9(){var t=[],e,r;do if(UW.lastIndex=Lt,(r=UW.exec(wn))!=null){if(Lt=UW.lastIndex,r[FW.Spread]!=null){or();var n=gu(Wa);if(n!=null&&n!=="on")or(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:B2(!1)});else{if(or(),n==="on"){if((n=gu(Wa))==null)throw lo("NamedType");or()}var i=B2(!1);if(wn.charCodeAt(Lt++)!==123)throw lo("InlineFragment");or(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:i,selectionSet:A9()})}}else if((e=r[FW.Name])!=null){var o=void 0;if(or(),wn.charCodeAt(Lt)===58){if(Lt++,or(),o=e,(e=gu(Wa))==null)throw lo("Field");or()}var s=sxe(!1);or();var c=B2(!1),l=void 0;wn.charCodeAt(Lt)===123&&(Lt++,or(),l=A9()),t.push({kind:"Field",alias:o?{kind:"Name",value:o}:void 0,name:{kind:"Name",value:e},arguments:s,directives:c,selectionSet:l})}}else throw lo("SelectionSet");while(wn.charCodeAt(Lt)!==125);return Lt++,or(),{kind:"SelectionSet",selections:t}}function Oat(){var t,e;if((t=gu(Wa))==null||(or(),gu(Wa)!=="on")||(or(),(e=gu(Wa))==null))throw lo("FragmentDefinition");or();var r=B2(!1);if(wn.charCodeAt(Lt++)!==123)throw lo("FragmentDefinition");return or(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:A9()}}var Nat=/(?:query|mutation|subscription|fragment)/y;function Dat(t){var e,r,n;if(t&&(or(),e=gu(Wa),r=function(){if(or(),wn.charCodeAt(Lt)===40){var o=[];Lt++,or();var s;do{if(wn.charCodeAt(Lt++)!==36||(s=gu(Wa))==null)throw lo("Variable");if(or(),wn.charCodeAt(Lt++)!==58)throw lo("VariableDefinition");or();var c=Cat(),l=void 0;wn.charCodeAt(Lt)===61&&(Lt++,or(),l=S9(!0)),or(),o.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s}},type:c,defaultValue:l,directives:B2(!0)})}while(wn.charCodeAt(Lt)!==41);return Lt++,or(),o}}(),n=B2(!1)),wn.charCodeAt(Lt)===123)return Lt++,or(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:A9()}}function axe(t,e){return Lt=0,function(n,i){var o,s;or();var c=[];do if((o=gu(Nat))==="fragment")or(),c.push(Oat());else if((s=Dat(o))!=null)c.push(s);else throw lo("Document");while(Lt<n.length);if(!i){var l;return{kind:"Document",definitions:c,set loc(m){l=m},get loc(){return l||(l={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),l}}}return{kind:"Document",definitions:c}}(wn=typeof t.body=="string"?t.body:t,e&&e.noLocation)}var cxe=0,qW=new Set;function R_(){function t(e,r){var n=axe(e).definitions,i=new Set;for(var o of r||[])for(var s of o.definitions)s.kind===P_.FRAGMENT_DEFINITION&&!i.has(s)&&(n.push(s),i.add(s));var c;(c=n[0].kind===P_.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(m=>m.name.value!=="_unmask"));var l;return{kind:P_.DOCUMENT,definitions:n,get loc(){if(!l&&c){var m=e+function(b){try{cxe++;var E="";for(var I of b)if(!qW.has(I)){qW.add(I);var{loc:M}=I;M&&(E+=M.source.body)}return E}finally{--cxe==0&&qW.clear()}}(r||[]);return{start:0,end:m.length,source:{body:m,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return l},set loc(m){l=m}}}return t.scalar=function(r,n){return n},t.persisted=function(r,n){return{kind:P_.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},t}var $fr=R_();var uxe=R_();d();h();function Uat(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function Lat(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=Uat(n);e=e.concat(i)}return e}function Fat(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=Lat(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let o=new Uint8Array(Math.floor(r.length/8)),s=0;for(let c=0;c<r.length;c+=8){let l=r.slice(c,c+8),m=parseInt(l.join(""),2);o[s++]=m}return new TextDecoder().decode(o)}function qat(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}function fxe(t,e){let r=Fat(t.value,t.indexMod4),[n,i]=qat(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}d();h();d();h();var lxe=Y.struct("ZkLoginSignature",{inputs:Y.struct("ZkLoginSignatureInputs",{proofPoints:Y.struct("ZkLoginSignatureInputsProofPoints",{a:Y.vector(Y.string()),b:Y.vector(Y.vector(Y.string())),c:Y.vector(Y.string())}),issBase64Details:Y.struct("ZkLoginSignatureInputsClaim",{value:Y.string(),indexMod4:Y.u8()}),headerBase64:Y.string(),addressSeed:Y.string()}),maxEpoch:Y.u64(),userSignature:Y.vector(Y.u8())});function dxe(t){return lxe.parse(typeof t=="string"?xn(t):t)}d();h();function Kat(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}function E9(t,e){let r=t.toString(16);return zve(r.padStart(e*2,"0").slice(-e*2))}function KW(t,e){let r=E9(t,e),n=Kat(r);return n===-1?new Uint8Array([0]):r.slice(n)}var mxe=t=>{throw TypeError(t)},yxe=(t,e,r)=>e.has(t)||mxe("Cannot "+r),U0=(t,e,r)=>(yxe(t,e,"read from private field"),r?r.call(t):e.get(t)),VW=(t,e,r)=>e.has(t)?mxe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),C2=(t,e,r,n)=>(yxe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Nl,B_,C_,Vat=class HW extends P2{constructor(e,{client:r}={}){super(),VW(this,Nl),VW(this,B_),VW(this,C_),C2(this,B_,r),typeof e=="string"?C2(this,Nl,xn(e)):e instanceof Uint8Array?C2(this,Nl,e):C2(this,Nl,Uint8Array.from(e)),C2(this,C_,U0(this,Nl).length!==U0(this,Nl)[0]+1+32),U0(this,C_)&&C2(this,Nl,hxe(U0(this,Nl)))}equals(e){return super.equals(e)}toSuiAddress(){if(U0(this,C_)){let e=hxe(U0(this,Nl),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),Xd(s9(w1(r,{dkLen:32})).slice(0,sy*2))}return super.toSuiAddress()}toRawBytes(){return U0(this,Nl)}flag(){return D0.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=_9(r),i=new HW(n.publicKey).toSuiAddress();return pxe({address:i,bytes:ur(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:U0(this,B_)})}verifyTransaction(e,r){let n=_9(r),i=new HW(n.publicKey).toSuiAddress();return pxe({address:i,bytes:ur(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:U0(this,B_)})}};Nl=new WeakMap;B_=new WeakMap;C_=new WeakMap;var Hat=Vat;function jat(t,e,r){let n=r?.legacyAddress?KW(t,32):E9(t,32),i=new TextEncoder().encode(e),o=new Uint8Array(1+i.length+n.length);return o.set([i.length],0),o.set(i,1),o.set(n,1+i.length),new Hat(o,r)}var zat=uxe(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function hxe(t,e=!1){let r=t[0]+1,n=BigInt(`0x${Oo(t.slice(r))}`),i=e?KW(n,32):E9(n,32),o=new Uint8Array(r+i.length);return o.set(t.slice(0,r),0),o.set(i,r),o}async function pxe({address:t,bytes:e,signature:r,intentScope:n,client:i=new x9({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let o=await i.query({query:zat,variables:{bytes:e,signature:r,intentScope:n,author:t}});return o.data?.verifyZkloginSignature.success===!0&&o.data?.verifyZkloginSignature.errors.length===0}function _9(t){let e=typeof t=="string"?xn(t):t;if(e[0]!==D0.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:o}=dxe(r),{issBase64Details:s,addressSeed:c}=n,l=fxe(s,"iss"),m=jat(BigInt(c),l);return{serializedSignature:ur(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:o,iss:l,addressSeed:BigInt(c)},signature:e,publicKey:m.toRawBytes()}}function gxe({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([D0[e]]),i.set(t,1),i.set(n,1+t.length),ur(i)}function bxe(t){let e=xn(t),r=f9[e[0]];switch(r){case"MultiSig":let n=C0.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return _9(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=Zve[r],o=e.slice(1,e.length-i),s=e.slice(1+o.length);return{serializedSignature:t,signatureScheme:r,signature:o,publicKey:s,bytes:e};default:throw new Error("Unsupported signature scheme")}}d();h();d();h();d();h();function O2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Wat(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function O_(t,...e){if(!Wat(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function T9(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");O2(t.outputLen),O2(t.blockLen)}function N2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vxe(t,e){O_(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}d();h();d();h();d();h();var U2=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Gat(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function dy(t){return typeof t=="string"&&(t=Gat(t)),O_(t),t}var D2=class{clone(){return this._cloneInto()}};function xxe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function wxe(t){let e=n=>t().update(dy(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}var I9=class extends D2{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,T9(e);let n=dy(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return N2(this),this.iHash.update(e),this}digestInto(e){N2(this),O_(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},jW=(t,e,r)=>new I9(t,e).update(r).digest();jW.create=(t,e)=>new I9(t,e);function $at(t,e,r,n){T9(t);let i=xxe({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:c}=i;if(O2(o),O2(s),O2(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=dy(e),m=dy(r),w=new Uint8Array(s),b=jW.create(t,l),E=b._cloneInto().update(m);return{c:o,dkLen:s,asyncTick:c,DK:w,PRF:b,PRFSalt:E}}function Yat(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function Sxe(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:c,PRFSalt:l}=$at(t,e,r,n),m,w=new Uint8Array(4),b=U2(w),E=new Uint8Array(c.outputLen);for(let I=1,M=0;M<o;I++,M+=c.outputLen){let k=s.subarray(M,M+c.outputLen);b.setInt32(0,I,!1),(m=l._cloneInto(m)).update(w).digestInto(E),k.set(E.subarray(0,k.length));for(let B=1;B<i;B++){c._cloneInto(m).update(E).digestInto(E);for(let R=0;R<k.length;R++)k[R]^=E[R]}}return Yat(c,l,s,m,E)}d();h();function Zat(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var M9=class extends D2{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=U2(this.buffer)}update(e){N2(this);let{view:r,buffer:n,blockLen:i}=this;e=dy(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=U2(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){N2(this),vxe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Zat(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=U2(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};d();h();d();h();var k9=BigInt(4294967295),zW=BigInt(32);function Axe(t,e=!1){return e?{h:Number(t&k9),l:Number(t>>zW&k9)}:{h:Number(t>>zW&k9)|0,l:Number(t&k9)|0}}function Qat(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=Axe(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var Jat=(t,e)=>BigInt(t>>>0)<<zW|BigInt(e>>>0),Xat=(t,e,r)=>t>>>r,ect=(t,e,r)=>t<<32-r|e>>>r,tct=(t,e,r)=>t>>>r|e<<32-r,rct=(t,e,r)=>t<<32-r|e>>>r,nct=(t,e,r)=>t<<64-r|e>>>r-32,ict=(t,e,r)=>t>>>r-32|e<<64-r,oct=(t,e)=>e,sct=(t,e)=>t,act=(t,e,r)=>t<<r|e>>>32-r,cct=(t,e,r)=>e<<r|t>>>32-r,uct=(t,e,r)=>e<<r-32|t>>>64-r,fct=(t,e,r)=>t<<r-32|e>>>64-r;function lct(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var dct=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),hct=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,pct=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),mct=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,yct=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),gct=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var bct={fromBig:Axe,split:Qat,toBig:Jat,shrSH:Xat,shrSL:ect,rotrSH:tct,rotrSL:rct,rotrBH:nct,rotrBL:ict,rotr32H:oct,rotr32L:sct,rotlSH:act,rotlSL:cct,rotlBH:uct,rotlBL:fct,add:lct,add3L:dct,add3H:hct,add4L:pct,add4H:mct,add5H:gct,add5L:yct},fr=bct;var[vct,xct]=fr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),hy=new Uint32Array(80),py=new Uint32Array(80),WW=class extends M9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let P=0;P<16;P++,r+=4)hy[P]=e.getUint32(r),py[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=hy[P-15]|0,V=py[P-15]|0,H=fr.rotrSH(F,V,1)^fr.rotrSH(F,V,8)^fr.shrSH(F,V,7),re=fr.rotrSL(F,V,1)^fr.rotrSL(F,V,8)^fr.shrSL(F,V,7),J=hy[P-2]|0,ie=py[P-2]|0,S=fr.rotrSH(J,ie,19)^fr.rotrBH(J,ie,61)^fr.shrSH(J,ie,6),a=fr.rotrSL(J,ie,19)^fr.rotrBL(J,ie,61)^fr.shrSL(J,ie,6),f=fr.add4L(re,a,py[P-7],py[P-16]),p=fr.add4H(f,H,S,hy[P-7],hy[P-16]);hy[P]=p|0,py[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:B,Hh:R,Hl:U}=this;for(let P=0;P<80;P++){let F=fr.rotrSH(b,E,14)^fr.rotrSH(b,E,18)^fr.rotrBH(b,E,41),V=fr.rotrSL(b,E,14)^fr.rotrSL(b,E,18)^fr.rotrBL(b,E,41),H=b&I^~b&k,re=E&M^~E&B,J=fr.add5L(U,V,re,xct[P],py[P]),ie=fr.add5H(J,R,F,H,vct[P],hy[P]),S=J|0,a=fr.rotrSH(n,i,28)^fr.rotrBH(n,i,34)^fr.rotrBH(n,i,39),f=fr.rotrSL(n,i,28)^fr.rotrBL(n,i,34)^fr.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;R=k|0,U=B|0,k=I|0,B=M|0,I=b|0,M=E|0,{h:b,l:E}=fr.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=fr.add3L(S,f,y);n=fr.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=fr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=fr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=fr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=fr.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=fr.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=fr.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:B}=fr.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:R,l:U}=fr.add(this.Hh|0,this.Hl|0,R|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,B,R,U)}roundClean(){hy.fill(0),py.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Exe=wxe(()=>new WW);function _xe(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function wct(t){let e=_xe(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}var Sct=t=>_xe("mnemonic"+t);function P9(t,e=""){return Sxe(Exe,wct(t).nfkd,Sct(e),{c:2048,dkLen:64})}function GW(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function Act(t){return P9(t,"")}function Txe(t){return Oo(Act(t))}d();h();var N_=Ke(S1(),1);var q2=32;var YW="suiprivkey",B9=class{async signWithIntent(e,r){let n=u9(r,e),i=w1(n,{dkLen:32});return{signature:gxe({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:ur(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(Y.vector(Y.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:ur(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},D_=class extends B9{};function A1(t){let{prefix:e,words:r}=N_.bech32.decode(t);if(e!==YW)throw new Error("invalid private key prefix");let n=new Uint8Array(N_.bech32.fromWords(r)),i=n.slice(1);return{schema:f9[n[0]],secretKey:i}}function ZW(t,e){if(t.length!==q2)throw new Error("Invalid bytes length");let r=D0[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),N_.bech32.encode(YW,N_.bech32.toWords(n))}d();h();d();h();var E1=Ke(ls(),1);d();h();d();h();var O9=class extends ay{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Vve(e);let n=_f(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return O0(this),this.iHash.update(e),this}digestInto(e){O0(this),M2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},N9=(t,e,r)=>new O9(t,e).update(r).digest();N9.create=(t,e)=>new O9(t,e);d();h();d();h();function Ict(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var D9=class extends ay{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=o9(this.buffer)}update(e){O0(this);let{view:r,buffer:n,blockLen:i}=this;e=_f(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=o9(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){O0(this),i9(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Ict(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=o9(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var[Mct,kct]=Ot.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),my=new Uint32Array(80),yy=new Uint32Array(80),QW=class extends D9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let P=0;P<16;P++,r+=4)my[P]=e.getUint32(r),yy[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=my[P-15]|0,V=yy[P-15]|0,H=Ot.rotrSH(F,V,1)^Ot.rotrSH(F,V,8)^Ot.shrSH(F,V,7),re=Ot.rotrSL(F,V,1)^Ot.rotrSL(F,V,8)^Ot.shrSL(F,V,7),J=my[P-2]|0,ie=yy[P-2]|0,S=Ot.rotrSH(J,ie,19)^Ot.rotrBH(J,ie,61)^Ot.shrSH(J,ie,6),a=Ot.rotrSL(J,ie,19)^Ot.rotrBL(J,ie,61)^Ot.shrSL(J,ie,6),f=Ot.add4L(re,a,yy[P-7],yy[P-16]),p=Ot.add4H(f,H,S,my[P-7],my[P-16]);my[P]=p|0,yy[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:B,Hh:R,Hl:U}=this;for(let P=0;P<80;P++){let F=Ot.rotrSH(b,E,14)^Ot.rotrSH(b,E,18)^Ot.rotrBH(b,E,41),V=Ot.rotrSL(b,E,14)^Ot.rotrSL(b,E,18)^Ot.rotrBL(b,E,41),H=b&I^~b&k,re=E&M^~E&B,J=Ot.add5L(U,V,re,kct[P],yy[P]),ie=Ot.add5H(J,R,F,H,Mct[P],my[P]),S=J|0,a=Ot.rotrSH(n,i,28)^Ot.rotrBH(n,i,34)^Ot.rotrBH(n,i,39),f=Ot.rotrSL(n,i,28)^Ot.rotrBL(n,i,34)^Ot.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;R=k|0,U=B|0,k=I|0,B=M|0,I=b|0,M=E|0,{h:b,l:E}=Ot.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=Ot.add3L(S,f,y);n=Ot.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=Ot.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Ot.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=Ot.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=Ot.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=Ot.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=Ot.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:B}=Ot.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:R,l:U}=Ot.add(this.Hh|0,this.Hl|0,R|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,B,R,U)}roundClean(){my.fill(0),yy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var JW=Wve(()=>new QW);var Pct=Ke(ls(),1),Rct="ed25519 seed",Bct=2147483648,Cct=new RegExp("^m(\\/[0-9]+')+$"),Pxe=t=>t.replace("'",""),Oct=t=>{let r=N9.create(JW,Rct).update(Ef(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},Nct=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+t.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(t,1),o.set(new Uint8Array(n,0,n.byteLength),t.length+1);let s=N9.create(JW,e).update(o).digest(),c=s.slice(0,32),l=s.slice(32);return{key:c,chainCode:l}};var Dct=t=>Cct.test(t)?!t.split("/").slice(1).map(Pxe).some(isNaN):!1,XW=(t,e,r=Bct)=>{if(!Dct(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=Oct(e);return t.split("/").slice(1).map(Pxe).map(s=>parseInt(s,10)).reduce((s,c)=>Nct(s,c+r),{key:n,chainCode:i})};d();h();var Rxe=Ke(ls(),1);var eG=32,gy=class extends P2{constructor(e){if(super(),typeof e=="string"?this.data=xn(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==eG)throw new Error(`Invalid public key input. Expected ${eG} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return D0.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=bxe(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!kW(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return Rxe.default.sign.detached.verify(e,n,this.toRawBytes())}};gy.SIZE=eG;var tG="m/44'/784'/0'/0'/0'",_1=class t extends D_{constructor(e){super(),e?this.keypair=e:this.keypair=E1.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(E1.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let o=A1(e);if(o.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${o.schema}`);return this.fromSecretKey(o.secretKey,r)}let n=e.length;if(n!==q2)throw new Error(`Wrong secretKey size. Expected ${q2} bytes, got ${n}.`);let i=E1.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),c=E1.default.sign.detached(s,i.secretKey);if(!E1.default.sign.detached.verify(s,c,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new gy(this.keypair.publicKey)}getSecretKey(){return ZW(this.keypair.secretKey.slice(0,q2),this.getKeyScheme())}async sign(e){return E1.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=tG),!GW(r))throw new Error("Invalid derivation path");let{key:n}=XW(r,Txe(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=tG),!GW(r))throw new Error("Invalid derivation path");let{key:n}=XW(r,e);return t.fromSecretKey(n)}};var U9=class{addressTypes=["sui"];generateKeypairFromPrivateKey(e){let r=e.fold(s=>new Uint8Array(s)),n=_1.fromSecretKey(r),i=n.getPublicKey().toRawBytes(),o=A1(n.getSecretKey());if(o.schema!=="ED25519")throw new Error(`got unexpected schema ${o.schema} for Sui`);return{publicKey:i,privateKey:o.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new pa(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};var U_=class{cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new AP),this.registerChainPlugin(new zP),this.registerChainPlugin(new YP),this.registerChainPlugin(new U9)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let i=ma.getAddressType(n),o=this.cryptoChainPlugins.get(i);if(!o)throw new Error(`No plugin found for address type ${i}, please register the plugin first.`);return o.generateKeypairFromSeed(e,r,n)}};d();h();function rG(t){return ma.getAll().includes(t)}d();h();var rwe=Ke(Fa()),nwe=Ke(V2()),z9=Ke(ls()),iwe=Ke(H9());var pG=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":try{return{key:put(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case"eip155":try{return{key:mut(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case"solana":try{return gut(e)}catch{throw new Error("Could not find encoding for Solana private key")}case"sui":try{return{key:yut(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return Ct(r)}},put=(t,e)=>{try{let{privateKey:r}=iwe.decodeRaw(nwe.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},mut=t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new x2(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},j9=t=>{let e=z9.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=z9.default.sign.detached(r,t);if(!z9.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},yut=t=>{try{let e=A1(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},gut=t=>{try{let e=JSON.parse(t);return j9(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=rwe.default.decode(t);return j9(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return j9(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return j9(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")};d();h();var owe=Ke(Fa()),swe=Ke(V2()),awe=Ke(H9());var but=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return swe.default.encode(awe.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case"eip155":return"0x"+Buffer.from(e).toString("hex");case"solana":return owe.default.encode(e);case"sui":return _1.fromSecretKey(e).getSecretKey();default:return Ct(r)}};d();h();var F_=t=>{try{return Mi.from(pG(t).key)}catch(e){return console.error(e),Mi.from(Buffer.from(""))}};d();h();var omt=Ke(eR());d();h();var[Mwe,kwe,Pwe]=[[],[],[]],dft=BigInt(0),j_=BigInt(1),hft=BigInt(2),pft=BigInt(7),mft=BigInt(256),yft=BigInt(113);for(let t=0,e=j_,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Mwe.push(2*(5*n+r)),kwe.push((t+1)*(t+2)/2%64);let i=dft;for(let o=0;o<7;o++)e=(e<<j_^(e>>pft)*yft)%mft,e&hft&&(i^=j_<<(j_<<BigInt(o))-j_);Pwe.push(i)}var[gft,bft]=Yt.split(Pwe,!0),Twe=(t,e,r)=>r>32?Yt.rotlBH(t,e,r):Yt.rotlSH(t,e,r),Iwe=(t,e,r)=>r>32?Yt.rotlBL(t,e,r):Yt.rotlSL(t,e,r);function vft(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let c=(s+8)%10,l=(s+2)%10,m=r[l],w=r[l+1],b=Twe(m,w,1)^r[c],E=Iwe(m,w,1)^r[c+1];for(let I=0;I<50;I+=10)t[s+I]^=b,t[s+I+1]^=E}let i=t[2],o=t[3];for(let s=0;s<24;s++){let c=kwe[s],l=Twe(i,o,c),m=Iwe(i,o,c),w=Mwe[s];i=t[w],o=t[w+1],t[w]=l,t[w+1]=m}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)r[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=gft[n],t[1]^=bft[n]}r.fill(0)}var tR=class t extends w2{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Pl.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ave(this.state)}keccak(){vft(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Pl.exists(this);let{blockLen:r,state:n}=this;e=S2(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let c=0;c<s;c++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Pl.exists(this,!1),Pl.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Pl.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Pl.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},Ey=(t,e,r)=>v1(()=>new tR(e,t,r)),Tpr=Ey(6,144,224/8),Ipr=Ey(6,136,256/8),Mpr=Ey(6,104,384/8),kpr=Ey(6,72,512/8),Ppr=Ey(1,144,224/8),kG=Ey(1,136,256/8),Rpr=Ey(1,104,384/8),Bpr=Ey(1,72,512/8),Rwe=(t,e,r)=>Eve((n={})=>new tR(e,t,n.dkLen===void 0?r:n.dkLen,!0)),Cpr=Rwe(31,168,128/8),Opr=Rwe(31,136,256/8);var Ll=Ke(d4()),eEe=Ke(Fa());function ps(t){let{publicKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return smt(e,r,t.networkID);case"eip155":return amt(e);case"solana":return eEe.default.encode(e);case"sui":return new gy(e).toSuiAddress();default:return Ct(r)}}var smt=(t,e,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?Ll.networks.testnet:Ll.networks.bitcoin,i;switch(e){case"bip122_p2tr":Ll.initEccLib(omt),i=Ll.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case"bip122_p2wpkh":i=Ll.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case"bip122_p2sh":{let o=Buffer.from(t),s=Ll.payments.p2wpkh({pubkey:o,network:n},{validate:!1});i=Ll.payments.p2sh({pubkey:o,network:n,redeem:s},{validate:!1})?.address;break}case"bip122_p2pkh":{i=Ll.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:Ct(e)}if(!i)throw new Error("Could not derive Bitcoin address from public key");return i},amt=t=>{let e=t.slice(1),n=kG(e).slice(12);return cmt(`0x${Buffer.from(n).toString("hex")}`)},cmt=t=>{if(!hae.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(kG(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n};d();h();function h4(t){return jd.safeParse(t).success}d();h();function umt(t){switch(t){case"bip44Root":case"bip44Change":case"bip44":case"deprecated":return"solana";case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return"eip155";case"bitcoinLegacy":return"bip122_p2pkh";case"bitcoinNativeSegwit":return"bip122_p2wpkh";case"bitcoinNestedSegwit":return"bip122_p2sh";case"bitcoinTaproot":return"bip122_p2tr";case"bip44Sui":return"sui"}}d();h();d();h();var Z$={id:"arbitrum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/arbitrum.png",name:"Arbitrum",networks:{"eip155:42161":{id:"eip155:42161",name:"Arbitrum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/mainnet",value:42161},"eip155:421614":{id:"eip155:421614",name:"Arbitrum Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/sepolia",value:421614}},mainnetID:"eip155:42161",tokenDecimals:18,tokenSymbol:"ETH",slip44:"9001",parentChain:"ethereum"};d();h();var Q$={id:"base",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{"eip155:8453":{id:"eip155:8453",name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},"eip155:84532":{id:"eip155:84532",name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:"eip155:8453",tokenDecimals:18,tokenSymbol:"ETH",slip44:"8453",parentChain:"ethereum"};d();h();var fmt=Ke(eR());var uB=Ke(d4());var qy=O.string().refine(t=>{try{return uB.initEccLib(fmt),uB.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),p4=O.object({networkID:Um,addressType:O.nativeEnum(Tt),address:qy,publicKey:O.instanceof(Uint8Array).optional()}),J$={id:"bitcoin",addressTypes:["bip122_p2tr","bip122_p2wpkh"],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{"bip122:000000000019d6689c085ae165831e93":{id:"bip122:000000000019d6689c085ae165831e93",name:"Bitcoin",value:128},"bip122:000000000933ea01ad0ee984209779ba":{id:"bip122:000000000933ea01ad0ee984209779ba",name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:"bip122:000000000019d6689c085ae165831e93",tokenDecimals:8,tokenSymbol:"BTC",slip44:"0"};d();h();var m4=O.object({networkID:Fm,addressType:O.nativeEnum(Tt),address:Fp}),X$={id:"ethereum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{"eip155:1":{id:"eip155:1",name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},"eip155:11155111":{id:"eip155:11155111",name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:"eip155:1",tokenDecimals:18,tokenSymbol:"ETH",slip44:"60"};d();h();var eY={id:"hypercore",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/hypercore.png",name:"Hypercore",networks:{"hypercore:mainnet":{id:"hypercore:mainnet",name:"Hypercore",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/mainnet",value:"mainnet"},"hypercore:testnet":{id:"hypercore:testnet",name:"Hypercore Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/testnet",value:"testnet"}},mainnetID:"hypercore:mainnet",tokenDecimals:9,tokenSymbol:"ETH",slip44:"925"},tEe=O.object({networkID:E0,addressType:O.nativeEnum(Tt),address:tI});d();h();var tY={id:"monad",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{"eip155:143":{id:"eip155:143",name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143,hidden:!0},"eip155:10143":{id:"eip155:10143",name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143},"eip155:41454":{id:"eip155:41454",name:"Monad Devnet",shortName:"Devnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/devnet1",value:41454,hidden:!0}},mainnetID:"eip155:10143",tokenDecimals:18,tokenSymbol:"MON",slip44:"143"};d();h();var rY={id:"polygon",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{"eip155:137":{id:"eip155:137",name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},"eip155:80002":{id:"eip155:80002",name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:"eip155:137",tokenDecimals:18,tokenSymbol:"POL",slip44:"966",parentChain:"ethereum"};d();h();var y4=O.object({networkID:Dm,addressType:O.nativeEnum(Tt),address:qp}),nY={id:"solana",addressTypes:["solana"],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{"solana:101":{id:"solana:101",name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},"solana:102":{id:"solana:102",name:"Solana Testnet",shortName:"Testnet",value:"testnet"},"solana:103":{id:"solana:103",name:"Solana Devnet",shortName:"Devnet",value:"devnet"},"solana:localnet":{id:"solana:localnet",name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:"solana:localnet",mainnetID:"solana:101",tokenDecimals:9,tokenSymbol:"SOL",slip44:"501"};d();h();var iY={id:"sui",addressTypes:["sui"],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{"sui:mainnet":{id:"sui:mainnet",name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},"sui:testnet":{id:"sui:testnet",name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:"sui:mainnet",tokenDecimals:9,tokenSymbol:"SUI",slip44:"784"},fB=O.object({networkID:Lm,addressType:O.nativeEnum(Tt),address:Kp,publicKey:O.instanceof(Uint8Array).optional()});d();h();var oY=class extends Error{constructor(r,n){super(`${n} is not yet supported for ${r}`);this.chain=r;this.feature=n;this.name="UnsupportedChainFeatureError"}},uS=class extends oY{constructor(e){super("sui",e)}};d();h();function lB(t){return Object.values(to).includes(t)}var Fs={bitcoin:J$,ethereum:X$,polygon:rY,monad:tY,solana:nY,base:Q$,sui:iY,arbitrum:Z$,hypercore:eY},dB={solana:1,ethereum:2,monad:3,base:4,sui:5,polygon:6,bitcoin:7,arbitrum:8,hypercore:9},lmt={solana:!0,ethereum:!0,monad:!1,base:!0,polygon:!0,bitcoin:!0,sui:!0,arbitrum:!1,hypercore:!1},sY=(t,e)=>{let r=dB[t]-dB[e];return r===0?0:r>0?1:-1},dmt=()=>{let t=Object.values(to).sort(sY),e=t.map(G=>Fs[G]),r={},n=[],i={},o={},s={};e.forEach(G=>{let he=Object.fromEntries(Object.entries(G.networks).filter(([Ye,se])=>!se.hidden)),te=Object.keys(he);n.push(...te),te.forEach(Ye=>{r[Ye]=G});let ce=Object.values(he);i[G.id]=ce.map(Ye=>Ye.id),ce.forEach(Ye=>{o[Ye.id]=Ye});for(let Ye of G.addressTypes){let se=s[Ye];se?se.push(G.id):s[Ye]=[G.id]}});let c=new Set(n);function l(G){return G?.evmOnly?t.filter(he=>Fs[he].addressTypes.includes("eip155")):t}function m(G){return lmt[G]}function w(G){return n.filter(he=>r[he].id===G)}function b(G){if(!G)return n;let he=n;return G.evmOnly&&(he=he.filter(te=>_(te))),G.mainnetOnly&&(he=he.filter(te=>L(te))),he}function E(G){return r[G]}function I(G){return o[G].rpcProxyUrl}function M(G){return r[G].addressTypes[0]}function k(G){let he=r[G];if(he.addressTypes.length===1){let[te]=he.addressTypes;return te}else throw`The chain ${he.id} has multiple address types`}function B(G){return r[G].addressTypes}function R(G){return r[G].id}function U(G){return Fs[ae(G)].name}function P(G){return r[G].tokenDecimals}function F(G){return(ie(G)?r[G]:Fs[G]).tokenSymbol}function V(G){return(ie(G)?r[G]:Fs[G]).iconUrl}function H(G){return r[G].slip44}function re(G){return Fs[ae(G)].mainnetID}function J(G){let he;if(_(G)&&(he=o[G].value),typeof he=="number")return he;throw new Error(`Invalid NetworkID: ${G}. Must be an EVM NetworkID.`)}function ie(G){return c.has(G)}function S(G){return Object.keys(Fs.bitcoin.networks).includes(G)}function a(G){return Object.keys(Fs.ethereum.networks).includes(G)}function f(G){return Object.keys(Fs.polygon.networks).includes(G)}function p(G){return Object.keys(Fs.base.networks).includes(G)}function y(G){return Object.keys(Fs.arbitrum.networks).includes(G)}function g(G){return Object.keys(Fs.monad.networks).includes(G)}function A(G){return Object.keys(Fs.hypercore.networks).includes(G)}function _(G){return a(G)||f(G)||p(G)||g(G)||y(G)||A(G)}function v(G){return Object.keys(Fs.solana.networks).includes(G)}function u(G){return Object.keys(Fs.sui.networks).includes(G)}function x(G){if(!v(G))throw new Error(`Invalid NetworkID: ${G}. Must be a Solana NetworkID.`);return Fs.solana.networks[G].value}function q(G){return r[G].localnetID===G}function L(G){return r[G].mainnetID===G}function C(G){return o[G]}function W(G,he=!1){let te=o[G];return he&&te.shortName?te.shortName:te.name}function ee(G){return r[G].parentChain}function ne(G){return s[G]}function Ve(G,he){let te=r[G].id,ce=r[he].id;return sY(te,ce)}function ae(G){return lB(G)?G:ie(G)?je.getChainID(G):Ct(G)}return{...Fs,getAllChainIDs:l,isChainDefaultEnabled:m,getNetworkIDs:w,getAllNetworkIDs:b,getChainDefinition:E,getAddressType:k,getAddressTypes:B,getChainID:R,getChainName:U,getTokenDecimals:P,getTokenSymbol:F,getChainIconUrl:V,getSlip44:H,getMainnetNetworkID:re,getEVMNetworkIDValue:J,getSolanaNetworkIDValue:x,_DO_NOT_USE_getAddressType:M,isNetworkID:ie,isBitcoinNetworkID:S,isEVMNetworkID:_,isSolanaNetworkID:v,isEthereumNetworkID:a,isPolygonNetworkID:f,isBaseNetworkID:p,isArbitrumNetworkID:y,isSuiNetworkID:u,isHypercoreNetworkID:A,isLocalNetworkID:q,isMainnetNetworkID:L,getNetworkDefinition:C,getNetworkName:W,getChainIDs:ne,compareChain:sY,compareNetworkID:Ve,getRpcProxyUrl:I,getParentChain:ee}},je=dmt();d();h();d();h();d();h();var hmt=O.union([p4,m4,y4,fB,tEe]);var Cf=(n=>(n.address="address",n.tx="tx",n.nativeToken="nativeToken",n))(Cf||{}),rEe=O.string(),nEe=O.object({chainId:_l,resourceType:O.nativeEnum(Cf)}),aY=nEe.extend({resourceType:O.literal("nativeToken"),slip44:O.nativeEnum(Rs)}),Ky=nEe.extend({resourceType:O.literal("address"),address:O.string()}),cY=Ky.extend({chainId:Dm,address:qp}),uY=Ky.extend({chainId:Fm,address:Fp,tokenId:O.string().optional()}),fY=Ky.extend({chainId:Um,address:qy.or(O.string())}),pmt=Ky.extend({chainId:Lm,address:Kp,tokenId:O.string().optional()}),iEe=Ky.extend({chainId:E0,address:tI,tokenId:O.string().optional()}),oEe=O.union([aY,Ky,cY,uY,fY,pmt]);var sEe=t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(je.isEVMNetworkID(r)||je.isSolanaNetworkID(r)||je.isBitcoinNetworkID(r)||je.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[i,o]=n;if(!i||!o)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(Cf).includes(i))throw new Error(`Unsupported resource type '${i}'`);if(i==="nativeToken"){if(!Object.values(Rs).includes(o))throw new Error(`Unsupported slip44 '${o}'`);return{chainId:r,resourceType:i,slip44:o}}else if(je.isEVMNetworkID(r)){if(i==="address")return e.length===3?{chainId:r,address:o,resourceType:i,tokenId:e[2]}:{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(je.isSolanaNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(je.isBitcoinNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(je.isSuiNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)};d();h();var hB=t=>{if(t.resourceType==="nativeToken")return`${t.chainId}/nativeToken:${t.slip44}`;if(je.isHypercoreNetworkID(t.chainId))return"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`;if(je.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`;if(je.isSolanaNetworkID(t.chainId))return`${t.chainId}/address:${t.address}`;if(je.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/address:${e.address}`}return je.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`:Ct(t.chainId)};d();h();d();h();var aEe=O.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],i=e[1].split(":");if(i.length<2)return!1;let o=i[0],s=i[1];return typeof t=="string"&&je.isNetworkID(r)&&o.match(/^[-a-z0-9]{2,8}/)&&s.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});d();h();function cEe(t){return!t||t.resourceType!=="address"?!1:!!je.isEVMNetworkID(t.chainId)}d();h();d();h();d();h();function pB(t,e){return je.isBitcoinNetworkID(e)?qy.safeParse(t).success:je.isEVMNetworkID(e)?Fp.safeParse(t).success:je.isSolanaNetworkID(e)?qp.safeParse(t).success:je.isSuiNetworkID(e)?Kp.safeParse(t).success:Ct(e)}d();h();var mB=t=>{let e=je.getNetworkIDs(t),r=je.getMainnetNetworkID(e[0]),n=je[t].slip44;return{chainId:r,resourceType:"nativeToken",slip44:n}};d();h();d();h();d();h();function uEe(t){return p4.safeParse(t).success}function fEe(t){return y4.safeParse(t).success}function lEe(t){return m4.safeParse(t).success}var dEe=O.object({networkID:_l,addressType:O.nativeEnum(Tt),address:O.string()}),gmt=t=>`${t.networkID}-${t.address}`,hEe={toKey:gmt},pEe=t=>{let e={chainId:t.networkID,address:t.address,resourceType:"address"};return je.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e};d();h();function mEe(t){return[Ar.Solana.Devnet,Ar.Solana.Testnet,Ar.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}d();h();var yEe=O.object({id:_l,name:O.string(),symbol:O.string(),imageUrl:O.string()});function gEe(t){let{name:e,tokenSymbol:r,iconUrl:n}=je.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}d();h();function bEe(t){switch(t){case"devnet":return Ar.Solana.Devnet;case"mainnet":return Ar.Solana.Mainnet;case"testnet":return Ar.Solana.Testnet;case"localnet":return Ar.Solana.Localnet}}function vEe(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}d();h();var Vy=(t,e)=>{if(je.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return"bip122_p2tr";case(e.startsWith("bc1q")||e.startsWith("tb1q")):return"bip122_p2wpkh";case(e.startsWith("3")||e.startsWith("2")):return"bip122_p2sh";case(e.startsWith("1")||e.startsWith("m")):return"bip122_p2pkh"}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return je.isEVMNetworkID(t)?"eip155":je.isSolanaNetworkID(t)?"solana":je.isSuiNetworkID(t)?"sui":Ct(t)};d();h();var bmt=je.getAllNetworkIDs().filter(t=>je.isEVMNetworkID(t)),xEe=t=>bmt.find(e=>je.getNetworkDefinition(e).value===t);d();h();var wEe=t=>je.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return je.isMainnetNetworkID(e);if(t==="testnets_only")return!je.isMainnetNetworkID(e)}else return!0}).map(lY),lY=t=>`0x${je.getNetworkDefinition(t).value.toString(16)}`;d();h();var KEe=Ke(XT(),1),VEe=Ke(Er(),1);d();h();var gB=Ke(Er(),1);d();h();var yB=Ke(Er(),1),dY=yB.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED||yB.default.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE||yB.default.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Smt=!!dY.ReactCurrentDispatcher,SEe=dY.ReactCurrentDispatcher||dY,hY=0,W1=t=>{hY++;try{return t()}finally{hY--}};function g4(){let t=Smt?SEe.current:SEe.H;return hY===0&&!!t&&t.useState!==t.useEffect}var bB=(0,gB.createContext)(void 0);function pY(){if(g4())return(0,gB.useContext)(bB)}d();h();d();h();d();h();d();h();d();h();d();h();var mY=class{value;constructor(e){this.value=e}deref(){return this.value}},AEe=typeof WeakRef=="function"?WeakRef:mY;d();h();var Rc,Of;(function(t){t.StartUpdate="StartUpdate",t.EndUpdate="EndUpdate",t.StartLoading="StartLoading",t.EndLoading="EndLoading",t.Connected="Connected",t.Disconnected="Disconnected",t.ConsumeState="ConsumeState"})(Of||(Of={}));var vB;(function(t){t.State="state",t.Reactive="reactive",t.Watcher="watcher"})(vB||(vB={}));d();h();var Amt=0,EEe=new Map;function _Ee(t){let e=EEe.get(t);return e===void 0&&(e=`unknownSignal${Amt++}`,EEe.set(t,e)),e}d();h();var{log:TEe,floor:IEe,imul:qo,abs:Emt}=Math;function Fl(t,e=0){let r=e^t.length,n=3432918353,i=461845907,o=0;for(;o+4<=t.length;){let c=t.charCodeAt(o)&255|(t.charCodeAt(o+1)&255)<<8|(t.charCodeAt(o+2)&255)<<16|(t.charCodeAt(o+3)&255)<<24;c=qo(c,n),c=c<<15|c>>>17,c=qo(c,i),r^=c,r=r<<13|r>>>19,r=qo(r,5)+3864292196,o+=4}let s=0;switch(t.length&3){case 3:s^=(t.charCodeAt(o+2)&255)<<16;case 2:s^=(t.charCodeAt(o+1)&255)<<8;case 1:s^=t.charCodeAt(o)&255,s=qo(s,n),s=s<<15|s>>>17,s=qo(s,i),r^=s}return r^=t.length,r^=r>>>16,r=qo(r,2246822507),r^=r>>>13,r=qo(r,3266489909),r^=r>>>16,r>>>0}function _mt(t,e=0){t=Emt(t);let r=e,n=3432918353,i=461845907;for(;t>=4294967295;){let s=t&4294967295;t=IEe(t/4294967296),s=qo(s,n),s=s<<15|s>>>17,s=qo(s,i),r^=s,r=r<<13|r>>>19,r=qo(r,5)+3864292196}if(t>0){let s=t&4294967295;s=qo(s,n),s=s<<15|s>>>17,s=qo(s,i),r^=s}let o=t===0?1:IEe(TEe(t)/TEe(256))+1;return r^=o,r^=r>>>16,r=qo(r,2246822507),r^=r>>>13,r=qo(r,3266489909),r^=r>>>16,r>>>0}function bY(t){let e=7,r=3432918353,n=461845907;for(let i of t){let o=Hy(i);o=qo(o,r),o=o<<15|o>>>17,o=qo(o,n),e^=o,e=e<<13|e>>>19,e=qo(e,5)+3864292196}return e^=t.length,e^=e>>>16,e=qo(e,2246822507),e^=e>>>13,e=qo(e,3266489909),e^=e>>>16,e>>>0}function Tmt(t){let e=Rmt,r=Object.keys(t);for(let n of r)e+=Hy(n)^Hy(t[n]);return e>>>0}var Imt=Fl("undefined",0),Mmt=Fl("null",1),kmt=Fl("true",2),Pmt=Fl("false",3),N2r=Fl("array",7),Rmt=Fl("object",8),Bmt=Object.getPrototypeOf,Cmt=new Map([[Object.prototype,Tmt],[Array.prototype,bY]]);function Hy(t,e=[]){switch(typeof t){case"undefined":return Imt;case"boolean":return t?kmt:Pmt;case"number":return Fl(String(t),4);case"string":return Fl(t,5);case"bigint":return Fl(t.toString(),6);case"object":{if(t===null)return Mmt;let r=e.indexOf(t);if(r!==-1)return Fl(String(r),11);let n=Cmt.get(Bmt(t));if(n){e.push(t);let i=n(t);return e.pop(),i}return gY(t)}case"function":return gY(t);case"symbol":return Fl(t.toString(),10)}}var MEe=new WeakMap,Omt=1;function gY(t){let e=MEe.get(t);return e===void 0&&(e=_mt(Omt++,9),MEe.set(t,e)),e}var Nmt=bY([]);function kEe(t,e){return gY(t)^(e.length>0?bY(e):Nmt)}d();h();var PEe=new WeakMap,Dmt=1;function vY(t){let e=PEe.get(t);return e===void 0&&(e=`obj-${Dmt++}`,PEe.set(t,e)),e}function Umt(t){return Object.getPrototypeOf(t)===Object.prototype}function Lmt(t){return Array.isArray(t)}function xB(t){if(t===null)return"null";if(t===void 0)return"undefined";switch(typeof t){case"number":case"boolean":case"string":return String(t);case"bigint":return t.toString();case"symbol":return String(t);case"object":return t instanceof Date?t.toISOString():Lmt(t)?`[${t.map(xB).join(",")}]`:Umt(t)?`{ ${[...Object.entries(t),...Object.getOwnPropertySymbols(t).map(r=>[r,t[r]])].sort(([r],[n])=>String(r)<String(n)?-1:String(r)>String(n)?1:0).map(([r,n])=>`${String(r)}: ${xB(n)}`).join(", ")} }`:vY(t);case"function":return vY(t);default:return vY(t)}}var Fmt=0,b4=class{flags;scope=void 0;subs=new Map;deps=new Map;ref=new AEe(this);dirtyHead=void 0;updatedCount=0;computedCount=0;watchCount=0;_listeners=null;key;args;value;tracerMeta;def;constructor(e,r,n,i,o){this.flags=(e.isSubscription?4:0)|2,this.scope=i,this.key=n,this.args=r,this.def=e,this.value=o?.initValue,Rc&&(this.tracerMeta={id:o?.id??n??Hy([e.compute,Fmt++]),desc:o?.desc??e.compute.name??_Ee(e.compute),params:r.map(s=>xB(s)).join(", "),tracer:o?.tracer})}get _state(){return this.flags&3}set _state(e){this.flags=this.flags&-4|e}get _isListener(){return(this.flags&8)!==0}set _isListener(e){e?this.flags|=8:this.flags&=-9}get listeners(){return this._listeners??(this._listeners={updatedAt:0,current:new Set,cachedBoundAdd:this.addListener.bind(this)})}get(){return AB(this)}addListener(e){let{current:r}=this.listeners;return r.has(e)||(this._isListener||(this.watchCount++,this.flags|=8),wB(this),r.add(e)),()=>{r.has(e)&&(r.delete(e),r.size===0&&(SB(this),this.flags&=-9))}}addListenerLazy(){return this._isListener||(this.watchCount++,this.flags|=8),this.listeners.cachedBoundAdd}},REe=t=>{let{listeners:e}=t;if(e===null)return;let{current:r}=e;for(let n of r)n()},v4=t=>(t.flags&4)!==0;function x4(t,e=[],r,n,i){return new b4(t,e,r,n,i)}d();h();d();h();function w4(t){let e=t._state;e!==2&&(t._state=2,e!==3&&xY(t))}function xY(t){if(Pr===t)throw new Error("A signal was dirtied after it was consumed by the current function. This can cause race conditions and infinite rerenders and is not allowed.");v4(t)?t.watchCount>0&&EB(t):(t._isListener&&wB(t),wY(t.subs),t.subs=new Map)}function wY(t){for(let[e,r]of t){let n=e.deref();if(n===void 0||n.computedCount!==r.consumedAt)continue;let i=n._state;switch(i){case 0:n._state=3,n.dirtyHead=r,r.nextDirty=void 0,xY(n);break;case 1:case 3:{let o=n.dirtyHead,s=r.ord;if(o.ord>s)n.dirtyHead=r,r.nextDirty=o,i===1&&(n._state=3,xY(n));else{let c=o.nextDirty;for(;c!==void 0&&c.ord<s;)o=c,c=o.nextDirty;r.nextDirty=c,o.nextDirty=r}break}}}}var qmt=0,SY=class{_value;_equals;_subs=new Map;_desc;_id;_listeners=null;constructor(e,r=(i,o)=>i===o,n="state"){this._value=e,this._equals=r,this._id=qmt++,this._desc=`${n}${this._id}`}get(){return Pr!==void 0?(Rc?.emit({type:Of.ConsumeState,id:Pr.tracerMeta.id,childId:this._id,value:this._value,setValue:e=>{this.set(e)}}),this._subs.set(Pr.ref,Pr.computedCount),this._value):CEe(this)}update(e){this.set(e(this._value))}peek(){return this._value}set(e){if(this._equals(e,this._value))return;this._value=e;let{_subs:r,_listeners:n}=this;for(let[i,o]of r.entries()){let s=i.deref();s===void 0||o!==s.computedCount||w4(s)}this._subs=new Map,TB(this)}addListener(e){let r=this._listeners;return r===null&&(this._listeners=r=new Set),r.add(e),()=>r.delete(e)}};function BEe(t){let e=t._listeners;if(e!==null)for(let r of e)r()}var Kmt=()=>!1;function _B(t,e){let r=e?.equals===!1?Kmt:e?.equals??((n,i)=>n===i);return new SY(t,r,e?.desc)}d();h();function AY(t){let{watchCount:e}=t,r=e+1;if(t.watchCount=r,!(e>0)){t.scope?.removeFromGc(t);for(let n of t.deps.keys())AY(n);v4(t)&&jy(t)}}function EY(t,e=1){let{watchCount:r}=t,n=Math.max(r-e,0);if(t.watchCount=n,!(n>0)){for(let i of t.deps.keys())EY(i);v4(t)&&t.value?.(),n===0&&t.scope&&t.scope.markForGc(t)}}var Vmt=typeof requestIdleCallback=="function"?requestIdleCallback:t=>A4(t),OEe=!1,MB=[],kB=[],PB=new Map,_Y=[],TY=[],IB=new Set,Hmt=()=>Promise.resolve(),RB=null,S4=t=>{if(RB)return;let e;RB={promise:new Promise(n=>e=n),resolve:e},A4(fS)};var wB=t=>{MB.push(t),S4(fS)},EB=t=>{kB.push(t),S4(fS)},SB=t=>{let e=PB.get(t)??0;PB.set(t,e+1),S4(fS)},TB=t=>{_Y.push(t),S4(fS)},yY=t=>{TY.push(t),S4(fS)},NEe=t=>{IB.add(t),!(IB.size>1)&&Vmt(()=>{for(let e of IB)e.sweepGc();IB.clear()})},fS=async()=>{let t=RB;for(;OEe||kB.length>0||MB.length>0;){OEe=!1;let e=kB;kB=[];for(let n of e)jy(n);let r=MB;MB=[];for(let n of r)DEe(n);await Hmt()}RB=null,BB(()=>{for(let[e,r]of PB)EY(e,r);for(let e of _Y)e instanceof b4?REe(e):BEe(e);for(let e of TY)e.flush();PB.clear(),_Y=[],TY=[]}),t.resolve()};d();h();var UEe=0;function E4(t,e,r,n,i){return t===void 0?{type:e,dep:r,ord:UEe++,updatedAt:n,consumedAt:i,nextDirty:void 0}:(t.ord=UEe++,t.updatedAt=n,t.consumedAt=i,t.nextDirty=void 0,t)}function LEe(t,e){let r=t.dirtyHead;if(r===void 0)return;if(r.dep===e)return t.dirtyHead=r.nextDirty,r;let n=r.nextDirty;for(;n!==void 0;){if(n.dep===e)return r.nextDirty=n.nextDirty,n;r=n,n=r.nextDirty}}d();h();d();h();var jmt=function*(){}().constructor;function _4(t){return t.constructor===jmt}function T4(t){return t.constructor===Promise}function I4(t){return t.constructor===ch}d();h();var CB=(t,e)=>t===e,zmt=()=>!1,M4=t=>t===!1?zmt:t??CB;var ch=class t{_value=void 0;_error=void 0;_flags=0;_signal=void 0;_equals;_promise;_pending=[];_stateSubs=new Map;_awaitSubs=new Map;_version=_B(0);_boundRun;static createPromise(e,r,n){let i=new t;return i._signal=r,i._equals=r?.def.equals??CB,i._initFlags(1,n),e&&i._setPromise(e),i}static createSubscription(e,r,n){let i=new t,o=n?.initValue,s=!1,c,l=()=>{typeof c=="function"?c():c!==void 0&&c.unsubscribe?.();let b=i._signal;b.subs=new Map,b._state=2,b.watchCount=0,s=!1,c=void 0},m={get:()=>i._value,set:b=>{b!==null&&typeof b=="object"&&T4(b)?i._setPromise(b):i._setValue(b)},setError:b=>{i._setError(b)}},w={compute:()=>(s===!1?(c=e(m),s=!0):typeof c=="function"||c===void 0?(c?.(),c=e(m)):c.update?.(),l),equals:CB,isSubscription:!0};return i._signal=x4(w,[],void 0,r,n),i._equals=M4(n?.equals),i._initFlags(129,o),i}static createTask(e,r,n){let i=new t,o=n?.initValue;return i._signal=(...s)=>FEe(r,()=>{let c=e(...s);return typeof c=="object"&&c!==null&&_4(c)?OB(c,void 0):c}),i._equals=M4(n?.equals),i._initFlags(64,o),i}_initFlags(e,r){let n=e;r!==void 0&&(n|=8),this._flags=n,this._value=r}_consumeFlags(e){if(Pr===void 0)return;this._flags&128&&this._connect();let r=Pr.ref,n=this._stateSubs,i=n.get(r)??0;n.set(r,i|e)}_connect(){let e=this._signal;if(Pr?.watchCount===0){let{ref:r,computedCount:n,deps:i}=Pr,o=i.get(e);if(o?.consumedAt!==n){let s=E4(o,0,e,e.updatedCount,n);e.subs.set(r,s),i.set(e,s)}}else AB(e)}_setFlags(e,r=0,n=0){let i=this._flags,o=i&~r|e,s=i^o|n;if(this._flags=o,s===0)return;let c=this._stateSubs;for(let[l,m]of c)if(m&s){let w=l.deref();w&&w4(w),c.delete(l)}this._version.update(l=>l+1)}_setPending(){this._setFlags(1)}async _setPromise(e){this._promise=e;let r=this._flags,n=this._awaitSubs;r&1||(this._setPending(),wY(n),this._awaitSubs=n=new Map);try{let i=await e;if(e!==this._promise)return;this._setValue(i,n)}catch(i){if(e!==this._promise)return;this._setError(i,n)}}_setValue(e,r=this._awaitSubs){let n=this._flags,i=this._value,o=0;(!(n&8)||this._equals(i,e)===!1)&&(this._value=i=e,o=16),n&2&&(o=32,this._error=void 0),this._scheduleSubs(r,o!==0),this._setFlags(12,3,o);for(let{ref:s,edge:c,resolve:l}of this._pending)l?.(i),s!==void 0&&r.set(s,c);this._pending=[]}_setError(e,r=this._awaitSubs){let n=this._error,i=0;n!==e&&(this._error=n=e,i=32),this._scheduleSubs(r,i!==0),this._setFlags(2,5,i);for(let{ref:o,edge:s,reject:c}of this._pending)c?.(n),o!==void 0&&r.set(o,s);this._pending=[]}_scheduleSubs(e,r){let n=r?2:3;for(let i of e.keys()){let o=i.deref();o!==void 0&&(o._state=n,EB(o))}}get value(){return this._consumeFlags(16),this._value}get error(){return this._consumeFlags(32),this._error}get isPending(){return this._consumeFlags(1),(this._flags&1)!==0}get isRejected(){return this._consumeFlags(2),(this._flags&2)!==0}get isResolved(){return this._consumeFlags(4),(this._flags&4)!==0}get isReady(){return this._consumeFlags(8),(this._flags&8)!==0}get isSettled(){return this._consumeFlags(6),(this._flags&6)!==0}get data(){return this.value}get isFetching(){return this.isPending}get isSuccess(){return this.isResolved}get isError(){return this.isRejected}get isFetched(){return this.isSettled}_run(...e){let r=this._flags,n=this._signal;if(r&64)this._setPromise(n(...e));else if(n)w4(n);else throw new Error("ReactivePromise is not runnable. If you are using run() on a ReactivePromise, make sure you used `task` to create this promise. If you are using rerun(), make sure its a promise that was generated by a reactive async function.");return this}run=this._run.bind(this);get rerun(){return this.run}then(e,r){let n=this._flags;return new Promise((i,o)=>{let s,c;if(Pr!==void 0){n&128&&this._connect(),s=Pr.ref;let w=this._awaitSubs.get(s)??LEe(Pr,this);c=E4(w,1,this,-1,Pr.computedCount)}let l=e?w=>{try{let b=e(w);i(b)}catch(b){o(b)}}:i,m=r?w=>{try{let b=r(w);i(b)}catch(b){o(b)}}:o;n&1?this._pending.push({ref:s,edge:c,resolve:l,reject:m}):(n&4?l(this._value):n&2&&m(this._error),s&&this._awaitSubs.set(s,c))})}catch(e){return this.then(null,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}get[Symbol.toStringTag](){return"ReactivePromise"}};function IY(t){return t instanceof ch&&(t._flags&128)!==0}var Pr;function AB(t){if(Pr!==void 0){let{ref:e,computedCount:r,deps:n}=Pr,i=n.get(t);if(i?.consumedAt!==r){i===void 0&&(Rc?.emit({type:Of.Connected,id:Pr.tracerMeta.id,childId:t.tracerMeta.id,name:t.tracerMeta.desc,params:t.tracerMeta.params,nodeType:vB.Reactive}),Pr.watchCount>0&&AY(t));let s=jy(t),c=E4(i,0,t,s,r);t.subs.set(e,c),n.set(t,c)}}else jy(t);return t.value}function jy(t){let{ref:e,_state:r}=t;if(r<2)return t.updatedCount;if(r===3){let n=t.dirtyHead;for(;n!==void 0;){if(n.type===1){let s=n.dep;if(s.isPending){let c=t.value;return c instanceof ch&&c._setPending(),s._awaitSubs.set(e,n),r=1,t.dirtyHead=n,t.updatedCount}n=n.nextDirty;continue}let i=n.dep,o=jy(i);if(i.subs.set(e,n),n.updatedAt!==o){t.dirtyHead=n.nextDirty,r=2;break}n=n.nextDirty}}return r===2&&Wmt(t),t._state=0,t.dirtyHead=void 0,Rc!==void 0&&t.tracerMeta?.tracer&&yY(t.tracerMeta.tracer),t.updatedCount}function Wmt(t){Rc?.emit({type:Of.StartUpdate,id:t.tracerMeta.id});let e=Pr,r=t.updatedCount,n=++t.computedCount;try{Pr=t;let i=r!==0,o=t.value,s=t.def.compute(...t.args),c=!1;if(s!==null&&typeof s=="object"&&(_4(s)?(s=OB(s,t),c=!0):T4(s)&&(c=!0)),c)if(Rc!==void 0&&(Rc.emit({type:Of.StartLoading,id:t.tracerMeta.id}),s.finally(()=>{Rc.emit({type:Of.EndLoading,id:t.tracerMeta.id,value:t.value})})),Rc?.emit({type:Of.StartLoading,id:t.tracerMeta.id}),o!==null&&typeof o=="object"&&I4(o))o._setPromise(s);else{let l=i?void 0:o;t.value=ch.createPromise(s,t,l),t.updatedCount=r+1}else(!i||!t.def.equals(o,s))&&(t.value=s,t.updatedCount=r+1)}finally{Pr=e,Rc?.emit({type:Of.EndUpdate,id:t.tracerMeta.id,value:t.value});let{ref:i,deps:o}=t;for(let[s,c]of o)c.consumedAt!==n&&(SB(s),s.subs.delete(i),o.delete(s),Rc?.emit({type:Of.Disconnected,id:t.tracerMeta.id,childId:s.tracerMeta.id}))}}function DEe(t,e=!1){let r=t.listeners;e&&(r===null||r.current.size===0)&&(t.watchCount++,t.flags|=8);let n=jy(t);return r!==null&&r.updatedAt!==n&&(r.updatedAt=n,TB(t)),n}function MY(t){let e=Pr;return(...r)=>{let n=Pr;Pr=e;try{let i=t(...r);return i!==null&&typeof i=="object"&&_4(i)?OB(i,e):i}finally{Pr=n}}}function OB(t,e){function r(n){return typeof n=="object"&&n!==null&&(T4(n)||I4(n))?n:Promise.resolve(n)}return new Promise((n,i)=>{function o(l){l.done?n(l.value):r(l.value).then(s,c)}function s(l){let m=Pr;try{Pr=e,o(t.next(l))}catch(w){i(w)}finally{Pr=m}}function c(l){let m=Pr;try{Pr=e,o(t.throw(l))}catch(w){i(w)}finally{Pr=m}}o(t.next())})}var A4=t=>{setTimeout(()=>{t()},0)},BB=t=>t(),k4=()=>{},kY=t=>t.get(),PY=t=>t.get();function qEe(t){return Pr!==void 0?t.get():PY(t)}function CEe(t){return kY(t)}function RY(t){A4=t.scheduleFlush??A4,BB=t.runBatch??BB,k4=t.getFrameworkScope??k4,kY=t.useStateSignal??kY,PY=t.useDerivedSignal??PY}var Gmt=Symbol("signalium:context"),$mt=0,BY=class{defaultValue;_key;_description;constructor(e,r){this.defaultValue=e,this._description=r??`context:${$mt++}`,this._key=Symbol(this._description)}},G1=(t,e)=>new BY(t,e),lS=class t{constructor(e,r){this.contexts=Object.create(r?.contexts||null),this.setContexts(e)}contexts;children=new Map;signals=new Map;gcCandidates=new Set;setContexts(e){for(let[r,n]of e)this.contexts[r._key]=n;this.signals.clear()}getChild(e){let r=Hy(e),n=this.children.get(r);return n===void 0&&(n=new t(e,this),this.children.set(r,n)),n}getContext(e){let r=e;return this.contexts[r._key]}get(e,r,n){let i=n?.paramKey?.(...r),o=kEe(e.compute,i?[i]:r),s=this.signals.get(o);return s===void 0&&(s=x4(e,r,o,this,n),this.signals.set(o,s)),s}markForGc(e){this.gcCandidates.has(e)||(this.gcCandidates.add(e),NEe(this))}removeFromGc(e){this.gcCandidates.delete(e)}forceGc(e){this.signals.delete(e.key)}sweepGc(){for(let e of this.gcCandidates)if(e.watchCount===0){let{shouldGC:r}=e.def;(!r||r(e,e.value,e.args))&&this.signals.delete(e.key)}this.gcCandidates=new Set}},NB=new lS([]);function CY(t){NB.setContexts(t)}var P4,OY=()=>P4??Pr?.scope??k4()??NB;var FEe=(t,e)=>{let r=P4;try{return P4=t,e()}finally{P4=r}},zy=t=>{let e=P4??Pr?.scope??k4();if(e===void 0)throw new Error("useContext must be used within a signal hook, a withContext, or within a framework-specific context provider.");return e.getContext(t)??t.defaultValue};function HEe({children:t,contexts:e=[],inherit:r=!0}){let n=(0,VEe.useContext)(bB)??NB,i=new lS(e,r?n:void 0);return(0,KEe.jsx)(bB.Provider,{value:i,children:t})}d();h();d();h();d();h();var R4=Ke(Er(),1);function NY(t){return g4()?(0,R4.useSyncExternalStore)((0,R4.useCallback)(e=>t.addListener(e),[t]),()=>t.peek(),()=>t.peek()):t.peek()}function DY(t){if(!g4())return t.get();let e=(0,R4.useSyncExternalStore)(t.addListenerLazy(),()=>t.get(),()=>t.get());return typeof e=="object"&&e!==null&&I4(e)&&(IY(e)&&DY(e._signal),NY(e._version)),e}function UY(){RY({useDerivedSignal:DY,useStateSignal:NY,getFrameworkScope:pY})}d();h();var Ymt=Ke(Er(),1);d();h();var dS=_B;function qs(t,e){let r={compute:t,equals:M4(e?.equals),shouldGC:e?.shouldGC,isSubscription:!1};return(...n)=>{let o=OY().get(r,n,e);return qEe(o)}}var B4=(t,e)=>{let r=OY();return ch.createTask(t,r,e)};d();h();d();h();d();h();d();h();var $1=()=>{let t=dS(void 0,{equals:()=>!1});return{consume:()=>t.get(),notify:()=>t.set(void 0)}};UY();d();h();d();h();d();h();d();h();d();h();d();h();var C4=class{namespaces=new Map;options;_initPromise;constructor(e){this.options=e;let{namespaces:r}=this;for(let n of e.namespaces){if(r.has(n.key))throw new Error(`Duplicate namespace key: ${n.key}`);r.set(n.key,n)}}async init(){return this._initPromise||(this._initPromise=this._init()),this._initPromise}async _init(){let e=this.options.backingStore,r=Array.from(this.namespaces.values());await e.init?.(r),await Promise.all(r.map(n=>n.init(e,this.options.initDeadline??500)))}getNamespace(e){let r=this.namespaces.get(e.key);if(!r)throw new Error(`Namespace ${e.key} not found, make sure it was passed to the MMKVStorage constructor`);return r}get(e,r){return this.getNamespace(e).get(r)}async set(e,r,n){return this.getNamespace(e).set(r,n)}async sendEvent(e){await Promise.all(Array.from(this.namespaces.values()).map(r=>r.sendEvent(e)))}destroy(){for(let e of this.namespaces.values())e.destroy()}},DB=G1(null);function Y1(){let t=zy(DB);if(!t)throw new Error("useMMKVStorage must be used within a ContextProvider with MMKVStorageContext set");return t}var jEe=async t=>{let e=new C4({backingStore:t.backingStore,initDeadline:t.initDeadline,namespaces:t.namespaces});return CY([[DB,e]]),await e.init(),zEe(),e},zEe,Qmt=new Promise(t=>{zEe=t}),O4=async(t,e)=>(await Qmt,W1(()=>t(e)));var Jmt=t=>{switch(t){case"boolean":return O.boolean();case"number":return O.number();case"string":return O.string();default:return O.object({}).passthrough()}},Xmt=(t,e)=>{let r=new Map;for(let n of e){let i=n.type;if(i===void 0){let s=typeof n.defaultValue;if(s!=="undefined"&&s!=="function")i=typeof n.defaultValue;else throw new Error(`Item ${n.key} has no type and no default value, or the default value is a function. You must provide a type for this item.`)}let o=n.validator??Jmt(i);n.nullable&&(o=o.nullish().default(null)),r.set(n.key,{...n,schema:t,type:i,validator:o,nullable:n.nullable??!1,updateOn:n.updateOn??"idle"})}return n=>{let i=r.get(n);if(!i)throw new Error(`Item ${n} not found in schema ${t}`);return i}};function hS(t,e,r){let n=Xmt(e,r),i=qs(s=>Y1().get(t,n(s))),o=qs(s=>{let c=Y1();return MY(l=>c.set(t,n(s),l))});return[i,o]}d();h();var UB=(t,e)=>{if(!t)throw new Error(e);return t},LY=class t{key;readonly;disableCache;_store;_state;_hooks;_init;_deps;_removeStoreListener=void 0;onChangeCallbacks=[];localNotifier=$1();eventNotifiers={change:$1(),idle:$1()};constructor(e,r){this.key=e.key,this.disableCache=e.disableCache??!1,this.readonly=e.readonly??!1,this._init=e.init??void 0,this._deps=r}get state(){return UB(this._state,`Namespace ${this.key} is not initialized`)}get hooks(){return UB(this._hooks,`Namespace ${this.key} is not initialized`)}get deps(){return UB(this._deps,`Namespace ${this.key} is not initialized`)}get store(){return UB(this._store,`Namespace ${this.key} is not initialized`)}withDeps(e){return new t({key:this.key,disableCache:this.disableCache,readonly:this.readonly,init:this._init},e)}onStoreChange=e=>{let{state:r}=this;if(r.remoteState=e.remoteState,this.onChangeCallbacks.forEach(n=>n(r.remoteState)),this.state.localVersion<e.localVersion)r.localVersion=e.localVersion,this.localNotifier.notify();else if(r.remoteVersion<e.remoteVersion){r.remoteVersion=e.remoteVersion;for(let[n,i]of Object.entries(r.eventVersions)){let o=e.eventVersions[n];i<o&&(r.eventVersions[n]=o,this.eventNotifiers[n].notify())}}};async init(e,r){this._state=e.getNamespace(this.key)??{localVersion:0,remoteVersion:0,remoteState:null,eventVersions:{change:0,idle:0}},this._store=e,this._removeStoreListener=e.onNamespaceChange?.(this.key,this.onStoreChange);let n={get:()=>this.state.remoteState,set:i=>{this.setRemoteState(i)},onChange:i=>{this.onChangeCallbacks.push(i)}};this._hooks=await this._init?.(this.deps,n,r)??{}}getRemoteState(){return this.eventNotifiers.change.consume(),this.state.remoteState}setRemoteState(e){this.state.remoteState=e,this.state.remoteVersion++,this.sendEvent("change")}updateRemoteState(e){this.setRemoteState(e(this.state.remoteState))}getState=qs(e=>{let r=this.store.getItem(this.key,e.schema,e.key)??{value:null,version:-1},n=e.updateOn,i=this.state.eventVersions[n],o=this.eventNotifiers[n];if(r.version<i||this.disableCache){if(this.hooks.getValue){r.value=this.hooks.getValue(e,r.value);let s=e.validator.safeParse(r.value);r.value=s.success?s.data:null}r.value===null&&(r.value=typeof e.defaultValue=="function"?e.defaultValue():e.defaultValue??null),r.version=i,this.store.setItem(this.key,e.schema,e.key,r)}if(r.value===null&&!e.nullable)throw new Error(`MMKVStorage: Item ${e.key} on namespace ${this.key} is not nullable and has no default value`);return o.consume(),this.localNotifier.consume(),dS(r.value)});get=qs(e=>this.getState(e).get());async set(e,r){if(this.readonly)throw new Error(`Cannot set value on read-only namespace: ${this.key}`);let n=e.validator.parse(r),i=this.getState(e),o=await this.hooks.setValue?.(e,i.peek(),n)??n;i.set(o),await this.store.setItem(this.key,e.schema,e.key,{value:o,version:this.state.remoteVersion}),this.state.localVersion++,await this.store.setNamespace(this.key,this.state)}async sendEvent(e){this.state.eventVersions[e]!==this.state.remoteVersion&&(this.state.eventVersions[e]=this.state.remoteVersion,this.eventNotifiers[e].notify(),await this.store.setNamespace(this.key,this.state))}destroy(){this._removeStoreListener?.()}};function LB(t){return new LY(t)}d();h();d();h();var CC=Ke(I4e()),jxt="eppo-phantom",zxt="0.0.1",Wxt="https://eppo-proxy.phantom.app/api",WQ=class extends CC.MemoryOnlyConfigurationStore{constructor(r){super();this.state=r;let n=this.state.get();n&&super.setEntries(n),this.state.onChange(i=>{super.setEntries(i)})}setEntries(r){return this.state.set(r),super.setEntries(r)}},BC=null;async function Gxt({apiKey:t,pollingEnabled:e,state:r,logTelemetry:n,initDeadline:i}){let o=new WQ(r),s=new CC.EppoClient({flagConfigurationStore:o}),c={apiKey:t,sdkName:jxt,sdkVersion:zxt,baseUrl:Wxt,pollAfterSuccessfulInitialization:e,pollAfterFailedInitialization:e};s.setConfigurationRequestParameters(c);let l=performance.now();n?.("Eppo: Initializing Eppo provider ..."),await o.init();let m=s.fetchFlagConfigurations();o.getKeys().length===0?(n?.("Eppo: No initial values in the configuration store, waiting for the first fetch"),await Promise.race([m,new Promise(b=>setTimeout(b,i))])):n?.("Eppo: Initial values in the configuration store, serving from store and skipping initial fetch");let w=performance.now()-l;return n?.(`Eppo: Initialized Eppo provider in ${w.toFixed(2)}ms`),s}async function M4e(t){return BC||(BC=Gxt(t),BC)}var GQ={getBooleanAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getStringAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getNumericAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getJSONAssignmentDetails:(t,e,r,n)=>({variation:n,action:null})};var $xt=async(t,e,r)=>{let{eppoClient:n}=t;if(t.logTelemetry?.("Eppo: Initializing Eppo provider ..."),!n)if(!Vp()||rI())n=GQ;else{let i={get:()=>e.get()?.eppoConfig??null,set:o=>e.set({overrides:e.get()?.overrides??{},eppoConfig:o}),onChange:o=>e.onChange(({eppoConfig:s})=>o(s))};n=await M4e({apiKey:t.apiKey,pollingEnabled:t.pollingEnabled,state:i,logTelemetry:t.logTelemetry,initDeadline:r})}return{getValue:(i,o)=>{try{let s,c,l=i.key,{subjectId:m,subjectAttributes:w}=t,b=e.get();if(b?.overrides[l]!==void 0)return b.overrides[l]??null;if(i.isLegacyStringBoolean)s=n.getStringAssignmentDetails(l,m,w,"DEFAULT"),s.variation==="DEFAULT"?c=i.defaultValue??null:c=s.variation==="variant";else{switch(i.type){case"boolean":s=n.getBooleanAssignmentDetails(l,m,w,i.defaultValue);break;case"string":s=n.getStringAssignmentDetails(l,m,w,i.defaultValue);break;case"number":s=n.getNumericAssignmentDetails(l,m,w,i.defaultValue);break;default:s=n.getJSONAssignmentDetails(l,m,w,i.defaultValue)}c=s.variation}if(c!==o&&t.analytics&&s.evaluationDetails){let E=s.evaluationDetails,I=E.matchedAllocation?.key,M=E.variationKey,k={allocation:I??null,experiment:I?`${l}-${I}`:null,featureFlag:l,variation:M??null,subject:m,timestamp:new Date().toISOString(),subjectAttributes:w};t.analytics.capture("eppoRandomizationEvent",{data:{distinctId:m,properties:k}}),t.telemetry?.trackFeatureFlag(l,c)}return c??null}catch(s){return console.error("Error fetching feature flag",s),i.defaultValue??null}}}},a8=LB({key:"flags",init:$xt,disableCache:mc()}),Yxt=qs(()=>{let e=Y1().getNamespace(a8);return[e.getRemoteState()?.overrides,r=>{let n=typeof r=="function"?r(e.getRemoteState()?.overrides??{}):r;e.updateRemoteState(i=>({eppoConfig:i?.eppoConfig??{},overrides:n})),e.sendEvent("idle")}]}),$Q=new WeakMap,YQ=(t,e)=>{let r=e.map(i=>({...i,defaultValue:Vp()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=hS(a8,`feature:${t}`,r);return $Q.set(n,e),n},ZQ=(t,e)=>{let r=e.map(o=>({key:typeof o=="string"?o:o.key,defaultValue:!1,type:"boolean",updateOn:"change",isLegacyStringBoolean:typeof o=="object"?o.isLegacyStringBoolean:!1})),[n]=hS(a8,`kill-switch:${t}`,r),i=o=>{try{return n(o)}catch{return!1}};return $Q.set(i,r),i},QQ=(t,e)=>{let r=e.map(i=>({...i,defaultValue:Vp()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=hS(a8,`config:${t}`,r);return $Q.set(n,e),n};var c8=YQ("general",[{key:"enable-psol-staking",defaultValue:!1,devDefaultValue:!0},{key:"enable-fungible-categories",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-welcome-modal",defaultValue:!1,devDefaultValue:!0},{key:"enable-trusted-token-badge",defaultValue:!1,devDefaultValue:!0},{key:"enable-fungible-position",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-feed-update-trigger",defaultValue:!1},{key:"enable-top-traders-in-explore",defaultValue:!1,devDefaultValue:!0},{key:"enable-top-traders-in-feed",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-feed-nux",defaultValue:!1,devDefaultValue:!0},{key:"enable-internal-perps-actions",defaultValue:!1,devDefaultValue:!0},{key:"enable-ext-swap-commands",defaultValue:!1,devDefaultValue:!0},{key:"enable-custom-tips",defaultValue:!1,devDefaultValue:!0},{key:"enable-ngs-bridging",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps",defaultValue:!1,devDefaultValue:!0},{key:"enable-remove-swap-cta",defaultValue:!1,devDefaultValue:!1},{key:"enable-perps-manual-retry",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-relay-bridge",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-relay-bridge-sol",defaultValue:!1,devDefaultValue:!1},{key:"enable-share-perps-feedback",defaultValue:!1,devDefaultValue:!0},{key:"enable-be-swapper-max-amount",defaultValue:!1,devDefaultValue:!0},{key:"enable-classic-swapper-ext",defaultValue:!1,devDefaultValue:!0},{key:"enable-swap-settings-redesign",defaultValue:!1,devDefaultValue:!0},{key:"enable-ledger-swaps-mobile",defaultValue:!1,devDefaultValue:!0},{key:"enable-ledger-swaps-ext",defaultValue:!1,devDefaultValue:!0},{key:"enable-swapper-exact-out",defaultValue:!0,devDefaultValue:!0},{key:"enable-force-upgrade",defaultValue:!1,isLegacyStringBoolean:!0},{key:"enable-kyc",defaultValue:!1,devDefaultValue:!0},{key:"enable-seedless-pin-verification-interstitial",defaultValue:!1,devDefaultValue:!0},{key:"enable-synced-storage",defaultValue:!1,devDefaultValue:!0},{key:"enable-delete-seedless-bundle",defaultValue:!1,devDefaultValue:!0},{key:"enable-new-fiat-ramp",defaultValue:!1,devDefaultValue:!0},{key:"enable-cleanup-on-not-registered-error",defaultValue:!1,devDefaultValue:!0},{key:"enable-onboarding-auth-bypass-fix",defaultValue:!1,devDefaultValue:!0},{key:"enable-withdraw-sol",defaultValue:!1,devDefaultValue:!0},{key:"enable-liquid-staking-rewards-card",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-convert-banner",defaultValue:!1,devDefaultValue:!0},{key:"enable-deposit-psol-with-kamino-link",defaultValue:!1,devDefaultValue:!0},{key:"enable-uk-staking-disclaimers",defaultValue:!1,devDefaultValue:!0},{key:"enable-uk-staking-override",defaultValue:!1,devDefaultValue:!1},{key:"always-show-all-sites-permissions",defaultValue:!1},{key:"enable-arbitrum",defaultValue:!1,devDefaultValue:!0},{key:"enable-cash",defaultValue:!1,devDefaultValue:!0},{key:"enable-bug-reporter",defaultValue:!1,devDefaultValue:!0},{key:"enable-buy-flow-warning",defaultValue:!1},{key:"enable-onboarding-aa",defaultValue:!1},{key:"enable-bypass-utxo-protection",defaultValue:!1,devDefaultValue:!0},{key:"enable-cash-waitlist",defaultValue:!1,devDefaultValue:!1}]),JQ=QQ("general",[{key:"feed-feedback-link",type:"string",nullable:!0},{key:"seedless-pin-verification-timer-in-ms",type:"number",nullable:!0},{key:"latest-terms-of-service-version-number",type:"string",nullable:!0},{key:"sui-gas-budget-multiplier",type:"string",nullable:!0},{key:"frontend-transaction-sharing-delay-ms",type:"number",nullable:!0},{key:"psol-popup-copy-test",type:"string",nullable:!0},{key:"swapper-poll-interval-json",type:"object",nullable:!0},{key:"swapper-high-slippage-threshold",type:"string",nullable:!0},{key:"enabled-ugc-programs",type:"object",nullable:!0},{key:"transactions-simulation-interval-ms",type:"string",nullable:!0},{key:"explore-config",type:"object",nullable:!0},{key:"auto-confirm-session-duration",type:"number",nullable:!1,defaultValue:7200},{key:"wallet-balance-background-foreground-timer",type:"string",nullable:!0},{key:"network-logger-config-json",type:"object",nullable:!0}]),u8=ZQ("general",["kill-action-banners","kill-frontend-server-time","kill-frontend-local-check",{key:"kill-automatic-approval",isLegacyStringBoolean:!0},"kill-clickjack-protection","kill-base-history","kill-blowfish-blocklist-cursor","kill-collectibles","kill-explore","kill-extension-storage-integrity-check","kill-dynamic-price-in-explore","kill-ledger-xpub-derivation","kill-phantom-validator",{key:"kill-previous-blocklist",isLegacyStringBoolean:!0},"kill-send-simulation","kill-sui-default-on-modal","kill-swapper",{key:"kill-swapper-simulation",isLegacyStringBoolean:!0},"kill-vault-secure-cache","kill-liquid-staking-convert","kill-suins","kill-perps-funding","kill-perps-withdrawal"]);d();h();var XQ=qs(t=>({data:t.map(r=>r.startsWith("kill-")?u8(r):c8(r)),isLoading:!1,isFetched:!0})),uv={isFeatureEnabled(t){return t==="enabled-ugc-programs"?!0:W1(()=>t.startsWith("kill-")?u8(t):c8(t))},isFeatureEnabledAsync(t){return t.startsWith("kill-")?O4(u8,t):O4(c8,t)},getMultivariateAssignment(t,e){let r=W1(()=>JQ(t));return typeof r=="string"||r===null?r:JSON.stringify(r)}};d();h();d();h();var Zxt=T.EPPO_API_KEY;d();h();d();h();var Qxt="Error message ignored by logging middleware.",k4e=t=>({beforeEvent:(...[e,r])=>{for(let n of t)if((e instanceof Error?e.message:e)===n)throw new Error(Qxt);return{value:e,...r.data?{data:r.data}:{}}},afterEvent:void 0});d();h();var Jxt="Sensitive data detected by pki scanner. File logging blocked.",Xxt=["seed","mnemonic","seedAndMnemonic","ObfuscatedBytes"],P4e=new RegExp(`(${Xxt.join("|")})`,"mi"),ES={beforeEvent:(...[t,e])=>{let r=t instanceof Error?t.message:t;if(P4e.test(r)||e.data&&P4e.test(JSON.stringify(e.data)))throw new Error(Jxt);return{value:t,...e.data?{data:e.data}:{}}},afterEvent:void 0};var ewt=["premature close"],twt=k4e(ewt),fv=class extends Error{constructor(e="File logger uninitialized. Call fileLogger.init() before calling other functions."){super(e)}};function rwt(t=[]){let e=null;async function r({provider:l}){await l.init(),e={provider:l}}async function n(l){if(!e)throw new fv;return e.provider.downloadLog(l)}async function i(){if(!e)throw new fv;return e.provider.getLogFilePaths()}async function o(){if(!e)throw new fv;return e.provider.getRecentLogs()}async function s(l){if(!e)throw new fv;return e.provider.sendLogFilesByEmail(l)}function c(l,m,w,b){if(!e)throw new fv;for(let E of t)if(E?.beforeEvent!==void 0)try{E.beforeEvent(l,{featureTag:m,severity:w})}catch(I){mc()&&I instanceof Error&&console.warn(I.message);return}e.provider.write(l,m,w,b);for(let E of t)if(E?.afterEvent!==void 0)try{E.afterEvent(l,{featureTag:m,severity:w})}catch(I){mc()&&I instanceof Error&&console.warn(I.message);return}}return{init:r,downloadLog:n,getLogFilePaths:i,getRecentLogs:o,sendLogFilesByEmail:s,write:c}}var lv=rwt([twt,ES]);d();h();d();h();d();h();d();h();d();h();d();h();function _S(t,e,r){let n=r.getHandler(),i=Array.isArray(n)?n:[n];return R4e[t]>=R4e[r.getLevel()]&&i.includes(e)}var Gt={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},R4e={[Gt.ok]:0,[Gt.debug]:1,[Gt.info]:2,[Gt.notice]:4,[Gt.warn]:5,[Gt.error]:6,[Gt.critical]:7,[Gt.alert]:8,[Gt.emerg]:9};d();h();function Xy(t,{includeMessage:e=!1}={}){return{stack:t.stack,kind:t.type,message:e?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}var nwt=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},dv={console:"console",http:"http",silent:"silent"},B4e=Object.keys(Gt),Ma=class{constructor(e,r,n=dv.http,i=Gt.debug,o={}){this.handleLogStrategy=e,this.handlerType=n,this.level=i,this.contextManager=Ox("logger"),this.contextManager.setContext(o),r&&this.contextManager.setContextProperty("logger",{name:r})}logImplementation(e,r,n=Gt.info,i,o){let s=Rx(r),c;if(i!=null){let l=Nae({stackTrace:Uae(i)?aI(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:ta.LOGGER,handling:"handled",startClocks:Eae()});c=Bx({error:Xy(l,{includeMessage:!0})},s)}else c=s;this.handleLogStrategy({message:Rx(e),context:c,status:n},this,o)}log(e,r,n=Gt.info,i){let o;_S(n,dv.http,this)&&(o=jF("log")),this.logImplementation(e,r,n,i,o)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,r){this.contextManager.setContextProperty(e,r)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}};nwt([Iae],Ma.prototype,"logImplementation",null);Ma.prototype.ok=op(Gt.ok);Ma.prototype.debug=op(Gt.debug);Ma.prototype.info=op(Gt.info);Ma.prototype.notice=op(Gt.notice);Ma.prototype.warn=op(Gt.warn);Ma.prototype.error=op(Gt.error);Ma.prototype.critical=op(Gt.critical);Ma.prototype.alert=op(Gt.alert);Ma.prototype.emerg=op(Gt.emerg);function op(t){return function(e,r,n){let i;_S(t,dv.http,this)&&(i=jF("log")),this.logImplementation(e,r,t,n,i)}}d();h();function C4e(t,e,r){return{view:{referrer:document.referrer,url:self.location.href},context:t.getContext(),user:e.getContext(),account:r.getContext()}}d();h();d();h();var owt=32*1024;function N4e(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&Sd.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let e=Rae(t),r=O4e(t.forwardConsoleLogs,HF(bo),"Forward Console Logs"),n=O4e(t.forwardReports,HF(qae),"Forward Reports");if(!(!e||!r||!n))return t.forwardErrorsToLogs&&!r.includes(bo.error)&&r.push(bo.error),{forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:owt,...e}}function O4e(t,e,r){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(n=>e.includes(n)))){Sd.error(`${r} should be "all" or an array with allowed values "${e.join('", "')}"`);return}return t==="all"?e:jae(t)}function D4e(t){let e=Bae(t);return{forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,...e}}function U4e(t,e,r){let n=zae(),i,o,s=e.observable.subscribe(c);function c(){if(!o||!i||!e.isGranted())return;s.unsubscribe();let l=r(i,o);n.drain(l)}return{init(l){if(!l){Sd.error("Missing configuration");return}if(Cae(l.enableExperimentalFeatures),Qh()&&(l=swt(l)),i=l,o){uI("DD_LOGS",l);return}let m=N4e(l);m&&(o=m,hI().subscribe(ru),e.tryToInit(m.trackingConsent),c())},get initConfiguration(){return i},getInternalContext:ru,handleLog(l,m,w,b=t(),E=zp()){n.add(I=>I.handleLog(l,m,w,b,E))}}}function swt(t){return{...t,clientToken:"empty"}}var eJ="logs";function L4e(t){let e=Ox("global context"),r=Ox("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),n=Ox("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),i=kae();function o(){return C4e(e,r,n)}let s=U4e(o,i,(m,w)=>{m.storeContextsAcrossPages&&(pI(w,e,eJ,2),pI(w,r,eJ,1),pI(w,n,eJ,4));let b=t(m,w,o,i);return s=awt(m,b),b}),c={},l=new Ma((...m)=>s.handleLog(...m));return Fae({logger:l,init:pi(m=>s.init(m)),setTrackingConsent:pi(m=>{i.update(m),Zae({feature:"set-tracking-consent",tracking_consent:m})}),getGlobalContext:pi(()=>e.getContext()),setGlobalContext:pi(m=>e.setContext(m)),setGlobalContextProperty:pi((m,w)=>e.setContextProperty(m,w)),removeGlobalContextProperty:pi(m=>e.removeContextProperty(m)),clearGlobalContext:pi(()=>e.clearContext()),createLogger:pi((m,w={})=>(c[m]=new Ma((...b)=>s.handleLog(...b),Rx(m),w.handler,w.level,Rx(w.context)),c[m])),getLogger:pi(m=>c[m]),getInitConfiguration:pi(()=>Hae(s.initConfiguration)),getInternalContext:pi(m=>s.getInternalContext(m)),setUser:pi(r.setContext),getUser:pi(r.getContext),setUserProperty:pi(r.setContextProperty),removeUserProperty:pi(r.removeContextProperty),clearUser:pi(r.clearContext),setAccount:pi(n.setContext),getAccount:pi(n.getContext),setAccountProperty:pi(n.setContextProperty),removeAccountProperty:pi(n.removeContextProperty),clearAccount:pi(n.clearContext)})}function awt(t,e){return{init:r=>{uI("DD_LOGS",r)},initConfiguration:t,...e}}d();h();d();h();var cwt="logs";function F4e(t,e){let r=Qae(t,cwt,n=>uwt(t,n),e);return{findTrackedSession:(n,i={returnInactive:!1})=>{let o=r.findSession(n,i);return o&&o.trackingType==="1"?{id:o.id,anonymousId:o.anonymousId}:void 0},expireObservable:r.expireObservable}}function q4e(t){let r=K4e(t)==="1"?{}:void 0;return{findTrackedSession:()=>r,expireObservable:new sI}}function K4e(t){return oI(t.sessionSampleRate)?"1":"0"}function uwt(t,e){let r=fwt(e)?e:K4e(t);return{trackingType:r,isTracked:r==="1"}}function fwt(t){return t==="0"||t==="1"}d();h();d();h();var V4e=!1;function TS(t){let e=self;if(mI()){let n=r(e.DD_RUM_SYNTHETICS);return!n&&!V4e&&(V4e=!0,Wp("Logs sent before RUM is injected by the synthetics worker",{testId:cce(),resultId:uce()})),n}return r(e.DD_RUM);function r(n){if(n&&n.getInternalContext)return n.getInternalContext(t)}}function H4e(t,e,r,n,i){let o=B4e.concat(["custom"]),s={};o.forEach(c=>{s[c]=nce(c,e.eventRateLimiterThreshold,i)}),r.subscribe(0,({rawLogsEvent:c,messageContext:l=void 0,savedCommonContext:m=void 0,domainContext:w})=>{var b,E;let I=_ae(c.date),M=t.findTrackedSession(I);if(!t.findTrackedSession(I,{returnInactive:!0}))return;let B=m||n(),R;!VF(B.account)&&B.account.id&&(R=B.account),M&&M.anonymousId&&!B.user.anonymous_id&&(B.user.anonymous_id=M.anonymousId);let U=Bx({service:e.service,session_id:M?M.id:void 0,session:M?{id:M.id}:void 0,usr:VF(B.user)?void 0:B.user,account:R,view:B.view},B.context,TS(I),c,l);((b=e.beforeSend)===null||b===void 0?void 0:b.call(e,U,w))===!1||U.origin!==ta.AGENT&&((E=s[U.status])!==null&&E!==void 0?E:s.custom).isLimitReached()||r.notify(1,U)})}d();h();var lwt={[bo.log]:Gt.info,[bo.debug]:Gt.debug,[bo.info]:Gt.info,[bo.warn]:Gt.warn,[bo.error]:Gt.error};function j4e(t,e){let r=sce(t.forwardConsoleLogs).subscribe(n=>{var i;let o={rawLogsEvent:{date:zp(),message:n.message,origin:ta.CONSOLE,error:n.error&&Xy(n.error),status:lwt[n.api]},messageContext:(i=n.error)===null||i===void 0?void 0:i.context,domainContext:{handlingStack:n.handlingStack}};e.notify(0,o)});return{stop:()=>{r.unsubscribe()}}}d();h();function z4e(t,e){let r=Kae(t,t.forwardReports).subscribe(n=>{let i=n.message,o,s=n.originalError.type==="deprecation"?Gt.warn:Gt.error;s===Gt.error?o=Xy(n):n.stack&&(i+=` Found in ${Dae(n.stack)}`),e.notify(0,{rawLogsEvent:{date:zp(),message:i,origin:ta.REPORT,error:o,status:s}})});return{stop:()=>{r.unsubscribe()}}}d();h();function W4e(t,e){if(!t.forwardErrorsToLogs)return{stop:ru};let r=oce(t).subscribe(o=>{o.state==="complete"&&i("xhr",o)}),n=hI().subscribe(o=>{o.state==="resolve"&&i("fetch",o)});function i(o,s){!Pae(s.url)&&(mwt(s)||Jae(s.status))&&("xhr"in s?dwt(s.xhr,t,c):s.response?pwt(s.response,t,c):s.error&&hwt(s.error,t,c));function c(l){let m={isAborted:s.isAborted,handlingStack:s.handlingStack};e.notify(0,{rawLogsEvent:{message:`${ywt(o)} error ${s.method} ${s.url}`,date:s.startClocks.timeStamp,error:{stack:l||"Failed to load",handling:void 0},http:{method:s.method,status_code:s.status,url:s.url},status:Gt.error,origin:ta.NETWORK},domainContext:m})}}return{stop:()=>{r.unsubscribe(),n.unsubscribe()}}}function dwt(t,e,r){typeof t.response=="string"?r(tJ(t.response,e)):r(t.response)}function hwt(t,e,r){r(tJ(Oae(aI(t)),e))}function pwt(t,e,r){let n=Xae(t);!n||!n.body?r():self.TextDecoder?gwt(n.body,e.requestErrorResponseLengthLimit,(i,o)=>{r(i?`Unable to retrieve response: ${i}`:o)}):n.text().then(pi(i=>r(tJ(i,e))),pi(i=>r(`Unable to retrieve response: ${i}`)))}function mwt(t){return t.status===0&&t.responseType!=="opaque"}function tJ(t,e){return t.length>e.requestErrorResponseLengthLimit?`${t.substring(0,e.requestErrorResponseLengthLimit)}...`:t}function ywt(t){return t==="xhr"?"XHR":"Fetch"}function gwt(t,e,r){ace(t,(n,i,o)=>{if(n)r(n);else{let s=new TextDecoder().decode(i);o&&(s+="..."),r(void 0,s)}},{bytesLimit:e,collectStreamBody:!0})}d();h();function G4e(t,e){if(!t.forwardErrorsToLogs)return{stop:ru};let r=new sI,{stop:n}=Lae(r),i=r.subscribe(o=>{e.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:Xy(o),origin:ta.SOURCE,status:Gt.error},messageContext:o.context})});return{stop:()=>{n(),i.unsubscribe()}}}d();h();var $4e=rce;d();h();function Y4e(t){function e(r,n,i,o,s){let c=Bx(n.getContext(),r.context);if(_S(r.status,dv.console,n)&&vwt(r,c),_S(r.status,dv.http,n)){let l={rawLogsEvent:{date:s||zp(),message:r.message,status:r.status,origin:ta.LOGGER},messageContext:c,savedCommonContext:o};i&&(l.domainContext={handlingStack:i}),t.notify(0,l)}}return{handleLog:e}}var bwt={[Gt.ok]:bo.debug,[Gt.debug]:bo.debug,[Gt.info]:bo.info,[Gt.notice]:bo.info,[Gt.warn]:bo.warn,[Gt.error]:bo.error,[Gt.critical]:bo.error,[Gt.alert]:bo.error,[Gt.emerg]:bo.error};function vwt({status:t,message:e},r){wae[bwt[t]].call(xae,e,r)}d();h();function Z4e(t,e,r,n,i){let o=dI(t,{endpoint:t.logsEndpointBuilder,encoder:Cx()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:Cx()},r,n,i.expireObservable);return e.subscribe(1,s=>{o.add(s)}),o}d();h();function Q4e(t){let e=lI();t.subscribe(1,r=>{e.send("log",r)})}d();h();function J4e(t){return{get:e=>{let r=t.findTrackedSession(e);if(r)return{session_id:r.id}}}}d();h();function X4e(t){return e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:ta.AGENT,status:Gt.error}}),Wp("Error reported to customer",{"error.message":e.message})}}d();h();function e8e(t,e,r,n,i){let o=Wae("browser-logs-sdk",e);o.setContextProvider(()=>{var c,l,m,w,b,E;return{application:{id:(c=TS())===null||c===void 0?void 0:c.application_id},session:{id:(l=i.findTrackedSession())===null||l===void 0?void 0:l.id},view:{id:(w=(m=TS())===null||m===void 0?void 0:m.view)===null||w===void 0?void 0:w.id},action:{id:(E=(b=TS())===null||b===void 0?void 0:b.user_action)===null||E===void 0?void 0:E.id}}});let s=[];if(Qh()){let c=lI(),l=o.observable.subscribe(m=>c.send("internal_telemetry",m));s.push(()=>l.unsubscribe())}else{let c=dI(e,{endpoint:e.rumEndpointBuilder,encoder:Cx()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:Cx()},r,n,i.expireObservable);s.push(()=>c.stop());let l=o.observable.subscribe(m=>c.add(m,$ae(e)));s.push(()=>l.unsubscribe())}return Gae(),Yae(D4e(t)),{telemetry:o,stop:()=>{s.forEach(c=>c())}}}function t8e(t,e,r,n){let i=new $4e,o=[];i.subscribe(1,E=>Vae("logs",E));let s=X4e(i),c=tce(e),l=e.sessionStoreStrategyType&&!Qh()&&!mI()?F4e(e,n):q4e(e),{stop:m}=e8e(t,e,s,c,l);o.push(()=>m()),W4e(e,i),G4e(e,i),j4e(e,i),z4e(e,i);let{handleLog:w}=Y4e(i);if(H4e(l,e,i,r,s),Qh())Q4e(i);else{let{stop:E}=Z4e(e,i,s,c,l);o.push(()=>E())}let b=J4e(l);return{handleLog:w,getInternalContext:b.get,stop:()=>{o.forEach(E=>E())}}}var eg=L4e(t8e);cI(Px(),"DD_LOGS",eg);d();h();d();h();d();h();d();h();function f8(t,e,r){let n=0,i=[],o,s=0,c=[],{stop:l}=i3(t,e,"message",({data:b})=>{if(b.type!=="wrote"||b.streamId!==r)return;n+=b.additionalBytesCount,i.push(b.result),o=b.trailer;let E=c.shift();E&&E.id===b.id?E.writeCallback?E.writeCallback(b.result.byteLength):E.finishCallback&&E.finishCallback():(l(),Wp("Worker responses received out of order."))});function m(){let b=i.length===0?new Uint8Array(0):Tae(i.concat(o)),E={rawBytesCount:n,output:b,outputBytesCount:b.byteLength,encoding:"deflate"};return n=0,i=[],E}function w(){s>0&&(e.postMessage({action:"reset",streamId:r}),s=0)}return{isAsync:!0,get isEmpty(){return s===0},write(b,E){e.postMessage({action:"write",id:s,data:b,streamId:r}),c.push({id:s,writeCallback:E,data:b}),s+=1},finish(b){w(),c.length?(c.forEach(E=>{delete E.writeCallback}),c[c.length-1].finishCallback=()=>b(m())):b(m())},finishSync(){w();let b=c.map(E=>(delete E.writeCallback,delete E.finishCallback,E.data)).join("");return{...m(),pendingData:b}},estimateEncodedBytesCount(b){return b.length/8},stop(){l()}}}d();h();d();h();function IS({configuredUrl:t,error:e,source:r,scriptType:n}){if(Sd.error(`${r} failed to start: an error occurred while initializing the ${n}:`,e),e instanceof Event||e instanceof Error&&xwt(e.message)){let i;t?i=`Please make sure the ${n} URL ${t} is correct and CSP is correctly configured.`:i="Please make sure CSP is correctly configured.",Sd.error(`${i} See documentation at ${Sae}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else n==="worker"&&fI(e)}function xwt(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}var wwt=30*Aae;function r8e(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);var h=Array(60);e(h);var l=Array(512);e(l);var _=Array(256);e(_);var o=Array(29);e(o);var d,u,f,c=Array(30);function p(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(c);var v=function(t){return t<256?l[t]:l[256+(t>>>7)]},w=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},b=function(t,e,a){m(t,a[2*e],a[2*e+1])},y=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},z=function(t,e,a){var n,r,i=Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=y(i[h]++,h))}},k=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},x=function(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},B=function(t,e,r){var i,s,h,l,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===i?b(t,s,e):(h=_[s],b(t,h+256+1,e),0!==(l=a[h])&&(s-=o[h],m(t,s,l)),i--,h=v(i),b(t,h,r),0!==(l=n[h])&&(i-=c[h],m(t,i,l)))}while(d<t.last_lit);b(t,256,e)},I=function(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,_=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=_=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=_<2?++_:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=_,a=t.heap_len>>1;a>=1;a--)U(t,i,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,U(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,_=e.max_code,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)>c&&(i=c,p++),l[2*n+1]=i,n>_||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(o[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>_||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),z(i,_,t.bl_count)},E=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},C=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{b(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(b(t,r,t.bl_tree),h--),b(t,16,t.bl_tree),m(t,h-3,2)):h<=10?(b(t,17,t.bl_tree),m(t,h-3,3)):(b(t,18,t.bl_tree),m(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},D=!1,M=function(t,e,a,n){m(t,0+(n?1:0),3),function(t,e,a){x(t),w(t,a),w(t,~a),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a)},j=M,L=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},S=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),T=function(t,e,a,n){var r=S,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},O={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q=j,F=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(_[a]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},G=-2,H=258,J=262,K=103,N=113,P=666,Q=function(t,e){return t.msg=O[e],e},R=function(t){return(t<<1)-(t>4?9:0)},V=function(t){for(var e=t.length;--e>=0;)t[e]=0},W=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},X=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Y=function(t,e){(function(t,e,a,n){var r,l,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),_=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=r&&(r=l)):r=l=a+5,a+4<=r&&-1!==e?M(t,e,a,n):4===t.strategy||l===r?(m(t,2+(n?1:0),3),B(t,s,h)):(m(t,4+(n?1:0),3),function(t,e,a,n){var r;for(m(t,e-257,5),m(t,a-1,5),m(t,n-4,4),r=0;r<n;r++)m(t,t.bl_tree[2*i[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),B(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&x(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,X(t.strm)},Z=function(t,e){t.pending_buf[t.pending++]=e},$=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+H,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=H-(u-i),i=u-H,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},et=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-J)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=L(s.adler,h,o,l):2===s.state.wrap&&(s.adler=T(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=W(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=W(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<J&&0!==t.strm.avail_in)},at=function(t,e){for(var a,n;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a)),t.match_length>=3)if(n=F(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=W(t,t.ins_h,t.window[t.strstart+1]);else n=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2},nt=function(t,e){for(var a,n,r;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=F(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=F(t,0,t.window[t.strstart-1]))&&Y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2};function rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var it=[new rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(et(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-J&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Y(t,!1),t.strm.avail_out),1)})),new rt(4,4,8,4,at),new rt(4,5,16,8,at),new rt(4,6,32,32,at),new rt(4,4,16,16,nt),new rt(8,16,32,32,nt),new rt(8,16,128,128,nt),new rt(8,32,128,256,nt),new rt(32,128,258,1024,nt),new rt(32,258,258,4096,nt)];function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}for(var ht=function(t){var e,i=function(t){if(!t||!t.state)return Q(t,G);t.total_in=t.total_out=0,t.data_type=2;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:N,t.adler=2===e.wrap?0:1,e.last_flush=0,function(t){D||(function(){var t,e,i,g,v,w=Array(16);for(i=0,g=0;g<28;g++)for(o[g]=i,t=0;t<1<<a[g];t++)_[i++]=g;for(_[i-1]=g,v=0,g=0;g<16;g++)for(c[g]=v,t=0;t<1<<n[g];t++)l[v++]=g;for(v>>=7;g<30;g++)for(c[g]=v<<7,t=0;t<1<<n[g]-7;t++)l[256+v++]=g;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,w[8]++;for(;t<=255;)s[2*t+1]=9,t++,w[9]++;for(;t<=279;)s[2*t+1]=7,t++,w[7]++;for(;t<=287;)s[2*t+1]=8,t++,w[8]++;for(z(s,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=y(t,5);d=new p(s,a,257,286,15),u=new p(h,n,0,30,15),f=new p([],r,0,19,7)}(),D=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,u),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,k(t)}(e),0}(t);return 0===i&&((e=t.state).window_size=2*e.w_size,V(e.head),e.max_lazy_match=it[e.level].max_lazy,e.good_match=it[e.level].good_length,e.nice_match=it[e.level].nice_length,e.max_chain_length=it[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i},lt=function(t,e){var a,n;if(!t||!t.state||e>5||e<0)return t?Q(t,G):G;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===P&&4!==e)return Q(t,0===t.avail_out?-5:G);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Z(r,31),Z(r,139),Z(r,8),r.gzhead?(Z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Z(r,255&r.gzhead.time),Z(r,r.gzhead.time>>8&255),Z(r,r.gzhead.time>>16&255),Z(r,r.gzhead.time>>24&255),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Z(r,255&r.gzhead.extra.length),Z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=T(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,3),r.status=N);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=N,$(r,h),0!==r.strstart&&($(r,t.adler>>>16),$(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending!==r.pending_buf_size));)Z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=K)}else r.status=K;if(r.status===K&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&X(t),r.pending+2<=r.pending_buf_size&&(Z(r,255&t.adler),Z(r,t.adler>>8&255),t.adler=0,r.status=N)):r.status=N),0!==r.pending){if(X(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&R(e)<=R(i)&&4!==e)return Q(t,-5);if(r.status===P&&0!==t.avail_in)return Q(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==P){var l=2===r.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(et(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=H){if(et(t),t.lookahead<=H&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+H;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=H-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=F(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):it[r.level].func(r,e);if(3!==l&&4!==l||(r.status=P),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===l&&(1===e?function(t){m(t,2,3),b(t,256,s),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(r):5!==e&&(q(r,0,0,!1),3===e&&(V(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),X(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Z(r,255&t.adler),Z(r,t.adler>>8&255),Z(r,t.adler>>16&255),Z(r,t.adler>>24&255),Z(r,255&t.total_in),Z(r,t.total_in>>8&255),Z(r,t.total_in>>16&255),Z(r,t.total_in>>24&255)):($(r,t.adler>>>16),$(r,65535&t.adler)),X(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},_t=function(t){if(!t||!t.state)return G;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==K&&e!==N&&e!==P?Q(t,G):(t.state=null,e===N?Q(t,-3):0)},ot=new Uint8Array(256),dt=0;dt<256;dt++)ot[dt]=dt>=252?6:dt>=248?5:dt>=240?4:dt>=224?3:dt>=192?2:1;ot[254]=ot[254]=1;var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ft=Object.prototype.toString;function ct(){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var e,a,n=function(t,e,a,n,r,i){if(!t)return G;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==a||n<8||n>15||e<0||e>9||i<0||i>4)return Q(t,G);8===n&&(n=9);var h=new st;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,ht(t)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw Error(O[n]);if(t.header&&(e=this.strm,a=t.header,e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=a))),t.dictionary){var r;if(r="[object ArrayBuffer]"===ft.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(t,e){var a=e.length;if(!t||!t.state)return G;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return G;if(1===r&&(t.adler=L(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,et(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=W(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,et(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,0}(this.strm,r)))throw Error(O[n]);this._dict_set=!0}}function pt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:e+"",streamId:a})}}function gt(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}ct.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?4:0,"[object ArrayBuffer]"===ft.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(2===n||3===n)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(1===(a=lt(r,n)))return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=_t(this.strm),this.onEnd(a),this.ended=!0,0===a;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ct.prototype.onData=function(t){this.chunks.push(t)},ct.prototype.onEnd=function(t){0===t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.6.3"};case"write":{let n=e.get(a.streamId);n||(n=new ct,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,2),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:gt(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){pt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){pt(e,t)}}()})();'])))}var ho={status:0};function l8(t,e,r,n=r8e){switch(ho.status===0&&Swt(t,e,n),ho.status){case 1:return ho.initializationFailureCallbacks.push(r),ho.worker;case 3:return ho.worker}}function OC(){return ho.status}function Swt(t,e,r=r8e){try{let n=r(t),{stop:i}=i3(t,n,"error",c=>{rJ(t,e,c)}),{stop:o}=i3(t,n,"message",({data:c})=>{c.type==="errored"?rJ(t,e,c.error,c.streamId):c.type==="initialized"&&Ewt(c.version)});n.postMessage({action:"init"}),Mae(()=>Awt(e),wwt),ho={status:1,worker:n,stop:()=>{i(),o()},initializationFailureCallbacks:[]}}catch(n){rJ(t,e,n)}}function Awt(t){ho.status===1&&(Sd.error(`${t} failed to start: a timeout occurred while initializing the Worker`),ho.initializationFailureCallbacks.forEach(e=>e()),ho={status:2})}function Ewt(t){ho.status===1&&(ho={status:3,worker:ho.worker,stop:ho.stop,version:t})}function rJ(t,e,r,n){ho.status===1||ho.status===0?(IS({configuredUrl:t.workerUrl,error:r,source:e,scriptType:"worker"}),ho.status===1&&ho.initializationFailureCallbacks.forEach(i=>i()),ho={status:2}):fI(r,{worker_version:ho.status===3&&ho.version,stream_id:n})}d();h();function NC(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}d();h();d();h();function n8e(t,e,r,n){let i=e.findTrackedSession(),o=_wt(i,n),s=r.findView();return dce(t,{viewContext:s,errorType:o,session:i})}function _wt(t,e){if(!NC())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}function i8e(t,e,r,n,i,o){let s=0,c;e.subscribe(9,()=>{(s===2||s===3)&&(w(),s=1)}),e.subscribe(10,()=>{s===1&&m()});let l=async()=>{let[b]=await Promise.all([i(),ice(t,"interactive")]);if(s!==2)return;let E=o();if(!E||!b){s=0;return}({stop:c}=b(e,t,r,n,E)),s=3};function m(b){let E=r.findTrackedSession();if(Twt(E,b)){s=1;return}Iwt(s)||(s=2,l().catch(n3),Mwt(E,b)&&r.setForcedReplay())}function w(){s===3&&c?.(),s=0}return{start:m,stop:w,getSessionReplayLink(){return n8e(t,r,n,s!==0)},isRecording:()=>s===3}}function Twt(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}function Iwt(t){return t===2||t===3}function Mwt(t,e){return e&&e.force&&t.sessionReplay===0}d();h();function o8e(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:()=>!1,getSessionReplayLink:ru},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}function s8e(t,e){if(Qh()&&!ece("records")||!NC())return{start:ru,stop:ru,getReplayStats:()=>{},onRumStart:ru,isRecording:()=>!1,getSessionReplayLink:()=>{}};let{strategy:r,shouldStartImmediately:n}=o8e();return{start:o=>r.start(o),stop:()=>r.stop(),getSessionReplayLink:()=>r.getSessionReplayLink(),onRumStart:i,isRecording:()=>OC()===3&&r.isRecording(),getReplayStats:o=>OC()===3?hce(o):void 0};function i(o,s,c,l,m){let w;function b(){return w||(m??(m=l8(s,"Datadog Session Replay",()=>{r.stop()},e)),m&&(w=f8(s,m,1))),w}r=i8e(s,o,c,l,t,b),n(s)&&r.start()}}d();h();async function a8e(t=kwt){try{return await t()}catch(e){IS({error:e,source:"Recorder",scriptType:"module"})}}async function kwt(){return(await import("./startRecording-4IFME6YA.js")).startRecording}d();h();d();h();function c8e(){return Px().Profiler!==void 0}d();h();async function u8e(t=Pwt){try{return await t()}catch(e){IS({error:e,source:"Profiler",scriptType:"module"})}}async function Pwt(){return(await import("./profiler-YXWQQDNE.js")).createRumProfiler}function f8e(){let t;function e(r,n,i,o){!c8e()||!oI(n.profilingSampleRate)||u8e().then(s=>{if(!s){Wp("[DD_RUM] Failed to lazy load the RUM Profiler");return}t=s(n,r,i),t.start(o.findView())}).catch(n3)}return{onRumStart:e,stop:()=>{t?.stop().catch(n3)}}}var Rwt=s8e(a8e),Bwt=f8e(),hv=fce(lce,Rwt,Bwt,{startDeflateWorker:l8,createDeflateEncoder:f8});cI(Px(),"DD_RUM",hv);d();h();d();h();var d8={init:async(t,e)=>{},captureError:(t,e)=>{},captureMessage:(t,e,r="info")=>{},addBreadcrumb:(t,e,r)=>{},setUser:async t=>{},setTags:async t=>{},captureMetric:async(t,e,r)=>{},startSpan:(t,e)=>{let r=e();return Promise.resolve(r)},startInactiveSpan:t=>{},trackFeatureFlag:(t,e)=>{}};d();h();var sp=t=>{switch(t){case"collectibles":case"magicEden":case"fungibles":case"staking":case"swapper":case"perps":case"prices":case"webTokenPage":case"webExplorePage":case"tokens":case"webTokensSitemap":return"PD";case"autoConfirm":case"deepLinks":case"dappBrowser":case"dappRegistry":case"network":case"transaction":case"provider":case"history":case"trustedApps":case"simulation":case"mobileEmbedded":return"WP";case"webAppPage":case"account":case"Auth":case"actionBanner":case"authentication":case"ledger":case"se*dless":case"settings":case"onRamp":case"migration":case"mobileWalletAdapter":case"generic":case"startUp":case"webPortal":case"notifications":case"webPublicSite":return"IO";case"bugReporter":case"storage":case"fileLogger":case"featureFlags":case"performance":return"PL";case"safeguard":return"TRA";case"profiles":case"feed":case"feedNotifications":case"webUserPage":case"userSearch":return"SOC";case"cashAccount":case"cashTransfer":return"CASH"}};d();h();var DC;function l8e(){return DC===void 0&&(typeof process<"u"&&T?DC=T.DATADOG_CLIENT_TOKEN:typeof self<"u"&&self.process?.env&&(DC=self.process.env.DATADOG_CLIENT_TOKEN)),DC}var Owt={init:async(t,{datadog:e})=>{if(!e.enabled)return;let r=e.clientToken||l8e();if(!r)throw new Error("[DatadogProvider#init] Missing client token");let n=t.mode==="debug"?100:e.traceSampleRate,i=t.mode==="debug"?100:e.sessionSampleRate;hv.init({applicationId:e.applicationId,clientToken:r,service:e.service,version:r3,env:t.env,allowedTracingUrls:[/https?:\/\/([a-zA-Z0-9.-]+\.)?phantom\.app(\/|$)/],traceSampleRate:n,sessionSampleRate:i,enablePrivacyForActionName:!0,silentMultipleInit:!0,trackAnonymousUser:!1,enableExperimentalFeatures:["feature_flags"]}),eg.init({clientToken:r,service:e.service,env:t.env,forwardErrorsToLogs:!0,sessionSampleRate:i,version:r3,silentMultipleInit:!0,trackAnonymousUser:!1})},captureError:(t,e)=>{nJ(t.message,"error",{feature:e,team:sp(e)},t)},captureMessage:(t,e,r="info")=>{nJ(t,r,{feature:e,team:sp(e)})},addBreadcrumb:(t,e,r,n={})=>{nJ(e,r,{category:t,...n})},setUser:async t=>{eg.setUser(t),hv.setUser(t)},setTags:async t=>{hv.setGlobalContext({tags:t}),eg.setGlobalContext({tags:t})},startSpan:(t,e)=>{let r=e();return Promise.resolve(r)},startInactiveSpan:()=>{},captureMetric:async(t,e,r)=>{},trackFeatureFlag:(t,e)=>{hv.addFeatureFlagEvaluation(t,e)}};function nJ(t,e,r,n){switch((e==="error"||e==="fatal")&&hv.addError(n??t,r),e){case"fatal":!n&&eg.logger.critical(t,{context:r});break;case"error":!n&&eg.logger.error(t,{context:r});break;case"info":eg.logger.info(t,{context:r},n);break;case"debug":break}}function Nwt(){return typeof document<"u"}var UC=Nwt()?Owt:d8;d();h();var LC=t=>({beforeEvent:(...[e,r])=>{let n={value:e,...r.data?{data:r.data}:{}};if(r.data?.skipFileLogger)return n;let i=e instanceof Error?e.message:e;return t.write(i,r.featureTag,r.severity,r.data),n},afterEvent:void 0});d();h();d();h();var Dwt=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{88}\b/g,Uwt=/\b0x[a-fA-F0-9]{64}\b/g,Lwt=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{44}\b/g,Fwt=/\b0x[a-fA-F0-9]{40}\b/g,d8e={SOLANA_SIGNATURE:Dwt,EVM_SIGNATURE:Uwt,SOLANA_PUBKEY:Lwt,EVM_PUBKEY:Fwt},h8e=t=>Object.entries(t).reduce((e,[r,n])=>(typeof n=="string"?e[r]=FC(n):e[r]=n,e),{}),FC=t=>{let e=t;for(let r in d8e){let n=d8e[r];e=e.replace(n,"")}return e},qwt=t=>(t.message&&(t.message=FC(t.message)),t.cause&&typeof t.cause=="string"&&(t.cause=FC(t.cause)),t),p8e=t=>t instanceof Error?qwt(t):FC(t);var qC={beforeEvent:(...[t,e])=>({value:p8e(t),...e.data?{data:h8e(e.data)}:{}}),afterEvent:void 0};d();h();function KC(t,e){return{init:async(r,n)=>{await Promise.allSettled([t.init(r,n),e.init(r,n)])},captureError:(r,n)=>{Ff(()=>t.captureError(r,n)),Ff(()=>e.captureError(r,n))},captureMessage:(r,n,i="info")=>{Ff(()=>t.captureMessage(r,n,i)),Ff(()=>e.captureMessage(r,n,i))},addBreadcrumb:(r,n,i,o)=>{Ff(()=>t.addBreadcrumb(r,n,i,o)),Ff(()=>e.addBreadcrumb(r,n,i,o))},setUser:async r=>{await Promise.allSettled([t.setUser(r),e.setUser(r)])},setTags:async r=>{await Promise.allSettled([t.setTags(r),e.setTags(r)])},captureMetric:async(r,n,i)=>{Ff(()=>e.captureMetric(r,n,i))},startSpan:(r,n)=>t.startSpan(r,()=>e.startSpan(r,n)),startInactiveSpan:r=>{let n=Ff(()=>t.startInactiveSpan(r)),i=Ff(()=>e.startInactiveSpan(r));if(!(!n&&!i))return Promise.resolve({end:()=>Kwt(n,i)})},trackFeatureFlag:(r,n)=>{Ff(()=>t.trackFeatureFlag(r,n)),Ff(()=>e.trackFeatureFlag(r,n))}}}function Ff(t){try{return t()}catch(e){mc()&&console.error("[MultiProvider] Error:",e);return}}function Kwt(...t){for(let e of t)e&&Ff(()=>e.then(r=>r.end()))}d();h();d();h();d();h();d();h();d();h();d();h();var Dt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();d();h();d();h();var jl="8.55.0";var $t=globalThis;function tg(t,e,r){let n=r||$t,i=n.__SENTRY__=n.__SENTRY__||{},o=i[jl]=i[jl]||{};return o[t]||(o[t]=e())}d();h();d();h();var Cc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();var Vwt="Sentry Logger ",h8=["debug","info","warn","error","log","assert","trace"],MS={};function Oc(t){if(!("console"in $t))return t();let e=$t.console,r={},n=Object.keys(MS);n.forEach(i=>{let o=MS[i];r[i]=e[i],e[i]=o});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}function Hwt(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Cc?h8.forEach(r=>{e[r]=(...n)=>{t&&Oc(()=>{$t.console[r](`${Vwt}[${r}]:`,...n)})}}):h8.forEach(r=>{e[r]=()=>{}}),e}var et=tg("logger",Hwt);d();h();var hh="?",m8e=/\(error: (.*)\)/,y8e=/captureMessage|captureException/;function HC(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{let o=[],s=r.split(`
`);for(let c=n;c<s.length;c++){let l=s[c];if(l.length>1024)continue;let m=m8e.test(l)?l.replace(m8e,"$1"):l;if(!m.match(/\S*Error: /)){for(let w of e){let b=w(m);if(b){o.push(b);break}}if(o.length>=50+i)break}}return g8e(o.slice(i))}}function oJ(t){return Array.isArray(t)?HC(...t):t}function g8e(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(VC(e).function||"")&&e.pop(),e.reverse(),y8e.test(VC(e).function||"")&&(e.pop(),y8e.test(VC(e).function||"")&&e.pop()),e.slice(0,50).map(r=>({...r,filename:r.filename||VC(e).filename,function:r.function||hh}))}function VC(t){return t[t.length-1]||{}}var iJ="<anonymous>";function Nc(t){try{return!t||typeof t!="function"?iJ:t.name||iJ}catch{return iJ}}function jC(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}var zC={},b8e={};function ka(t,e){zC[t]=zC[t]||[],zC[t].push(e)}function Pa(t,e){if(!b8e[t]){b8e[t]=!0;try{e()}catch(r){Cc&&et.error(`Error while instrumenting ${t}`,r)}}}function Io(t,e){let r=t&&zC[t];if(r)for(let n of r)try{n(e)}catch(i){Cc&&et.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Nc(n)}
Error:`,i)}}var sJ=null;function p8(t){let e="error";ka(e,t),Pa(e,jwt)}function jwt(){sJ=$t.onerror,$t.onerror=function(t,e,r,n,i){return Io("error",{column:n,error:i,line:r,msg:t,url:e}),sJ?sJ.apply(this,arguments):!1},$t.onerror.__SENTRY_INSTRUMENTED__=!0}d();h();var aJ=null;function m8(t){let e="unhandledrejection";ka(e,t),Pa(e,zwt)}function zwt(){aJ=$t.onunhandledrejection,$t.onunhandledrejection=function(t){return Io("unhandledrejection",t),aJ?aJ.apply(this,arguments):!0},$t.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}d();h();d();h();d();h();function wu(){return y8($t),$t}function y8(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||jl,e[jl]=e[jl]||{}}d();h();d();h();d();h();d();h();d();h();d();h();d();h();var v8e=Object.prototype.toString;function pv(t){switch(v8e.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Su(t,Error)}}function kS(t,e){return v8e.call(t)===`[object ${e}]`}function WC(t){return kS(t,"ErrorEvent")}function GC(t){return kS(t,"DOMError")}function cJ(t){return kS(t,"DOMException")}function ic(t){return kS(t,"String")}function PS(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function mv(t){return t===null||PS(t)||typeof t!="object"&&typeof t!="function"}function zl(t){return kS(t,"Object")}function yv(t){return typeof Event<"u"&&Su(t,Event)}function uJ(t){return typeof Element<"u"&&Su(t,Element)}function fJ(t){return kS(t,"RegExp")}function Wl(t){return!!(t&&t.then&&typeof t.then=="function")}function lJ(t){return zl(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Su(t,e){try{return t instanceof e}catch{return!1}}function g8(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}var RS=$t,Wwt=80;function Au(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,i=[],o=0,s=0,c=" > ",l=c.length,m,w=Array.isArray(e)?e:e.keyAttrs,b=!Array.isArray(e)&&e.maxStringLength||Wwt;for(;r&&o++<n&&(m=Gwt(r,w),!(m==="html"||o>1&&s+i.length*l+m.length>=b));)i.push(m),s+=m.length,r=r.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}function Gwt(t,e){let r=t,n=[];if(!r||!r.tagName)return"";if(RS.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let i=e&&e.length?e.filter(s=>r.getAttribute(s)).map(s=>[s,r.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{n.push(`[${s[0]}="${s[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let s=r.className;if(s&&ic(s)){let c=s.split(/\s+/);for(let l of c)n.push(`.${l}`)}}let o=["aria-label","type","name","title","alt"];for(let s of o){let c=r.getAttribute(s);c&&n.push(`[${s}="${c}"]`)}return n.join("")}function dJ(){try{return RS.document.location.href}catch{return""}}function hJ(t){return RS.document&&RS.document.querySelector?RS.document.querySelector(t):null}function b8(t){if(!RS.HTMLElement)return null;let e=t,r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}d();h();function ph(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function $C(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{g8(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function x8e(t,e,r=!1){return ic(t)?fJ(e)?e.test(t):ic(e)?r?t===e:t.includes(e):!1:!1}function mh(t,e=[],r=!1){return e.some(n=>x8e(t,n,r))}function Ko(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);typeof i=="function"&&YC(i,n);try{t[e]=i}catch{Cc&&et.log(`Failed to replace method "${e}" in object`,t)}}function po(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Cc&&et.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function YC(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,po(t,"__sentry_original__",e)}catch{}}function gv(t){return t.__sentry_original__}function ZC(t){if(pv(t))return{message:t.message,name:t.name,stack:t.stack,...S8e(t)};if(yv(t)){let e={type:t.type,target:w8e(t.target),currentTarget:w8e(t.currentTarget),...S8e(t)};return typeof CustomEvent<"u"&&Su(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function w8e(t){try{return uJ(t)?Au(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function S8e(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function mJ(t,e=40){let r=Object.keys(ZC(t));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return ph(n,e);for(let i=r.length;i>0;i--){let o=r.slice(0,i).join(", ");if(!(o.length>e))return i===r.length?o:ph(o,e)}return""}function Zn(t){return pJ(t,new Map)}function pJ(t,e){if($wt(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(n[i]=pJ(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(pJ(i,e))}),n}return t}function $wt(t){if(!zl(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}d();h();var A8e=1e3;function yh(){return Date.now()/A8e}function Ywt(){let{performance:t}=$t;if(!t||!t.now)return yh;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/A8e}var io=Ywt(),v8,Mo=(()=>{let{performance:t}=$t;if(!t||!t.now){v8="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,o=i<e,s=t.timing&&t.timing.navigationStart,l=typeof s=="number"?Math.abs(s+r-n):e,m=l<e;return o||m?i<=l?(v8="timeOrigin",t.timeOrigin):(v8="navigationStart",s):(v8="dateNow",n)})();d();h();function Vo(){let t=$t,e=t.crypto||t.msCrypto,r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function E8e(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Gl(t){let{message:e,event_id:r}=t;if(e)return e;let n=E8e(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function BS(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=r||"Error")}function gh(t,e){let r=E8e(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){let o={...i&&i.data,...e.data};r.mechanism.data=o}}function QC(t){if(Zwt(t))return!0;try{po(t,"__sentry_captured__",!0)}catch{}return!1}function Zwt(t){try{return t.__sentry_captured__}catch{}}d();h();var ap;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(ap||(ap={}));function qf(t){return new $l(e=>{e(t)})}function rg(t){return new $l((e,r)=>{r(t)})}var $l=class t{constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=ap.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,o=>{if(!e)n(o);else try{n(e(o))}catch(s){i(s)}},o=>{if(!r)i(o);else try{n(r(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,o;return this.then(s=>{o=!1,i=s,e&&e()},s=>{o=!0,i=s,e&&e()}).then(()=>{if(o){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(ap.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ap.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===ap.PENDING){if(Wl(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ap.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===ap.RESOLVED&&r[1](this._value),this._state===ap.REJECTED&&r[2](this._value),r[0]=!0)})}}};function _8e(t){let e=io(),r={sid:Vo(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Qwt(r)};return t&&cp(r,t),r}function cp(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||io(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Vo()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function T8e(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),cp(t,r)}function Qwt(t){return Zn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}d();h();function Dc(){return Vo()}function Uc(){return Vo().substring(16)}d();h();function CS(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;let n={...t};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=CS(n[i],e[i],r-1));return n}d();h();var yJ="_sentrySpan";function up(t,e){e?po(t,yJ,e):delete t[yJ]}function bv(t){return t[yJ]}var Jwt=100,gJ=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Dc(),spanId:Uc()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,up(e,bv(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&cp(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,[n,i]=r instanceof Eu?[r.getScopeData(),r.getRequestSession()]:zl(r)?[e,e.requestSession]:[],{tags:o,extra:s,user:c,contexts:l,level:m,fingerprint:w=[],propagationContext:b}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...l},c&&Object.keys(c).length&&(this._user=c),m&&(this._level=m),w.length&&(this._fingerprint=w),b&&(this._propagationContext=b),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,up(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Dc()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:Jwt;if(n<=0)return this;let i={timestamp:yh(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:bv(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=CS(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Uc(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:Vo();if(!this._client)return et.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){let i=n&&n.event_id?n.event_id:Vo();if(!this._client)return et.warn("No client configured on scope - will not capture message!"),i;let o=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:o,...n,event_id:i},this),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:Vo();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(et.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}},Eu=gJ;function I8e(){return tg("defaultCurrentScope",()=>new Eu)}function M8e(){return tg("defaultIsolationScope",()=>new Eu)}var bJ=class{constructor(e,r){let n;e?n=e:n=new Eu;let i;r?i=r:i=new Eu,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){let r=this._pushScope(),n;try{n=e(r)}catch(i){throw this._popScope(),i}return Wl(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function OS(){let t=wu(),e=y8(t);return e.stack=e.stack||new bJ(I8e(),M8e())}function Xwt(t){return OS().withScope(t)}function e2t(t,e){let r=OS();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function k8e(t){return OS().withScope(()=>t(OS().getIsolationScope()))}function P8e(){return{withIsolationScope:k8e,withScope:Xwt,withSetScope:e2t,withSetIsolationScope:(t,e)=>k8e(e),getCurrentScope:()=>OS().getScope(),getIsolationScope:()=>OS().getIsolationScope()}}function bh(t){let e=y8(t);return e.acs?e.acs:P8e()}d();h();function dr(){let t=wu();return bh(t).getCurrentScope()}function Ho(){let t=wu();return bh(t).getIsolationScope()}function JC(){return tg("globalScope",()=>new Eu)}function ng(...t){let e=wu(),r=bh(e);if(t.length===2){let[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}function Zt(){return dr().getClient()}function vJ(t){let e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=e;return Zn({trace_id:r,span_id:n,parent_span_id:i})}d();h();var t2t="_sentryMetrics";function x8(t){let e=t[t2t];if(!e)return;let r={};for(let[,[n,i]]of e)(r[n]||(r[n]=[])).push(Zn(i));return r}d();h();var Ra="sentry.source",NS="sentry.sample_rate",oc="sentry.op",Qn="sentry.origin",DS="sentry.idle_span_finish_reason",ig="sentry.measurement_unit",og="sentry.measurement_value",w8="sentry.custom_span_name",xJ="sentry.profile_id",vv="sentry.exclusive_time";d();h();function wJ(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function US(t,e){t.setAttribute("http.response.status_code",e);let r=wJ(e);r.message!=="unknown_error"&&t.setStatus(r)}d();h();d();h();var XC="sentry-",r2t=/^sentry-/,n2t=8192;function eO(t){let e=i2t(t);if(!e)return;let r=Object.entries(e).reduce((n,[i,o])=>{if(i.match(r2t)){let s=i.slice(XC.length);n[s]=o}return n},{});if(Object.keys(r).length>0)return r}function SJ(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${XC}${n}`]=i),r),{});return o2t(e)}function i2t(t){if(!(!t||!ic(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{let n=R8e(r);return Object.entries(n).forEach(([i,o])=>{e[i]=o}),e},{}):R8e(t)}function R8e(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}function o2t(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let o=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,s=i===0?o:`${e},${o}`;return s.length>n2t?(Cc&&et.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s},"")}var tO=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function B8e(t){if(!t)return;let e=t.match(tO);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function AJ(t,e){let r=B8e(t),n=eO(e);if(!r||!r.traceId)return{traceId:Dc(),spanId:Uc()};let{traceId:i,parentSpanId:o,parentSampled:s}=r,c=Uc();return{traceId:i,parentSpanId:o,spanId:c,sampled:s,dsc:n||{}}}function S8(t=Dc(),e=Uc(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}var rO=0,_J=1,C8e=!1;function N8e(t){let{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:o,status:s,origin:c}=Qt(t);return Zn({parent_span_id:o,span_id:e,trace_id:r,data:n,op:i,status:s,origin:c})}function TJ(t){let{spanId:e,traceId:r,isRemote:n}=t.spanContext(),i=n?e:Qt(t).parent_span_id,o=n?Uc():e;return Zn({parent_span_id:i,span_id:o,trace_id:r})}function nO(t){let{traceId:e,spanId:r}=t.spanContext(),n=Kf(t);return S8(e,r,n)}function Yl(t){return typeof t=="number"?O8e(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?O8e(t.getTime()):io()}function O8e(t){return t>9999999999?t/1e3:t}function Qt(t){if(u2t(t))return t.getSpanJSON();try{let{spanId:e,traceId:r}=t.spanContext();if(c2t(t)){let{attributes:n,startTime:i,name:o,endTime:s,parentSpanId:c,status:l}=t;return Zn({span_id:e,trace_id:r,data:n,description:o,parent_span_id:c,start_timestamp:Yl(i),timestamp:Yl(s)||void 0,status:iO(l),op:n[oc],origin:n[Qn],_metrics_summary:x8(t)})}return{span_id:e,trace_id:r}}catch{return{}}}function c2t(t){let e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function u2t(t){return typeof t.getSpanJSON=="function"}function Kf(t){let{traceFlags:e}=t.spanContext();return e===_J}function iO(t){if(!(!t||t.code===0))return t.code===1?"ok":t.message||"unknown_error"}var xv="_sentryChildSpans",EJ="_sentryRootSpan";function oO(t,e){let r=t[EJ]||t;po(e,EJ,r),t[xv]?t[xv].add(e):po(t,xv,new Set([e]))}function D8e(t,e){t[xv]&&t[xv].delete(e)}function sg(t){let e=new Set;function r(n){if(!e.has(n)&&Kf(n)){e.add(n);let i=n[xv]?Array.from(n[xv]):[];for(let o of i)r(o)}}return r(t),Array.from(e)}function jn(t){return t[EJ]||t}function zn(){let t=wu(),e=bh(t);return e.getActiveSpan?e.getActiveSpan():bv(dr())}function sO(){C8e||(Oc(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),C8e=!0)}var U8e=!1;function aO(){U8e||(U8e=!0,p8(IJ),m8(IJ))}function IJ(){let t=zn(),e=t&&jn(t);if(e){let r="internal_error";Dt&&et.log(`[Tracing] Root span: ${r} -> Global error occurred`),e.setStatus({code:2,message:r})}}IJ.tag="sentry_tracingErrorCallback";d();h();var L8e="_sentryScope",F8e="_sentryIsolationScope";function q8e(t,e,r){t&&(po(t,F8e,r),po(t,L8e,e))}function MJ(t){return{scope:t[L8e],isolationScope:t[F8e]}}d();h();d();h();function sc(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=Zt(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}d();h();var Lc=class{constructor(e={}){this._traceId=e.traceId||Dc(),this._spanId=e.spanId||Uc()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:rO}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}};d();h();d();h();function K8e(t,e,r=()=>{}){let n;try{n=t()}catch(i){throw e(i),r(),i}return f2t(n,e,r)}function f2t(t,e,r){return Wl(t)?t.then(n=>(r(),n),n=>{throw e(n),r(),n}):(r(),t)}d();h();d();h();var LS="production";var V8e="_frozenDsc";function kJ(t,e){po(t,V8e,e)}function PJ(t,e){let r=e.getOptions(),{publicKey:n}=e.getDsn()||{},i=Zn({environment:r.environment||LS,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",i),i}function A8(t,e){let r=e.getPropagationContext();return r.dsc||PJ(r.traceId,t)}function _u(t){let e=Zt();if(!e)return{};let r=jn(t),n=r[V8e];if(n)return n;let i=r.spanContext().traceState,o=i&&i.get("sentry.dsc"),s=o&&eO(o);if(s)return s;let c=PJ(t.spanContext().traceId,e),l=Qt(r),m=l.data||{},w=m[NS];w!=null&&(c.sample_rate=`${w}`);let b=m[Ra],E=l.description;return b!=="url"&&E&&(c.transaction=E),sc()&&(c.sampled=String(Kf(r))),e.emit("createDsc",c,r),c}d();h();function H8e(t){if(!Dt)return;let{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:n}=Qt(t),{spanId:i}=t.spanContext(),o=Kf(t),s=jn(t),c=s===t,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${c?"root ":""}span`,m=[`op: ${r}`,`name: ${e}`,`ID: ${i}`];if(n&&m.push(`parent ID: ${n}`),!c){let{op:w,description:b}=Qt(s);m.push(`root ID: ${s.spanContext().spanId}`),w&&m.push(`root op: ${w}`),b&&m.push(`root description: ${b}`)}et.log(`${l}
  ${m.join(`
  `)}`)}function j8e(t){if(!Dt)return;let{description:e="< unknown name >",op:r="< unknown op >"}=Qt(t),{spanId:n}=t.spanContext(),o=jn(t)===t,s=`[Tracing] Finishing "${r}" ${o?"root ":""}span "${e}" with ID ${n}`;et.log(s)}d();h();d();h();function cO(t){if(typeof t=="boolean")return Number(t);let e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){Dt&&et.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}function z8e(t,e){if(!sc(t))return[!1];let r=Ho().getScopeData().sdkProcessingMetadata.normalizedRequest,n={...e,normalizedRequest:e.normalizedRequest||r},i;typeof t.tracesSampler=="function"?i=t.tracesSampler(n):n.parentSampled!==void 0?i=n.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;let o=cO(i);return o===void 0?(Dt&&et.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):o?Math.random()<o?[!0,o]:(Dt&&et.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,o]):(Dt&&et.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o])}d();h();d();h();d();h();var l2t=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function d2t(t){return t==="http"||t==="https"}function vh(t,e=!1){let{host:r,path:n,pass:i,port:o,projectId:s,protocol:c,publicKey:l}=t;return`${c}://${l}${e&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n&&`${n}/`}${s}`}function W8e(t){let e=l2t.exec(t);if(!e){Oc(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,n,i="",o="",s="",c=""]=e.slice(1),l="",m=c,w=m.split("/");if(w.length>1&&(l=w.slice(0,-1).join("/"),m=w.pop()),m){let b=m.match(/^\d+/);b&&(m=b[0])}return G8e({host:o,pass:i,path:l,projectId:m,port:s,protocol:r,publicKey:n})}function G8e(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function h2t(t){if(!Cc)return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(s=>t[s]?!1:(et.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:r.match(/^\d+$/)?d2t(n)?e&&isNaN(parseInt(e,10))?(et.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(et.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(et.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function RJ(t){let e=typeof t=="string"?W8e(t):G8e(t);if(!(!e||!h2t(e)))return e}d();h();d();h();d();h();function $8e(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let o=0;o<e.length;o++)if(e[o]===i)return!0;return e.push(i),!1}function n(i){if(t)e.delete(i);else for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}}return[r,n]}function Vf(t,e=100,r=1/0){try{return BJ("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function uO(t,e=3,r=100*1024){let n=Vf(t,e);return g2t(n)>r?uO(t,e-1,r):n}function BJ(t,e,r=1/0,n=1/0,i=$8e()){let[o,s]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let c=p2t(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;let l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return c.replace("object ","");if(o(e))return"[Circular ~]";let m=e;if(m&&typeof m.toJSON=="function")try{let I=m.toJSON();return BJ("",I,l-1,n,i)}catch{}let w=Array.isArray(e)?[]:{},b=0,E=ZC(e);for(let I in E){if(!Object.prototype.hasOwnProperty.call(E,I))continue;if(b>=n){w[I]="[MaxProperties ~]";break}let M=E[I];w[I]=BJ(I,M,l-1,n,i),b++}return s(e),w}function p2t(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof self<"u"&&e===self)return"[Global]";if(typeof self<"u"&&e===self)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(g8(e))return"[VueViewModel]";if(lJ(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Nc(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=m2t(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function m2t(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function y2t(t){return~-encodeURI(t).split(/%..|./).length}function g2t(t){return y2t(JSON.stringify(t))}function Zl(t,e=[]){return[t,e]}function OJ(t,e){let[r,n]=t;return[r,[...n,e]]}function fO(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}function CJ(t){return $t.__SENTRY__&&$t.__SENTRY__.encodePolyfill?$t.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function NJ(t){let[e,r]=t,n=JSON.stringify(e);function i(o){typeof n=="string"?n=typeof o=="string"?n+o:[CJ(n),o]:n.push(typeof o=="string"?CJ(o):o)}for(let o of r){let[s,c]=o;if(i(`
${JSON.stringify(s)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify(Vf(c))}i(l)}}return typeof n=="string"?n:b2t(n)}function b2t(t){let e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}function DJ(t){return[{type:"span"},t]}function UJ(t){let e=typeof t.data=="string"?CJ(t.data):t.data;return[Zn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}var v2t={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function lO(t){return v2t[t]}function dO(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function LJ(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:vh(n)},...i&&{trace:Zn({...i})}}}function x2t(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function Y8e(t,e,r,n){let i=dO(r),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:vh(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Zl(o,[s])}function Z8e(t,e,r,n){let i=dO(r),o=t.type&&t.type!=="replay_event"?t.type:"event";x2t(t,r&&r.sdk);let s=LJ(t,i,n,e);return delete t.sdkProcessingMetadata,Zl(s,[[{type:o},t]])}function Q8e(t,e){function r(w){return!!w.trace_id&&!!w.public_key}let n=_u(t[0]),i=e&&e.getDsn(),o=e&&e.getOptions().tunnel,s={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!o&&i&&{dsn:vh(i)}},c=e&&e.getOptions().beforeSendSpan,l=c?w=>{let b=c(Qt(w));return b||sO(),b}:w=>Qt(w),m=[];for(let w of t){let b=l(w);b&&m.push(DJ(b))}return Zl(s,m)}d();h();function hO(t,e,r,n=zn()){let i=n&&jn(n);i&&(Dt&&et.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),i.addEvent(t,{[og]:e,[ig]:r}))}function pO(t){if(!t||t.length===0)return;let e={};return t.forEach(r=>{let n=r.attributes||{},i=n[ig],o=n[og];typeof i=="string"&&typeof o=="number"&&(e[r.name]={value:o,unit:i})}),e}var J8e=1e3,FS=class{constructor(e={}){this._traceId=e.traceId||Dc(),this._spanId=e.spanId||Uc(),this._startTime=e.startTimestamp||io(),this._attributes={},this.setAttributes({[Qn]:"manual",[oc]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,r){}spanContext(){let{_spanId:e,_traceId:r,_sampled:n}=this;return{spanId:e,traceId:r,traceFlags:n?_J:rO}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=Yl(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Ra,"custom"),this}end(e){this._endTime||(this._endTime=Yl(e),j8e(this),this._onSpanEnded())}getSpanJSON(){return Zn({data:this._attributes,description:this._name,op:this._attributes[oc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:iO(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Qn],_metrics_summary:x8(this),profile_id:this._attributes[xJ],exclusive_time:this._attributes[vv],measurements:pO(this._events),is_segment:this._isStandaloneSpan&&jn(this)===this||void 0,segment_id:this._isStandaloneSpan?jn(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,n){Dt&&et.log("[Tracing] Adding an event to span:",e);let i=X8e(r)?r:n||io(),o=X8e(r)?{}:r||{},s={name:e,time:Yl(i),attributes:o};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=Zt();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===jn(this)))return;if(this._isStandaloneSpan){this._sampled?S2t(Q8e([this],e)):(Dt&&et.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let n=this._convertSpanToTransaction();n&&(MJ(this).scope||dr()).captureEvent(n)}_convertSpanToTransaction(){if(!e5e(Qt(this)))return;this._name||(Dt&&et.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:r}=MJ(this),i=(e||dr()).getClient()||Zt();if(this._sampled!==!0){Dt&&et.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}let s=sg(this).filter(b=>b!==this&&!w2t(b)).map(b=>Qt(b)).filter(e5e),c=this._attributes[Ra];delete this._attributes[w8],s.forEach(b=>{b.data&&delete b.data[w8]});let l={contexts:{trace:N8e(this)},spans:s.length>J8e?s.sort((b,E)=>b.start_timestamp-E.start_timestamp).slice(0,J8e):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,...Zn({dynamicSamplingContext:_u(this)})},_metrics_summary:x8(this),...c&&{transaction_info:{source:c}}},m=pO(this._events);return m&&Object.keys(m).length&&(Dt&&et.log("[Measurements] Adding measurements to transaction event",JSON.stringify(m,void 0,2)),l.measurements=m),l}};function X8e(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function e5e(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function w2t(t){return t instanceof FS&&t.isStandaloneSpan()}function S2t(t){let e=Zt();if(!e)return;let r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}var r5e="__SENTRY_SUPPRESS_TRACING__";function mO(t,e){let r=FJ();if(r.startSpan)return r.startSpan(t,e);let n=i5e(t),{forceTransaction:i,parentSpan:o}=t;return ng(t.scope,()=>E2t(o)(()=>{let c=dr(),l=o5e(c),w=t.onlyIfParent&&!l?new Lc:n5e({parentSpan:l,spanArguments:n,forceTransaction:i,scope:c});return up(c,w),K8e(()=>e(w),()=>{let{status:b}=Qt(w);w.isRecording()&&(!b||b==="ok")&&w.setStatus({code:2,message:"internal_error"})},()=>w.end())}))}function Tu(t){let e=FJ();if(e.startInactiveSpan)return e.startInactiveSpan(t);let r=i5e(t),{forceTransaction:n,parentSpan:i}=t;return(t.scope?s=>ng(t.scope,s):i!==void 0?s=>qS(i,s):s=>s())(()=>{let s=dr(),c=o5e(s);return t.onlyIfParent&&!c?new Lc:n5e({parentSpan:c,spanArguments:r,forceTransaction:n,scope:s})})}function qS(t,e){let r=FJ();return r.withActiveSpan?r.withActiveSpan(t,e):ng(n=>(up(n,t||void 0),e(n)))}function n5e({parentSpan:t,spanArguments:e,forceTransaction:r,scope:n}){if(!sc())return new Lc;let i=Ho(),o;if(t&&!r)o=A2t(t,n,e),oO(t,o);else if(t){let s=_u(t),{traceId:c,spanId:l}=t.spanContext(),m=Kf(t);o=t5e({traceId:c,parentSpanId:l,...e},n,m),kJ(o,s)}else{let{traceId:s,dsc:c,parentSpanId:l,sampled:m}={...i.getPropagationContext(),...n.getPropagationContext()};o=t5e({traceId:s,parentSpanId:l,...e},n,m),c&&kJ(o,c)}return H8e(o),q8e(o,n,i),o}function i5e(t){let r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){let n={...r};return n.startTimestamp=Yl(t.startTime),delete n.startTime,n}return r}function FJ(){let t=wu();return bh(t)}function t5e(t,e,r){let n=Zt(),i=n&&n.getOptions()||{},{name:o="",attributes:s}=t,[c,l]=e.getScopeData().sdkProcessingMetadata[r5e]?[!1]:z8e(i,{name:o,parentSampled:r,attributes:s,transactionContext:{name:o,parentSampled:r}}),m=new FS({...t,attributes:{[Ra]:"custom",...t.attributes},sampled:c});return l!==void 0&&m.setAttribute(NS,l),n&&n.emit("spanStart",m),m}function A2t(t,e,r){let{spanId:n,traceId:i}=t.spanContext(),o=e.getScopeData().sdkProcessingMetadata[r5e]?!1:Kf(t),s=o?new FS({...r,parentSpanId:n,traceId:i,sampled:o}):new Lc({traceId:i});oO(t,s);let c=Zt();return c&&(c.emit("spanStart",s),r.endTimestamp&&c.emit("spanEnd",s)),s}function o5e(t){let e=bv(t);if(!e)return;let r=Zt();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?jn(e):e}function E2t(t){return t!==void 0?e=>qS(t,e):e=>e()}var KS={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},_2t="heartbeatFailed",T2t="idleTimeout",I2t="finalTimeout",M2t="externalFinish";function yO(t,e={}){let r=new Map,n=!1,i,o=M2t,s=!e.disableAutoFinish,c=[],{idleTimeout:l=KS.idleTimeout,finalTimeout:m=KS.finalTimeout,childSpanTimeout:w=KS.childSpanTimeout,beforeSpanEnd:b}=e,E=Zt();if(!E||!sc())return new Lc;let I=dr(),M=zn(),k=k2t(t);k.end=new Proxy(k.end,{apply(H,re,J){b&&b(k);let[ie,...S]=J,a=ie||io(),f=Yl(a),p=sg(k).filter(v=>v!==k);if(!p.length)return V(f),Reflect.apply(H,re,[f,...S]);let y=p.map(v=>Qt(v).timestamp).filter(v=>!!v),g=y.length?Math.max(...y):void 0,A=Qt(k).start_timestamp,_=Math.min(A?A+m/1e3:1/0,Math.max(A||-1/0,Math.min(f,g||1/0)));return V(_),Reflect.apply(H,re,[_,...S])}});function B(){i&&(clearTimeout(i),i=void 0)}function R(H){B(),i=setTimeout(()=>{!n&&r.size===0&&s&&(o=T2t,k.end(H))},l)}function U(H){i=setTimeout(()=>{!n&&s&&(o=_2t,k.end(H))},w)}function P(H){B(),r.set(H,!0);let re=io();U(re+w/1e3)}function F(H){if(r.has(H)&&r.delete(H),r.size===0){let re=io();R(re+l/1e3)}}function V(H){n=!0,r.clear(),c.forEach(f=>f()),up(I,M);let re=Qt(k),{start_timestamp:J}=re;if(!J)return;(re.data||{})[DS]||k.setAttribute(DS,o),et.log(`[Tracing] Idle span "${re.op}" finished`);let S=sg(k).filter(f=>f!==k),a=0;S.forEach(f=>{f.isRecording()&&(f.setStatus({code:2,message:"cancelled"}),f.end(H),Dt&&et.log("[Tracing] Cancelling span since span ended early",JSON.stringify(f,void 0,2)));let p=Qt(f),{timestamp:y=0,start_timestamp:g=0}=p,A=g<=H,_=(m+l)/1e3,v=y-g<=_;if(Dt){let u=JSON.stringify(f,void 0,2);A?v||et.log("[Tracing] Discarding span since it finished after idle span final timeout",u):et.log("[Tracing] Discarding span since it happened after idle span was finished",u)}(!v||!A)&&(D8e(k,f),a++)}),a>0&&k.setAttribute("sentry.idle_span_discarded_spans",a)}return c.push(E.on("spanStart",H=>{if(n||H===k||Qt(H).timestamp)return;sg(k).includes(H)&&P(H.spanContext().spanId)})),c.push(E.on("spanEnd",H=>{n||F(H.spanContext().spanId)})),c.push(E.on("idleSpanEnableAutoFinish",H=>{H===k&&(s=!0,R(),r.size&&U())})),e.disableAutoFinish||R(),setTimeout(()=>{n||(k.setStatus({code:2,message:"deadline_exceeded"}),o=I2t,k.end())},m),k}function k2t(t){let e=Tu(t);return up(dr(),e),Dt&&et.log("[Tracing] Started span is an idle span"),e}d();h();d();h();d();h();function gO(t,e,r,n=0){return new $l((i,o)=>{let s=t[n];if(e===null||typeof s!="function")i(e);else{let c=s({...e},r);Dt&&s.id&&c===null&&et.log(`Event processor "${s.id}" dropped event`),Wl(c)?c.then(l=>gO(t,l,r,n+1).then(i)).then(null,o):gO(t,c,r,n+1).then(i).then(null,o)}})}d();h();var bO,s5e,vO;function a5e(t){let e=$t._sentryDebugIds;if(!e)return{};let r=Object.keys(e);return vO&&r.length===s5e||(s5e=r.length,vO=r.reduce((n,i)=>{bO||(bO={});let o=bO[i];if(o)n[o[0]]=o[1];else{let s=t(i);for(let c=s.length-1;c>=0;c--){let l=s[c],m=l&&l.filename,w=e[i];if(m&&w){n[m]=w,bO[i]=[m,w];break}}}return n},{})),vO}d();h();function c5e(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:o}=e;P2t(t,e),n&&C2t(t,n),O2t(t,r),R2t(t,i),B2t(t,o)}function qJ(t,e){let{extra:r,tags:n,user:i,contexts:o,level:s,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:m,eventProcessors:w,attachments:b,propagationContext:E,transactionName:I,span:M}=e;xO(t,"extra",r),xO(t,"tags",n),xO(t,"user",i),xO(t,"contexts",o),t.sdkProcessingMetadata=CS(t.sdkProcessingMetadata,c,2),s&&(t.level=s),I&&(t.transactionName=I),M&&(t.span=M),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),m.length&&(t.fingerprint=[...t.fingerprint,...m]),w.length&&(t.eventProcessors=[...t.eventProcessors,...w]),b.length&&(t.attachments=[...t.attachments,...b]),t.propagationContext={...t.propagationContext,...E}}function xO(t,e,r){t[e]=CS(t[e],r,1)}function P2t(t,e){let{extra:r,tags:n,user:i,contexts:o,level:s,transactionName:c}=e,l=Zn(r);l&&Object.keys(l).length&&(t.extra={...l,...t.extra});let m=Zn(n);m&&Object.keys(m).length&&(t.tags={...m,...t.tags});let w=Zn(i);w&&Object.keys(w).length&&(t.user={...w,...t.user});let b=Zn(o);b&&Object.keys(b).length&&(t.contexts={...b,...t.contexts}),s&&(t.level=s),c&&t.type!=="transaction"&&(t.transaction=c)}function R2t(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function B2t(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function C2t(t,e){t.contexts={trace:TJ(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:_u(e),...t.sdkProcessingMetadata};let r=jn(e),n=Qt(r).description;n&&!t.transaction&&t.type==="transaction"&&(t.transaction=n)}function O2t(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}function u5e(t,e,r,n,i,o){let{normalizeDepth:s=3,normalizeMaxBreadth:c=1e3}=t,l={...e,event_id:e.event_id||r.event_id||Vo(),timestamp:e.timestamp||yh()},m=r.integrations||t.integrations.map(B=>B.name);N2t(l,t),L2t(l,m),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&D2t(l,t.stackParser);let w=q2t(n,r.captureContext);r.mechanism&&gh(l,r.mechanism);let b=i?i.getEventProcessors():[],E=JC().getScopeData();if(o){let B=o.getScopeData();qJ(E,B)}if(w){let B=w.getScopeData();qJ(E,B)}let I=[...r.attachments||[],...E.attachments];I.length&&(r.attachments=I),c5e(l,E);let M=[...b,...E.eventProcessors];return gO(M,l,r).then(B=>(B&&U2t(B),typeof s=="number"&&s>0?F2t(B,s,c):B))}function N2t(t,e){let{environment:r,release:n,dist:i,maxValueLength:o=250}=e;t.environment=t.environment||r||LS,!t.release&&n&&(t.release=n),!t.dist&&i&&(t.dist=i),t.message&&(t.message=ph(t.message,o));let s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=ph(s.value,o));let c=t.request;c&&c.url&&(c.url=ph(c.url,o))}function D2t(t,e){let r=a5e(e);try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}function U2t(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(e).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}function L2t(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function F2t(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:Vf(i.data,e,r)}}))},...t.user&&{user:Vf(t.user,e,r)},...t.contexts&&{contexts:Vf(t.contexts,e,r)},...t.extra&&{extra:Vf(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=Vf(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>({...i,...i.data&&{data:Vf(i.data,e,r)}}))),t.contexts&&t.contexts.flags&&n.contexts&&(n.contexts.flags=Vf(t.contexts.flags,3,r)),n}function q2t(t,e){if(!e)return t;let r=t?t.clone():new Eu;return r.update(e),r}function f5e(t){if(t)return K2t(t)?{captureContext:t}:H2t(t)?{captureContext:t}:t}function K2t(t){return t instanceof Eu||typeof t=="function"}var V2t=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function H2t(t){return Object.keys(t).some(e=>V2t.includes(e))}function cg(t,e){return dr().captureException(t,f5e(e))}function VS(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return dr().captureMessage(t,r,n)}function E8(t,e){return dr().captureEvent(t,e)}function wO(t,e){Ho().setContext(t,e)}function HS(t){Ho().setTags(t)}function jS(t){Ho().setUser(t)}function KJ(){let t=Zt();return!!t&&t.getOptions().enabled!==!1&&!!t.getTransport()}function _8(t){let e=Zt(),r=Ho(),n=dr(),{release:i,environment:o=LS}=e&&e.getOptions()||{},{userAgent:s}=$t.navigator||{},c=_8e({release:i,environment:o,user:n.getUser()||r.getUser(),...s&&{userAgent:s},...t}),l=r.getSession();return l&&l.status==="ok"&&cp(l,{status:"exited"}),SO(),r.setSession(c),n.setSession(c),c}function SO(){let t=Ho(),e=dr(),r=e.getSession()||t.getSession();r&&T8e(r),d5e(),t.setSession(),e.setSession()}function d5e(){let t=Ho(),e=dr(),r=Zt(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}function T8(t=!1){if(t){SO();return}d5e()}d();h();var j2t="7";function z2t(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function W2t(t){return`${z2t(t)}${t.projectId}/envelope/`}function G2t(t,e){let r={sentry_version:j2t};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function h5e(t,e,r){return e||`${W2t(t)}?${G2t(t,r)}`}d();h();d();h();var p5e=[];function $2t(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}function VJ(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...e,...r];else if(typeof r=="function"){let s=r(e);n=Array.isArray(s)?s:[s]}else n=e;let i=$2t(n),o=i.findIndex(s=>s.name==="Debug");if(o>-1){let[s]=i.splice(o,1);i.push(s)}return i}function m5e(t,e){let r={};return e.forEach(n=>{n&&jJ(t,n,r)}),r}function HJ(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}function jJ(t,e,r){if(r[e.name]){Dt&&et.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,p5e.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),p5e.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,o)=>n(i,o,t))}if(typeof e.processEvent=="function"){let n=e.processEvent.bind(e),i=Object.assign((o,s)=>n(o,s,t),{id:e.name});t.addEventProcessor(i)}Dt&&et.log(`Integration installed: ${e.name}`)}d();h();function y5e(t,e,r){let n=[{type:"client_report"},{timestamp:r||yh(),discarded_events:t}];return Zl(e?{dsn:e}:{},[n])}d();h();var Ba=class extends Error{constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}};var g5e="Not capturing exception because it's already been captured.",I8=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=RJ(e.dsn):Dt&&et.warn("No DSN provided, client will not send events."),this._dsn){let i=h5e(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}let n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&Oc(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,r,n){let i=Vo();if(QC(e))return Dt&&et.log(g5e),i;let o={event_id:i,...r};return this._process(this.eventFromException(e,o).then(s=>this._captureEvent(s,o,n))),o.event_id}captureMessage(e,r,n,i){let o={event_id:Vo(),...n},s=PS(e)?e:String(e),c=mv(e)?this.eventFromMessage(s,r,o):this.eventFromException(e,o);return this._process(c.then(l=>this._captureEvent(l,o,i))),o.event_id}captureEvent(e,r,n){let i=Vo();if(r&&r.originalException&&QC(r.originalException))return Dt&&et.log(g5e),i;let o={event_id:i,...r},c=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,o,c||n)),o.event_id}captureSession(e){typeof e.release!="string"?Dt&&et.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),cp(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):qf(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];jJ(this,e,this._integrations),r||HJ(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=Z8e(e,this._dsn,this._options._metadata,this._options.tunnel);for(let o of r.attachments||[])n=OJ(n,UJ(o));let i=this.sendEnvelope(n);i&&i.then(o=>this.emit("afterSendEvent",e,o),null)}sendSession(e){let r=Y8e(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=typeof n=="number"?n:1,o=`${e}:${r}`;Dt&&et.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(e,r){let n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{let i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(e,...r){let n=this._hooks[e];n&&n.forEach(i=>i(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(Dt&&et.error("Error while sending envelope:",r),r)):(Dt&&et.error("Transport disabled"),qf({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=m5e(this,e),HJ(this,e)}_updateSessionFromEvent(e,r){let n=r.level==="fatal",i=!1,o=r.exception&&r.exception.values;if(o){i=!0;for(let l of o){let m=l.mechanism;if(m&&m.handled===!1){n=!0;break}}}let s=e.status==="ok";(s&&e.errors===0||s&&n)&&(cp(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new $l(r=>{let n=0,i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(n+=i,e&&n>=e&&(clearInterval(o),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=dr(),i=Ho()){let o=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",e,r),e.type||i.setLastEventId(e.event_id||r.event_id),u5e(o,e,r,n,this,i).then(c=>{if(c===null)return c;c.contexts={trace:vJ(n),...c.contexts};let l=A8(this,n);return c.sdkProcessingMetadata={dynamicSamplingContext:l,...c.sdkProcessingMetadata},c})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{Dt&&(i instanceof Ba&&i.logLevel==="log"?et.log(i.message):et.warn(i))})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:o}=i,s=v5e(e),c=b5e(e),l=e.type||"error",m=`before send for type \`${l}\``,w=typeof o>"u"?void 0:cO(o);if(c&&typeof w=="number"&&Math.random()>w)return this.recordDroppedEvent("sample_rate","error",e),rg(new Ba(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));let b=l==="replay_event"?"replay":l,I=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,I).then(M=>{if(M===null)throw this.recordDroppedEvent("event_processor",b,e),new Ba("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return M;let B=Z2t(this,i,M,r);return Y2t(B,m)}).then(M=>{if(M===null){if(this.recordDroppedEvent("before_send",b,e),s){let U=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",U)}throw new Ba(`${m} returned \`null\`, will not send event.`,"log")}let k=n&&n.getSession();if(!s&&k&&this._updateSessionFromEvent(k,M),s){let R=M.sdkProcessingMetadata&&M.sdkProcessingMetadata.spanCountBeforeProcessing||0,U=M.spans?M.spans.length:0,P=R-U;P>0&&this.recordDroppedEvent("before_send","span",P)}let B=M.transaction_info;if(s&&B&&M.transaction!==e.transaction){let R="custom";M.transaction_info={...B,source:R}}return this.sendEvent(M,r),M}).then(null,M=>{throw M instanceof Ba?M:(this.captureException(M,{data:{__sentry__:!0},originalException:M}),new Ba(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${M}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{let[i,o]=r.split(":");return{reason:i,category:o,quantity:n}})}_flushOutcomes(){Dt&&et.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){Dt&&et.log("No outcomes to send");return}if(!this._dsn){Dt&&et.log("No dsn provided, will not send outcomes");return}Dt&&et.log("Sending outcomes:",e);let r=y5e(e,this._options.tunnel&&vh(this._dsn));this.sendEnvelope(r)}};function Y2t(t,e){let r=`${e} must return \`null\` or a valid event.`;if(Wl(t))return t.then(n=>{if(!zl(n)&&n!==null)throw new Ba(r);return n},n=>{throw new Ba(`${e} rejected with ${n}`)});if(!zl(t)&&t!==null)throw new Ba(r);return t}function Z2t(t,e,r,n){let{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=e;if(b5e(r)&&i)return i(r,n);if(v5e(r)){if(r.spans&&s){let c=[];for(let l of r.spans){let m=s(l);m?c.push(m):(sO(),t.recordDroppedEvent("before_send","span"))}r.spans=c}if(o){if(r.spans){let c=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return o(r,n)}}return r}function b5e(t){return t.type===void 0}function v5e(t){return t.type==="transaction"}d();h();function zJ(t,e){e.debug===!0&&(Dt?et.enable():Oc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),dr().update(e.initialScope);let n=new t(e);return WJ(n),n.init(),n}function WJ(t){dr().setClient(t)}d();h();d();h();function x5e(t){let e=[];function r(){return t===void 0||e.length<t}function n(s){return e.splice(e.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!r())return rg(new Ba("Not adding Promise because buffer limit was reached."));let c=s();return e.indexOf(c)===-1&&e.push(c),c.then(()=>n(c)).then(null,()=>n(c).then(null,()=>{})),c}function o(s){return new $l((c,l)=>{let m=e.length;if(!m)return c(!0);let w=setTimeout(()=>{s&&s>0&&c(!1)},s);e.forEach(b=>{qf(b).then(()=>{--m||(clearTimeout(w),c(!0))},l)})})}return{$:e,add:i,drain:o}}d();h();function Q2t(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}function J2t(t,e){return t[e]||t.all||0}function w5e(t,e,r=Date.now()){return J2t(t,e)>r}function S5e(t,{statusCode:e,headers:r},n=Date.now()){let i={...t},o=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(o)for(let c of o.trim().split(",")){let[l,m,,,w]=c.split(":",5),b=parseInt(l,10),E=(isNaN(b)?60:b)*1e3;if(!m)i.all=n+E;else for(let I of m.split(";"))I==="metric_bucket"?(!w||w.split(";").includes("custom"))&&(i[I]=n+E):i[I]=n+E}else s?i.all=n+Q2t(s,n):e===429&&(i.all=n+60*1e3);return i}var X2t=64;function AO(t,e,r=x5e(t.bufferSize||X2t)){let n={},i=s=>r.drain(s);function o(s){let c=[];if(fO(s,(b,E)=>{let I=lO(E);if(w5e(n,I)){let M=A5e(b,E);t.recordDroppedEvent("ratelimit_backoff",I,M)}else c.push(b)}),c.length===0)return qf({});let l=Zl(s[0],c),m=b=>{fO(l,(E,I)=>{let M=A5e(E,I);t.recordDroppedEvent(b,lO(I),M)})},w=()=>e({body:NJ(l)}).then(b=>(b.statusCode!==void 0&&(b.statusCode<200||b.statusCode>=300)&&Dt&&et.warn(`Sentry responded with status code ${b.statusCode} to sent event.`),n=S5e(n,b),b),b=>{throw m("network_error"),b});return r.add(w).then(b=>b,b=>{if(b instanceof Ba)return Dt&&et.error("Skipped sending event because buffer is full."),m("queue_overflow"),qf({});throw b})}return{send:o,flush:i}}function A5e(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}d();h();function wv(t,e,r=[e],n="npm"){let i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:r.map(o=>({name:`${n}:@sentry/${o}`,version:jl})),version:jl}),t._metadata=i}d();h();function M8(t={}){let e=Zt();if(!KJ()||!e)return{};let r=wu(),n=bh(r);if(n.getTraceData)return n.getTraceData(t);let i=dr(),o=t.span||zn(),s=o?nO(o):eSt(i),c=o?_u(o):A8(e,i),l=SJ(c);return tO.test(s)?{"sentry-trace":s,baggage:l}:(et.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function eSt(t){let{traceId:e,sampled:r,spanId:n}=t.getPropagationContext();return S8(e,n,r)}d();h();var tSt=100;function Fc(t,e){let r=Zt(),n=Ho();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:o=tSt}=r.getOptions();if(o<=0)return;let c={timestamp:yh(),...t},l=i?Oc(()=>i(c,e)):c;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,e),n.addBreadcrumb(l,o))}d();h();var E5e,rSt="FunctionToString",_5e=new WeakMap,nSt=()=>({name:rSt,setupOnce(){E5e=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=gv(this),r=_5e.has(Zt())&&e!==void 0?e:this;return E5e.apply(r,t)}}catch{}},setup(t){_5e.set(t,!0)}}),EO=nSt;d();h();var iSt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],oSt="InboundFilters",sSt=(t={})=>({name:oSt,processEvent(e,r,n){let i=n.getOptions(),o=aSt(t,i);return cSt(e,o)?null:e}}),TO=sSt;function aSt(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:iSt],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function cSt(t,e){return e.ignoreInternal&&pSt(t)?(Dt&&et.warn(`Event dropped due to being internal Sentry Error.
Event: ${Gl(t)}`),!0):uSt(t,e.ignoreErrors)?(Dt&&et.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Gl(t)}`),!0):ySt(t)?(Dt&&et.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Gl(t)}`),!0):fSt(t,e.ignoreTransactions)?(Dt&&et.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Gl(t)}`),!0):lSt(t,e.denyUrls)?(Dt&&et.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Gl(t)}.
Url: ${_O(t)}`),!0):dSt(t,e.allowUrls)?!1:(Dt&&et.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Gl(t)}.
Url: ${_O(t)}`),!0)}function uSt(t,e){return t.type||!e||!e.length?!1:hSt(t).some(r=>mh(r,e))}function fSt(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?mh(r,e):!1}function lSt(t,e){if(!e||!e.length)return!1;let r=_O(t);return r?mh(r,e):!1}function dSt(t,e){if(!e||!e.length)return!0;let r=_O(t);return r?mh(r,e):!0}function hSt(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),e}function pSt(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function mSt(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function _O(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?mSt(e):null}catch{return Dt&&et.error(`Cannot extract url for event ${Gl(t)}`),null}}function ySt(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}d();h();function $J(t,e,r=250,n,i,o,s){if(!o.exception||!o.exception.values||!s||!Su(s.originalException,Error))return;let c=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;c&&(o.exception.values=gSt(GJ(t,e,i,s.originalException,n,o.exception.values,c,0),r))}function GJ(t,e,r,n,i,o,s,c){if(o.length>=r+1)return o;let l=[...o];if(Su(n[i],Error)){T5e(s,c);let m=t(e,n[i]),w=l.length;I5e(m,i,w,c),l=GJ(t,e,r,n[i],i,[m,...l],m,w)}return Array.isArray(n.errors)&&n.errors.forEach((m,w)=>{if(Su(m,Error)){T5e(s,c);let b=t(e,m),E=l.length;I5e(b,`errors[${w}]`,E,c),l=GJ(t,e,r,m,i,[b,...l],b,E)}}),l}function T5e(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function I5e(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}function gSt(t,e){return t.map(r=>(r.value&&(r.value=ph(r.value,e)),r))}d();h();function Hf(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}d();h();function YJ(t){let e="console";ka(e,t),Pa(e,bSt)}function bSt(){"console"in $t&&h8.forEach(function(t){t in $t.console&&Ko($t.console,t,function(e){return MS[t]=e,function(...r){Io("console",{args:r,level:t});let i=MS[t];i&&i.apply($t.console,r)}})})}d();h();function ZJ(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}d();h();var vSt="Dedupe",xSt=()=>{let t;return{name:vSt,processEvent(e){if(e.type)return e;try{if(wSt(e,t))return Dt&&et.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},IO=xSt;function wSt(t,e){return e?!!(SSt(t,e)||ASt(t,e)):!1}function SSt(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!P5e(t,e)||!k5e(t,e))}function ASt(t,e){let r=M5e(e),n=M5e(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!P5e(t,e)||!k5e(t,e))}function k5e(t,e){let r=jC(t),n=jC(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let o=n[i],s=r[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function P5e(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function M5e(t){return t.exception&&t.exception.values&&t.exception.values[0]}d();h();function QJ(t,e,r,n,i="auto.http.browser"){if(!t.fetchData)return;let o=sc()&&e(t.fetchData.url);if(t.endTimestamp&&o){let E=t.fetchData.__span;if(!E)return;let I=n[E];I&&(TSt(I,t),delete n[E]);return}let{method:s,url:c}=t.fetchData,l=_St(c),m=l?Hf(l).host:void 0,w=!!zn(),b=o&&w?Tu({name:`${s} ${c}`,attributes:{url:c,type:"fetch","http.method":s,"http.url":l,"server.address":m,[Qn]:i,[oc]:"http.client"}}):new Lc;if(t.fetchData.__span=b.spanContext().spanId,n[b.spanContext().spanId]=b,r(t.fetchData.url)){let E=t.args[0],I=t.args[1]||{},M=ESt(E,I,sc()&&w?b:void 0);M&&(t.args[1]=I,I.headers=M)}return b}function ESt(t,e,r){let n=M8({span:r}),i=n["sentry-trace"],o=n.baggage;if(!i)return;let s=e.headers||(ISt(t)?t.headers:void 0);if(s)if(MSt(s)){let c=new Headers(s);if(c.set("sentry-trace",i),o){let l=c.get("baggage");if(l){let m=MO(l);c.set("baggage",m?`${m},${o}`:o)}else c.set("baggage",o)}return c}else if(Array.isArray(s)){let c=[...s.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){let[m,w,...b]=l;return[m,MO(w),...b]}else return l}),["sentry-trace",i]];return o&&c.push(["baggage",o]),c}else{let c="baggage"in s?s.baggage:void 0,l=[];return Array.isArray(c)?l=c.map(m=>typeof m=="string"?MO(m):m).filter(m=>m===""):c&&l.push(MO(c)),o&&l.push(o),{...s,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...n}}function _St(t){try{return new URL(t).href}catch{return}}function TSt(t,e){if(e.response){US(t,e.response.status);let r=e.response&&e.response.headers&&e.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&t.setAttribute("http.response_content_length",n)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}function MO(t){return t.split(",").filter(e=>!e.split("=")[0].startsWith(XC)).join(",")}function ISt(t){return typeof Request<"u"&&Su(t,Request)}function MSt(t){return typeof Headers<"u"&&Su(t,Headers)}d();h();function kO(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}d();h();d();h();var JJ=$t;function PO(){if(!("fetch"in JJ))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function k8(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function XJ(){if(typeof EdgeRuntime=="string")return!0;if(!PO())return!1;if(k8(JJ.fetch))return!0;let t=!1,e=JJ.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=k8(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){Cc&&et.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function P8(t,e){let r="fetch";ka(r,t),Pa(r,()=>B5e(void 0,e))}function tX(t){let e="fetch-body-resolved";ka(e,t),Pa(e,()=>B5e(PSt))}function B5e(t,e=!1){e&&!XJ()||Ko($t,"fetch",function(r){return function(...n){let i=new Error,{method:o,url:s}=RSt(n),c={args:n,fetchData:{method:o,url:s},startTimestamp:io()*1e3,virtualError:i};return t||Io("fetch",{...c}),r.apply($t,n).then(async l=>(t?t(l):Io("fetch",{...c,endTimestamp:io()*1e3,response:l}),l),l=>{throw Io("fetch",{...c,endTimestamp:io()*1e3,error:l}),pv(l)&&l.stack===void 0&&(l.stack=i.stack,po(l,"framesToPop",1)),l})}})}async function kSt(t,e){if(t&&t.body){let r=t.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3),o=!0;for(;o;){let s;try{s=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:c}=await n.read();clearTimeout(s),c&&(e(),o=!1)}catch{o=!1}finally{clearTimeout(s)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}function PSt(t){let e;try{e=t.clone()}catch{return}kSt(e,()=>{Io("fetch-body-resolved",{endTimestamp:io()*1e3,response:t})})}function eX(t,e){return!!t&&typeof t=="object"&&!!t[e]}function R5e(t){return typeof t=="string"?t:t?eX(t,"url")?t.url:t.toString?t.toString():"":""}function RSt(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:R5e(r),method:eX(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:R5e(e),method:eX(e,"method")?String(e.method).toUpperCase():"GET"}}d();h();function rX(){return"npm"}d();h();var RO=$t;function nX(){let t=RO.chrome,e=t&&t.app&&t.app.runtime,r="history"in RO&&!!RO.history.pushState&&!!RO.history.replaceState;return!e&&r}d();h();var Vt=$t,iX=0;function oX(){return iX>0}function WSt(){iX++,setTimeout(()=>{iX--})}function Sv(t,e={}){function r(i){return typeof i=="function"}if(!r(t))return t;try{let i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(gv(t))return t}catch{return t}let n=function(...i){try{let o=i.map(s=>Sv(s,e));return t.apply(this,o)}catch(o){throw WSt(),ng(s=>{s.addEventProcessor(c=>(e.mechanism&&(BS(c,void 0,void 0),gh(c,e.mechanism)),c.extra={...c.extra,arguments:i},c)),cg(o)}),o}};try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}YC(n,t),po(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}d();h();d();h();var js=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();function BO(t,e){let r=cX(t,e),n={type:QSt(e),value:JSt(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function GSt(t,e,r,n){let i=Zt(),o=i&&i.getOptions().normalizeDepth,s=tAt(e),c={__serialized__:uO(e,o)};if(s)return{exception:{values:[BO(t,s)]},extra:c};let l={exception:{values:[{type:yv(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:XSt(e,{isUnhandledRejection:n})}]},extra:c};if(r){let m=cX(t,r);m.length&&(l.exception.values[0].stacktrace={frames:m})}return l}function sX(t,e){return{exception:{values:[BO(t,e)]}}}function cX(t,e){let r=e.stacktrace||e.stack||"",n=YSt(e),i=ZSt(e);try{return t(r,n,i)}catch{}return[]}var $St=/Minified React error #\d+;/i;function YSt(t){return t&&$St.test(t.message)?1:0}function ZSt(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function O5e(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function QSt(t){let e=t&&t.name;return!e&&O5e(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function JSt(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:O5e(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function N5e(t,e,r,n){let i=r&&r.syntheticException||void 0,o=CO(t,e,i,n);return gh(o),o.level="error",r&&r.event_id&&(o.event_id=r.event_id),qf(o)}function D5e(t,e,r="info",n,i){let o=n&&n.syntheticException||void 0,s=aX(t,e,o,i);return s.level=r,n&&n.event_id&&(s.event_id=n.event_id),qf(s)}function CO(t,e,r,n,i){let o;if(WC(e)&&e.error)return sX(t,e.error);if(GC(e)||cJ(e)){let s=e;if("stack"in e)o=sX(t,e);else{let c=s.name||(GC(s)?"DOMError":"DOMException"),l=s.message?`${c}: ${s.message}`:c;o=aX(t,l,r,n),BS(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return pv(e)?sX(t,e):zl(e)||yv(e)?(o=GSt(t,e,r,i),gh(o,{synthetic:!0}),o):(o=aX(t,e,r,n),BS(o,`${e}`,void 0),gh(o,{synthetic:!0}),o)}function aX(t,e,r,n){let i={};if(n&&r){let o=cX(t,r);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]}),gh(i,{synthetic:!0})}if(PS(e)){let{__sentry_template_string__:o,__sentry_template_values__:s}=e;return i.logentry={message:o,params:s},i}return i.message=e,i}function XSt(t,{isUnhandledRejection:e}){let r=mJ(t),n=e?"promise rejection":"exception";return WC(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:yv(t)?`Event \`${eAt(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function eAt(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function tAt(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let r=t[e];if(r instanceof Error)return r}}d();h();function U5e(t,{metadata:e,tunnel:r,dsn:n}){let i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:vh(n)}},o=rAt(t);return Zl(i,[o])}function rAt(t){return[{type:"user_report"},t]}var OO=class extends I8{constructor(e){let r={parentSpanIsAlwaysRootSpan:!0,...e},n=Vt.SENTRY_SDK_SOURCE||rX();wv(r,"browser",["browser"],n),super(r),r.sendClientReports&&Vt.document&&Vt.document.addEventListener("visibilitychange",()=>{Vt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return N5e(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return D5e(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){js&&et.warn("SDK not enabled, will not capture user feedback.");return}let r=U5e(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}};d();h();d();h();d();h();d();h();var zS=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();d();h();var nAt=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",jf=(t,e,r,n)=>{let i,o;return s=>{e.value>=0&&(s||n)&&(o=e.value-(i||0),(o||i===void 0)&&(i=e.value,e.delta=o,e.rating=nAt(e.value,r),t(e)))}};d();h();d();h();var _t=$t;d();h();var L5e=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;d();h();d();h();var fp=(t=!0)=>{let e=_t.performance&&_t.performance.getEntriesByType&&_t.performance.getEntriesByType("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e};var xh=()=>{let t=fp();return t&&t.activationStart||0};var zf=(t,e)=>{let r=fp(),n="navigate";return r&&(_t.document&&_t.document.prerendering||xh()>0?n="prerender":_t.document&&_t.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:L5e(),navigationType:n}};d();h();var qc=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{Promise.resolve().then(()=>{e(i.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}};d();h();var Wf=t=>{let e=r=>{(r.type==="pagehide"||_t.document&&_t.document.visibilityState==="hidden")&&t(r)};_t.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))};d();h();var ug=t=>{let e=!1;return()=>{e||(t(),e=!0)}};d();h();d();h();var B8=-1,iAt=()=>_t.document.visibilityState==="hidden"&&!_t.document.prerendering?0:1/0,NO=t=>{_t.document.visibilityState==="hidden"&&B8>-1&&(B8=t.type==="visibilitychange"?t.timeStamp:0,sAt())},oAt=()=>{addEventListener("visibilitychange",NO,!0),addEventListener("prerenderingchange",NO,!0)},sAt=()=>{removeEventListener("visibilitychange",NO,!0),removeEventListener("prerenderingchange",NO,!0)},fg=()=>(_t.document&&B8<0&&(B8=iAt(),oAt()),{get firstHiddenTime(){return B8}});d();h();var wh=t=>{_t.document&&_t.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()};var aAt=[1800,3e3],F5e=(t,e={})=>{wh(()=>{let r=fg(),n=zf("FCP"),i,s=qc("paint",c=>{c.forEach(l=>{l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-xh(),0),n.entries.push(l),i(!0)))})});s&&(i=jf(t,n,aAt,e.reportAllChanges))})};var cAt=[.1,.25],q5e=(t,e={})=>{F5e(ug(()=>{let r=zf("CLS",0),n,i=0,o=[],s=l=>{l.forEach(m=>{if(!m.hadRecentInput){let w=o[0],b=o[o.length-1];i&&w&&b&&m.startTime-b.startTime<1e3&&m.startTime-w.startTime<5e3?(i+=m.value,o.push(m)):(i=m.value,o=[m])}}),i>r.value&&(r.value=i,r.entries=o,n())},c=qc("layout-shift",s);c&&(n=jf(t,r,cAt,e.reportAllChanges),Wf(()=>{s(c.takeRecords()),n(!0)}),setTimeout(n,0))}))};d();h();var uAt=[100,300],K5e=(t,e={})=>{wh(()=>{let r=fg(),n=zf("FID"),i,o=l=>{l.startTime<r.firstHiddenTime&&(n.value=l.processingStart-l.startTime,n.entries.push(l),i(!0))},s=l=>{l.forEach(o)},c=qc("first-input",s);i=jf(t,n,uAt,e.reportAllChanges),c&&Wf(ug(()=>{s(c.takeRecords()),c.disconnect()}))})};d();h();d();h();d();h();var V5e=0,uX=1/0,DO=0,fAt=t=>{t.forEach(e=>{e.interactionId&&(uX=Math.min(uX,e.interactionId),DO=Math.max(DO,e.interactionId),V5e=DO?(DO-uX)/7+1:0)})},fX,H5e=()=>fX?V5e:performance.interactionCount||0,j5e=()=>{"interactionCount"in performance||fX||(fX=qc("event",fAt,{type:"event",buffered:!0,durationThreshold:0}))};var lp=[],lX=new Map,z5e=40,lAt=0,dAt=()=>H5e()-lAt,W5e=()=>{let t=Math.min(lp.length-1,Math.floor(dAt()/50));return lp[t]},dX=10,hAt=[],G5e=t=>{if(hAt.forEach(n=>n(t)),!(t.interactionId||t.entryType==="first-input"))return;let e=lp[lp.length-1],r=lX.get(t.interactionId);if(r||lp.length<dX||e&&t.duration>e.latency){if(r)t.duration>r.latency?(r.entries=[t],r.latency=t.duration):t.duration===r.latency&&t.startTime===(r.entries[0]&&r.entries[0].startTime)&&r.entries.push(t);else{let n={id:t.interactionId,latency:t.duration,entries:[t]};lX.set(n.id,n),lp.push(n)}lp.sort((n,i)=>i.latency-n.latency),lp.length>dX&&lp.splice(dX).forEach(n=>lX.delete(n.id))}};d();h();var UO=t=>{let e=_t.requestIdleCallback||_t.setTimeout,r=-1;return t=ug(t),_t.document&&_t.document.visibilityState==="hidden"?t():(r=e(t),Wf(t)),r};var pAt=[200,500],$5e=(t,e={})=>{"PerformanceEventTiming"in _t&&"interactionId"in PerformanceEventTiming.prototype&&wh(()=>{j5e();let r=zf("INP"),n,i=s=>{UO(()=>{s.forEach(G5e);let c=W5e();c&&c.latency!==r.value&&(r.value=c.latency,r.entries=c.entries,n())})},o=qc("event",i,{durationThreshold:e.durationThreshold!=null?e.durationThreshold:z5e});n=jf(t,r,pAt,e.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),Wf(()=>{i(o.takeRecords()),n(!0)}))})};d();h();var mAt=[2500,4e3],Y5e={},Z5e=(t,e={})=>{wh(()=>{let r=fg(),n=zf("LCP"),i,o=c=>{e.reportAllChanges||(c=c.slice(-1)),c.forEach(l=>{l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-xh(),0),n.entries=[l],i())})},s=qc("largest-contentful-paint",o);if(s){i=jf(t,n,mAt,e.reportAllChanges);let c=ug(()=>{Y5e[n.id]||(o(s.takeRecords()),s.disconnect(),Y5e[n.id]=!0,i(!0))});["keydown","click"].forEach(l=>{_t.document&&addEventListener(l,()=>UO(c),{once:!0,capture:!0})}),Wf(c)}})};d();h();var yAt=[800,1800],hX=t=>{_t.document&&_t.document.prerendering?wh(()=>hX(t)):_t.document&&_t.document.readyState!=="complete"?addEventListener("load",()=>hX(t),!0):setTimeout(t,0)},Q5e=(t,e={})=>{let r=zf("TTFB"),n=jf(t,r,yAt,e.reportAllChanges);hX(()=>{let i=fp();i&&(r.value=Math.max(i.responseStart-xh(),0),r.entries=[i],n(!0))})};var C8={},LO={},J5e,X5e,eTe,tTe,rTe;function O8(t,e=!1){return N8("cls",t,gAt,J5e,e)}function pX(t,e=!1){return N8("lcp",t,vAt,eTe,e)}function mX(t){return N8("fid",t,bAt,X5e)}function yX(t){return N8("ttfb",t,xAt,tTe)}function gX(t){return N8("inp",t,wAt,rTe)}function dp(t,e){return nTe(t,e),LO[t]||(SAt(t),LO[t]=!0),iTe(t,e)}function WS(t,e){let r=C8[t];if(!(!r||!r.length))for(let n of r)try{n(e)}catch(i){zS&&et.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Nc(n)}
Error:`,i)}}function gAt(){return q5e(t=>{WS("cls",{metric:t}),J5e=t},{reportAllChanges:!0})}function bAt(){return K5e(t=>{WS("fid",{metric:t}),X5e=t})}function vAt(){return Z5e(t=>{WS("lcp",{metric:t}),eTe=t},{reportAllChanges:!0})}function xAt(){return Q5e(t=>{WS("ttfb",{metric:t}),tTe=t})}function wAt(){return $5e(t=>{WS("inp",{metric:t}),rTe=t})}function N8(t,e,r,n,i=!1){nTe(t,e);let o;return LO[t]||(o=r(),LO[t]=!0),n&&e({metric:n}),iTe(t,e,i?o:void 0)}function SAt(t){let e={};t==="event"&&(e.durationThreshold=0),qc(t,r=>{WS(t,{entries:r})},e)}function nTe(t,e){C8[t]=C8[t]||[],C8[t].push(e)}function iTe(t,e,r){return()=>{r&&r();let n=C8[t];if(!n)return;let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}function oTe(t){return"duration"in t}d();h();d();h();d();h();function FO(t){return typeof t=="number"&&isFinite(t)}function Sh(t,e,r,{...n}){let i=Qt(t).start_timestamp;return i&&i>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),qS(t,()=>{let o=Tu({startTime:e,...n});return o&&o.end(r),o})}function qO(t){let e=Zt();if(!e)return;let{name:r,transaction:n,attributes:i,startTime:o}=t,{release:s,environment:c}=e.getOptions(),l=e.getIntegrationByName("Replay"),m=l&&l.getReplayId(),w=dr(),b=w.getUser(),E=b!==void 0?b.email||b.id||b.ip_address:void 0,I;try{I=w.getScopeData().contexts.profile.profile_id}catch{}let M={release:s,environment:c,user:E||void 0,profile_id:I||void 0,replay_id:m||void 0,transaction:n,"user_agent.original":_t.navigator&&_t.navigator.userAgent,...i};return Tu({name:r,attributes:M,startTime:o,experimental:{standalone:!0}})}function D8(){return _t&&_t.addEventListener&&_t.performance}function Ri(t){return t/1e3}function U8(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}function sTe(){let t=0,e,r;if(!EAt())return;let n=!1;function i(){n||(n=!0,r&&AAt(t,e,r),o())}let o=O8(({metric:s})=>{let c=s.entries[s.entries.length-1];c&&(t=s.value,e=c)},!0);Wf(()=>{i()}),setTimeout(()=>{let s=Zt();if(!s)return;let c=s.on("startNavigationSpan",()=>{i(),c&&c()}),l=zn(),m=l&&jn(l),w=m&&Qt(m);w&&w.op==="pageload"&&(r=m.spanContext().spanId)},0)}function AAt(t,e,r){zS&&et.log(`Sending CLS span (${t})`);let n=Ri((Mo||0)+(e&&e.startTime||0)),i=dr().getScopeData().transactionName,o=e?Au(e.sources[0]&&e.sources[0].node):"Layout shift",s=Zn({[Qn]:"auto.http.browser.cls",[oc]:"ui.webvital.cls",[vv]:e&&e.duration||0,"sentry.pageload.span_id":r}),c=qO({name:o,transaction:i,attributes:s,startTime:n});c&&(c.addEvent("cls",{[ig]:"",[og]:t}),c.end(n))}function EAt(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}var _At=2147483647,aTe=0,zs={},Kc,L8;function vX({recordClsStandaloneSpans:t}){let e=D8();if(e&&Mo){e.mark&&_t.performance.mark("sentry-tracing-init");let r=MAt(),n=IAt(),i=kAt(),o=t?sTe():TAt();return()=>{r(),n(),i(),o&&o()}}return()=>{}}function xX(){dp("longtask",({entries:t})=>{let e=zn();if(!e)return;let{op:r,start_timestamp:n}=Qt(e);for(let i of t){let o=Ri(Mo+i.startTime),s=Ri(i.duration);r==="navigation"&&n&&o<n||Sh(e,o,o+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Qn]:"auto.ui.browser.metrics"}})}})}function wX(){new PerformanceObserver(e=>{let r=zn();if(r)for(let n of e.getEntries()){if(!n.scripts[0])continue;let i=Ri(Mo+n.startTime),{start_timestamp:o,op:s}=Qt(r);if(s==="navigation"&&o&&i<o)continue;let c=Ri(n.duration),l={[Qn]:"auto.ui.browser.metrics"},m=n.scripts[0],{invoker:w,invokerType:b,sourceURL:E,sourceFunctionName:I,sourceCharPosition:M}=m;l["browser.script.invoker"]=w,l["browser.script.invoker_type"]=b,E&&(l["code.filepath"]=E),I&&(l["code.function"]=I),M!==-1&&(l["browser.script.source_char_position"]=M),Sh(r,i,i+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function SX(){dp("event",({entries:t})=>{let e=zn();if(e){for(let r of t)if(r.name==="click"){let n=Ri(Mo+r.startTime),i=Ri(r.duration),o={name:Au(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[Qn]:"auto.ui.browser.metrics"}},s=b8(r.target);s&&(o.attributes["ui.component_name"]=s),Sh(e,n,n+i,o)}}})}function TAt(){return O8(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(zs.cls={value:t.value,unit:""},L8=e)},!0)}function IAt(){return pX(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(zs.lcp={value:t.value,unit:"millisecond"},Kc=e)},!0)}function MAt(){return mX(({metric:t})=>{let e=t.entries[t.entries.length-1];if(!e)return;let r=Ri(Mo),n=Ri(e.startTime);zs.fid={value:t.value,unit:"millisecond"},zs["mark.fid"]={value:r+n,unit:"second"}})}function kAt(){return yX(({metric:t})=>{t.entries[t.entries.length-1]&&(zs.ttfb={value:t.value,unit:"millisecond"})})}function AX(t,e){let r=D8();if(!r||!r.getEntries||!Mo)return;let n=Ri(Mo),i=r.getEntries(),{op:o,start_timestamp:s}=Qt(t);if(i.slice(aTe).forEach(c=>{let l=Ri(c.startTime),m=Ri(Math.max(0,c.duration));if(!(o==="navigation"&&s&&n+l<s))switch(c.entryType){case"navigation":{RAt(t,c,n);break}case"mark":case"paint":case"measure":{PAt(t,c,l,m,n);let w=fg(),b=c.startTime<w.firstHiddenTime;c.name==="first-paint"&&b&&(zs.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&b&&(zs.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{OAt(t,c,c.name,l,m,n);break}}}),aTe=Math.max(i.length-1,0),NAt(t),o==="pageload"){UAt(zs);let c=zs["mark.fid"];c&&zs.fid&&(Sh(t,c.value,c.value+Ri(zs.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Qn]:"auto.ui.browser.metrics"}}),delete zs["mark.fid"]),(!("fcp"in zs)||!e.recordClsOnPageloadSpan)&&delete zs.cls,Object.entries(zs).forEach(([l,m])=>{hO(l,m.value,m.unit)}),t.setAttribute("performance.timeOrigin",n),t.setAttribute("performance.activationStart",xh()),DAt(t)}Kc=void 0,L8=void 0,zs={}}function PAt(t,e,r,n,i){let o=fp(!1),s=Ri(o?o.requestStart:0),c=i+Math.max(r,s),l=i+r,m=l+n,w={[Qn]:"auto.resource.browser.metrics"};return c!==l&&(w["sentry.browser.measure_happened_before_request"]=!0,w["sentry.browser.measure_start_time"]=c),Sh(t,c,m,{name:e.name,op:e.entryType,attributes:w}),c}function RAt(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{KO(t,e,n,r)}),KO(t,e,"secureConnection",r,"TLS/SSL"),KO(t,e,"fetch",r,"cache"),KO(t,e,"domainLookup",r,"DNS"),CAt(t,e,r)}function KO(t,e,r,n,i=r){let o=BAt(r),s=e[o],c=e[`${r}Start`];!c||!s||Sh(t,n+Ri(c),n+Ri(s),{op:`browser.${i}`,name:e.name,attributes:{[Qn]:"auto.ui.browser.metrics"}})}function BAt(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function CAt(t,e,r){let n=r+Ri(e.requestStart),i=r+Ri(e.responseEnd),o=r+Ri(e.responseStart);e.responseEnd&&(Sh(t,n,i,{op:"browser.request",name:e.name,attributes:{[Qn]:"auto.ui.browser.metrics"}}),Sh(t,o,i,{op:"browser.response",name:e.name,attributes:{[Qn]:"auto.ui.browser.metrics"}}))}function OAt(t,e,r,n,i,o){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let s=Hf(r),c={[Qn]:"auto.resource.browser.metrics"};bX(c,e,"transferSize","http.response_transfer_size"),bX(c,e,"encodedBodySize","http.response_content_length"),bX(c,e,"decodedBodySize","http.decoded_response_content_length");let l=e.deliveryType;l!=null&&(c["http.response_delivery_type"]=l);let m=e.renderBlockingStatus;m&&(c["resource.render_blocking_status"]=m),s.protocol&&(c["url.scheme"]=s.protocol.split(":").pop()),s.host&&(c["server.address"]=s.host),c["url.same_origin"]=r.includes(_t.location.origin);let{name:w,version:b}=U8(e.nextHopProtocol);c["network.protocol.name"]=w,c["network.protocol.version"]=b;let E=o+n,I=E+i;Sh(t,E,I,{name:r.replace(_t.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:c})}function NAt(t){let e=_t.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),FO(r.rtt)&&(zs["connection.rtt"]={value:r.rtt,unit:"millisecond"})),FO(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),FO(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function DAt(t){Kc&&(Kc.element&&t.setAttribute("lcp.element",Au(Kc.element)),Kc.id&&t.setAttribute("lcp.id",Kc.id),Kc.url&&t.setAttribute("lcp.url",Kc.url.trim().slice(0,200)),Kc.loadTime!=null&&t.setAttribute("lcp.loadTime",Kc.loadTime),Kc.renderTime!=null&&t.setAttribute("lcp.renderTime",Kc.renderTime),t.setAttribute("lcp.size",Kc.size)),L8&&L8.sources&&L8.sources.forEach((e,r)=>t.setAttribute(`cls.source.${r+1}`,Au(e.node)))}function bX(t,e,r,n){let i=e[r];i!=null&&i<_At&&(t[n]=i)}function UAt(t){let e=fp(!1);if(!e)return;let{responseStart:r,requestStart:n}=e;n<=r&&(t["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}d();h();var LAt=1e3,cTe,EX,_X;function TX(t){let e="dom";ka(e,t),Pa(e,FAt)}function FAt(){if(!_t.document)return;let t=Io.bind(null,"dom"),e=uTe(t,!0);_t.document.addEventListener("click",e,!1),_t.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=_t[r],o=i&&i.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(Ko(o,"addEventListener",function(s){return function(c,l,m){if(c==="click"||c=="keypress")try{let w=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},b=w[c]=w[c]||{refCount:0};if(!b.handler){let E=uTe(t);b.handler=E,s.call(this,c,E,m)}b.refCount++}catch{}return s.call(this,c,l,m)}}),Ko(o,"removeEventListener",function(s){return function(c,l,m){if(c==="click"||c=="keypress")try{let w=this.__sentry_instrumentation_handlers__||{},b=w[c];b&&(b.refCount--,b.refCount<=0&&(s.call(this,c,b.handler,m),b.handler=void 0,delete w[c]),Object.keys(w).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,c,l,m)}}))})}function qAt(t){if(t.type!==EX)return!1;try{if(!t.target||t.target._sentryId!==_X)return!1}catch{}return!0}function KAt(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function uTe(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=VAt(r);if(KAt(r.type,n))return;po(r,"_sentryCaptured",!0),n&&!n._sentryId&&po(n,"_sentryId",Vo());let i=r.type==="keypress"?"input":r.type;qAt(r)||(t({event:r,name:i,global:e}),EX=r.type,_X=n?n._sentryId:void 0),clearTimeout(cTe),cTe=_t.setTimeout(()=>{_X=void 0,EX=void 0},LAt)}}function VAt(t){try{return t.target}catch{return null}}d();h();var VO;function Av(t){let e="history";ka(e,t),Pa(e,HAt)}function HAt(){if(!nX())return;let t=_t.onpopstate;_t.onpopstate=function(...r){let n=_t.location.href,i=VO;if(VO=n,Io("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let o=VO,s=String(i);VO=s,Io("history",{from:o,to:s})}return r.apply(this,n)}}Ko(_t.history,"pushState",e),Ko(_t.history,"replaceState",e)}d();h();var HO={};function IX(t){let e=HO[t];if(e)return e;let r=_t[t];if(k8(r))return HO[t]=r.bind(_t);let n=_t.document;if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let o=i.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(i)}catch(i){zS&&et.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r&&(HO[t]=r.bind(_t))}function jO(t){HO[t]=void 0}d();h();var hp="__sentry_xhr_v3__";function F8(t){let e="xhr";ka(e,t),Pa(e,jAt)}function jAt(){if(!_t.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){let i=new Error,o=io()*1e3,s=ic(n[0])?n[0].toUpperCase():void 0,c=zAt(n[1]);if(!s||!c)return e.apply(r,n);r[hp]={method:s,url:c,request_headers:{}},s==="POST"&&c.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let l=()=>{let m=r[hp];if(m&&r.readyState===4){try{m.status_code=r.status}catch{}let w={endTimestamp:io()*1e3,startTimestamp:o,xhr:r,virtualError:i};Io("xhr",w)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(m,w,b){return l(),m.apply(w,b)}}):r.addEventListener("readystatechange",l),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(m,w,b){let[E,I]=b,M=w[hp];return M&&ic(E)&&ic(I)&&(M.request_headers[E.toLowerCase()]=I),m.apply(w,b)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){let i=r[hp];if(!i)return e.apply(r,n);n[0]!==void 0&&(i.body=n[0]);let o={startTimestamp:io()*1e3,xhr:r};return Io("xhr",o),e.apply(r,n)}})}function zAt(t){if(ic(t))return t;try{return t.toString()}catch{}}d();h();var MX=[],zO=new Map;function kX(){if(D8()&&Mo){let e=WAt();return()=>{e()}}return()=>{}}var fTe={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function WAt(){return gX(({metric:t})=>{if(t.value==null)return;let e=t.entries.find(M=>M.duration===t.value&&fTe[M.name]);if(!e)return;let{interactionId:r}=e,n=fTe[e.name],i=Ri(Mo+e.startTime),o=Ri(t.value),s=zn(),c=s?jn(s):void 0,m=(r!=null?zO.get(r):void 0)||c,w=m?Qt(m).description:dr().getScopeData().transactionName,b=Au(e.target),E=Zn({[Qn]:"auto.http.browser.inp",[oc]:`ui.interaction.${n}`,[vv]:e.duration}),I=qO({name:b,transaction:w,attributes:E,startTime:i});I&&(I.addEvent("inp",{[ig]:"millisecond",[og]:t.value}),I.end(i+o))})}function PX(t){let e=({entries:r})=>{let n=zn(),i=n&&jn(n);r.forEach(o=>{if(!oTe(o)||!i)return;let s=o.interactionId;if(s!=null&&!zO.has(s)){if(MX.length>10){let c=MX.shift();zO.delete(c)}MX.push(s),zO.set(s,i)}})};dp("event",e),dp("first-input",e)}function lTe(t,e=IX("fetch")){let r=0,n=0;function i(o){let s=o.body.length;r+=s,n++;let c={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return jO("fetch"),rg("No fetch implementation available");try{return e(t.url,c).then(l=>(r-=s,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return jO("fetch"),r-=s,n--,rg(l)}}return AO(t,i)}d();h();var GAt=30;var $At=50;function RX(t,e,r,n){let i={filename:t,function:e==="<anonymous>"?hh:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}var YAt=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,ZAt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,QAt=/\((\S*)(?::(\d+))(?::(\d+))\)/,JAt=t=>{let e=YAt.exec(t);if(e){let[,n,i,o]=e;return RX(n,hh,+i,+o)}let r=ZAt.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){let s=QAt.exec(r[2]);s&&(r[2]=s[1],r[3]=s[2],r[4]=s[3])}let[i,o]=hTe(r[1]||hh,r[2]);return RX(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},XAt=[GAt,JAt],eEt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tEt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,rEt=t=>{let e=eEt.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let o=tEt.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let n=e[3],i=e[1]||hh;return[i,n]=hTe(i,n),RX(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},nEt=[$At,rEt];var iEt=[XAt,nEt],dTe=HC(...iEt),hTe=(t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:hh,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};d();h();d();h();var WO=1024,oEt="Breadcrumbs",sEt=(t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:oEt,setup(r){e.console&&YJ(uEt(r)),e.dom&&TX(cEt(r,e.dom)),e.xhr&&F8(fEt(r)),e.fetch&&P8(lEt(r)),e.history&&Av(dEt(r)),e.sentry&&r.on("beforeSendEvent",aEt(r))}}},q8=sEt;function aEt(t){return function(r){Zt()===t&&Fc({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Gl(r)},{event:r})}}function cEt(t,e){return function(n){if(Zt()!==t)return;let i,o,s=typeof e=="object"?e.serializeAttribute:void 0,c=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;c&&c>WO&&(js&&et.warn(`\`dom.maxStringLength\` cannot exceed ${WO}, but a value of ${c} was configured. Sentry will use ${WO} instead.`),c=WO),typeof s=="string"&&(s=[s]);try{let m=n.event,w=hEt(m)?m.target:m;i=Au(w,{keyAttrs:s,maxStringLength:c}),o=b8(w)}catch{i="<unknown>"}if(i.length===0)return;let l={category:`ui.${n.name}`,message:i};o&&(l.data={"ui.component_name":o}),Fc(l,{event:n.event,name:n.name,global:n.global})}}function uEt(t){return function(r){if(Zt()!==t)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:ZJ(r.level),message:$C(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${$C(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;Fc(n,{input:r.args,level:r.level})}}function fEt(t){return function(r){if(Zt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r,o=r.xhr[hp];if(!n||!i||!o)return;let{method:s,url:c,status_code:l,body:m}=o,w={method:s,url:c,status_code:l},b={xhr:r.xhr,input:m,startTimestamp:n,endTimestamp:i},E=kO(l);Fc({category:"xhr",data:w,type:"http",level:E},b)}}function lEt(t){return function(r){if(Zt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let o=r.fetchData,s={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};Fc({category:"fetch",data:o,level:"error",type:"http"},s)}else{let o=r.response,s={...r.fetchData,status_code:o&&o.status},c={input:r.args,response:o,startTimestamp:n,endTimestamp:i},l=kO(s.status_code);Fc({category:"fetch",data:s,type:"http",level:l},c)}}}function dEt(t){return function(r){if(Zt()!==t)return;let n=r.from,i=r.to,o=Hf(Vt.location.href),s=n?Hf(n):void 0,c=Hf(i);(!s||!s.path)&&(s=o),o.protocol===c.protocol&&o.host===c.host&&(i=c.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),Fc({category:"navigation",data:{from:n,to:i}})}}function hEt(t){return!!t&&!!t.target}d();h();var pEt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],mEt="BrowserApiErrors",yEt=(t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:mEt,setupOnce(){e.setTimeout&&Ko(Vt,"setTimeout",pTe),e.setInterval&&Ko(Vt,"setInterval",pTe),e.requestAnimationFrame&&Ko(Vt,"requestAnimationFrame",gEt),e.XMLHttpRequest&&"XMLHttpRequest"in Vt&&Ko(XMLHttpRequest.prototype,"send",bEt);let r=e.eventTarget;r&&(Array.isArray(r)?r:pEt).forEach(vEt)}}},mTe=yEt;function pTe(t){return function(...e){let r=e[0];return e[0]=Sv(r,{mechanism:{data:{function:Nc(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function gEt(t){return function(e){return t.apply(this,[Sv(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Nc(t)},handled:!1,type:"instrument"}})])}}function bEt(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&Ko(r,i,function(o){let s={mechanism:{data:{function:i,handler:Nc(o)},handled:!1,type:"instrument"}},c=gv(o);return c&&(s.mechanism.data.handler=Nc(c)),Sv(o,s)})}),t.apply(this,e)}}function vEt(t){let r=Vt[t],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Ko(n,"addEventListener",function(i){return function(o,s,c){try{xEt(s)&&(s.handleEvent=Sv(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Nc(s),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[o,Sv(s,{mechanism:{data:{function:"addEventListener",handler:Nc(s),target:t},handled:!1,type:"instrument"}}),c])}}),Ko(n,"removeEventListener",function(i){return function(o,s,c){try{let l=s.__sentry_wrapped__;l&&i.call(this,o,l,c)}catch{}return i.call(this,o,s,c)}}))}function xEt(t){return typeof t.handleEvent=="function"}d();h();var yTe=()=>({name:"BrowserSession",setupOnce(){if(typeof Vt.document>"u"){js&&et.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}_8({ignoreDuration:!0}),T8(),Av(({from:t,to:e})=>{t!==void 0&&t!==e&&(_8({ignoreDuration:!0}),T8())})}});d();h();var wEt="GlobalHandlers",SEt=(t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:wEt,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(AEt(r),gTe("onerror")),e.onunhandledrejection&&(EEt(r),gTe("onunhandledrejection"))}}},bTe=SEt;function AEt(t){p8(e=>{let{stackParser:r,attachStacktrace:n}=vTe();if(Zt()!==t||oX())return;let{msg:i,url:o,line:s,column:c,error:l}=e,m=IEt(CO(r,l||i,void 0,n,!1),o,s,c);m.level="error",E8(m,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function EEt(t){m8(e=>{let{stackParser:r,attachStacktrace:n}=vTe();if(Zt()!==t||oX())return;let i=_Et(e),o=mv(i)?TEt(i):CO(r,i,void 0,n,!0);o.level="error",E8(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function _Et(t){if(mv(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function TEt(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function IEt(t,e,r,n){let i=t.exception=t.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},c=s.stacktrace=s.stacktrace||{},l=c.frames=c.frames||[],m=n,w=r,b=ic(e)&&e.length>0?e:dJ();return l.length===0&&l.push({colno:m,filename:b,function:hh,in_app:!0,lineno:w}),t}function gTe(t){js&&et.log(`Global Handler attached: ${t}`)}function vTe(){let t=Zt();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}d();h();var xTe=()=>({name:"HttpContext",preprocessEvent(t){if(!Vt.navigator&&!Vt.location&&!Vt.document)return;let e=t.request&&t.request.url||Vt.location&&Vt.location.href,{referrer:r}=Vt.document||{},{userAgent:n}=Vt.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...t.request,...e&&{url:e},headers:i};t.request=o}});d();h();var MEt="cause",kEt=5,PEt="LinkedErrors",REt=(t={})=>{let e=t.limit||kEt,r=t.key||MEt;return{name:PEt,preprocessEvent(n,i,o){let s=o.getOptions();$J(BO,s.stackParser,s.maxValueLength,r,e,n,i)}}},wTe=REt;function STe(t){let e=[TO(),EO(),mTe(),q8(),bTe(),wTe(),IO(),xTe()];return t.autoSessionTracking!==!1&&e.push(yTe()),e}function BEt(t={}){let e={defaultIntegrations:STe(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Vt.SENTRY_RELEASE&&Vt.SENTRY_RELEASE.id?Vt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}function CEt(){let t=typeof Vt.window<"u"&&Vt;if(!t)return!1;let e=t.chrome?"chrome":"browser",r=t[e],n=r&&r.runtime&&r.runtime.id,i=Vt.location&&Vt.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],s=!!n&&Vt===Vt.top&&o.some(l=>i.startsWith(`${l}//`)),c=typeof t.nw<"u";return!!n&&!s&&!c}function BX(t={}){let e=BEt(t);if(!e.skipBrowserExtensionCheck&&CEt()){Oc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}js&&(PO()||et.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let r={...e,stackParser:oJ(e.stackParser||dTe),integrations:VJ(e),transport:e.transport||lTe};return zJ(OO,r)}d();h();var ATe=new WeakMap,CX=new Map,K8={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function _Te(t,e){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s,tracePropagationTargets:c}={traceFetch:K8.traceFetch,traceXHR:K8.traceXHR,trackFetchStreamPerformance:K8.trackFetchStreamPerformance,...e},l=typeof o=="function"?o:b=>!0,m=b=>DEt(b,c),w={};r&&(t.addEventProcessor(b=>(b.type==="transaction"&&b.spans&&b.spans.forEach(E=>{if(E.op==="http.client"){let I=CX.get(E.span_id);I&&(E.timestamp=I/1e3,CX.delete(E.span_id))}}),b)),i&&tX(b=>{if(b.response){let E=ATe.get(b.response);E&&b.endTimestamp&&CX.set(E,b.endTimestamp)}}),P8(b=>{let E=QJ(b,l,m,w);if(b.response&&b.fetchData.__span&&ATe.set(b.response,b.fetchData.__span),E){let I=TTe(b.fetchData.url),M=I?Hf(I).host:void 0;E.setAttributes({"http.url":I,"server.address":M})}s&&E&&ETe(E)})),n&&F8(b=>{let E=UEt(b,l,m,w);s&&E&&ETe(E)})}function OEt(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function ETe(t){let{url:e}=Qt(t).data||{};if(!e||typeof e!="string")return;let r=dp("resource",({entries:n})=>{n.forEach(i=>{OEt(i)&&i.name.endsWith(e)&&(NEt(i).forEach(s=>t.setAttribute(...s)),setTimeout(r))})})}function Ah(t=0){return((Mo||performance.timeOrigin)+t)/1e3}function NEt(t){let{name:e,version:r}=U8(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),Mo?[...n,["http.request.redirect_start",Ah(t.redirectStart)],["http.request.fetch_start",Ah(t.fetchStart)],["http.request.domain_lookup_start",Ah(t.domainLookupStart)],["http.request.domain_lookup_end",Ah(t.domainLookupEnd)],["http.request.connect_start",Ah(t.connectStart)],["http.request.secure_connection_start",Ah(t.secureConnectionStart)],["http.request.connection_end",Ah(t.connectEnd)],["http.request.request_start",Ah(t.requestStart)],["http.request.response_start",Ah(t.responseStart)],["http.request.response_end",Ah(t.responseEnd)]]:n}function DEt(t,e){let r=Vt.location&&Vt.location.href;if(r){let n,i;try{n=new URL(t,r),i=new URL(r).origin}catch{return!1}let o=n.origin===i;return e?mh(n.toString(),e)||o&&mh(n.pathname,e):o}else{let n=!!t.match(/^\/(?!\/)/);return e?mh(t,e):n}}function UEt(t,e,r,n){let i=t.xhr,o=i&&i[hp];if(!i||i.__sentry_own_request__||!o)return;let s=sc()&&e(o.url);if(t.endTimestamp&&s){let b=i.__sentry_xhr_span_id__;if(!b)return;let E=n[b];E&&o.status_code!==void 0&&(US(E,o.status_code),E.end(),delete n[b]);return}let c=TTe(o.url),l=c?Hf(c).host:void 0,m=!!zn(),w=s&&m?Tu({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":c,url:o.url,"server.address":l,[Qn]:"auto.http.browser",[oc]:"http.client"}}):new Lc;return i.__sentry_xhr_span_id__=w.spanContext().spanId,n[i.__sentry_xhr_span_id__]=w,r(o.url)&&LEt(i,sc()&&m?w:void 0),w}function LEt(t,e){let{"sentry-trace":r,baggage:n}=M8({span:e});r&&FEt(t,r,n)}function FEt(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader("baggage",r)}catch{}}function TTe(t){try{return new URL(t,Vt.location.origin).href}catch{return}}d();h();d();h();function ITe(){Vt&&Vt.document?Vt.document.addEventListener("visibilitychange",()=>{let t=zn();if(!t)return;let e=jn(t);if(Vt.document.hidden&&e){let r="cancelled",{op:n,status:i}=Qt(e);js&&et.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),i||e.setStatus({code:2,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):js&&et.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var qEt="BrowserTracing",KEt={...KS,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...K8},OX=(t={})=>{aO();let{enableInp:e,enableLongTask:r,enableLongAnimationFrame:n,_experiments:{enableInteractions:i,enableStandaloneClsSpans:o},beforeStartSpan:s,idleTimeout:c,finalTimeout:l,childSpanTimeout:m,markBackgroundSpan:w,traceFetch:b,traceXHR:E,trackFetchStreamPerformance:I,shouldCreateSpanForRequest:M,enableHTTPTimings:k,instrumentPageLoad:B,instrumentNavigation:R}={...KEt,...t},U=vX({recordClsStandaloneSpans:o||!1});e&&kX(),n&&$t.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?wX():r&&xX(),i&&SX();let P={name:void 0,source:void 0};function F(V,H){let re=H.op==="pageload",J=s?s(H):H,ie=J.attributes||{};H.name!==J.name&&(ie[Ra]="custom",J.attributes=ie),P.name=J.name,P.source=ie[Ra];let S=yO(J,{idleTimeout:c,finalTimeout:l,childSpanTimeout:m,disableAutoFinish:re,beforeSpanEnd:f=>{U(),AX(f,{recordClsOnPageloadSpan:!o})}});function a(){["interactive","complete"].includes(Vt.document.readyState)&&V.emit("idleSpanEnableAutoFinish",S)}return re&&Vt.document&&(Vt.document.addEventListener("readystatechange",()=>{a()}),a()),S}return{name:qEt,afterAllSetup(V){let H,re=Vt.location&&Vt.location.href;function J(){H&&!Qt(H).timestamp&&(js&&et.log(`[Tracing] Finishing current active span with op: ${Qt(H).op}`),H.end())}V.on("startNavigationSpan",ie=>{Zt()===V&&(J(),H=F(V,{op:"navigation",...ie}))}),V.on("startPageLoadSpan",(ie,S={})=>{if(Zt()!==V)return;J();let a=S.sentryTrace||MTe("sentry-trace"),f=S.baggage||MTe("baggage"),p=AJ(a,f);dr().setPropagationContext(p),H=F(V,{op:"pageload",...ie})}),V.on("spanEnd",ie=>{let S=Qt(ie).op;if(ie!==jn(ie)||S!=="navigation"&&S!=="pageload")return;let a=dr(),f=a.getPropagationContext();a.setPropagationContext({...f,sampled:f.sampled!==void 0?f.sampled:Kf(ie),dsc:f.dsc||_u(ie)})}),Vt.location&&(B&&kTe(V,{name:Vt.location.pathname,startTime:Mo?Mo/1e3:void 0,attributes:{[Ra]:"url",[Qn]:"auto.pageload.browser"}}),R&&Av(({to:ie,from:S})=>{if(S===void 0&&re&&re.indexOf(ie)!==-1){re=void 0;return}S!==ie&&(re=void 0,PTe(V,{name:Vt.location.pathname,attributes:{[Ra]:"url",[Qn]:"auto.navigation.browser"}}))})),w&&ITe(),i&&VEt(c,l,m,P),e&&PX(),_Te(V,{traceFetch:b,traceXHR:E,trackFetchStreamPerformance:I,tracePropagationTargets:V.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:M,enableHTTPTimings:k})}}};function kTe(t,e,r){t.emit("startPageLoadSpan",e,r),dr().setTransactionName(e.name);let n=zn();return(n&&Qt(n).op)==="pageload"?n:void 0}function PTe(t,e){Ho().setPropagationContext({traceId:Dc()}),dr().setPropagationContext({traceId:Dc()}),t.emit("startNavigationSpan",e),dr().setTransactionName(e.name);let r=zn();return(r&&Qt(r).op)==="navigation"?r:void 0}function MTe(t){let e=hJ(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function VEt(t,e,r,n){let i,o=()=>{let s="ui.action.click",c=zn(),l=c&&jn(c);if(l){let m=Qt(l).op;if(["navigation","pageload"].includes(m)){js&&et.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(DS,"interactionInterrupted"),i.end(),i=void 0),!n.name){js&&et.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}i=yO({name:n.name,op:s,attributes:{[Ra]:n.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:r})};Vt.document&&addEventListener("click",o,{once:!1,capture:!0})}d();h();var RTe=Ke(Er(),1);function V8(t){let e={...t};return wv(e,"react"),wO("react",{version:RTe.version}),BX(e)}d();h();var NX={op:"function"};var jEt=["The server encountered a temporary error","premature close","The browser is shutting down."],zEt=["/_generated_background_page.html","/background/serviceWorker.js","/service-worker-loader.js"],WEt=["Breadcrumbs","GlobalHandlers","TryCatch","HttpContext"],BTe=!1,CTe={init:async(t,{appVersion:e,sentry:r})=>{r.enabled&&V8({sampleRate:t.mode==="debug"?1:r.sampleRate,tracesSampler:n=>{let i=n.transactionContext.name;return zEt.includes(i)?0:t.mode==="debug"?1:r.tracesSampleRate||!1},beforeSend:async(n,i)=>{let o=i?.originalException;for(let s of jEt)if(o instanceof Error&&o.message===s||typeof o=="string"&&o===s)return null;if(o&&!BTe){let c=`${new Date().toISOString()}-logs.txt`,l=await lv.getRecentLogs();i.attachments=[{filename:c,data:l}],BTe=!0}return n},dsn:r.dsn,release:e,environment:t.env,initialScope:r.initialScope,beforeBreadcrumb:(n,i)=>(n.category==="fetch"||n.category==="xhr")&&!(n.data?.url?new URL(n.data.url):void 0)?.origin.endsWith("phantom.app")?null:n,integrations:function(n){return n.filter(function(o){return!WEt.includes(o.name)}).concat([q8({dom:!1,history:!1,console:!1}),OX({traceFetch:!1,traceXHR:!1,enableInp:!0})])}})},captureError:(t,e)=>{cg(t,{tags:{feature:e,team:sp(e)}})},captureMessage:(t,e,r="info")=>{VS(t,{tags:{feature:e,team:sp(e)},level:r})},addBreadcrumb:(t,e,r,n)=>{Fc({category:t,message:e,level:r,data:n})},setUser:async t=>{jS(t)},setTags:async t=>{HS(t)},startSpan:(t,e)=>{let r=mO({...NX,name:t},e);return Promise.resolve(r)},startInactiveSpan:t=>{let e=Tu({...NX,name:t});return e?Promise.resolve(e):void 0},captureMetric:async(t,e,r)=>{},trackFeatureFlag:(t,e)=>{}};d();h();d();h();d();h();function OTe(){return mc()}var GEt=O.enum(["disabled","console","standard","debug"]);function NTe(){let t=T.TELEMETRY_ENV,e=GEt.optional().parse(T.TELEMETRY_MODE),r=OTe(),n=e??(r?"console":"standard");if(r){if((t==="production"||t==="staging")&&(n==="standard"||n==="debug"))throw new Error("[TelemetryConfig] Cannot submit to production/staging from local dev")}else if(!t&&n!=="disabled"&&n!=="console")throw new Error("[TelemetryConfig] Missing TELEMETRY_ENV env var in production build");let i=t||"dev";switch(n){case"disabled":return{mode:"disabled",shouldLogToConsole:!1,isSubmitEnabled:!1,description:"Telemetry is completely disabled"};case"console":return{mode:"console",shouldLogToConsole:!0,isSubmitEnabled:!1,description:"Telemetry logs to console only (no remote submission)"};case"standard":return{mode:"standard",env:i,shouldLogToConsole:!1,isSubmitEnabled:!0,description:`Telemetry submits to ${i} with app-specific settings`};case"debug":return{mode:"debug",env:i,shouldLogToConsole:!0,isSubmitEnabled:!0,description:`High-frequency telemetry for testing (console + ${i})`}}}d();h();var VTe=Ke(KTe()),HTe=Ke(DLe());var GO="[Telemetry Development Log]",$O={debug:console.log,info:console.warn,error:console.error,fatal:console.error};function t3t(t){return typeof t=="object"&&t!==null&&"toString"in t&&typeof t.toString=="function"}function r3t(t){return Object.entries(t).reduce((e,[r,n])=>(typeof n>"u"||((0,HTe.default)(n)||(0,VTe.default)(n)||typeof n=="string"||typeof n=="boolean"||n===null?e[r]=n:t3t(n)&&(e[r]=n.toString())),e),{})}function GS(t,e,{featureTag:r,value:n,severity:i,data:o}){let s={value:n,data:o};for(let c of t){let l=c[e];if(l){let m=l(s.value,{featureTag:r,severity:i,data:s.data});s.value=m.value,m.data&&(s.data=m.data)}}return s}function YO(t,e){let r,n=d8;async function i(B){if(!r){if(r=NTe(),n=r.isSubmitEnabled?t.provider:d8,mc()){let R=r.isSubmitEnabled?`, env=${r.env}`:"";console.info(`[Telemetry#init] (mode=${r.mode}${R}) ${r.description}`)}r.isSubmitEnabled&&await n.init(r,B)}}function o(){return r}function s(B,R){if(r)try{let U=GS(e,"beforeEvent",{value:B,featureTag:R,severity:"error"});r.shouldLogToConsole&&$O.error(GO,U.value,U.data),U.value instanceof Error?n.captureError(U.value,R):n.captureError(new Error(U.value),R),GS(e,"afterEvent",{value:U.value,featureTag:R,severity:"error"})}catch(U){mc()&&console.warn(U)}}function c(B,R,U="info"){if(r)try{let P=GS(e,"beforeEvent",{value:B,featureTag:R,severity:U});r.shouldLogToConsole&&$O[U](GO,P.value),n.captureMessage(P.value instanceof Error?P.value.message:P.value,R,U),GS(e,"afterEvent",{value:P.value,featureTag:R,severity:U})}catch(P){mc()&&console.warn(P)}}function l(B,R,U,P){if(r)try{let F=GS(e,"beforeEvent",{featureTag:B,value:R,severity:U,data:P});r.shouldLogToConsole&&$O[U](...[GO,F.value,F.data].filter(Boolean)),n.addBreadcrumb(B,F.value instanceof Error?F.value.message:F.value,U,F.data),GS(e,"afterEvent",{featureTag:B,value:F.value,severity:U,data:F.data})}catch(F){mc()&&console.warn(F)}}async function m(B){r&&await n.setUser(B)}async function w(B){r&&await n.setTags(B)}function b(B,R){return r?n.startSpan(B,R):Promise.resolve(R())}function E(B,R){return r?()=>n.startSpan(B,R):()=>Promise.resolve(R())}function I(B){if(r)return n.startInactiveSpan(B)}async function M(B,R,U){r&&await t.provider.captureMetric(B,R,U)}function k(B,R){r&&n.trackFeatureFlag(B,R)}return{init:i,getConfig:o,captureError:s,captureMessage:c,addBreadcrumb:l,setUser:m,setTags:w,startSpan:b,startSpanCallback:E,startInactiveSpan:I,captureMetric:M,trackFeatureFlag:k}}var n3t=[ES,qC],i3t=LC(lv),o3t=[...n3t,i3t],Qe=YO({provider:KC(CTe,UC)},o3t);d();h();d();h();d();h();d();h();function jTe(t){let e={...t,environment:t.environment||T.NODE_ENV};return wv(e,"remix",["remix","react"]),V8(e)}var zTe={init:async(t,{sentry:e})=>{e.enabled&&jTe({dsn:e.dsn,sampleRate:t.mode==="debug"?1:e.sampleRate,tracesSampleRate:t.mode==="debug"?1:e.tracesSampleRate,profilesSampleRate:t.mode==="debug"?1:e.profilesSampleRate,environment:t.env,initialScope:e.initialScope,integrations:[]})},captureError:(t,e)=>{cg(t,{tags:{feature:e,team:sp(e)}})},captureMessage:(t,e,r="info")=>{VS(t,{tags:{feature:e,team:sp(e)},level:r})},addBreadcrumb:(t,e,r,n)=>{Fc({category:t,message:e,level:r,data:n})},setUser:async t=>{jS(t)},setTags:async t=>{HS(t)},startSpan:(t,e)=>{throw new Error("Not implemented")},startInactiveSpan:t=>{throw new Error("Not implemented")},captureMetric:async(t,e,r)=>{},trackFeatureFlag:(t,e)=>{}};var a3t=[ES,qC],c3t=LC(lv),u3t=[...a3t,c3t],f3t=YO({provider:KC(zTe,UC)},u3t);d();h();d();h();function WTe(t){let e={...t};if(typeof e.response=="string")try{e.response=JSON.parse(e.response)}catch{}return JSON.stringify(e,null,2)}d();h();var l3t="Logger not initialized",d3t="Method not supported on this platform",GTe=["publicKey"];var JO=t=>{let{obj:e,depth:r=0,maxDepth:n=20,quoteStrings:i=!0}=t;if(r>=n)return"... (max-depth reached)";let o=$Te(e);switch(o){case"Object":return h3t(t);case"Array":return p3t(t);case"function":return m3t(t);case"RegExp":return"/"+e.source+"/"+e.flags;case"Date":case"string":return i?`"${e}"`:e+"";case"boolean":return e?"true":"false";case"number":return e+"";case"null":case"undefined":return o;default:return"?"}},h3t=t=>{let{obj:e,indent:r,...n}=t,i="{",o=t.depth;if(DX(e)>0){i+=`
`,o++;let s=0;for(let c in e){i+=QO(o,r),i+=c+": ";let l=JO({...n,obj:e[c],depth:o,indent:r});l&&(i+=l),s<DX(e)-1&&(i+=","),i+=`
`,s++}o--,i+=QO(o,r)}return i+="}",i},p3t=t=>{let{obj:e,indent:r,...n}=t,i="[",o=t.depth,s=!1;if(e.length>0){o++;for(let c=0;c<e.length;c++){let l=$Te(e[c]),m=!1;l==="Object"&&DX(e[c])>0&&(m=!0),l==="Array"&&e[c].length>0&&(m=!0),!s&&m&&(i+=`
`);let w=JO({...n,obj:e[c],depth:o,indent:r});w&&(m&&(i+=QO(o,r)),i+=w,c<e.length-1&&(i+=", "),m&&(i+=`
`)),s=m}o--}return i+="]",i},m3t=t=>{let{obj:e,depth:r,indent:n}=t,i=r;return String(e).split(`
`).map(o=>{o.match(/\}/)&&i--;let s=QO(i,n)+o.trim();return o.match(/\{/)&&i++,s}).join(`
`)},$Te=t=>{if(t===null)return"null";if(t===void 0)return"undefined";{let e=typeof t;return e==="object"&&(Array.isArray(t)?e="Array":t instanceof Date?e="Date":t instanceof RegExp?e="RegExp":e="Object"),e}},QO=(t,e)=>e.repeat(Math.max(t,0)),DX=t=>{let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e},y3t=`======================================================
Application State
======================================================

`,g3t=`======================================================
Network Logs
======================================================

`,b3t=`======================================================
Application Logs
======================================================

`,ZO=`------------------------------------------------
`,v3t=["authorization","x-phantomauthtoken","x-phantomnonce"],x3t=(t,e=[])=>{let r=y3t;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r+=`${ZO}`,r+=`${n}
${ZO}
`,r+=JO({obj:t[n],depth:0,maxDepth:20,indent:"  ",quoteStrings:!0}),r+=`

`);if(e.length>0){r+=g3t;for(let n of e){if(n.requestHeaders)for(let i of v3t)delete n.requestHeaders[i.toLowerCase()];r+=`${ZO}`,r+=`${n.id}
${ZO}
`,r+=WTe(n),r+=`

`}}return r+=b3t,r},w3t=t=>t.replaceAll(/seed/gim,"root").replaceAll(/privateKey/gim,"leaf").replaceAll(/private-key/gim,"leaf").replaceAll(/private key/gim,"leaf").replaceAll(/mnemonic/gim,"stem"),XO=t=>t?JSON.parse(JSON.stringify(t,(e,r)=>GTe.includes(e)?void 0:r)):null;d();h();var S3t=O.object({maxRequests:O.number(),ignoredUrls:O.array(O.string()),ignoredHosts:O.array(O.string())});d();h();var eN=G1(null);function er(){let t=zy(eN);if(!t)throw new Error("useStorage must be used within a ContextProvider with StorageContext set");return t}d();h();d();h();var YTe=G1(null);function ac(){let t=zy(YTe),e=zy(eN);if(!e)throw new Error("useSyncedStorage must be used within a ContextProvider with StorageContext set");return t||e}d();h();var A3t={recipientError:void 0,amountError:void 0};d();h();d();h();d();h();d();h();var ZTe="REACT_QUERY_OFFLINE_CACHE";function H8(t,e,...r){t&&console.log(e,...r)}var E3t=({underlyingStorage:t,throttleMs:e,cacheKey:r=ZTe,maxCacheSizeBytes:n=5242880,enableDebugLogs:i=!1})=>{let o=null,s=async()=>{if(o)try{let c=JSON.stringify(o),l=c.length;l<n?await t.set(r,c):(await t.remove(r),H8(i,"[React Query Offline Cache] Removed offline cache. Size:",l,"bytes")),o=null}catch{}};return setInterval(()=>{s()},e),{persistClient:c=>{o=c},restoreClient:async()=>{try{let c=await t.get(r);if(!c){H8(i,"[React Query Offline Cache] No offline cache restored.");return}let l=JSON.parse(c),m=c.length;return H8(i,"[React Query Offline Cache] Restored RQ offline cache. Size:",m,"bytes"),l}catch{H8(i,"[React Query Offline Cache] Error restoring offline cache.");return}},removeClient:()=>(H8(i,"[React Query Offline Cache] Removed offline cache."),t.remove(r))}};d();h();d();h();d();h();d();h();d();h();var Vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};d();h();var Hc=typeof self>"u"||"Deno"in globalThis;function Ca(){}function XTe(t,e){return typeof t=="function"?t(e):t}function j8(t){return typeof t=="number"&&t>=0&&t!==1/0}function tN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function lg(t,e){return typeof t=="function"?t(e):t}function Iu(t,e){return typeof t=="function"?t(e):t}function rN(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:s,stale:c}=t;if(s){if(n){if(e.queryHash!==z8(s,e.options))return!1}else if(!YS(e.queryKey,s))return!1}if(r!=="all"){let l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||o&&!o(e))}function nN(t,e){let{exact:r,status:n,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Eh(e.options.mutationKey)!==Eh(o))return!1}else if(!YS(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function z8(t,e){return(e?.queryKeyHashFn||Eh)(t)}function Eh(t){return JSON.stringify(t,(e,r)=>UX(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function YS(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!YS(t[r],e[r])):!1}function $S(t,e){if(t===e)return t;let r=QTe(t)&&QTe(e);if(r||UX(t)&&UX(e)){let n=r?t:Object.keys(t),i=n.length,o=r?e:Object.keys(e),s=o.length,c=r?[]:{},l=0;for(let m=0;m<s;m++){let w=r?m:o[m];(!r&&n.includes(w)||r)&&t[w]===void 0&&e[w]===void 0?(c[w]=void 0,l++):(c[w]=$S(t[w],e[w]),c[w]===t[w]&&t[w]!==void 0&&l++)}return i===s&&l===i?t:c}return e}function ZS(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}function QTe(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function UX(t){if(!JTe(t))return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(!JTe(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function JTe(t){return Object.prototype.toString.call(t)==="[object Object]"}function eIe(t){return new Promise(e=>{setTimeout(e,t)})}function W8(t,e,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(t,e);if(r.structuralSharing!==!1){if(T.NODE_ENV!=="production")try{return $S(t,e)}catch(n){console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`)}return $S(t,e)}return e}function tIe(t){return t}function rIe(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}function nIe(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var _h=Symbol();function iN(t,e){return T.NODE_ENV!=="production"&&t.queryFn===_h&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===_h?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var _3t=class extends Vc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Hc&&self.addEventListener){let e=()=>t();return self.addEventListener("visibilitychange",e,!1),()=>{self.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},QS=new _3t;d();h();var T3t=class extends Vc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Hc&&self.addEventListener){let e=()=>t(!0),r=()=>t(!1);return self.addEventListener("online",e,!1),self.addEventListener("offline",r,!1),()=>{self.removeEventListener("online",e),self.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},JS=new T3t;d();h();function G8(){let t,e,r=new Promise((i,o)=>{t=i,e=o});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function I3t(t){return Math.min(1e3*2**t,3e4)}function LX(t){return(t??"online")==="online"?JS.isOnline():!0}var iIe=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function oN(t){return t instanceof iIe}function sN(t){let e=!1,r=0,n=!1,i,o=G8(),s=k=>{n||(E(new iIe(k)),t.abort?.())},c=()=>{e=!0},l=()=>{e=!1},m=()=>QS.isFocused()&&(t.networkMode==="always"||JS.isOnline())&&t.canRun(),w=()=>LX(t.networkMode)&&t.canRun(),b=k=>{n||(n=!0,t.onSuccess?.(k),i?.(),o.resolve(k))},E=k=>{n||(n=!0,t.onError?.(k),i?.(),o.reject(k))},I=()=>new Promise(k=>{i=B=>{(n||m())&&k(B)},t.onPause?.()}).then(()=>{i=void 0,n||t.onContinue?.()}),M=()=>{if(n)return;let k,B=r===0?t.initialPromise:void 0;try{k=B??t.fn()}catch(R){k=Promise.reject(R)}Promise.resolve(k).then(b).catch(R=>{if(n)return;let U=t.retry??(Hc?0:3),P=t.retryDelay??I3t,F=typeof P=="function"?P(r,R):P,V=U===!0||typeof U=="number"&&r<U||typeof U=="function"&&U(r,R);if(e||!V){E(R);return}r++,t.onFail?.(r,R),eIe(F).then(()=>m()?void 0:I()).then(()=>{e?E(R):M()})})};return{promise:o,cancel:s,continue:()=>(i?.(),o),cancelRetry:c,continueRetry:l,canStart:w,start:()=>(w()?M():I().then(M),o)}}d();h();d();h();d();h();function M3t(){let t=[],e=0,r=c=>{c()},n=c=>{c()},i=c=>setTimeout(c,0),o=c=>{e?t.push(c):i(()=>{r(c)})},s=()=>{let c=t;t=[],c.length&&i(()=>{n(()=>{c.forEach(l=>{r(l)})})})};return{batch:c=>{let l;e++;try{l=c()}finally{e--,e||s()}return l},batchCalls:c=>(...l)=>{o(()=>{c(...l)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{i=c}}}var Qr=M3t();d();h();var aN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j8(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hc?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}};var oIe=class extends aN{#e;#t;#n;#r;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=k3t(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){let r=W8(this.state.data,t,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Ca).catch(Ca):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Iu(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_h||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!tN(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){let c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}T.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));let r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{let c=iN(this.options,e),l={queryKey:this.queryKey,meta:this.meta};return n(l),this.#o=!1,this.options.persister?this.options.persister(c,l,this):c(l)},o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});let s=c=>{oN(c)&&c.silent||this.#a({type:"error",error:c}),oN(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=sN({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){T.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(l){s(l);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:s,onFail:(c,l)=>{this.#a({type:"failed",failureCount:c,error:l})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#r.start()}#a(t){let e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...FX(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let n=t.error;return oN(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Qr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function FX(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LX(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function k3t(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var sIe=class extends Vc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){let n=e.queryKey,i=e.queryHash??z8(n,e),o=this.get(i);return o||(o=new oIe({cache:this,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(r=>rN(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>rN(t,r)):e}notify(t){Qr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Qr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};d();h();d();h();d();h();var aIe=class extends aN{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||qX(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=sN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#r({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let e=this.state.status==="pending",r=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);let i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:r})}let n=await this.#n.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}}#r(t){let e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Qr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function qX(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cIe=class extends Vc{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){let n=new aIe({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){let e=cN(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){let e=cN(t);if(this.#e.has(e)){let r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){let e=this.#e.get(cN(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(cN(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Qr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){let e={exact:!0,...t};return this.getAll().find(r=>nN(e,r))}findAll(t={}){return this.getAll().filter(e=>nN(t,e))}notify(t){Qr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(e=>e.state.isPaused);return Qr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ca))))}};function cN(t){return t.options.scope?.id??String(t.mutationId)}d();h();function XS(t){return{onFetch:(e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],s=e.state.data?.pageParams||[],c={pages:[],pageParams:[]},l=0,m=async()=>{let w=!1,b=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},E=iN(e.options,e.fetchOptions),I=async(M,k,B)=>{if(w)return Promise.reject();if(k==null&&M.pages.length)return Promise.resolve(M);let R={queryKey:e.queryKey,pageParam:k,direction:B?"backward":"forward",meta:e.options.meta};b(R);let U=await E(R),{maxPages:P}=e.options,F=B?nIe:rIe;return{pages:F(M.pages,U,P),pageParams:F(M.pageParams,k,P)}};if(i&&o.length){let M=i==="backward",k=M?uIe:KX,B={pages:o,pageParams:s},R=k(n,B);c=await I(B,R,M)}else{let M=t??o.length;do{let k=l===0?s[0]??n.initialPageParam:KX(n,c);if(l>0&&k==null)break;c=await I(c,k),l++}while(l<M)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function KX(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function uIe(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function fIe(t,e){return e?KX(t,e)!=null:!1}function lIe(t,e){return!e||!t.getPreviousPageParam?!1:uIe(t,e)!=null}var dIe=class{#e;#t;#n;#r;#i;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new sIe,this.#t=t.mutationCache||new cIe,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=QS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=JS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{let r=this.defaultQueryOptions(t),n=this.#e.build(this,r);return t.revalidateIfStale&&n.isStaleByTime(lg(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{let n=r.data;return[e,n]})}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(n.queryHash)?.state.data,s=XTe(e,o);if(s!==void 0)return this.#e.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Qr.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){let e=this.#e;Qr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#e,n={type:"active",...t};return Qr.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){let r={revert:!0,...e},n=Qr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ca).catch(Ca)}invalidateQueries(t={},e={}){return Qr.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();let r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){let r={...e,cancelRefetch:e?.cancelRefetch??!0},n=Qr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ca)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Ca)}fetchQuery(t){let e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);let r=this.#e.build(this,e);return r.isStaleByTime(lg(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ca).catch(Ca)}fetchInfiniteQuery(t){return t.behavior=XS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ca).catch(Ca)}ensureInfiniteQueryData(t){return t.behavior=XS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return JS.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Eh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#r.values()],r={};return e.forEach(n=>{YS(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){this.#i.set(Eh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#i.values()],r={};return e.forEach(n=>{YS(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=z8(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===_h&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};d();h();var pp=class extends Vc{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#a=G8(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#c;#f;#l;#u;#h;#d;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),hIe(this.#t,this.options)?this.#p():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return VX(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return VX(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){let r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Iu(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),r._defaulted&&!ZS(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});let i=this.hasListeners();i&&pIe(this.#t,n,this.options,r)&&this.#p(),this.updateResult(e),i&&(this.#t!==n||Iu(this.options.enabled,this.#t)!==Iu(r.enabled,this.#t)||lg(this.options.staleTime,this.#t)!==lg(r.staleTime,this.#t))&&this.#y();let o=this.#g();i&&(this.#t!==n||Iu(this.options.enabled,this.#t)!==Iu(r.enabled,this.#t)||o!==this.#d)&&this.#b(o)}getOptimisticResult(t){let e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return R3t(this,r)&&(this.#r=r,this.#o=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(t,e){let r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#p(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ca)),e}#y(){this.#x();let t=lg(this.options.staleTime,this.#t);if(Hc||this.#r.isStale||!j8(t))return;let r=tN(this.#r.dataUpdatedAt,t)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#d=t,!(Hc||Iu(this.options.enabled,this.#t)===!1||!j8(this.#d)||this.#d===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||QS.isFocused())&&this.#p()},this.#d))}#v(){this.#y(),this.#b(this.#g())}#x(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){let r=this.#t,n=this.options,i=this.#r,o=this.#i,s=this.#o,l=t!==r?t.state:this.#n,{state:m}=t,w={...m},b=!1,E;if(e._optimisticResults){let re=this.hasListeners(),J=!re&&hIe(t,e),ie=re&&pIe(t,r,e,n);(J||ie)&&(w={...w,...FX(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(w.fetchStatus="idle")}let{error:I,errorUpdatedAt:M,status:k}=w;if(e.select&&w.data!==void 0)if(i&&w.data===o?.data&&e.select===this.#c)E=this.#f;else try{this.#c=e.select,E=e.select(w.data),E=W8(i?.data,E,e),this.#f=E,this.#s=null}catch(re){this.#s=re}else E=w.data;if(e.placeholderData!==void 0&&E===void 0&&k==="pending"){let re;if(i?.isPlaceholderData&&e.placeholderData===s?.placeholderData)re=i.data;else if(re=typeof e.placeholderData=="function"?e.placeholderData(this.#l?.state.data,this.#l):e.placeholderData,e.select&&re!==void 0)try{re=e.select(re),this.#s=null}catch(J){this.#s=J}re!==void 0&&(k="success",E=W8(i?.data,re,e),b=!0)}this.#s&&(I=this.#s,E=this.#f,M=Date.now(),k="error");let B=w.fetchStatus==="fetching",R=k==="pending",U=k==="error",P=R&&B,F=E!==void 0,H={status:k,fetchStatus:w.fetchStatus,isPending:R,isSuccess:k==="success",isError:U,isInitialLoading:P,isLoading:P,data:E,dataUpdatedAt:w.dataUpdatedAt,error:I,errorUpdatedAt:M,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>l.dataUpdateCount||w.errorUpdateCount>l.errorUpdateCount,isFetching:B,isRefetching:B&&!R,isLoadingError:U&&!F,isPaused:w.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:U&&F,isStale:HX(t,e),refetch:this.refetch,promise:this.#a};if(this.options.experimental_prefetchInRender){let re=S=>{H.status==="error"?S.reject(H.error):H.data!==void 0&&S.resolve(H.data)},J=()=>{let S=this.#a=H.promise=G8();re(S)},ie=this.#a;switch(ie.status){case"pending":t.queryHash===r.queryHash&&re(ie);break;case"fulfilled":(H.status==="error"||H.data!==ie.value)&&J();break;case"rejected":(H.status!=="error"||H.error!==ie.reason)&&J();break}}return H}updateResult(t){let e=this.#r,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#l=this.#t),ZS(r,e))return;this.#r=r;let n={},i=()=>{if(!e)return!0;let{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!this.#m.size)return!0;let c=new Set(s??this.#m);return this.options.throwOnError&&c.add("error"),Object.keys(this.#r).some(l=>{let m=l;return this.#r[m]!==e[m]&&c.has(m)})};t?.listeners!==!1&&i()&&(n.listeners=!0),this.#A({...n,...t})}#S(){let t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;let e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#A(t){Qr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function P3t(t,e){return Iu(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function hIe(t,e){return P3t(t,e)||t.state.data!==void 0&&VX(t,e,e.refetchOnMount)}function VX(t,e,r){if(Iu(e.enabled,t)!==!1){let n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&HX(t,e)}return!1}function pIe(t,e,r,n){return(t!==e||Iu(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&HX(t,r)}function HX(t,e){return Iu(e.enabled,t)!==!1&&t.isStaleByTime(lg(e.staleTime,t))}function R3t(t,e){return!ZS(t.getCurrentResult(),e)}d();h();function mIe(t,e){return t.filter(r=>!e.includes(r))}function B3t(t,e,r){let n=t.slice(0);return n[e]=r,n}var jX=class extends Vc{#e;#t;#n;#r;#i;#o;#a;#s;constructor(t,e,r){super(),this.#e=t,this.#r=r,this.#n=[],this.#i=[],this.#t=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(t=>{t.subscribe(e=>{this.#l(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e,r){this.#n=t,this.#r=e,Qr.batch(()=>{let n=this.#i,i=this.#f(this.#n);i.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions,r));let o=i.map(l=>l.observer),s=o.map(l=>l.getCurrentResult()),c=o.some((l,m)=>l!==n[m]);n.length===o.length&&!c||(this.#i=o,this.#t=s,this.hasListeners()&&(mIe(n,o).forEach(l=>{l.destroy()}),mIe(o,n).forEach(l=>{l.subscribe(m=>{this.#l(l,m)})}),this.#u()))})}getCurrentResult(){return this.#t}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){let r=this.#f(t),n=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[n,i=>this.#c(i??n,e),()=>r.map((i,o)=>{let s=n[o];return i.defaultedQueryOptions.notifyOnChangeProps?s:i.observer.trackResult(s,c=>{r.forEach(l=>{l.observer.trackProp(c)})})})]}#c(t,e){return e?((!this.#o||this.#t!==this.#s||e!==this.#a)&&(this.#a=e,this.#s=this.#t,this.#o=$S(this.#o,e(t))),this.#o):t}#f(t){let e=new Map(this.#i.map(n=>[n.options.queryHash,n])),r=[];return t.forEach(n=>{let i=this.#e.defaultQueryOptions(n),o=e.get(i.queryHash);if(o)r.push({defaultedQueryOptions:i,observer:o});else{let s=this.#i.find(c=>c.options.queryHash===i.queryHash);r.push({defaultedQueryOptions:i,observer:s??new pp(this.#e,i)})}}),r.sort((n,i)=>t.findIndex(o=>o.queryHash===n.defaultedQueryOptions.queryHash)-t.findIndex(o=>o.queryHash===i.defaultedQueryOptions.queryHash))}#l(t,e){let r=this.#i.indexOf(t);r!==-1&&(this.#t=B3t(this.#t,r,e),this.#u())}#u(){if(this.hasListeners()){let t=this.#o,e=this.#c(this.#t,this.#r?.combine);t!==e&&Qr.batch(()=>{this.listeners.forEach(r=>{r(this.#t)})})}}};d();h();var zX=class extends pp{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,e){super.setOptions({...t,behavior:XS()},e)}getOptimisticResult(t){return t.behavior=XS(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){let{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:o,isError:s,isRefetchError:c}=n,l=r.fetchMeta?.fetchMore?.direction,m=s&&l==="forward",w=i&&l==="forward",b=s&&l==="backward",E=i&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:fIe(e,r.data),hasPreviousPage:lIe(e,r.data),isFetchNextPageError:m,isFetchingNextPage:w,isFetchPreviousPageError:b,isFetchingPreviousPage:E,isRefetchError:c&&!m&&!b,isRefetching:o&&!w&&!E}}};d();h();var WX=class extends Vc{#e;#t=void 0;#n;#r;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#e.defaultMutationOptions(t),ZS(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&Eh(e.mutationKey)!==Eh(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,e){return this.#r=e,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){let t=this.#n?.state??qX();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Qr.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#t.variables,r=this.#t.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,e,r),this.#r.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#r.onError?.(t.error,e,r),this.#r.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#t)})})}};d();h();function yIe(t){return t}function C3t(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function O3t(t,e){return{state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(r=>(T.NODE_ENV!=="production"&&console.error(`A query that was dehydrated as pending ended up rejecting. [${t.queryHash}]: ${r}; The error will be redacted in production builds`),Promise.reject(new Error("redacted"))))},...t.meta&&{meta:t.meta}}}function gIe(t){return t.state.isPaused}function bIe(t){return t.state.status==="success"}function uN(t,e={}){let r=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??gIe,n=t.getMutationCache().getAll().flatMap(c=>r(c)?[C3t(c)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??bIe,o=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??yIe,s=t.getQueryCache().getAll().flatMap(c=>i(c)?[O3t(c,o)]:[]);return{mutations:n,queries:s}}function GX(t,e,r){if(typeof e!="object"||e===null)return;let n=t.getMutationCache(),i=t.getQueryCache(),o=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??yIe,s=e.mutations||[],c=e.queries||[];s.forEach(({state:l,...m})=>{n.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...m},l)}),c.forEach(({queryKey:l,state:m,queryHash:w,meta:b,promise:E})=>{let I=i.get(w),M=m.data===void 0?m.data:o(m.data);if(I){if(I.state.dataUpdatedAt<m.dataUpdatedAt){let{fetchStatus:k,...B}=m;I.setState({...B,data:M})}}else I=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:l,queryHash:w,meta:b},{...m,data:M,fetchStatus:"idle"});if(E){let k=Promise.resolve(E).then(o);I.fetch(void 0,{initialPromise:k})}})}d();h();var Th=Ke(Er(),1);d();h();var eA=Ke(Er(),1),vIe=Ke(XT(),1),$X=eA.createContext(void 0),Ut=t=>{let e=eA.useContext($X);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fN=({client:t,children:e})=>(eA.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,vIe.jsx)($X.Provider,{value:t,children:e}));d();h();var lN=Ke(Er(),1),xIe=lN.createContext(!1),$8=()=>lN.useContext(xIe),YX=xIe.Provider;d();h();var Y8=Ke(Er(),1),N3t=Ke(XT(),1);function D3t(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var U3t=Y8.createContext(D3t()),dN=()=>Y8.useContext(U3t);d();h();var wIe=Ke(Er(),1);d();h();function hN(t,e){return typeof t=="function"?t(...e):!!t}function pN(){}var mN=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},yN=t=>{wIe.useEffect(()=>{t.clearReset()},[t])},gN=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&hN(r,[t.error,n]);d();h();var bN=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},vN=(t,e)=>t.isLoading&&t.isFetching&&!e,Z8=(t,e)=>t?.suspense&&e.isPending,tA=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function SIe({queries:t,...e},r){let n=Ut(r),i=$8(),o=dN(),s=Th.useMemo(()=>t.map(M=>{let k=n.defaultQueryOptions(M);return k._optimisticResults=i?"isRestoring":"optimistic",k}),[t,n,i]);s.forEach(M=>{bN(M),mN(M,o)}),yN(o);let[c]=Th.useState(()=>new jX(n,s,e)),[l,m,w]=c.getOptimisticResult(s,e.combine);Th.useSyncExternalStore(Th.useCallback(M=>i?()=>{}:c.subscribe(Qr.batchCalls(M)),[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Th.useEffect(()=>{c.setQueries(s,e,{listeners:!1})},[s,e,c]);let E=l.some((M,k)=>Z8(s[k],M))?l.flatMap((M,k)=>{let B=s[k];if(B){let R=new pp(n,B);if(Z8(B,M))return tA(B,R,o);vN(M,i)&&tA(B,R,o)}return[]}):[];if(E.length>0)throw Promise.all(E);let I=l.find((M,k)=>{let B=s[k];return B&&gN({result:M,errorResetBoundary:o,throwOnError:B.throwOnError,query:n.getQueryCache().get(B.queryHash)})});if(I?.error)throw I.error;return m(w())}d();h();d();h();var dg=Ke(Er(),1);function xN(t,e,r){if(T.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');let n=Ut(r),i=$8(),o=dN(),s=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=i?"isRestoring":"optimistic",bN(s),mN(s,o),yN(o);let c=!n.getQueryCache().get(s.queryHash),[l]=dg.useState(()=>new e(n,s)),m=l.getOptimisticResult(s);if(dg.useSyncExternalStore(dg.useCallback(w=>{let b=i?()=>{}:l.subscribe(Qr.batchCalls(w));return l.updateResult(),b},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),dg.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),Z8(s,m))throw tA(s,l,o);if(gN({result:m,errorResetBoundary:o,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw m.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(s,m),s.experimental_prefetchInRender&&!Hc&&vN(m,i)&&(c?tA(s,l,o):n.getQueryCache().get(s.queryHash)?.promise)?.catch(pN).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?m:l.trackResult(m)}function ZX(t,e){return xN(t,pp,e)}d();h();var mp=Ke(Er(),1);function Ht(t,e){let r=Ut(e),[n]=mp.useState(()=>new WX(r,t));mp.useEffect(()=>{n.setOptions(t)},[n,t]);let i=mp.useSyncExternalStore(mp.useCallback(s=>n.subscribe(Qr.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=mp.useCallback((s,c)=>{n.mutate(s,c).catch(pN)},[n]);if(i.error&&hN(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}d();h();function AIe(t,e){return xN(t,zX,e)}d();h();var L3t=["added","removed","updated"];function EIe(t){return L3t.includes(t)}async function TIe({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{let o=await e.restoreClient();if(o)if(o.timestamp){let s=Date.now()-o.timestamp>r,c=o.buster!==n;s||c?e.removeClient():GX(t,o.clientState,i)}else e.removeClient()}catch(o){T.NODE_ENV!=="production"&&(console.error(o),console.warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.")),e.removeClient()}}async function _Ie({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){let i={buster:r,timestamp:Date.now(),clientState:uN(t,n)};await e.persistClient(i)}function IIe(t){let e=t.queryClient.getQueryCache().subscribe(n=>{EIe(n.type)&&_Ie(t)}),r=t.queryClient.getMutationCache().subscribe(n=>{EIe(n.type)&&_Ie(t)});return()=>{e(),r()}}d();h();var hg=Ke(Er(),1);var QX=Ke(XT(),1),F3t=({client:t,children:e,persistOptions:r,onSuccess:n,...i})=>{let[o,s]=hg.useState(!0),c=hg.useRef({persistOptions:r,onSuccess:n}),l=hg.useRef(!1);return hg.useEffect(()=>{c.current={persistOptions:r,onSuccess:n}}),hg.useEffect(()=>{let m={...c.current.persistOptions,queryClient:t};return l.current||(l.current=!0,s(!0),TIe(m).then(async()=>{try{await c.current.onSuccess?.()}finally{s(!1)}})),o?void 0:IIe(m)},[t,o]),(0,QX.jsx)(fN,{client:t,...i,children:(0,QX.jsx)(YX,{value:o,children:e})})};d();h();var MIe=Ke(Er());function Kr(t,e){let r=vae(),n=(0,MIe.useMemo)(()=>{if(r){let i=t?.refetchInterval!==void 0&&t?.refetchInterval!==!1,o=t?.enabled===!1;if(i&&!o)return{...t,refetchInterval:!1}}return t},[r,t]);return ZX(n,e)}d();h();var JX="__STORAGE_RESET_KEY__",kIe=["authEnabled","balanceHiddenStatus","buyFormValues","customGasControls","dAppBrowserBookmarks","deviceId","latestCleanedStorageVersion","lockTimerMs","maxWalletIndex","onboardingDone","ownerToHiddenMints","pendingTransactions","priceMap","userExplorerPreferenceV2","userRecentAddresses","userSavedAddresses","userTrustedApps","userWhitelistedSubdomains","userWhitelistedOrigins"];var K3t="Error processing storage data",V3t="Error getting storage data",H3t=["export-storage"],j3t=(t,e)=>{let r=[...kIe,...e];return Kr({queryKey:H3t,queryFn:()=>z3t(t,r),gcTime:0,staleTime:0})},z3t=async(t,e)=>{try{let r={};for(let{key:n,storage:i}of t){let o=await i.getAll();r[n]=W3t(o,e)}return r}catch(r){throw new Error(`${V3t}: ${JSON.stringify(r)}`)}},W3t=(t,e)=>{try{let r={};for(let n of e)t[n]&&(r[n]=t[n]);return r}catch(r){throw new Error(`${K3t}: ${JSON.stringify(r)}`)}};d();h();var rA=class{constructor(e){this.storage=e;e.subscribe(r=>{r===JX?this.notifierCache.forEach(n=>{n.notify()}):this.getNotifier(r).notify()})}notifierCache=new Map;getNotifier(e){let r=this.notifierCache.get(e);return r||(r=$1(),this.notifierCache.set(e,r)),r}async get(e){return this.getNotifier(e).consume(),this.storage.get(e)}async set(e,r){await this.storage.set(e,r),this.getNotifier(e).notify()}},PIe=new WeakMap,Q8=()=>{let t=er(),e=PIe.get(t);return e===void 0&&(e=new rA(t),PIe.set(t,e)),e},G3t=qs(t=>Q8().get(t)),$3t=qs(t=>B4(async e=>Q8().set(t,e)));d();h();var wN=Ke(Er()),YJr=(0,wN.createContext)(void 0);d();h();d();h();d();h();d();h();d();h();var cee=Ke(Fa()),NIe=Ke(ls());d();h();d();h();d();h();function XX(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Y3t(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function RIe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Z3t(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");XX(t.outputLen),XX(t.blockLen)}function Q3t(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function J3t(t,e){RIe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var X3t={number:XX,bool:Y3t,bytes:RIe,hash:Z3t,exists:Q3t,output:J3t},mo=X3t;d();h();d();h();d();h();d();h();var e6t={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var SN=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),iA=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ql=(t,e)=>t<<32-e|t>>>e,t6t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!t6t)throw new Error("Non little-endian hardware is not supported");var sXr=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));var r6t=async()=>{};async function AN(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await r6t(),n+=o)}}function n6t(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function pg(t){if(typeof t=="string"&&(t=n6t(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var nA=class{clone(){return this._cloneInto()}},i6t=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function EN(t,e){if(e!==void 0&&(typeof e!="object"||!i6t(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function eee(t){let e=n=>t().update(pg(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function o6t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var _N=class extends nA{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=iA(this.buffer)}update(e){mo.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=pg(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=iA(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mo.exists(this),mo.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;o6t(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=iA(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var s6t=(t,e,r)=>t&e^~t&r,a6t=(t,e,r)=>t&e^t&r^e&r,c6t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yg=new Uint32Array(64),TN=class extends _N{constructor(){super(64,32,8,!1),this.A=mg[0]|0,this.B=mg[1]|0,this.C=mg[2]|0,this.D=mg[3]|0,this.E=mg[4]|0,this.F=mg[5]|0,this.G=mg[6]|0,this.H=mg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)yg[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=yg[b-15],I=yg[b-2],M=Ql(E,7)^Ql(E,18)^E>>>3,k=Ql(I,17)^Ql(I,19)^I>>>10;yg[b]=k+yg[b-7]+M+yg[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=Ql(c,6)^Ql(c,11)^Ql(c,25),I=w+E+s6t(c,l,m)+c6t[b]+yg[b]|0,k=(Ql(n,2)^Ql(n,13)^Ql(n,22))+a6t(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){yg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},tee=class extends TN{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},ree=eee(()=>new TN),gXr=eee(()=>new tee);d();h();d();h();var IN=class extends nA{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,mo.hash(e);let n=pg(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return mo.exists(this),this.iHash.update(e),this}digestInto(e){mo.exists(this),mo.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},nee=(t,e,r)=>new IN(t,e).update(r).digest();nee.create=(t,e)=>new IN(t,e);function u6t(t,e,r,n){mo.hash(t);let i=EN({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:c}=i;if(mo.number(o),mo.number(s),mo.number(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=pg(e),m=pg(r),w=new Uint8Array(s),b=nee.create(t,l),E=b._cloneInto().update(m);return{c:o,dkLen:s,asyncTick:c,DK:w,PRF:b,PRFSalt:E}}function f6t(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function iee(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:c,PRFSalt:l}=u6t(t,e,r,n),m,w=new Uint8Array(4),b=iA(w),E=new Uint8Array(c.outputLen);for(let I=1,M=0;M<o;I++,M+=c.outputLen){let k=s.subarray(M,M+c.outputLen);b.setInt32(0,I,!1),(m=l._cloneInto(m)).update(w).digestInto(E),k.set(E.subarray(0,k.length));for(let B=1;B<i;B++){c._cloneInto(m).update(E).digestInto(E);for(let R=0;R<k.length;R++)k[R]^=E[R]}}return f6t(c,l,s,m,E)}var An=(t,e)=>t<<e|t>>>32-e;function BIe(t,e,r,n,i,o){let s=t[e++]^r[n++],c=t[e++]^r[n++],l=t[e++]^r[n++],m=t[e++]^r[n++],w=t[e++]^r[n++],b=t[e++]^r[n++],E=t[e++]^r[n++],I=t[e++]^r[n++],M=t[e++]^r[n++],k=t[e++]^r[n++],B=t[e++]^r[n++],R=t[e++]^r[n++],U=t[e++]^r[n++],P=t[e++]^r[n++],F=t[e++]^r[n++],V=t[e++]^r[n++],H=s,re=c,J=l,ie=m,S=w,a=b,f=E,p=I,y=M,g=k,A=B,_=R,v=U,u=P,x=F,q=V;for(let L=0;L<8;L+=2)S^=An(H+v|0,7),y^=An(S+H|0,9),v^=An(y+S|0,13),H^=An(v+y|0,18),g^=An(a+re|0,7),u^=An(g+a|0,9),re^=An(u+g|0,13),a^=An(re+u|0,18),x^=An(A+f|0,7),J^=An(x+A|0,9),f^=An(J+x|0,13),A^=An(f+J|0,18),ie^=An(q+_|0,7),p^=An(ie+q|0,9),_^=An(p+ie|0,13),q^=An(_+p|0,18),re^=An(H+ie|0,7),J^=An(re+H|0,9),ie^=An(J+re|0,13),H^=An(ie+J|0,18),f^=An(a+S|0,7),p^=An(f+a|0,9),S^=An(p+f|0,13),a^=An(S+p|0,18),_^=An(A+g|0,7),y^=An(_+A|0,9),g^=An(y+_|0,13),A^=An(g+y|0,18),v^=An(q+x|0,7),u^=An(v+q|0,9),x^=An(u+v|0,13),q^=An(x+u|0,18);i[o++]=s+H|0,i[o++]=c+re|0,i[o++]=l+J|0,i[o++]=m+ie|0,i[o++]=w+S|0,i[o++]=b+a|0,i[o++]=E+f|0,i[o++]=I+p|0,i[o++]=M+y|0,i[o++]=k+g|0,i[o++]=B+A|0,i[o++]=R+_|0,i[o++]=U+v|0,i[o++]=P+u|0,i[o++]=F+x|0,i[o++]=V+q|0}function oee(t,e,r,n,i){let o=n+0,s=n+16*i;for(let c=0;c<16;c++)r[s+c]=t[e+(2*i-1)*16+c];for(let c=0;c<i;c++,o+=16,e+=16)BIe(r,s,t,e,r,o),c>0&&(s+=16),BIe(r,o,t,e+=16,r,s)}function l6t(t,e,r){let n=EN({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:o,p:s,dkLen:c,asyncTick:l,maxmem:m,onProgress:w}=n;if(mo.number(i),mo.number(o),mo.number(s),mo.number(c),mo.number(l),mo.number(m),w!==void 0&&typeof w!="function")throw new Error("progressCb should be function");let b=128*o,E=b/4;if(i<=1||i&i-1||i>=2**(b/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/b)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let I=b*(i+s);if(I>m)throw new Error(`Scrypt: parameters too large, ${I} (128 * r * (N + p)) > ${m} (maxmem)`);let M=iee(ree,t,e,{c:1,dkLen:b*s}),k=SN(M),B=SN(new Uint8Array(b*i)),R=SN(new Uint8Array(b)),U=()=>{};if(w){let P=2*i*s,F=Math.max(Math.floor(P/1e4),1),V=0;U=()=>{V++,w&&(!(V%F)||V===P)&&w(V/P)}}return{N:i,r:o,p:s,dkLen:c,blockSize32:E,V:B,B32:k,B:M,tmp:R,blockMixCb:U,asyncTick:l}}function d6t(t,e,r,n,i){let o=iee(ree,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),o}async function CIe(t,e,r){let{N:n,r:i,p:o,dkLen:s,blockSize32:c,V:l,B32:m,B:w,tmp:b,blockMixCb:E,asyncTick:I}=l6t(t,e,r);for(let M=0;M<o;M++){let k=c*M;for(let R=0;R<c;R++)l[R]=m[k+R];let B=0;await AN(n-1,I,R=>{oee(l,B,l,B+=c,i),E()}),oee(l,(n-1)*c,m,k,i),E(),await AN(n,I,R=>{let U=m[k+c-16]%n;for(let P=0;P<c;P++)b[P]=m[k+P]^l[U*c+P];oee(b,0,m,k,i),E()})}return d6t(t,s,w,l,b)}var see=Ke(Fa()),OIe=Ke(iM()),aee=Ke(ls()),MN=async(t,e)=>{switch(e.kdf){case"scrypt":return Buffer.from(await CIe(t,see.default.decode(e.salt),{N:2**12,r:8,p:1,dkLen:aee.secretbox.keyLength}));case"pbkdf2":return new Promise((r,n)=>(0,OIe.pbkdf2)(t,see.default.decode(e.salt),e.iterations,aee.secretbox.keyLength,e.digest,(i,o)=>i?n(i):r(o)))}throw new Error(`Unable to derive encryption key: ${e.kdf}`)};var uee=async(t,e)=>{let r=NIe.secretbox.open(cee.default.decode(t.encrypted),cee.default.decode(t.nonce),await MN(e,t));if(!r)throw new Error("Unable to open secretbox: Incorrect Password");return r};async function oA(t,e){try{return await uee(t,e)}catch{let r=Buffer.from(e).toString("utf-8"),n=Buffer.from(r),i=await uee(t,n);return i&&Qe.addBreadcrumb("storage","DecryptEncryptedText: Legacy decryption successful \u2705","info"),i}}d();h();var J8=Ke(Fa()),sA=Ke(ls());var aA=async(t,e)=>{let r={kdf:"scrypt",salt:J8.default.encode((0,sA.randomBytes)(16)),nonce:J8.default.encode((0,sA.randomBytes)(sA.secretbox.nonceLength)),iterations:1e4,digest:"sha256"},n=await MN(e,r),i=(0,sA.secretbox)(t,J8.default.decode(r.nonce),n);return{...r,encrypted:J8.default.encode(i)}};d();h();async function kN(t,e){return aA(Buffer.from(t),e)}d();h();var fee=O.object({encrypted:O.string(),nonce:O.string(),kdf:O.string(),salt:O.string(),iterations:O.number(),digest:O.string()});var DIe=O.object({version:O.literal(1),content:fee});var lee=class{storage;storageEncryptionKeyManager;static fromStorage(e,r){return new this({store:e,type:"plain"},r)}static fromSecureStorage(e,r){return new this({store:e,type:"secure"},r)}constructor(e,r){this.storage=e,this.storageEncryptionKeyManager=r}async rotateEncryptionKey(e){return this.storageEncryptionKeyManager.rotateEncryptionKey(async(r,n)=>{let i=await this.getAllSecureValues(),o={};for(let[s,c]of Object.entries(i)){let l=await this.encrypt(c,r);o[s]=l}return n(o,e)})}async getSecureValue(e){let r;switch(this.storage.type){case"plain":{r=await this.storage.store.get(e);break}case"secure":{r=await this.storage.store.getSecureValue(e);break}}return r?this.decrypt(r):null}async getAllSecureValues(e){let r={},n;switch(this.storage.type){case"plain":{n=await this.storage.store.getAll(e);break}case"secure":{n=await this.storage.store.getAllSecureValues(e);break}}for(let[i,o]of Object.entries(n)){let s=DIe.safeParse(o);if(s.success){let c=await this.decrypt(s.data);r[i]=c}}return r}async removeSecureValue(e){switch(this.storage.type){case"plain":{await this.storage.store.remove(e);break}case"secure":{await this.storage.store.removeSecureValue(e);break}}}async setSecureValue(e,r){let n=await this.encrypt(r);switch(this.storage.type){case"plain":{await this.storage.store.set(e,n);break}case"secure":{await this.storage.store.setSecureValue(e,n);break}}}async setAllSecureValues(e){let r={};for(let[n,i]of Object.entries(e)){let o=await this.encrypt(i);r[n]=o}switch(this.storage.type){case"plain":{await this.storage.store.setAll(r);break}case"secure":{await this.storage.store.setAllSecureValues(r);break}}}async encrypt(e,r){let n=JSON.stringify(e),i=r??await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!i)throw new Error("[EncryptedStorage.encrypt] Failed to get valid encryption key");return{version:1,content:await i.foldAsync(s=>kN(n,s))}}async decrypt(e){let r=await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!r)throw new Error("[EncryptedStorage.decrypt] Failed to get valid encryption key");let n=await r.foldAsync(i=>oA(e.content,i));return JSON.parse(Buffer.from(n).toString())}};d();h();var UIe=Ke(ls()),e5=class extends Error{message="Failed to get the encryption password"},PN=class extends Error{message="Failed to update password that has never been set"},dee=class extends Error{message="Failed to decrypt using the password"},X8=".phantom-labs.encryption.encryptionKey",hee=class{tempEncryptionKey;encryptionKey;deps;constructor(e){this.deps=e,this.encryptionKey=null,this.tempEncryptionKey=null}async getDeviceEncryptionKey(){let e=await this.fetchAndDecryptExistingKey();return e?Mi.from(e):(this.tempEncryptionKey||(this.tempEncryptionKey=Mi.from(this.randomEncryptionKey())),this.tempEncryptionKey)}async persistDeviceEncryptionKey(){if(await this.hasPersistedDeviceEncryptionKey())return!0;this.tempEncryptionKey||(this.tempEncryptionKey=Mi.from(this.randomEncryptionKey()));let e=this.tempEncryptionKey,r=this.getPassword(),n=async o=>await this.encrypt(o,r),i=await e.foldAsync(n);return await this.saveExistingKey(i),this.encryptionKey=i,this.tempEncryptionKey=null,!0}async hasPersistedDeviceEncryptionKey(){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),!!this.encryptionKey}async deletePersistedDeviceEncryptionKey(){return this.encryptionKey=null,this.deleteExistingKey().then(()=>!0).catch(()=>!1)}async updatePassword(e){if(!this.deps.getPassword())throw new e5;let n=await this.fetchAndDecryptExistingKey();if(!n)throw new PN;let i=await this.encrypt(n,e);await this.saveExistingKey(i),this.encryptionKey=i}async rotateEncryptionKey(e){let r=this.deps.getPassword();if(!r)throw new e5;if(!await this.fetchAndDecryptExistingKey())throw new PN;let i=Mi.from(this.randomEncryptionKey());return e(i,async(o,s)=>{let c=s??r,l=await i.foldAsync(m=>this.encrypt(m,c));return await this.saveExistingKey(l,o),this.encryptionKey=l,this.tempEncryptionKey=null,!0})}async verifyPassword(e){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey?!!await this.decrypt(this.encryptionKey,e).catch(()=>!1):(Qe.addBreadcrumb("storage","Failed to get existing encryption key!","info"),!1)}async fetchAndDecryptExistingKey(){if(this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey){let e=this.getPassword();return this.decrypt(this.encryptionKey,e)}return Qe.addBreadcrumb("storage","Failed to get existing encryption key!","info"),null}getPassword(){let e=this.deps.getPassword();if(!e)throw new e5;return e}async fetchExistingKey(){return this.deps.storage.get(X8)}async saveExistingKey(e,r){if(r){let n={...r,[X8]:e};return this.deps.storage.setAll(n)}else return this.deps.storage.set(X8,e)}async deleteExistingKey(){return this.deps.storage.remove(X8)}randomEncryptionKey(){return(0,UIe.randomBytes)(32)}async encrypt(e,r){return r.foldAsync(n=>aA(e,n)).then(n=>({version:1,encryptedKey:n}))}async decrypt(e,r){return r.foldAsync(n=>oA(e.encryptedKey,n)).catch(()=>{throw new dee})}};d();h();d();h();d();h();d();h();d();h();var LIe=null;function h6t(t){LIe=t}function FIe(){return LIe}function qIe(t){let e=FIe();if(e){let r=new Headers(t);return r.set("X-Phantom-AnonymousId",e),r}return t}d();h();var pee=null;function mee(t){pee=t}async function yee(t=!1){if(!pee)throw new Error("No fetch bearer token function registered. Register one with registerFetchBearerToken().");return await pee(t)}d();h();d();h();function KIe(...t){let e=new AbortController;for(let r of t){let n=r instanceof AbortController?r.signal:r;if(n?.aborted)return e.abort(n.reason),e.signal;n?.addEventListener("abort",()=>{e.abort(n.reason)},{once:!0})}return e.signal}var p6t=2*60*1e3,m6t=[];function VIe(t,e){let{fetchTimeout:r,retryDelays:n,retryOnAuthTokenExpiration:i,onAuthRetry:o,...s}=e||{},c=e?.fetchTimeout??p6t,l=e?.retryDelays??m6t,m=0,w=0,b=s;return new Promise((E,I)=>{function M(){m++,w=Date.now();let R=!0,U=new AbortController,P=fetch(t,{...b,signal:KIe(...s.signal?[s.signal,U.signal]:[U.signal])}),F=setTimeout(()=>{U.abort(),R=!1,B(m)?k():I(new Error(`fetchWithTimeoutAndRetry(): Failed to get response from server due to timeout of ${c} ms, tried ${m} times.`))},c);P.then(V=>{clearTimeout(F),R&&(V.status>=200&&V.status<300?E(V):B(m,V.status)?V.status===401&&i&&o?o(b).then(H=>{b=H,k()}).catch(H=>{I(H)}):k():E(V))}).catch(V=>{clearTimeout(F),B(m)?k():I(V)})}function k(){let R=l[m-1],U=w+R;setTimeout(M,Math.max(U-Date.now(),0))}function B(R,U){if(U===401&&i)return R<=l.length;let P=U?U>=400&&U<=499:!1;return R<=l.length&&!P}M()})}d();h();var RN=(t={},e={})=>{let r=new Headers(t),n=new Headers(e);for(let[i,o]of n.entries())o===void 0||o==="undefined"?r.delete(i):r.set(i,o);return r};d();h();var lA=Ke(Fn());d();h();d();h();function HIe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function gee(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function jIe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");HIe(t.outputLen),HIe(t.blockLen)}function cA(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zIe(t,e){gee(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();d();h();var BN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var WIe=t=>t instanceof Uint8Array;var CN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Jl=(t,e)=>t<<32-e|t>>>e,y6t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!y6t)throw new Error("Non little-endian hardware is not supported");function g6t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function t5(t){if(typeof t=="string"&&(t=g6t(t)),!WIe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function GIe(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!WIe(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var uA=class{clone(){return this._cloneInto()}},ptn={}.toString;function ON(t){let e=n=>t().update(t5(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function NN(t=32){if(BN&&typeof BN.getRandomValues=="function")return BN.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var DN=class extends uA{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,jIe(e);let n=t5(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return cA(this),this.iHash.update(e),this}digestInto(e){cA(this),gee(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},r5=(t,e,r)=>new DN(t,e).update(r).digest();r5.create=(t,e)=>new DN(t,e);d();h();d();h();function b6t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var fA=class extends uA{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=CN(this.buffer)}update(e){cA(this);let{view:r,buffer:n,blockLen:i}=this;e=t5(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=CN(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cA(this),zIe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;b6t(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=CN(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var v6t=(t,e,r)=>t&e^~t&r,x6t=(t,e,r)=>t&e^t&r^e&r,w6t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bg=new Uint32Array(64),bee=class extends fA{constructor(){super(64,32,8,!1),this.A=gg[0]|0,this.B=gg[1]|0,this.C=gg[2]|0,this.D=gg[3]|0,this.E=gg[4]|0,this.F=gg[5]|0,this.G=gg[6]|0,this.H=gg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)bg[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=bg[b-15],I=bg[b-2],M=Jl(E,7)^Jl(E,18)^E>>>3,k=Jl(I,17)^Jl(I,19)^I>>>10;bg[b]=k+bg[b-7]+M+bg[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=Jl(c,6)^Jl(c,11)^Jl(c,25),I=w+E+v6t(c,l,m)+w6t[b]+bg[b]|0,k=(Jl(n,2)^Jl(n,13)^Jl(n,22))+x6t(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){bg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var ys=ON(()=>new bee);var S6t=[86,120,48,81,89,86,110,49,100,114,111,113,49,70,56,84,77,115,80,81,66,75,72,51,90,83,110,100,110,116,68,88,107,118,83,53,102,80,114,89,111,88,85,75,57,43,67,57,97,103,74,113,68,76,112,112,100,48,102,101,80,122,83,111,108,113,75,90,56,114,66,70,119,87,84,104,98,57,110,119,43,79,70,51,51,65,61,61],A6t=[87,67,49,81,97,71,70,117,100,71,57,116,81,88,86,48,97,70,82,118,97,50,86,117],E6t=[87,67,49,81,97,71,70,117,100,71,57,116,84,109,57,117,89,50,85,61];function _6t(t){let e=new URL(t);return e.pathname+e.search}function $Ie(t,e){let r=_6t(t),n=JSON.stringify(Math.floor(Date.now()/1e3)),i=r+n,o=r5(ys,lA.Buffer.from(String.fromCharCode(...S6t)),lA.Buffer.from(i)),s=new Headers(e);return s.set(lA.Buffer.from(String.fromCharCode(...A6t),"base64").toString(),encodeURIComponent(lA.Buffer.from(o).toString("base64"))),s.set(lA.Buffer.from(String.fromCharCode(...E6t),"base64").toString(),n),s}var Ev=class extends Error{constructor(e,r){super(e),this.response=r}response},T6t={"Content-Type":"application/json","X-Phantom-Version":r3,"X-Phantom-Platform":gae},dA=async t=>{let e,r;try{r=await t.clone().blob()}catch{}try{e=await t.clone().json()}catch{}let{status:n,statusText:i}=t;return{blob:r,data:e,status:n,statusText:i}},vee=class t{config;constructor(e={}){this.config={withClientAuth:!0,numRetries:0,delayBetweenEachRetryMs:0,timeoutMs:null,validateStatus:!1,headers:T6t,withApiEnvironment:"none",fetchBearerToken:!1,...e}}fetch=async(e,r={})=>{try{if(typeof e=="function"){let l=yb()==="https://api.phantom.app"?"prod":"staging";e=e({apiEnv:l})}let n="";this.config.withApiEnvironment==="prod"?n="https://api.phantom.app":this.config.withApiEnvironment==="staging"?n="https://staging-api.phantom.app":this.config.withApiEnvironment==="default"?n=yb():this.config.withApiEnvironment==="custom"&&this.config.customApiEnv&&(n=this.config.customApiEnv);let i=new URL(`${n}${e}`);r?.params&&(i.search=new URLSearchParams(r.params).toString()),r.headers=RN(this.config.headers,r.headers),r.headers=qIe(r.headers),this.config.withClientAuth&&(r.headers=$Ie(i.toString(),r.headers));let o={...r,onAuthRetry:async l=>{let m=await yee(!0);if(m){let w=new Headers(l.headers);return w.set("authorization",`Bearer ${m}`),{...l,headers:w}}return l}},s=this.config.validateStatus;if(r?.validateStatus&&(s=r?.validateStatus),o.body&&typeof o.body!="string"&&(o.body=JSON.stringify(o.body)),this.config.timeoutMs&&(o.fetchTimeout=this.config.timeoutMs),this.config.numRetries&&(o.retryDelays=Array(this.config.numRetries).fill(this.config.delayBetweenEachRetryMs)),this.config.fetchBearerToken){o.retryOnAuthTokenExpiration=!0;let l=await yee();if(l)o.headers=RN(o.headers,{authorization:`Bearer ${l}`});else throw new Ev("Unable to get bearer token. Full auth is required.")}let c=await VIe(i.toString(),o);if(s&&!c.ok)throw new Ev(`Request failed with status code ${c.status}`,await dA(c));return c}catch(n){throw n instanceof Ev?n:new Ev(n?.message,n?.response)}};auth(e){return new t({...this.config,withClientAuth:e})}bearer(e){return typeof e=="string"&&e?this.headers({authorization:`Bearer ${e}`}):typeof e=="boolean"&&e?new t({...this.config,validateStatus:!0,fetchBearerToken:!0,numRetries:1}):this}headers(e,r){let n=r?.mergeHeaders===!1?e:RN(this.config.headers,e);return new t({...this.config,headers:n})}timeout(e){return new t({...this.config,timeoutMs:e})}retry(e,r){return new t({...this.config,numRetries:e,delayBetweenEachRetryMs:r})}validateStatus(e){return new t({...this.config,validateStatus:e})}api(e="default",r){return new t({...this.config,withApiEnvironment:e,customApiEnv:e==="custom"?r:void 0})}async get(e,r={}){r.method="GET";let n=await this.fetch(e,r);return dA(n)}async post(e,r,n={}){n.method="POST";let i=await this.fetch(e,{...n,body:r});return dA(i)}async put(e,r,n={}){n.method="PUT";let i=await this.fetch(e,{...n,body:r});return dA(i)}async patch(e,r,n={}){n.method="PATCH";let i=await this.fetch(e,{...n,body:r});return dA(i)}async delete(e,r,n={}){n.method="DELETE";let i=await this.fetch(e,{...n,body:r});return dA(i)}},Rn=new vee;function I6t(t){if(t===void 0)throw new Error("rpcUrl undefined");return async(e,r)=>{let n={jsonrpc:"2.0",id:+new Date,method:e,params:r},o=(await Rn.post(t,n)).data;if("error"in o)throw new Error(JSON.stringify(o.error));return o.result}}async function M6t(t,e={}){return Rn.fetch(t,e)}function Xl(t){return t.status>199&&t.status<400}function k6t(t){return t instanceof Ev}d();h();var n5=(t,e)=>`/user/v1/users/${t}/wallet-storage${e?`/${encodeURIComponent(e)}`:""}`;d();h();d();h();function vg(){return(t,e)=>e??t}var ZIe=async({storage:t,keyRegistry:e,allRemoteData:r})=>{let i=Object.keys(r).filter(s=>Object.prototype.hasOwnProperty.call(e,s)),o=await t.getAll();try{await t.setAll(i.reduce((s,c)=>{let l=o[c],m=r[c];if(m!=null){let{resolver:w=vg}=e[c];s[c]=w(l,m)}return s},{})).then(()=>{Qe.addBreadcrumb("storage","\u2705 Synced remote data to disk!","info")})}catch{try{for(let c of i){let l=o[c],m=r[c];if(m==null)continue;let{resolver:w=vg}=e[c];await t.set(c,w(l,m)).then(()=>{Qe.addBreadcrumb("storage",`\u2705 Synced remote data to disk: ${c}`,"info")}).catch(b=>{Qe.addBreadcrumb("storage",`\u274C Failed to sync remote data to disk: ${c} => Error: ${b}`,"info")})}}catch(c){Qe.addBreadcrumb("storage",`\u274C Failed to sync remote data to disk: ${c}`,"info")}}};var xee=2,wee=500,i5=class t{static#e;#t;#n={};#r={};#i=null;#o=null;#a;#s=null;#c=!1;constructor({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o}){this.#t=e,this.#r=r,this.#o=n,this.#i=i,this.#a=o}static getInstance({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o}){return this.#e||(this.#e=new t({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o})),this.#e}clear(){this.#s=null,this.#n={},this.#c=!1,Qe.addBreadcrumb("storage","\u{1F5D1}\uFE0F  SyncedStorage cleared!","info")}async hydrateIfNeeded(e=!0){if(!rI()){if(!await uv.isFeatureEnabledAsync("enable-synced-storage"))return Qe.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: Feature not enabled!","info");if(!this.#o||!this.#t||!this.#r)return Qe.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: Not initialized!","info");if(!await this.#a())return Qe.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: Not onboarded!","info");try{let r=await this.#o.getUser();if(!r)return Qe.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: No user found","info");if(r?.userID===this.#s)return;this.#s=r.userID;let n=await this.syncFromCloud();if(n){Qe.addBreadcrumb("storage","\u2705 SyncedStorage found!","info"),this.#n=n,e&&(await ZIe({storage:this.#t,keyRegistry:this.#r,allRemoteData:n}),this.#c=!0);let i=Object.values(this.#r).map(o=>o.queryKey).flat();await this.#i?.invalidateQueries({queryKey:i})}}catch(r){Qe.captureError(new Error(`\u274C Failed to initialize Synced Storage: ${JSON.stringify(r)}`),"storage")}}}async syncFromCloud(e){if(this.#s)try{let r=n5(this.#s,e),n=await Rn.api().bearer(!0).retry(xee,wee).get(r);if(Xl(n))return n.data;Qe.addBreadcrumb("storage",`\u274C Failed to sync from cloud: ${JSON.stringify(n)}`,"info")}catch(r){Qe.addBreadcrumb("storage",`\u274C Failed to sync from cloud: ${JSON.stringify(r)}`,"info")}}async syncToCloud(e,r){if(this.#n[e]=r,!this.#s)return!1;try{let n=n5(this.#s,e),i=await Rn.api().bearer(!0).retry(xee,wee).put(n,{value:r});if(Xl(i))return Qe.addBreadcrumb("storage",`\u2705 Synced to cloud: ${e}`,"info"),!0;Qe.addBreadcrumb("storage",`\u274C Failed to sync to cloud: ${e} => Error: ${JSON.stringify(i)}`,"info")}catch(n){Qe.addBreadcrumb("storage",`\u274C Failed to sync to cloud: ${JSON.stringify(n)}`,"info")}return!1}async removeFromCloud(e){if(delete this.#n[e],!this.#s)return!1;try{let r=n5(this.#s,e),n=await Rn.api().bearer(!0).retry(xee,wee).delete(r);if(Xl(n))return Qe.addBreadcrumb("storage",`\u2705 Removed from cloud: ${e}`,"info"),!0;Qe.addBreadcrumb("storage",`\u274C Failed to remove from cloud: ${e} => Error: ${JSON.stringify(n)}`,"info")}catch(r){Qe.addBreadcrumb("storage",`\u274C Failed to remove from cloud: ${JSON.stringify(r)}`,"info")}return!1}async get(e){let r=await this.#t.get(e);if(!this.#s||!this.#r||!Object.prototype.hasOwnProperty.call(this.#r,e))return r;let{resolver:n=vg,fetchLatestRemote:i=!1}=this.#r[e];if(!i&&this.#c)return r;let o=i?await this.syncFromCloud(e):this.#n[e];return n(r,o)}async getAll(e){return this.#t.getAll(e)}async remove(e){await this.#t.remove(e),Array.isArray(e)?Promise.all(e.map(r=>this.removeFromCloud(r))):this.removeFromCloud(e)}async set(e,r){await this.#t.set(e,r),this.syncToCloud(e,r)}async setAll(e){await this.#t.setAll(e),Promise.all(Object.entries(e).map(([r,n])=>this.syncToCloud(r,n)))}subscribe(e){return this.#t.subscribe(e)}async update(e,r){await this.#t.update(e,r);let n=await this.get(e);this.syncToCloud(e,n)}};d();h();var UN=(t,e,r=vg(),n=!1)=>({[t]:{queryKey:e,resolver:r,fetchLatestRemote:n}});d();h();var QIe=new WeakMap,JIe=()=>{let t=Q8(),e=ac();if(e instanceof i5){let r=QIe.get(e);return r===void 0&&(r=new rA(e),QIe.set(e,r)),r}return t},P6t=qs(t=>JIe().get(t)),R6t=qs(t=>B4(async e=>JIe().set(t,e)));d();h();var B6t={[Ar.Monad.Mainnet]:1,[Ar.Monad.Devnet]:1,[Ar.Monad.Testnet]:1,[Ar.Ethereum.Mainnet]:6,[Ar.Ethereum.Sepolia]:6,[Ar.Polygon.Mainnet]:128,[Ar.Polygon.Amoy]:128,[Ar.Base.Mainnet]:3,[Ar.Base.Sepolia]:3,[Ar.Arbitrum.Mainnet]:1,[Ar.Arbitrum.Sepolia]:1,[Ar.Hypercore.Mainnet]:1,[Ar.Hypercore.Testnet]:1},C6t={[Ar.Bitcoin.Mainnet]:1,[Ar.Bitcoin.Testnet]:1};var O6t="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",N6t=100;d();h();d();h();function D6t(t,e){return e.getSupportedChains().includes(t)}function XIe(t,e){if(lB(t))return e.get(t);if(je.isNetworkID(t)){let r=je.getChainID(t);if(D6t(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}function See(t){return{get:e=>XIe(e,t),supportedChains:t.getSupportedChains()}}d();h();var o5=class{chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};d();h();d();h();var _v="@phantom/chains",Tv={enabledChains:[`${_v}:enabled-chains`],enabledAddressTypes:[`${_v}:enabled-address-types`],enabledNetworkIDs(t){return[`${_v}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${_v}:chain-availability`,t]}};var LN=".phantom-labs.internal.enabledChainsOverrideSettings",eMe=async t=>{try{return(await t.get(LN))?.settings}catch{return null}},tMe=async(t,e,r)=>{let n=await eMe(r);return r.set(LN,{version:1,settings:{...n!=null&&n,[t]:e}})},rMe=async t=>{let e=[],r;try{r=await eMe(t),r&&Object.entries(r).forEach(([n,i])=>{i||e.push(n)})}catch{}try{let n=await t.get(F6t);!n||n.version===1||n.chains.forEach(i=>{r&&r[i]||e.push(i)})}catch{}try{je.getAllChainIDs().forEach(n=>{r&&r[n]||je.isChainDefaultEnabled(n)||e.push(n)})}catch{}return[...new Set(e)]},Aee=async(t,e)=>tMe(t,!1,e),Eee=async(t,e)=>tMe(t,!0,e),Iv=".phantom-labs.internal.disabledAddressTypes",_ee=async t=>{let e;try{e=await t.get(Iv)!==null}catch{e=!1}return e},nMe=async t=>{let e;try{e=(await t.get(Iv))?.addressTypes??[]}catch{e=[]}return[...new Set([...e,"bip122_p2sh","bip122_p2pkh"])]},Tee=async(t,e)=>{let r=await e.get(Iv),n=new Set(r?.addressTypes??[]);return n.delete(t),e.set(Iv,{version:1,addressTypes:Array.from(n)})},Iee=async(t,e)=>{let r=await e.get(Iv),n=new Set(r?.addressTypes??[]);return n.add(t),e.set(Iv,{version:1,addressTypes:Array.from(n)})},U6t=(t,e)=>({version:1,settings:{...t?.settings,...e?.settings}}),L6t={...UN(LN,[`${_v}:chain-availability`,`${_v}:enabled-network-ids`,...Tv.enabledChains],U6t),...UN(Iv,[...Tv.enabledAddressTypes])},F6t=".phantom-labs.internal.disabledChains";d();h();var iMe=!1,Mee=async(t,e)=>{e=e??await uv.isFeatureEnabledAsync("enable-arbitrum");let r=!Vp();iMe||(Qe.addBreadcrumb("network","Fetched chain availability","info",{skipFileLogger:!0}),iMe=!0);let n=je.getAllChainIDs().filter(U=>(U!=="arbitrum"||e)&&(U!=="hypercore"||r)),i=await rMe(t),o=new Set(i),s=n.filter(U=>!o.has(U)),c=U=>{let P=je.getChainID(U);return s.includes(P)},l=je.getAllNetworkIDs({mainnetOnly:!1}).filter(c),m=je.getAllNetworkIDs({mainnetOnly:!0}).filter(c),w=new Set(i.flatMap(U=>je.getNetworkIDs(U))),b=l.filter(U=>!w.has(U)),E=m.filter(U=>!w.has(U)),I=b.filter(U=>!je.isMainnetNetworkID(U)),M=ma.getAll(),k=await nMe(t),B=new Set(k);for(let U of M){let P=je.getChainIDs(U);if(!P){B.add(U);continue}P.every(V=>o.has(V))&&B.add(U)}let R=M.filter(U=>!B.has(U));return{supportedChainIDs:n,supportedAddressTypes:M,disabledChainIDs:i,enabledChainIDs:s,enabledAddressTypes:R,enabledNetworkIDs:b,enabledMainnetOnlyNetworkIDs:E,enabledTestnetOnlyNetworkIDs:I}};d();h();var oMe=[],kee=t=>{oMe.push(t)},yp=async t=>{let e=uv.isFeatureEnabled("enable-arbitrum");await t.invalidateQueries({queryKey:Tv.chainAvailability({isArbitrumEnabled:e})}),await Promise.all(oMe.map(r=>r(t)))};d();h();d();h();var FN=(i=>(i.Image="image",i.Emoji="emoji",i.ReadOnlyDefault="read-only-default",i.Default="default",i))(FN||{}),q6t=O.object({type:O.nativeEnum(FN),imageUrl:O.string().optional(),unicode:O.string().optional()}),qN=(e=>(e.Ledger="ledger",e))(qN||{}),KN=(e=>(e.BLE="ble",e))(KN||{}),K6t=O.object({version:O.literal(1),connectionType:O.nativeEnum(KN),deviceType:O.nativeEnum(qN),id:O.string().min(1),name:O.string().optional(),model:O.string().optional()}),V6t=O.object({value:O.number(),timestamp:O.number()}),H6t=O.object({name:O.string(),icon:q6t.optional(),connectedDevices:K6t.array().optional(),balance:V6t.optional()});var j6t=100,z6t={unicode:void 0,imageUrl:void 0,type:"default"},Pee={version:1,isDeveloperMode:!1};var hA=Ar.Solana.Devnet,pA=Ar.Ethereum.Sepolia,Ree=Ar.Sui.Testnet;function s5(){return{version:1,setting:{solana:hA,eip155:pA,sui:Ree}}}function ed(t){return t.map(e=>ma[e].defaultDerivationPathType)}var W6t={bip44Root:"bip44RootEthereum",bip44Change:"bip44Ethereum",bip44:"bip44EthereumSecondary",deprecated:"bip44EthereumTertiary",bip44RootEthereum:null,bip44Ethereum:null,bip44EthereumSecondary:null,bip44EthereumTertiary:null,bitcoinTaproot:null,bitcoinNativeSegwit:null,bitcoinNestedSegwit:null,bitcoinLegacy:null,bip44Sui:null},gp={bip44Root:-1,bip44RootEthereum:-1,bitcoinTaproot:0,bitcoinNativeSegwit:0,bitcoinNestedSegwit:0,bitcoinLegacy:0,bip44Change:0,bip44Ethereum:0,bip44:1,bip44EthereumSecondary:1,deprecated:2,bip44EthereumTertiary:2,bip44Sui:0},G6t="https://help.phantom.com/hc/en-us/articles/4406563212819";var $6t="https://help.phantom.com/hc/en-us/articles/21872962238355";d();h();var a5=(t,e=5)=>{let r=t.length,n=t.startsWith("0x")?e+2:e;return`${t.substring(0,n)}...${t.substring(r-e,r)}`};d();h();d();h();var Y6t=t=>t.includes(".")||t.includes("@")?!1:qp.safeParse(t).success||Fp.safeParse(t).success||qy.safeParse(t).success||Kp.safeParse(t).success,Bee=(t,e=5)=>Y6t(t)?a5(t,e):t;var Z6t=(t,e,r,n=4)=>{let i=e?e.name:r,o=Bee(t,n);return i?`${i} (${o})`:o};d();h();var Q6t=t=>`${t.substring(0,5)}...`;d();h();var mA=Ke(Er()),sMe=(0,mA.createContext)(null);function J6t({children:t,authRepository:e}){return mA.default.createElement(sMe.Provider,{value:e},t)}function Gf(){let t=(0,mA.useContext)(sMe);if(!t)throw new Error("useAuthRepository must be used within an AuthProvider");return t}function bp(){return Gf().useUser()}d();h();d();h();var Cee=Ke(Fn());d();h();var c5="https://phantom.app",u5="https://api.phantom.app/oauth2/auth",VN={prod:"a61bc25e-0c4f-4ab3-aa54-b50ec746eea2",staging:"fe26708b-7db7-4146-9fbb-9a9736acfb2b"},HN={prod:"https://auth.phantom.app",staging:"https://staging-auth.phantom.app"},aMe="/login/start",cMe="/oauth2/token";var uMe=Hp({minutes:60})-Hp({minutes:15}),Mv="/v1/authentication-keys";d();h();var X6t="https://time.phantom.app/utc",e_t=O.number().int().positive();async function kv(){let t;try{let e=await Rn.get(X6t);if(e.status!==200)throw new Error("Failed to fetch time from server");t=e_t.parse(e.data)}catch{t=Date.now()}return Math.floor(t/1e3)}var t_t=60,r_t=()=>Math.floor(Date.now()/1e3);async function Pv(t=!0){let e={alg:"ES256",type:"JWT"},r=t?await kv():r_t(),n={iss:c5,aud:u5,nbf:r,exp:r+t_t,iat:r};return{header:e,payload:n}}function Rv(t){let e=ri(Cee.Buffer.from(JSON.stringify(t.header))),r=ri(Cee.Buffer.from(JSON.stringify(t.payload)));return[e,r,t.signature].join(".")}d();h();var fMe=O.object({alg:O.string(),type:O.string(),kid:O.string()}),lMe=O.object({sub:O.string(),iss:O.string(),aud:O.string(),nbf:O.number(),exp:O.number(),iat:O.number()}),Oee=O.object({header:fMe,payload:lMe,signature:O.string()}),dMe=O.object({alg:O.string(),type:O.string()}),hMe=O.object({iss:O.string(),aud:O.string(),nbf:O.number(),exp:O.number(),iat:O.number()}),Nee=O.object({header:dMe,payload:hMe}),Dee=O.object({id_token:O.string(),access_token:O.string(),refresh_token:O.string(),scope:O.string(),token_type:O.string(),expires_in:O.number().gte(0)}),n_t=O.object({redirectTo:O.string()}),pMe=O.object({at_hash:O.string(),aud:O.array(O.string()),auth_time:O.number(),exp:O.number(),iat:O.number(),iss:O.string(),jti:O.string(),rat:O.number(),sid:O.string(),sub:O.string(),email:O.string().optional()}),jN=O.object({authenticationKeys:O.array(O.object({createdAt:O.string().datetime().nullish().default(null),updatedAt:O.string().datetime().nullish().default(null),id:O.string().uuid(),publicKey:O.string(),userId:O.string().uuid()})).optional()});d();h();var Bv=Ke(Qee());d();h();d();h();d();h();d();h();function Jee(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function J_t(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function CMe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function X_t(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jee(t.outputLen),Jee(t.blockLen)}function e4t(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function t4t(t,e){CMe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var r4t={number:Jee,bool:J_t,bytes:CMe,hash:X_t,exists:e4t,output:t4t},nD=r4t;d();h();d();h();var n4t={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var oD=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),td=(t,e)=>t<<32-e|t>>>e,i4t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!i4t)throw new Error("Non little-endian hardware is not supported");var tsn=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function o4t(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Xee(t){if(typeof t=="string"&&(t=o4t(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var iD=class{clone(){return this._cloneInto()}};function ete(t){let e=n=>t().update(Xee(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function s4t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var sD=class extends iD{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=oD(this.buffer)}update(e){nD.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Xee(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=oD(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nD.exists(this),nD.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;s4t(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=oD(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var a4t=(t,e,r)=>t&e^~t&r,c4t=(t,e,r)=>t&e^t&r^e&r,u4t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ag=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eg=new Uint32Array(64),aD=class extends sD{constructor(){super(64,32,8,!1),this.A=Ag[0]|0,this.B=Ag[1]|0,this.C=Ag[2]|0,this.D=Ag[3]|0,this.E=Ag[4]|0,this.F=Ag[5]|0,this.G=Ag[6]|0,this.H=Ag[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)Eg[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=Eg[b-15],I=Eg[b-2],M=td(E,7)^td(E,18)^E>>>3,k=td(I,17)^td(I,19)^I>>>10;Eg[b]=k+Eg[b-7]+M+Eg[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=td(c,6)^td(c,11)^td(c,25),I=w+E+a4t(c,l,m)+u4t[b]+Eg[b]|0,k=(td(n,2)^td(n,13)^td(n,22))+c4t(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){Eg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},tte=class extends aD{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},OMe=ete(()=>new aD),dsn=ete(()=>new tte);var vA=Ke(Qee()),NMe=Ke(ls()),rte={generateRandom:t=>{let e=(0,NMe.randomBytes)(t);return(0,vA.bufferToString)(e)},async deriveChallenge(t){let e=OMe((0,vA.textEncodeLite)(t));return(0,vA.urlSafe)(e)}};d();h();var Yf=()=>{let t=yb();return t==="https://staging-api.phantom.app"?HN.staging:t==="https://api.phantom.app"?HN.prod:T.BASE_AUTH_ENDPOINT||HN.staging},nte=()=>`${Yf()}${aMe}`,cD=()=>`${Yf()}${cMe}`;var DMe=new Bv.BasicQueryStringUtils;async function l5(t,e){let{url:r,codeVerifier:n}=await UMe(t.getClientID(),t.redirectURL,e),i=e.type==="email",o=await t.fetchAuthorizationCode(t.redirectURL,r,i);return await ite({grantType:"authorization_code",clientID:t.getClientID(),redirectURI:t.redirectURL,tokenEndpoint:cD(),code:o,codeVerifier:n})}async function UMe(t,e,r){let n=nte(),i,o=["openid","offline_access","user","incognito","seedless"],s;switch(r.type){case"key":{i={type:"key",jwt:Rv(r.clientJWT)};break}case"email":{i={type:"email",provider:r.provider,existingAccessToken:r.existingAccessToken},s=r.prompt,o.push("email");break}case"session":{i={type:"session",existingAccessToken:r.existingAccessToken};break}}let l=await new Bv.AuthorizationRequest({client_id:t,redirect_uri:e,scope:o.join(" "),response_type:"code"},rte).toJson(),m;switch(i.type){case"key":m=`jwt:${ri(Buffer.from(i.jwt,"utf8"))}`;break;case"email":m=`sso:${i.provider}`,i.existingAccessToken&&(m=`${m}:${i.existingAccessToken}`);break;case"session":m=`session:${i.existingAccessToken}`;break}let w={redirect_uri:l.redirect_uri,client_id:l.client_id,response_type:l.response_type,state:l.state??"",scope:l.scope,login_hint:m};s&&(w.prompt=s);let b=l.extras?.code_challenge,E=l.extras?.code_challenge_method,I=l.internal?.code_verifier;if(b&&E&&(w.code_challenge=b,w.code_challenge_method=E),!b||!E||!I)throw new Error("Missing code challenge or code verifier for PKCE.");let M=DMe.stringify(w);return{url:`${n}?${M}`,codeVerifier:I}}async function ite(t){let{grantType:e,tokenEndpoint:r,clientID:n,redirectURI:i}=t,o;e==="authorization_code"?o=new Bv.TokenRequest({client_id:n,redirect_uri:i,grant_type:e,code:t.code,extras:{code_verifier:t.codeVerifier}}):o=new Bv.TokenRequest({client_id:n,redirect_uri:i,grant_type:e,refresh_token:t.refreshToken});let s=await Rn.headers({"Content-Type":"application/x-www-form-urlencoded"},{mergeHeaders:!1}).auth(Vp()).post(r,DMe.stringify(o.toStringMap()));f4t(s,e);let c=Dee.safeParse(s.data);if(!c.success)throw new Error("Invalid OAuth2Token response.");let{data:l}=c,m=await kv();return{idToken:l.id_token,accessToken:l.access_token,refreshToken:l.refresh_token,scope:l.scope,tokenType:l.token_type,expiresAt:(m+l.expires_in)*1e3}}async function uD(t,e){return await ite({clientID:t.getClientID(),redirectURI:t.redirectURL,grantType:"refresh_token",tokenEndpoint:cD(),refreshToken:e})}function f4t(t,e){if([401,400].includes(t.status)){let r="";if(t.status===401)switch(r="Token Request Unauthorized (401): ",e){case"authorization_code":r+="Authorization code is expired or invalid.";break;case"refresh_token":r+="Refresh token is expired or invalid.";break;default:r+=`Unknown grant type [${e}]. `}if(t.status===400)switch(r="Bad Token Request (400): ",e){case"authorization_code":r="for [authorization_code]. Possible causes: 1. The authorization code is expired or invalid. 2. Redirect URI mismatch. 3. Code verifier mismatch (if using PKCE).";break;case"refresh_token":r="for [refresh_token]. Possible causes: 1. The refresh token is expired, invalid, or revoked. 2. Client ID mismatch. 3. Missing or malformed refresh token in the request.";break;default:r=`for unknown grant type [${e}]. Check the payload and OAuth provider documentation.`}throw new Error(r)}}d();h();d();h();d();h();var d5=class{subscribers={};subscribe(e,r){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(r),()=>{this.subscribers[e].splice(this.subscribers[e].indexOf(r),1)}}emitEvent(e,...r){(this.subscribers[e]??[]).forEach(i=>i(...r))}};var fD=class extends d5{emit(e){e&&(this.emitEvent("user",e),this.emitEvent("userID",e.userID),this.emitEvent("accessToken",e.accessToken),e.email&&this.emitEvent("email",e.email))}emitLoggedOut(){this.emitEvent("loggedOut")}};d();h();d();h();function xp(t,e="expected value not found"){if(t==null)throw new Error(e);return t}function LMe(t,e="expected value not found"){if(!t)throw new Error(e)}var lD=async(t,e)=>{let r=Yf(),n=xp(t.signer,"Signer is required for key-based auth."),i=await n.getAuthenticationPublicKey(e),o=await Pv(t.isServerTimeEnabled()),s=await n.sign(o,e),c=await Rn.get(`${r}${Mv}`,{params:{token:Rv(s)}});if(!Xl(c))throw new Error("Failed to get authentication keys: response is not okay");let l=c.data;return(jN.parse(l).authenticationKeys??[]).some(b=>b.publicKey===i)};d();h();d();h();var FMe=async t=>{try{let e=await Rn.headers({"Content-Type":"application/x-www-form-urlencoded"},{mergeHeaders:!1}).bearer(t).get(`${Yf()}/userinfo`);return Xl(e)}catch{return!1}};d();h();var ote=".phantom.auth",wp=`${ote}.tokens`,qMe=`${ote}.authentication-factors`,d4t=`${ote}.email-provider`;d();h();var Cv=t=>{let e=t.idToken.split(".");if(e.length!==3)throw new Error("Malformed ID token. Expected 3 period-delimited parts to ID token.");let r;try{let n=h_(e[1]).toString("utf-8"),i=JSON.parse(n);r=pMe.parse(i)}catch{throw new Error("Unable to parse ID token payload.")}return{accessToken:t.accessToken,userID:r.sub,email:r.email}};d();h();var KMe="@phantom/auth",ku={user:["auth",`${KMe}:user`],authFactors:["auth",`${KMe}:user-auth-factors`]};d();h();var dD=async(t,e,r)=>{let{storage:n,authConfig:i}=t,o,{type:s}=r;switch(s){case"key":{let l=xp(t.signer,"Signer is required for key-based auth."),m=await Pv(t.isServerTimeEnabled()),w=await l.sign(m,r.secretIdentifier);o=await l5(i,{type:s,clientJWT:w});break}case"email":{o=await l5(i,{type:s,prompt:r.prompt,provider:r.provider});break}case"session":{o=await l5(i,{type:s,existingAccessToken:r.accessToken});break}}Qe.addBreadcrumb("Auth","\u2705 Login succeeded!","debug"),await n.set(wp,o);let c=Cv(o);return await t.queryClient.setQueryData(ku.user,c),e.emit(c),c};var VMe={queryKey:ku.user,gcTime:uMe,staleTime:Hp({minutes:5})},xA=async(t,e)=>await t.queryClient.fetchQuery({...VMe,queryFn:()=>jMe(t,e)}),HMe=(t,e)=>Kr({...VMe,queryFn:async()=>{let r=await jMe(t,e);if(!r)throw new Error("Unable to log in.");return r},retryOnMount:!1}),jMe=async(t,e)=>{let r=async()=>{let n=await h4t(t);return n||(t.signer?await p4t(t,e):null)};return t.runExclusive(async()=>{let n=await r();return e.emit(n),n})};async function h4t({storage:t,authConfig:e,isLocalTokenValidityCheckEnabled:r}){let n=await t.get(wp);if(!n)return null;let i=r(),o=!1;if(i){let s=await kv()+10,c=Math.floor(n.expiresAt/1e3);o=s<c}else o=await FMe(n.accessToken);if(o)return Qe.addBreadcrumb(`\u267B\uFE0F Access token still valid => Expires at ${n.expiresAt}`,"Auth","debug"),Cv(n);if(n.refreshToken)try{let s=await uD(e,n.refreshToken);return Qe.addBreadcrumb(`\u2705 Refreshed auth token => Expires at ${s.expiresAt}`,"Auth","debug"),await t.set(wp,s),Cv(s)}catch(s){return Qe.addBreadcrumb("Error refreshing auth token.","Auth","error"),Qe.captureError(s,"Auth"),null}return null}async function p4t(t,e){let n=await xp(t.signer,"Unable to log in with key-based auth. Signer is not available.").getAllSecretIdentifiers();if(n.length===0)return Qe.addBreadcrumb("Auth","Unable to log in with key-based auth. Vault is not yet onboarded or has no secrets that can perform key-based auth.","info"),null;let i;try{for(let o of n)if(await lD(t,o)){i=o;break}}catch(o){throw Qe.addBreadcrumb("Auth","Unable to log in with key-based auth. Error checking auth factors.","error"),o}i||(i=n[0],Qe.addBreadcrumb("Auth","No auth factor found, creating new user with first secret identifier.","debug"));try{return await dD(t,e,{type:"key",secretIdentifier:i})}catch(o){throw Qe.addBreadcrumb("Auth","Unable to log in with key-based auth. Error performing auth.","error"),o}}d();h();var ste=async t=>{await t.removeQueries({queryKey:ku.user})},ate=async t=>{await t.resetQueries({queryKey:ku.user})},Ov=async t=>{await t.invalidateQueries({queryKey:ku.user})},Sp=async t=>{await t.invalidateQueries({queryKey:ku.authFactors})};var m4t=t=>{let e=new fD,r={getUser:()=>xA(t,e),useUser:()=>HMe(t,e),refreshTokens:()=>y4t(t),logIn:n=>dD(t,e,n),isExistingAuthFactor:n=>lD(t,n),getAuthenticationKeys:()=>g4t(t,e),getLocalAuthenticationPublicKeys:()=>v4t(t),addAuthFactor:n=>x4t(t,e,n),deleteAuthFactor:n=>w4t(t,e,n),deleteAllAuthFactors:()=>S4t(t,e),subscribe:(n,i)=>e.subscribe(n,i),logOut:()=>A4t(t,e)};return mee(async(n=!1)=>(n&&await Ov(t.queryClient),(await r.getUser())?.accessToken??null)),r},y4t=async t=>{let e=await t.storage.get(wp);if(!e)return!1;let r=await uD(t.authConfig,e.refreshToken);return await t.storage.set(wp,r),await t.queryClient.setQueryData(ku.user,Cv(r)),!0},g4t=async(t,e)=>({authenticationPublicKeys:(await b4t(t,e)).map(n=>n.publicKey)}),b4t=async(t,e)=>{let r=Yf(),n=await xA(t,e);if(!n)throw new Error("User not authenticated.");let{data:i}=await Rn.bearer(n.accessToken).get(`${r}${Mv}`),o=jN.safeParse(i);if(!o.success)throw new Error("Unable to parse auth factors response.");return o.data.authenticationKeys??[]},v4t=async t=>{try{let e=xp(t.signer,"Signer is required for key-based auth."),r=await e.getAllSecretIdentifiers(),n={};for(let i of r)n[i]=await e.getAuthenticationPublicKey(i);return n}catch{return{}}},x4t=async(t,e,{secretIdentifier:r})=>{let n=Yf(),i=xp(t.signer,"Signer is required for key-based auth."),o=await xA(t,e);if(!o)throw new Error("User not authenticated.");Qe.addBreadcrumb("Auth",`Adding auth factor: ${r}`,"info");let s=await Pv(t.isServerTimeEnabled()),c=await i.sign(s,r);await Rn.bearer(o.accessToken).post(`${n}${Mv}`,{jwt:Rv(c)})},w4t=async(t,e,{authenticationPublicKey:r})=>{let n=Yf(),i=await xA(t,e);if(!i)throw new Error("User not authenticated.");Qe.addBreadcrumb("Auth",`Deleting auth factor: ${r}`,"info"),await Rn.bearer(i.accessToken).delete(`${n}${Mv}/${encodeURIComponent(r)}`)},S4t=async(t,e)=>{let r=Yf(),n=t.storage,i=await xA(t,e);if(!i)throw new Error("User not authenticated.");Qe.addBreadcrumb("Auth","Deleting all auth factors","info"),await Rn.bearer(i.accessToken).delete(`${r}${Mv}`),await n.remove(qMe)},A4t=async({storage:t},e)=>{await t.remove(wp),e.emitLoggedOut()};d();h();var E4t=(t,e)=>{let r=new URL(e);if(!r.toString().startsWith(t))throw new Error("Unexpected redirectURL. RedirectURL from auth flow must match local redirect URL.");let n=r.searchParams.get("code");if(!n)throw new Error("No authorization code");return n};d();h();var _4t=(t,e)=>{let r=new URL(e);if(!r.toString().startsWith(t))throw new Error("Unexpected redirectURL. RedirectURL from auth flow must match local redirect URL.");let n=r.searchParams.get("error"),i=r.searchParams.get("error_description");if(n)throw new Error(`${n}: ${i}`,{cause:n});return!1};d();h();var T4t=()=>yb()==="https://api.phantom.app"?VN.prod:VN.staging;d();h();var I4t=()=>{let t=Gf(),{data:e}=bp(),r=ku.authFactors;return Kr({queryKey:r,queryFn:async()=>{let i=await t.getLocalAuthenticationPublicKeys();if(Object.keys(i).length===0)return{};let o=[];try{if(e){let{authenticationPublicKeys:c=[]}=await t.getAuthenticationKeys();o=c}}catch(c){e&&c instanceof Error&&Qe.addBreadcrumb("Auth",`Unable to fetch existing AuthFactors for user (${e?.userID}): ${c.message}`,"error")}let s={};for(let[c,l]of Object.entries(i)){let m=o.includes(l);!m&&await t.isExistingAuthFactor(c)||(s[c]={authenticationPublicKey:l,isExistingAuthFactor:m})}return e&&Object.keys(s).length===0&&Qe.addBreadcrumb("Auth",`Unable to build AuthFactors map: 
- user: ${e?.userID}
- locally available auth factors: ${Object.keys(i).length}
- auth factors registered with user: ${o.length}`,"error"),s},retryOnMount:!1})};d();h();d();h();var h5=()=>{let{data:t}=bp();return!!t};function M4t(t,e){let r=h5(),n;return t.enabled===void 0?n=r:typeof t.enabled=="function"?n=i=>(LMe(typeof t.enabled=="function","expected enabled to be a function"),r&&t.enabled(i)):typeof t.enabled=="boolean"?n=r&&t.enabled:Ct(t.enabled),Kr({...t,enabled:n},e)}d();h();var k4t=()=>{let t=Ut(),e=Gf(),r=async({secretIdentifier:n})=>{await e.addAuthFactor({secretIdentifier:n}),await Sp(t)};return Ht({mutationFn:async n=>{try{return await r(n)}catch(i){Qe.addBreadcrumb("Auth",`Could not add auth factor: ${n.secretIdentifier}`,"error");let o;throw i instanceof Error?o=i:o=new Error(`Could not add auth factor: ${n.secretIdentifier}`),Qe.captureError(o,"Auth"),o}}})};d();h();var P4t=()=>{let t=Ut(),e=Gf(),r=async({authenticationPublicKey:n})=>{await e.deleteAuthFactor({authenticationPublicKey:n}),await Sp(t)};return Ht({mutationFn:async n=>{try{return await r(n)}catch(i){Qe.addBreadcrumb("Auth","Could not remove auth factor!","error");let o;throw i instanceof Error?o=i:o=new Error("Could not remove auth factor!"),Qe.captureError(o,"Auth"),o}}})};d();h();var R4t=()=>{let{data:t}=bp();return t?.accessToken};d();h();d();h();d();h();var wA=Ke(Er()),zMe=(0,wA.createContext)(null);function B4t({children:t,accountAnalytics:e}){return wA.default.createElement(zMe.Provider,{value:e},t)}function cte(){let t=(0,wA.useContext)(zMe);if(!t)throw new Error("useAccountAnalytics must be used within an AccountAnalyticsProvider");return t}d();h();d();h();var SA=Ke(Er()),WMe=(0,SA.createContext)(null);function GMe({children:t,vault:e}){return SA.default.createElement(WMe.Provider,{value:e},t)}function Jn(){let t=(0,SA.useContext)(WMe);if(!t)throw new Error("useVaultProxy must be used within a VaultProxyProvider");return t}d();h();d();h();d();h();var hD=(t,e)=>{try{let r=Vy(t,e);switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return ma.getDisplayName(r);default:return}}catch(r){Qe.addBreadcrumb("account","Failed to get address badge","error",{...r instanceof Error&&{error:r.message},networkId:t,address:e});return}};var $Me={badge:(t,e,r)=>e.filter(h4).length<=1?"":hD(t,r)??"",showAddressTypeExplainer:t=>t.filter(h4).length>1,addressTooltipNetworkName:(t,e,r)=>r.filter(h4).length>=2?hD(t,e)??je.getChainName(t):je.getChainName(t)};d();h();var YMe={badge:(t,e)=>{switch(t){case"eip155:41454":case"eip155:10143":return je.getNetworkDefinition(t).shortName;case"eip155:143":return}},networkNameOverride:()=>"Monad"};var C4t=new o5({solana:{},ethereum:{},polygon:{},base:{},arbitrum:{},monad:YMe,bitcoin:$Me,sui:{},hypercore:{}}),p5=See(C4t);d();h();var xfn=O.string().regex(/^(root-derivation-path-group|(recommended|secondary|tertiary)-group:index-[0-9]+)$/,{message:"Invalid derivation path group."});d();h();d();h();var O4t=O.object({derivationIndex:O.number(),addresses:O.array(O.object({pathType:O.union([Yj,Zj]),value:O.string()})),publicKeys:O.array(O.object({pathType:$j,value:O.string()}))}),kh=class extends Error{message="No account exists in storage for identifier"},Nv=class extends Error{message="No account exists in storage for identifier"},_g=class extends Error{message="Address type not found or incompatible with account"},m5=class extends Error{message="Hardware wallet account does not have known secr*ts"},y5=class extends Error{message="Read only account does not have known secr*ts"},g5=class extends Error{message="Invalid configuration for read only account"},Dv=class extends Error{message="Seed already exists in storage"},Ap=class extends Error{message="No seed exists in storage for identifier"},b5=class extends Error{message="The derivation index is missing or invalid"},v5=class extends Error{message="Private key already exists in storage"},Uv=class extends Error{message="No private key exists in storage for identifier"};var Ph=class extends Error{message;constructor(e,r){super(),this.message=`Account of type ${e} found in Vault, while trying to add ${r} account`}},pD=class extends Error{message="Vault already stores a seedless account"},N4t=O.union([O.literal("unonboarded"),O.literal("unable-to-load-accounts")]),D4t=O.union([O.literal("invalid-identifier"),O.literal("fetch-integrity-storage-error"),O.literal("fetch-entropy-storage-error"),O.literal("fetch-pk-storage-error"),O.literal("invalid-entropy"),O.literal("invalid-entropy-bip-39"),O.literal("invalid-checksum-bits"),O.literal("invalid-entropy-bits"),O.literal("invalid-checksum"),O.literal("invalid-entropy-length-less-than-twelve"),O.literal("invalid-entropy-length-more-than-twenty-four"),O.literal("invalid-entropy-length-wrong-word"),O.literal("invalid-pk-address-type"),O.literal("invalid-pk-identifier"),O.literal("invalid-pk"),O.literal("internal-error")]),U4t=O.literal("safely-onboarded"),L4t=O.union([O.object({status:N4t,isOnboarded:O.literal(!1),reonboardingNeeded:O.literal(!1)}),O.object({status:D4t,isOnboarded:O.literal(!0),reonboardingNeeded:O.literal(!0)}),O.object({status:U4t,isOnboarded:O.literal(!0),reonboardingNeeded:O.literal(!1)})]);var F4t=(t,e,r,n)=>{let i=[];for(let o of e){let s=je.getChainID(o);if(n.includes(s))for(let c of je[s].addressTypes){if(!r.includes(c))continue;let l=t.chains[c];if(l)switch(l.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:c,address:l.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:c,publicKey:l.publicKey,address:l.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:c,publicKey:l.publicKey,address:l.address});break}default:Ct(l)}}}return i},q4t=(t,e,r,n)=>{let i=[];for(let o of e){let s=je.getChainID(o);if(n.includes(s))for(let c of je[s].addressTypes){if(!r.includes(c))continue;let l=t.chains[c];if(l)switch(l.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:c,address:l.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:c,publicKey:l.publicKey,address:l.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:c,publicKey:l.publicKey,address:l.address});break}default:Ct(l)}}}return i},K4t=(t,e,r,n)=>{let i=[];for(let o of e){let s=je.getChainID(o);if(n.includes(s))for(let c of je[s].addressTypes)r.includes(c)&&t.chainType===c&&i.push({networkID:o,addressType:c,address:t.address})}return i},V4t=(t,e,r,n)=>{let i=[];for(let o of e){let s=je.getChainID(o);if(n.includes(s)){for(let c of je[s].addressTypes)if(r.includes(c)&&t.chainType===c)switch(t.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:c,address:t.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:c,publicKey:t.publicKey,address:t.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:c,publicKey:t.publicKey,address:t.address});break}default:Ct(t)}}}return i},H4t=(t,e,r,n)=>{let i=[];for(let o of e){let s=je.getChainID(o);if(n.includes(s)){for(let c of je[s].addressTypes)if(r.includes(c))for(let[l,m]of Object.entries(t.addresses))l===c&&i.push({networkID:o,addressType:c,address:m})}}return i},x5=(t,e,r,n,i,o)=>{let s;switch(o?s=Object.values(i.setting):s=e,s=s.sort((c,l)=>je.compareNetworkID(c,l)),t.type){case"seedless":case"seed":return F4t(t,s,r,n);case"ledger":return q4t(t,s,r,n);case"seedVault":return K4t(t,s,r,n);case"privateKey":return V4t(t,s,r,n);case"readOnly":return H4t(t,s,r,n)}};d();h();var j4t=({index:t,offsetIndex:e})=>({name:jp.t("onboardingImportAccountsAccountName",{walletIndex:e+t+1})});d();h();d();h();var AA="Trying to find a selected account, but there no accounts in the vault.",w5="Missing ChainAvailability.",ZMe=(t,e)=>`No account found! Num accounts: ${t} | Identifier used: ${e}`,ute=new Error("The current account group has no valid bitcoin address"),fte=new Error("The current account group has no valid EIP-155 address"),lte=new Error("The current account group has no valid solana address"),dte=new Error("The current account group has no valid sui address"),QMe=new Error("The current account group has no valid address or the the chain type was unsupported"),qfn=new Error("[Legacy Mn*monic Fetch] no legacy mn*monic in storage"),Kfn=new Error("[Legacy Mn*monic Fetch] internal error fetching legacy mn*monic");d();h();var z4t=[".phantom-labs.account.accountMetadata","developerMode","networkSetting",".phantom-labs.account.selectedAccount","termsHaveBeenAcknowledgedLastSeenVersion"];var zfn=new Error("Failed to clear selected account index");async function hte(t){try{let e=await t.get(".phantom-labs.account.selectedAccount");return e?.version===2?e.identifier:null}catch{throw W4t}}var W4t=new Error("Failed to get selected account identifier");async function Pu(t,e){try{let r={version:2,identifier:e};return await t.set(".phantom-labs.account.selectedAccount",r)}catch{throw G4t}}var G4t=new Error("Failed to set selected account identifier");var Ep=async(t,e)=>{if(t.length===0)throw new Error(AA);let r=await hte(e),n=t.find(i=>i.identifier===r);return n||(await Pu(e,t[0].identifier),t[0])};d();h();var pte=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Change":case"bip44Ethereum":return!0;case"bip44":case"deprecated":case"bip44Root":case"bip44RootEthereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1}};d();h();var $4t=({pathType:t,index:e})=>{switch(t){case"bip44RootEthereum":case"bip44Root":return"root-derivation-path-group";case"bip44Change":case"bip44Ethereum":case"bip44Sui":case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return`recommended-group:index-${e}`;case"bip44EthereumSecondary":case"bip44":return`secondary-group:index-${e}`;case"bip44EthereumTertiary":case"deprecated":return`tertiary-group:index-${e}`}};d();h();d();h();var Y4t=t=>t==null?!1:["ledger","seedVault"].includes(t);d();h();function JMe(t,e){let n=(t?.addresses??[]).find(({addressType:i})=>i===e);if(!t?.addresses||!n)switch(e){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":throw ute;case"eip155":throw fte;case"solana":throw lte;case"sui":throw dte;default:throw QMe}return n}function Z4t(t,e){return JMe(t,e)?.address}d();h();var Q4t=t=>{let e=t.toString();return a5(e)};d();h();function J4t(t){let e=t.endsWith(".sol"),r=t==="@",n=t.startsWith("@")&&t.length>1;return[e,r,n]}d();h();function X4t(t){return[t.endsWith(".eth")]}d();h();var e8t=async(t,e,r)=>{let i=(await t.fetchAllAccounts()).find(s=>{switch(s.type){case"seed":case"seedless":return s.seedIdentifier===r;case"privateKey":return s.privateKeyIdentifier===r;case"ledger":case"seedVault":case"readOnly":return!1;default:Ct(s)}});if(!i)throw new Error("Unable to find account to sign client JWT with.");let o=await t.sign(i.identifier,{isJWT:!0,data:e});if(o.status==="error")throw new Error("Error signing over clientJWT.");if(!("signedJWT"in o)||!o.signedJWT)throw new Error("No JWT from vault signing.");return o.signedJWT};d();h();var XMe=async t=>[...(await t.fetchAllAccounts()).reduce((i,o)=>{switch(o.type){case"seed":case"seedless":{i.add(o.seedIdentifier);break}case"privateKey":{i.add(o.privateKeyIdentifier);break}case"ledger":case"seedVault":case"readOnly":break;default:Ct(o);break}return i},new Set)];d();h();var t8t=(t,e)=>t.filter(r=>{switch(r.type){case"seed":case"seedless":return r.seedIdentifier===e;case"privateKey":return r.privateKeyIdentifier===e;case"ledger":case"seedVault":case"readOnly":return!1;default:Ct(r);return}});d();h();function r8t(t){return p5.get(t).networkNameOverride?.(t)??je.getNetworkName(t,!0)}d();h();function n8t(){return{version:1,setting:{solana:hA,eip155:pA,sui:Ree}}}d();h();var i8t="cash",o8t="cash",s8t={pathType:"bip44Change",index:0};async function mte(t){let{result:{organizationId:e}}=await t.getOrCreatePhantomOrganization(),{result:{walletId:r,walletName:n,accounts:i}}=await t.getOrCreateWalletWithTag({organizationId:e,walletName:i8t,tag:o8t,mnemonicLength:24,accounts:[{derivationPath:f_(s8t),curve:"Ed25519",addressFormat:"Solana"}]});if(i.length===0)throw new Error("No Cash account found");return{organizationId:e,walletId:r,walletName:n,account:i[0]}}d();h();d();h();function EA(t,e){return typeof t=="string"?t===e:t.length===e.length&&t.every((r,n)=>r===e[n])}d();h();var S5=Ke(jke());function wTt(t){return t=(0,S5.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{switch(e.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{Lv(e.publicKey)&&(e.publicKey=new Uint8Array(Buffer.from(e.publicKey)));break}default:Ct(e)}break}case"readOnly":break;case"ledger":case"seedless":case"seed":for(let r of Object.keys(e.chains)){let n=e.chains[r];if(n)switch(n.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{Lv(n.publicKey)&&(n.publicKey=new Uint8Array(Buffer.from(n.publicKey)));break}default:Ct(n)}}break;case"seedVault":break;default:Ct(e)}}),t}function STt(t){return t=(0,S5.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{switch(e.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{e.publicKey instanceof Uint8Array&&(e.publicKey=Buffer.from(e.publicKey).toJSON());break}default:Ct(e)}break}case"readOnly":break;case"ledger":case"seedless":case"seed":for(let r of Object.keys(e.chains)){let n=e.chains[r];if(n)switch(n.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{n.publicKey instanceof Uint8Array&&(e.chains[r].publicKey=Buffer.from(n.publicKey).toJSON());break}default:Ct(n)}}break;case"seedVault":break;default:Ct(e)}}),t}function zke(t){return t=(0,S5.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{e.version===1&&Lv(e.publicKey)&&(e.publicKey=new Uint8Array(Buffer.from(e.publicKey)));break}case"readOnly":break;case"ledger":case"seed":case"seedless":for(let r of Object.keys(e.chains))if(e.version===1&&Lv(e.chains[r]?.publicKey)){let n=e.chains[r];n&&(n.publicKey=new Uint8Array(Buffer.from(n.publicKey)))}break;case"seedVault":break;default:Ct(e)}}),t}function Wke(t){return t=(0,S5.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{e.version===1&&e.publicKey instanceof Uint8Array&&(e.publicKey=Buffer.from(e.publicKey).toJSON());break}case"readOnly":break;case"ledger":case"seed":case"seedless":for(let r of Object.keys(e.chains))e.version===1&&e.chains[r]?.publicKey instanceof Uint8Array&&(e.chains[r].publicKey=Buffer.from(e.chains[r]?.publicKey).toJSON());break;case"seedVault":break;default:Ct(e)}}),t}function Lv(t){return!!t&&typeof t=="object"&&LF("type",t)&&typeof t.type=="string"&&LF("data",t)&&Array.isArray(t.data)&&t.data.every(e=>!Number.isNaN(parseInt(e)))}d();h();var Ru=".phantom-labs.vault";var gD=`${Ru}.accounts`,_A=`${Ru}.secrets`,bD=t=>`${Ru}.privateKey.${t}`,vD=t=>`${Ru}.seed.${t}`,xD=t=>`${Ru}.seedless.${t}`,yD=`${Ru}.integrityCheck`;async function ni(t){return(await t7e(t))?.accounts??[]}async function Yke(t){let e=await rd(t),r=new Set(e.seedIdentifiers),n=await ni(t);for(let o of n)o.type==="seed"&&r.add(o.seedIdentifier);let i=[];for(let o of r)i.push({identifier:o});return i}async function wD(t){let e=await rd(t),r=new Set(e.seedlessIdentifiers),n=await ni(t);for(let o of n)o.type==="seedless"&&r.add(o.seedIdentifier);let i=[];for(let o of r)i.push({identifier:o});return i}async function rd(t){let e=await t.generalStorage.get(_A);return{privateKeyIdentifiers:e?.privateKeyIdentifiers??[],seedIdentifiers:e?.seedIdentifiers??[],seedlessIdentifiers:e?.seedlessIdentifiers??[]}}async function Zke(t,e){let r=vD(e),n=await t.secretsStorage.getSecureValue(r);if(n===null){let i=xD(e);n=await t.secretsStorage.getSecureValue(i)}if(n==null)throw new Ap;return Lv(n.entropy)?n.entropy=new Uint8Array(Buffer.from(n.entropy)):n.entropy=new Uint8Array(Object.values(n.entropy)),n}async function Tg(t,e){let r=bD(e),n=await t.secretsStorage.getSecureValue(r);if(n==null)throw new Uv;return Lv(n.privateKey)?n.privateKey=new Uint8Array(Buffer.from(n.privateKey)):n.privateKey=new Uint8Array(Object.values(n.privateKey)),n}async function Oa(t,e,r=!0){let n=await t7e(t);if(!n)n={version:1,accounts:[e]};else{let i=n.accounts,o=ETt(i,e);if(o.length>0){if(!r)throw new Ph(o[0].type,e.type);let s=$ke(e.type);for(let l of o)if($ke(l.type)>=s)throw new Ph(l.type,e.type);let c=o.map(l=>l.identifier);return i=i.filter(l=>!c.includes(l.identifier)),i.push(e),await _p(t,i),await gte(t)}else i.push(e);n.accounts=i}return _p(t,n.accounts)}async function _p(t,e){let r={version:1,accounts:e};return t.generalStorage.set(gD,Wke(r))}async function Qke(t,e){let r=bD(e.identifier);await t.secretsStorage.setSecureValue(r,e),await ITt(t,e.identifier)}async function Jke(t,e){let r=vD(e.identifier);await t.secretsStorage.setSecureValue(r,e),await _Tt(t,e.identifier)}async function Xke(t,e){let r=xD(e.identifier);await t.secretsStorage.setSecureValue(r,e),await TTt(t,e.identifier)}async function gte(t){let e=await ni(t),r=new Set,n=new Set;for(let c of e)switch(c.type){case"seed":case"seedless":r.add(c.seedIdentifier);break;case"privateKey":n.add(c.privateKeyIdentifier);break;case"ledger":case"readOnly":case"seedVault":break;default:Ct(c)}let i=await rd(t),o={seedIdentifiers:i.seedIdentifiers.filter(c=>r.has(c)),seedlessIdentifiers:i.seedlessIdentifiers.filter(c=>r.has(c)),privateKeyIdentifiers:i.privateKeyIdentifiers.filter(c=>n.has(c))},s={seedIdentifiers:i.seedIdentifiers.filter(c=>!r.has(c)),seedlessIdentifiers:i.seedlessIdentifiers.filter(c=>!r.has(c)),privateKeyIdentifiers:i.privateKeyIdentifiers.filter(c=>!n.has(c))};await t.generalStorage.set(_A,{version:1,...o}),await t.secretsStorage.removeSecureValue([...s.seedIdentifiers.map(c=>vD(c)),...s.seedlessIdentifiers.map(c=>xD(c)),...s.privateKeyIdentifiers.map(c=>bD(c))])}async function bte(t,e){e?await t.secretsStorage.setSecureValue(yD,e):await t.secretsStorage.removeSecureValue(yD)}async function vte(t){return t.secretsStorage.getSecureValue(yD)}async function e7e(t){await t.secureCache.clear(),await t.generalStorage.remove(gD);let e=await rd(t),r=e.privateKeyIdentifiers.map(o=>bD(o)),n=e.seedIdentifiers.map(o=>vD(o)),i=e.seedlessIdentifiers.map(o=>xD(o));await t.secretsStorage.removeSecureValue([...r,...i,...n]),await t.generalStorage.remove(_A),await t.secretsStorage.removeSecureValue(yD)}async function t7e(t){let e=await t.generalStorage.get(gD);return e?(e=zke(e),e=await ATt(t,e),e):null}async function ATt(t,e){let r=!1;return e.accounts.forEach(n=>{switch(n.type){case"privateKey":{r=Gke(n)||r;break}case"readOnly":break;case"ledger":case"seed":case"seedless":Object.values(n.chains).forEach(i=>{r=Gke(i)||r});break;case"seedVault":break;default:Ct(n)}}),r&&await _p(t,e.accounts),e}function Gke(t){let e=!1;switch(t.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{Object.values(Ao).forEach(r=>{if(t.addresses&&t.addresses[r])return;let n=ps({publicKey:t.publicKey,addressType:t.chainType,networkID:r});t.addresses={...t.addresses,[r]:n},e=!0});break}default:}return e}function ETt(t,e){let r=[],n=[];switch(e.type){case"seed":case"seedless":case"ledger":{Object.values(e.chains).forEach(o=>{switch(o.chainType){case"eip155":case"solana":{n.push(o.publicKey);break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{r.push(o.publicKey);break}case"sui":{n.push(o.address);break}default:Ct(o)}});break}case"readOnly":{Object.values(e.addresses).forEach(o=>{n.push(o)});break}case"privateKey":{switch(e.chainType){case"eip155":case"solana":{n.push(e.publicKey);break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{r.push(e.publicKey);break}case"sui":{n.push(e.address);break}default:Ct(e)}break}case"seedVault":{n.push(e.publicKey);break}default:(o=>{throw new Error("unknown account type")})(e)}let i=[];for(let o of t){let s;switch(o.type){case"seed":case"seedless":case"ledger":{s=Object.values(o.chains).some(c=>{switch(c.chainType){case"eip155":case"solana":return!!n.find(l=>EA(l,c.publicKey));case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":return!!r.find(l=>EA(l,c.publicKey));default:Ct(c)}});break}case"readOnly":{s=Object.values(o.addresses).some(c=>!!n.find(l=>EA(l,c)));break}case"privateKey":{s=!!n.find(c=>EA(c,o.publicKey));break}case"seedVault":{s=!!n.find(c=>EA(c,o.publicKey));break}default:(c=>{throw new Error("unknown account type")})(o)}s&&i.push(o)}return i}async function _Tt(t,e){let r=await rd(t);return r.seedIdentifiers=[...new Set([...r.seedIdentifiers,e])],t.generalStorage.set(_A,{version:1,...r})}async function TTt(t,e){let r=await rd(t);return r.seedlessIdentifiers=[...new Set([...r.seedlessIdentifiers,e])],t.generalStorage.set(_A,{version:1,...r})}async function ITt(t,e){let r=await rd(t);return r.privateKeyIdentifiers=[...new Set([...r.privateKeyIdentifiers,e])],t.generalStorage.set(_A,{version:1,...r})}function $ke(t){switch(t){case"readOnly":return 1;case"privateKey":return 2;case"seedless":case"seed":return 3;case"ledger":return 4;case"seedVault":return 5;default:return 0}}d();h();d();h();var oT=Ke(Fn()),Lh=Ke(ine());d();h();d();h();var E9t=O.array(O.object({address:O.string(),signingIndexes:O.array(O.number()),sigHash:O.number().optional(),isScriptSpend:O.boolean().optional()})),_9t=O.object({chainType:jd,signingType:O.literal("transaction"),message:O.string().min(1),inputsToSign:E9t.optional(),finalize:O.boolean()}),T9t=O.object({chainType:jd,signingType:O.literal("message"),message:O.instanceof(Uint8Array)}),I9t=_9t.or(T9t),M9t=O.object({chainType:O.literal("sui"),signingType:O.literal("transaction"),transaction:O.instanceof(Uint8Array)}),k9t=O.object({chainType:O.literal("sui"),signingType:O.literal("personalMessage"),message:O.instanceof(Uint8Array)}),P9t=M9t.or(k9t),R9t=O.object({chainType:O.literal("solana"),signingType:O.literal("transaction"),message:O.union([O.string().min(1),O.instanceof(Uint8Array)])}),B9t=O.object({chainType:O.literal("solana"),signingType:O.literal("message"),message:O.string().min(1)}),vCe=R9t.or(B9t),C9t=O.object({chainType:O.literal("eip155"),signingType:O.literal("transaction"),message:O.string().min(1)}),xCe=O.object({chainType:O.literal("eip155"),signingType:O.literal("message"),message:O.string().min(1)}),wCe=O.object({chainType:O.literal("eip155"),signingType:O.literal("typedData"),version:O.literal(1),data:pae}),SCe=O.object({chainType:O.literal("eip155"),signingType:O.literal("typedData"),version:O.literal(3),data:mae}),ACe=O.object({chainType:O.literal("eip155"),signingType:O.literal("typedData"),version:O.literal(4),data:yae}),O9t=C9t.or(xCe).or(wCe).or(SCe).or(ACe),N9t=O.object({isJWT:O.literal(!0),data:Nee}),D9t=O.object({isKMSP256OrganizationOwner:O.literal(!0),data:O.string()}),Qgn=O.object({organizationId:O.string(),walletId:O.string(),derivationPath:O.string()}),ECe=O.object({isCash:O.literal(!0),data:vCe}),U9t=ECe.extend({isCashKMS:O.literal(!0)}),L9t=xCe.extend({isAgentWallet:O.literal(!0)}),F9t=wCe.extend({isAgentWallet:O.literal(!0)}),q9t=SCe.extend({isAgentWallet:O.literal(!0)}),K9t=ACe.extend({isAgentWallet:O.literal(!0)}),V9t=O.union([L9t,F9t,q9t,K9t]),H9t=O.object({status:O.literal("success"),signature:O.string()}),_Ce=O.object({status:O.literal("success"),signature:O.string()}),j9t=O.object({status:O.literal("success"),signature:O.string(),message:O.instanceof(Uint8Array).optional()}),z9t=O.object({status:O.literal("success"),signature:O.string()}),W9t=O.object({status:O.literal("success"),signature:O.string(),signedJWT:Oee.optional()}),G9t=O.object({status:O.literal("success"),signature:O.string()}),$9t=_Ce;var one=vCe.or(O9t).or(I9t).or(P9t).or(N9t).or(D9t).or(V9t).or(ECe).or(U9t),$c=(k=>(k.InvalidInput="invalidInput",k.InvalidAccountId="invalidAccountId",k.InvalidAddressType="invalidAddressType",k.InvalidMessageEncoding="invalidMessageEncoding",k.InvalidDerivationPath="invalidDerivationPath",k.LedgerAppNotOpen="ledgerAppNotOpen",k.LedgerNotConnected="ledgerNotConnected",k.LedgerNeedPermission="ledgerNeedPermission",k.LedgerRejectAction="ledgerRejectAction",k.LedgerUnknownSignError="ledgerUnknownSignError",k.UnsupportedOperation="unsupportedOperation",k.InternalError="internalError",k.ExpiredTokenError="expiredToken",k.BeforeIATError="beforeTimeOfIssuance",k.InvalidClaimError="invalidClaim",k))($c||{}),Y9t=O.object({status:O.literal("error"),type:O.nativeEnum($c),message:O.string()}),Z9t=O.union([W9t,G9t,$9t,j9t,H9t,_Ce,z9t,Y9t]);var Q9t={invalidInput:{message:"Invalid input"},invalidAccountId:{message:"Invalid account identifier."},invalidAddressType:{message:"Invalid chain type."},invalidMessageEncoding:{message:"Invalid message encoding."},invalidDerivationPath:{message:"Invalid derivation path."},ledgerAppNotOpen:{message:"Ledger App not open."},ledgerNotConnected:{message:"Ledger not connected."},ledgerNeedPermission:{message:"Need permission to connect to Ledger."},ledgerRejectAction:{message:"Ledger user rejected action."},ledgerUnknownSignError:{message:"Ledger unknown sign error."},unsupportedOperation:{message:"Unsupported operation."},internalError:{message:"Internal error."},expiredToken:{message:"Token is expired"},beforeTimeOfIssuance:{message:"Received token before issuance time"},invalidClaim:{message:"Claim is invalid"}},Lr=(t,e)=>({status:"error",type:t,message:e??Q9t[t].message});var TCe=()=>({type:"keyPair",sign:(t,e)=>{try{switch(e.signingType){case"typedData":{switch(e.version){case 1:{let r=oT.Buffer.from(t.privateKey.slice()),n=Lh.SignTypedDataVersion.V1,{data:i}=e,o=(0,Lh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 3:{let r=oT.Buffer.from(t.privateKey.slice()),n=Lh.SignTypedDataVersion.V3,i=e.data,o=(0,Lh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 4:{let r=oT.Buffer.from(t.privateKey.slice()),n=Lh.SignTypedDataVersion.V4,i=e.data,o=(0,Lh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}}break}case"message":{let r=e.message,n=oT.Buffer.from(t.privateKey);try{let i=(0,Lh.personalSign)({privateKey:n,data:r});return Promise.resolve({status:"success",signature:i})}finally{n.fill(0)}}}}catch(r){return console.error(r),Promise.resolve(Lr("invalidMessageEncoding"))}}});d();h();var Yc=Ke(Fn());d();h();d();h();var sT={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var dE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),fd=(t,e)=>t<<32-e|t>>>e,J9t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!J9t)throw new Error("Non little-endian hardware is not supported");var pbn=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function X9t(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Dg(t){if(typeof t=="string"&&(t=X9t(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var lE=class{clone(){return this._cloneInto()}},eRt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function ICe(t,e){if(e!==void 0&&(typeof e!="object"||!eRt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function sne(t){let e=n=>t().update(Dg(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function aT(t=32){if(sT.web)return sT.web.getRandomValues(new Uint8Array(t));if(sT.node)return new Uint8Array(sT.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}d();h();d();h();d();h();var fne={};UF(fne,{bitGet:()=>aRt,bitLen:()=>sRt,bitMask:()=>cT,bitSet:()=>cRt,bytesToHex:()=>sx,bytesToNumberBE:()=>Ys,bytesToNumberLE:()=>RU,concatBytes:()=>Tp,createHmacDrbg:()=>une,ensureBytes:()=>zo,equalBytes:()=>iRt,hexToBytes:()=>ax,hexToNumber:()=>cne,numberToBytesBE:()=>ld,numberToBytesLE:()=>BU,numberToHexUnpadded:()=>PCe,numberToVarBytesBE:()=>nRt,utf8ToBytes:()=>oRt,validateObject:()=>Ug});d();h();var kCe=BigInt(0),kU=BigInt(1),tRt=BigInt(2),PU=t=>t instanceof Uint8Array,rRt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sx(t){if(!PU(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=rRt[t[r]];return e}function PCe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function cne(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ax(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function Ys(t){return cne(sx(t))}function RU(t){if(!PU(t))throw new Error("Uint8Array expected");return cne(sx(Uint8Array.from(t).reverse()))}function ld(t,e){return ax(t.toString(16).padStart(e*2,"0"))}function BU(t,e){return ld(t,e).reverse()}function nRt(t){return ax(PCe(t))}function zo(t,e,r){let n;if(typeof e=="string")try{n=ax(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(PU(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Tp(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!PU(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function iRt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function oRt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function sRt(t){let e;for(e=0;t>kCe;t>>=kU,e+=1);return e}function aRt(t,e){return t>>BigInt(e)&kU}var cRt=(t,e,r)=>t|(r?kU:kCe)<<BigInt(e),cT=t=>(tRt<<BigInt(t-1))-kU,ane=t=>new Uint8Array(t),MCe=t=>Uint8Array.from(t);function une(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=ane(t),i=ane(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},c=(...b)=>r(i,n,...b),l=(b=ane())=>{i=c(MCe([0]),b),n=c(),b.length!==0&&(i=c(MCe([1]),b),n=c())},m=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,E=[];for(;b<e;){n=c();let I=n.slice();E.push(I),b+=n.length}return Tp(...E)};return(b,E)=>{s(),l(b);let I;for(;!(I=E(m()));)l();return s(),I}}var uRt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ug(t,e,r={}){let n=(i,o,s)=>{let c=uRt[o];if(typeof c!="function")throw new Error(`Invalid validator "${o}", expected function`);let l=t[i];if(!(s&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var Go=BigInt(0),oo=BigInt(1),cx=BigInt(2),fRt=BigInt(3),lne=BigInt(4),RCe=BigInt(5),BCe=BigInt(8),lRt=BigInt(9),dRt=BigInt(16);function Wo(t,e){let r=t%e;return r>=Go?r:e+r}function hRt(t,e,r){if(r<=Go||e<Go)throw new Error("Expected power/modulo > 0");if(r===oo)return Go;let n=oo;for(;e>Go;)e&oo&&(n=n*t%r),t=t*t%r,e>>=oo;return n}function Ou(t,e,r){let n=t;for(;e-- >Go;)n*=n,n%=r;return n}function CU(t,e){if(t===Go||e<=Go)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Wo(t,e),n=e,i=Go,o=oo,s=oo,c=Go;for(;r!==Go;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==oo)throw new Error("invert: does not exist");return Wo(i,e)}function pRt(t){let e=(t-oo)/cx,r,n,i;for(r=t-oo,n=0;r%cx===Go;r/=cx,n++);for(i=cx;i<t&&hRt(i,e,t)!==t-oo;i++);if(n===1){let s=(t+oo)/lne;return function(l,m){let w=l.pow(m,s);if(!l.eql(l.sqr(w),m))throw new Error("Cannot find square root");return w}}let o=(r+oo)/cx;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let m=n,w=c.pow(c.mul(c.ONE,i),r),b=c.pow(l,o),E=c.pow(l,r);for(;!c.eql(E,c.ONE);){if(c.eql(E,c.ZERO))return c.ZERO;let I=1;for(let k=c.sqr(E);I<m&&!c.eql(k,c.ONE);I++)k=c.sqr(k);let M=c.pow(w,oo<<BigInt(m-I-1));w=c.sqr(M),b=c.mul(b,M),E=c.mul(E,w),m=I}return b}}function mRt(t){if(t%lne===fRt){let e=(t+oo)/lne;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%BCe===RCe){let e=(t-RCe)/BCe;return function(n,i){let o=n.mul(i,cx),s=n.pow(o,e),c=n.mul(i,s),l=n.mul(n.mul(c,cx),s),m=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(m),i))throw new Error("Cannot find square root");return m}}return t%dRt,pRt(t)}var yRt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dne(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=yRt.reduce((n,i)=>(n[i]="function",n),e);return Ug(t,r)}function gRt(t,e,r){if(r<Go)throw new Error("Expected power > 0");if(r===Go)return t.ONE;if(r===oo)return e;let n=t.ONE,i=e;for(;r>Go;)r&oo&&(n=t.mul(n,i)),i=t.sqr(i),r>>=oo;return n}function bRt(t,e){let r=new Array(e.length),n=e.reduce((o,s,c)=>t.is0(s)?o:(r[c]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,c)=>t.is0(s)?o:(r[c]=t.mul(o,r[c]),t.mul(o,s)),i),r}function hne(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function CCe(t,e,r=!1,n={}){if(t<=Go)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=hne(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=mRt(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:cT(i),ZERO:Go,ONE:oo,create:l=>Wo(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Go<=l&&l<t},is0:l=>l===Go,isOdd:l=>(l&oo)===oo,neg:l=>Wo(-l,t),eql:(l,m)=>l===m,sqr:l=>Wo(l*l,t),add:(l,m)=>Wo(l+m,t),sub:(l,m)=>Wo(l-m,t),mul:(l,m)=>Wo(l*m,t),pow:(l,m)=>gRt(c,l,m),div:(l,m)=>Wo(l*CU(m,t),t),sqrN:l=>l*l,addN:(l,m)=>l+m,subN:(l,m)=>l-m,mulN:(l,m)=>l*m,inv:l=>CU(l,t),sqrt:n.sqrt||(l=>s(c,l)),invertBatch:l=>bRt(c,l),cmov:(l,m,w)=>w?m:l,toBytes:l=>r?BU(l,o):ld(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?RU(l):Ys(l)}});return Object.freeze(c)}function OCe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function pne(t){let e=OCe(t);return e+Math.ceil(e/2)}function NCe(t,e,r=!1){let n=t.length,i=OCe(e),o=pne(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?Ys(t):RU(t),c=Wo(s,e-oo)+oo;return r?BU(c,i):ld(c,i)}d();h();d();h();var xRt=BigInt(0),mne=BigInt(1);function DCe(t,e){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=t.ZERO,c=i;for(;o>xRt;)o&mne&&(s=s.add(c)),c=c.double(),o>>=mne;return s},precomputeWindow(i,o){let{windows:s,windowSize:c}=n(o),l=[],m=i,w=m;for(let b=0;b<s;b++){w=m,l.push(w);for(let E=1;E<c;E++)w=w.add(m),l.push(w);m=w.double()}return l},wNAF(i,o,s){let{windows:c,windowSize:l}=n(i),m=t.ZERO,w=t.BASE,b=BigInt(2**i-1),E=2**i,I=BigInt(i);for(let M=0;M<c;M++){let k=M*l,B=Number(s&b);s>>=I,B>l&&(B-=E,s+=mne);let R=k,U=k+Math.abs(B)-1,P=M%2!==0,F=B<0;B===0?w=w.add(r(P,o[R])):m=m.add(r(F,o[U]))}return{p:m,f:w}},wNAFCached(i,o,s,c){let l=i._WINDOW_SIZE||1,m=o.get(i);return m||(m=this.precomputeWindow(i,l),l!==1&&o.set(i,c(m))),this.wNAF(l,m,s)}}}function yne(t){return dne(t.Fp),Ug(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...hne(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function wRt(t){let e=yne(t);Ug(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:SRt,hexToBytes:ARt}=fne,ux={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=ux;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:SRt(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=ux,r=typeof t=="string"?ARt(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=ux._parseInt(r.subarray(2)),{d:s,l:c}=ux._parseInt(o);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){let e=m=>Number.parseInt(m[0],16)&8?"00"+m:m,r=m=>{let w=m.toString(16);return w.length&1?`0${w}`:w},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,c=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${c}${n}`}},Ip=BigInt(0),rl=BigInt(1),Rbn=BigInt(2),UCe=BigInt(3),Bbn=BigInt(4);function ERt(t){let e=wRt(t),{Fp:r}=e,n=e.toBytes||((M,k,B)=>{let R=k.toAffine();return Tp(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),i=e.fromBytes||(M=>{let k=M.subarray(1),B=r.fromBytes(k.subarray(0,r.BYTES)),R=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:B,y:R}});function o(M){let{a:k,b:B}=e,R=r.sqr(M),U=r.mul(R,M);return r.add(r.add(U,r.mul(M,k)),B)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(M){return typeof M=="bigint"&&Ip<M&&M<e.n}function c(M){if(!s(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(M){let{allowedPrivateKeyLengths:k,nByteLength:B,wrapPrivateKey:R,n:U}=e;if(k&&typeof M!="bigint"){if(M instanceof Uint8Array&&(M=sx(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(B*2,"0")}let P;try{P=typeof M=="bigint"?M:Ys(zo("private key",M,B))}catch{throw new Error(`private key must be ${B} bytes, hex or bigint, not ${typeof M}`)}return R&&(P=Wo(P,U)),c(P),P}let m=new Map;function w(M){if(!(M instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(k,B,R){if(this.px=k,this.py=B,this.pz=R,k==null||!r.isValid(k))throw new Error("x required");if(B==null||!r.isValid(B))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required")}static fromAffine(k){let{x:B,y:R}=k||{};if(!k||!r.isValid(B)||!r.isValid(R))throw new Error("invalid affine point");if(k instanceof b)throw new Error("projective point not allowed");let U=P=>r.eql(P,r.ZERO);return U(B)&&U(R)?b.ZERO:new b(B,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let B=r.invertBatch(k.map(R=>R.pz));return k.map((R,U)=>R.toAffine(B[U])).map(b.fromAffine)}static fromHex(k){let B=b.fromAffine(i(zo("pointHex",k)));return B.assertValidity(),B}static fromPrivateKey(k){return b.BASE.multiply(l(k))}_setWindowSize(k){this._WINDOW_SIZE=k,m.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:k,y:B}=this.toAffine();if(!r.isValid(k)||!r.isValid(B))throw new Error("bad point: x or y not FE");let R=r.sqr(B),U=o(k);if(!r.eql(R,U))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){w(k);let{px:B,py:R,pz:U}=this,{px:P,py:F,pz:V}=k,H=r.eql(r.mul(B,V),r.mul(P,U)),re=r.eql(r.mul(R,V),r.mul(F,U));return H&&re}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:B}=e,R=r.mul(B,UCe),{px:U,py:P,pz:F}=this,V=r.ZERO,H=r.ZERO,re=r.ZERO,J=r.mul(U,U),ie=r.mul(P,P),S=r.mul(F,F),a=r.mul(U,P);return a=r.add(a,a),re=r.mul(U,F),re=r.add(re,re),V=r.mul(k,re),H=r.mul(R,S),H=r.add(V,H),V=r.sub(ie,H),H=r.add(ie,H),H=r.mul(V,H),V=r.mul(a,V),re=r.mul(R,re),S=r.mul(k,S),a=r.sub(J,S),a=r.mul(k,a),a=r.add(a,re),re=r.add(J,J),J=r.add(re,J),J=r.add(J,S),J=r.mul(J,a),H=r.add(H,J),S=r.mul(P,F),S=r.add(S,S),J=r.mul(S,a),V=r.sub(V,J),re=r.mul(S,ie),re=r.add(re,re),re=r.add(re,re),new b(V,H,re)}add(k){w(k);let{px:B,py:R,pz:U}=this,{px:P,py:F,pz:V}=k,H=r.ZERO,re=r.ZERO,J=r.ZERO,ie=e.a,S=r.mul(e.b,UCe),a=r.mul(B,P),f=r.mul(R,F),p=r.mul(U,V),y=r.add(B,R),g=r.add(P,F);y=r.mul(y,g),g=r.add(a,f),y=r.sub(y,g),g=r.add(B,U);let A=r.add(P,V);return g=r.mul(g,A),A=r.add(a,p),g=r.sub(g,A),A=r.add(R,U),H=r.add(F,V),A=r.mul(A,H),H=r.add(f,p),A=r.sub(A,H),J=r.mul(ie,g),H=r.mul(S,p),J=r.add(H,J),H=r.sub(f,J),J=r.add(f,J),re=r.mul(H,J),f=r.add(a,a),f=r.add(f,a),p=r.mul(ie,p),g=r.mul(S,g),f=r.add(f,p),p=r.sub(a,p),p=r.mul(ie,p),g=r.add(g,p),a=r.mul(f,g),re=r.add(re,a),a=r.mul(A,g),H=r.mul(y,H),H=r.sub(H,a),a=r.mul(y,f),J=r.mul(A,J),J=r.add(J,a),new b(H,re,J)}subtract(k){return this.add(k.negate())}is0(){return this.equals(b.ZERO)}wNAF(k){return I.wNAFCached(this,m,k,B=>{let R=r.invertBatch(B.map(U=>U.pz));return B.map((U,P)=>U.toAffine(R[P])).map(b.fromAffine)})}multiplyUnsafe(k){let B=b.ZERO;if(k===Ip)return B;if(c(k),k===rl)return this;let{endo:R}=e;if(!R)return I.unsafeLadder(this,k);let{k1neg:U,k1:P,k2neg:F,k2:V}=R.splitScalar(k),H=B,re=B,J=this;for(;P>Ip||V>Ip;)P&rl&&(H=H.add(J)),V&rl&&(re=re.add(J)),J=J.double(),P>>=rl,V>>=rl;return U&&(H=H.negate()),F&&(re=re.negate()),re=new b(r.mul(re.px,R.beta),re.py,re.pz),H.add(re)}multiply(k){c(k);let B=k,R,U,{endo:P}=e;if(P){let{k1neg:F,k1:V,k2neg:H,k2:re}=P.splitScalar(B),{p:J,f:ie}=this.wNAF(V),{p:S,f:a}=this.wNAF(re);J=I.constTimeNegate(F,J),S=I.constTimeNegate(H,S),S=new b(r.mul(S.px,P.beta),S.py,S.pz),R=J.add(S),U=ie.add(a)}else{let{p:F,f:V}=this.wNAF(B);R=F,U=V}return b.normalizeZ([R,U])[0]}multiplyAndAddUnsafe(k,B,R){let U=b.BASE,P=(V,H)=>H===Ip||H===rl||!V.equals(U)?V.multiplyUnsafe(H):V.multiply(H),F=P(this,B).add(P(k,R));return F.is0()?void 0:F}toAffine(k){let{px:B,py:R,pz:U}=this,P=this.is0();k==null&&(k=P?r.ONE:r.inv(U));let F=r.mul(B,k),V=r.mul(R,k),H=r.mul(U,k);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(H,r.ONE))throw new Error("invZ was invalid");return{x:F,y:V}}isTorsionFree(){let{h:k,isTorsionFree:B}=e;if(k===rl)return!0;if(B)return B(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:B}=e;return k===rl?this:B?B(b,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),n(b,this,k)}toHex(k=!0){return sx(this.toRawBytes(k))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,I=DCe(b,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function _Rt(t){let e=yne(t);return Ug(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function LCe(t){let e=_Rt(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(g){return Ip<g&&g<r.ORDER}function c(g){return Wo(g,n)}function l(g){return CU(g,n)}let{ProjectivePoint:m,normPrivateKeyToScalar:w,weierstrassEquation:b,isWithinCurveOrder:E}=ERt({...e,toBytes(g,A,_){let v=A.toAffine(),u=r.toBytes(v.x),x=Tp;return _?x(Uint8Array.from([A.hasEvenY()?2:3]),u):x(Uint8Array.from([4]),u,r.toBytes(v.y))},fromBytes(g){let A=g.length,_=g[0],v=g.subarray(1);if(A===i&&(_===2||_===3)){let u=Ys(v);if(!s(u))throw new Error("Point is not on curve");let x=b(u),q=r.sqrt(x),L=(q&rl)===rl;return(_&1)===1!==L&&(q=r.neg(q)),{x:u,y:q}}else if(A===o&&_===4){let u=r.fromBytes(v.subarray(0,r.BYTES)),x=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:u,y:x}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),I=g=>sx(ld(g,e.nByteLength));function M(g){let A=n>>rl;return g>A}function k(g){return M(g)?c(-g):g}let B=(g,A,_)=>Ys(g.slice(A,_));class R{constructor(A,_,v){this.r=A,this.s=_,this.recovery=v,this.assertValidity()}static fromCompact(A){let _=e.nByteLength;return A=zo("compactSignature",A,_*2),new R(B(A,0,_),B(A,_,2*_))}static fromDER(A){let{r:_,s:v}=ux.toSig(zo("DER",A));return new R(_,v)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new R(this.r,this.s,A)}recoverPublicKey(A){let{r:_,s:v,recovery:u}=this,x=re(zo("msgHash",A));if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");let q=u===2||u===3?_+e.n:_;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let L=u&1?"03":"02",C=m.fromHex(L+I(q)),W=l(q),ee=c(-x*W),ne=c(v*W),Ve=m.BASE.multiplyAndAddUnsafe(C,ee,ne);if(!Ve)throw new Error("point at infinify");return Ve.assertValidity(),Ve}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ax(this.toDERHex())}toDERHex(){return ux.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ax(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let U={isValidPrivateKey(g){try{return w(g),!0}catch{return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{let g=pne(e.n);return NCe(e.randomBytes(g),e.n)},precompute(g=8,A=m.BASE){return A._setWindowSize(g),A.multiply(BigInt(3)),A}};function P(g,A=!0){return m.fromPrivateKey(g).toRawBytes(A)}function F(g){let A=g instanceof Uint8Array,_=typeof g=="string",v=(A||_)&&g.length;return A?v===i||v===o:_?v===2*i||v===2*o:g instanceof m}function V(g,A,_=!0){if(F(g))throw new Error("first arg must be private key");if(!F(A))throw new Error("second arg must be public key");return m.fromHex(A).multiply(w(g)).toRawBytes(_)}let H=e.bits2int||function(g){let A=Ys(g),_=g.length*8-e.nBitLength;return _>0?A>>BigInt(_):A},re=e.bits2int_modN||function(g){return c(H(g))},J=cT(e.nBitLength);function ie(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(Ip<=g&&g<J))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ld(g,e.nByteLength)}function S(g,A,_=a){if(["recovered","canonical"].some(G=>G in _))throw new Error("sign() legacy options not supported");let{hash:v,randomBytes:u}=e,{lowS:x,prehash:q,extraEntropy:L}=_;x==null&&(x=!0),g=zo("msgHash",g),q&&(g=zo("prehashed msgHash",v(g)));let C=re(g),W=w(A),ee=[ie(W),ie(C)];if(L!=null){let G=L===!0?u(r.BYTES):L;ee.push(zo("extraEntropy",G))}let ne=Tp(...ee),Ve=C;function ae(G){let he=H(G);if(!E(he))return;let te=l(he),ce=m.BASE.multiply(he).toAffine(),Ye=c(ce.x);if(Ye===Ip)return;let se=c(te*c(Ve+Ye*W));if(se===Ip)return;let le=(ce.x===Ye?0:2)|Number(ce.y&rl),Pt=se;return x&&M(se)&&(Pt=k(se),le^=1),new R(Ye,Pt,le)}return{seed:ne,k2sig:ae}}let a={lowS:e.lowS,prehash:!1},f={lowS:e.lowS,prehash:!1};function p(g,A,_=a){let{seed:v,k2sig:u}=S(g,A,_),x=e;return une(x.hash.outputLen,x.nByteLength,x.hmac)(v,u)}m.BASE._setWindowSize(8);function y(g,A,_,v=f){let u=g;if(A=zo("msgHash",A),_=zo("publicKey",_),"strict"in v)throw new Error("options.strict was renamed to lowS");let{lowS:x,prehash:q}=v,L,C;try{if(typeof u=="string"||u instanceof Uint8Array)try{L=R.fromDER(u)}catch(ce){if(!(ce instanceof ux.Err))throw ce;L=R.fromCompact(u)}else if(typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint"){let{r:ce,s:Ye}=u;L=new R(ce,Ye)}else throw new Error("PARSE");C=m.fromHex(_)}catch(ce){if(ce.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(x&&L.hasHighS())return!1;q&&(A=e.hash(A));let{r:W,s:ee}=L,ne=re(A),Ve=l(ee),ae=c(ne*Ve),G=c(W*Ve),he=m.BASE.multiplyAndAddUnsafe(C,ae,G)?.toAffine();return he?c(he.x)===W:!1}return{CURVE:e,getPublicKey:P,getSharedSecret:V,sign:p,verify:y,ProjectivePoint:m,Signature:R,utils:U}}d();h();function TRt(t){return{hash:t,hmac:(e,...r)=>r5(t,e,GIe(...r)),randomBytes:NN}}function FCe(t,e){let r=n=>LCe({...t,...TRt(n)});return Object.freeze({...r(e),create:r})}var UU=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),OU=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),VCe=BigInt(1),NU=BigInt(2),qCe=(t,e)=>(t+e/NU)/e;function HCe(t){let e=UU,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),c=BigInt(44),l=BigInt(88),m=t*t*t%e,w=m*m*t%e,b=Ou(w,r,e)*w%e,E=Ou(b,r,e)*w%e,I=Ou(E,NU,e)*m%e,M=Ou(I,i,e)*I%e,k=Ou(M,o,e)*M%e,B=Ou(k,c,e)*k%e,R=Ou(B,l,e)*B%e,U=Ou(R,c,e)*k%e,P=Ou(U,r,e)*w%e,F=Ou(P,s,e)*M%e,V=Ou(F,n,e)*m%e,H=Ou(V,NU,e);if(!bne.eql(bne.sqr(H),t))throw new Error("Cannot find square root");return H}var bne=CCe(UU,void 0,void 0,{sqrt:HCe}),hE=FCe({a:BigInt(0),b:BigInt(7),Fp:bne,n:OU,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=OU,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-VCe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=qCe(o*t,e),l=qCe(-n*t,e),m=Wo(t-c*r-l*i,e),w=Wo(-c*n-l*o,e),b=m>s,E=w>s;if(b&&(m=e-m),E&&(w=e-w),m>s||w>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:m,k2neg:E,k2:w}}}},ys),LU=BigInt(0),jCe=t=>typeof t=="bigint"&&LU<t&&t<UU,IRt=t=>typeof t=="bigint"&&LU<t&&t<OU,KCe={};function DU(t,...e){let r=KCe[t];if(r===void 0){let n=ys(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Tp(n,n),KCe[t]=r}return ys(Tp(r,...e))}var wne=t=>t.toRawBytes(!0).slice(1),vne=t=>ld(t,32),gne=t=>Wo(t,UU),uT=t=>Wo(t,OU),Sne=hE.ProjectivePoint,MRt=(t,e,r)=>Sne.BASE.multiplyAndAddUnsafe(t,e,r);function xne(t){let e=hE.utils.normPrivateKeyToScalar(t),r=Sne.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:uT(-e),bytes:wne(r)}}function zCe(t){if(!jCe(t))throw new Error("bad x: need 0 < x < p");let e=gne(t*t),r=gne(e*t+BigInt(7)),n=HCe(r);n%NU!==LU&&(n=gne(-n));let i=new Sne(t,n,VCe);return i.assertValidity(),i}function WCe(...t){return uT(Ys(DU("BIP0340/challenge",...t)))}function kRt(t){return xne(t).bytes}function PRt(t,e,r=NN(32)){let n=zo("message",t),{bytes:i,scalar:o}=xne(e),s=zo("auxRand",r,32),c=vne(o^Ys(DU("BIP0340/aux",s))),l=DU("BIP0340/nonce",c,i,n),m=uT(Ys(l));if(m===LU)throw new Error("sign failed: k is zero");let{bytes:w,scalar:b}=xne(m),E=WCe(w,i,n),I=new Uint8Array(64);if(I.set(w,0),I.set(vne(uT(b+E*o)),32),!GCe(I,n,i))throw new Error("sign: Invalid signature produced");return I}function GCe(t,e,r){let n=zo("signature",t,64),i=zo("message",e),o=zo("publicKey",r,32);try{let s=zCe(Ys(o)),c=Ys(n.subarray(0,32));if(!jCe(c))return!1;let l=Ys(n.subarray(32,64));if(!IRt(l))return!1;let m=WCe(vne(c),wne(s),i),w=MRt(s,l,uT(-m));return!(!w||!w.hasEvenY()||w.toAffine().x!==c)}catch{return!1}}var Nu={getPublicKey:kRt,sign:PRt,verify:GCe,utils:{randomPrivateKey:hE.utils.randomPrivateKey,lift_x:zCe,pointToBytes:wne,numberToBytesBE:ld,bytesToNumberBE:Ys,taggedHash:DU,mod:Wo}};d();h();var RRt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),YCe=Uint8Array.from({length:16},(t,e)=>e),BRt=YCe.map(t=>(9*t+5)%16),Ene=[YCe],_ne=[BRt];for(let t=0;t<4;t++)for(let e of[Ene,_ne])e.push(e[t].map(r=>RRt[r]));var ZCe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),CRt=Ene.map((t,e)=>t.map(r=>ZCe[e][r])),ORt=_ne.map((t,e)=>t.map(r=>ZCe[e][r])),NRt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),DRt=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),FU=(t,e)=>t<<e|t>>>32-e;function $Ce(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var qU=new Uint32Array(16),Ane=class extends fA{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(e,r){for(let I=0;I<16;I++,r+=4)qU[I]=e.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,c=this.h2|0,l=c,m=this.h3|0,w=m,b=this.h4|0,E=b;for(let I=0;I<5;I++){let M=4-I,k=NRt[I],B=DRt[I],R=Ene[I],U=_ne[I],P=CRt[I],F=ORt[I];for(let V=0;V<16;V++){let H=FU(n+$Ce(I,o,c,m)+qU[R[V]]+k,P[V])+b|0;n=b,b=m,m=FU(c,10)|0,c=o,o=H}for(let V=0;V<16;V++){let H=FU(i+$Ce(M,s,l,w)+qU[U[V]]+B,F[V])+E|0;i=E,E=w,w=FU(l,10)|0,l=s,s=H}}this.set(this.h1+c+w|0,this.h2+m+E|0,this.h3+b+i|0,this.h4+n+s|0,this.h0+o+l|0)}roundClean(){qU.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},QCe=ON(()=>new Ane);d();h();function pE(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function VU(...t){let e=(i,o)=>s=>i(o(s)),r=Array.from(t).reverse().reduce((i,o)=>i?e(i,o.encode):o.encode,void 0),n=t.reduce((i,o)=>i?e(i,o.decode):o.decode,void 0);return{encode:r,decode:n}}function Mne(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})}}}function kne(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function URt(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function JCe(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],o=Array.from(t);for(o.forEach(s=>{if(s<0||s>=e)throw new Error(`Wrong integer: ${s}`)});;){let s=0,c=!0;for(let l=n;l<o.length;l++){let m=o[l],w=e*s+m;if(!Number.isSafeInteger(w)||e*s/e!==s||w-m!==e*s)throw new Error("convertRadix: carry overflow");s=w%r;let b=Math.floor(w/r);if(o[l]=b,!Number.isSafeInteger(b)||b*r+s!==w)throw new Error("convertRadix: carry overflow");if(c)b?c=!1:n=l;else continue}if(i.push(s),c)break}for(let s=0;s<t.length-1&&t[s]===0;s++)i.push(0);return i.reverse()}var rOe=(t,e)=>e?rOe(e,t%e):t,KU=(t,e)=>t+(e-rOe(t,e));function Tne(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(KU(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${KU(e,r)}`);let i=0,o=0,s=2**r-1,c=[];for(let l of t){if(l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=r;o-=r)c.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&c.push(i>>>0),c}function LRt(t){return{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return JCe(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(JCe(e,t,2**8))}}}function nOe(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(KU(8,t)>32||KU(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Tne(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Tne(r,t,8,e))}}}function XCe(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}function FRt(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),o=r.slice(-t);for(let s=0;s<t;s++)if(i[s]!==o[s])throw new Error("Invalid checksum");return n}}}var qRt=t=>VU(LRt(58),Mne(t),kne("")),KRt=qRt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var iOe=t=>VU(FRt(4,e=>t(t(e))),KRt),Ine=VU(Mne("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),kne("")),eOe=[996825010,642813549,513874426,1027748829,705979059];function fT(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<eOe.length;n++)(e>>n&1)===1&&(r^=eOe[n]);return r}function tOe(t,e,r=1){let n=t.length,i=1;for(let o=0;o<n;o++){let s=t.charCodeAt(o);if(s<33||s>126)throw new Error(`Invalid prefix (${t})`);i=fT(i)^s>>5}i=fT(i);for(let o=0;o<n;o++)i=fT(i)^t.charCodeAt(o)&31;for(let o of e)i=fT(i)^o;for(let o=0;o<6;o++)i=fT(i);return i^=r,Ine.encode(Tne([i%2**30],30,5,!1))}function oOe(t){let e=t==="bech32"?1:734539939,r=nOe(5),n=r.decode,i=r.encode,o=XCe(n);function s(w,b,E=90){if(typeof w!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof w}`);if(!Array.isArray(b)||b.length&&typeof b[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof b}`);let I=w.length+7+b.length;if(E!==!1&&I>E)throw new TypeError(`Length ${I} exceeds limit ${E}`);let M=w.toLowerCase(),k=tOe(M,b,e);return`${M}1${Ine.encode(b)}${k}`}function c(w,b=90){if(typeof w!="string")throw new Error(`bech32.decode input should be string, not ${typeof w}`);if(w.length<8||b!==!1&&w.length>b)throw new TypeError(`Wrong string length: ${w.length} (${w}). Expected (8..${b})`);let E=w.toLowerCase();if(w!==E&&w!==w.toUpperCase())throw new Error("String must be lowercase or uppercase");w=E;let I=w.lastIndexOf("1");if(I===0||I===-1)throw new Error('Letter "1" must be present between prefix and data only');let M=w.slice(0,I),k=w.slice(I+1);if(k.length<6)throw new Error("Data must be at least 6 characters long");let B=Ine.decode(k).slice(0,-6),R=tOe(M,B,e);if(!k.endsWith(R))throw new Error(`Invalid checksum in ${w}: expected "${R}"`);return{prefix:M,words:B}}let l=XCe(c);function m(w){let{prefix:b,words:E}=c(w,!1);return{prefix:b,words:E,bytes:n(E)}}return{encode:s,decode:c,decodeToBytes:m,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:o,toWords:i}}var HU=oOe("bech32"),Pne=oOe("bech32m"),Rne={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},Wi=VU(nOe(4),Mne("0123456789abcdef"),kne(""),URt(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));d();h();var Gi=new Uint8Array,YU=new Uint8Array([0]);function wi(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function jU(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var Du=t=>t instanceof Uint8Array,zU=class{constructor(e,r=[],n=[]){this.data=e,this.path=r,this.fieldPath=n,this.pos=0,this.hasPtr=!1,this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Reader(${this.fieldPath.join("/")}): ${e}`)}absBytes(e){if(e>this.data.length)throw new Error("absBytes: Unexpected end of buffer");return this.data.subarray(e)}bytes(e,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(e))throw this.err(`readBytes: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+e);return r||(this.pos+=e),n}byte(e=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");return this.data[e?this.pos:this.pos++]}get leftBytes(){return this.data.length-this.pos}isEnd(){return this.pos>=this.data.length&&!this.bitPos}length(e){let r;if(Lg(e)?r=Number(e.decodeStream(this)):typeof e=="number"?r=e:typeof e=="string"&&(r=$U(this.path,e.split("/"))),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw this.err(`Wrong length: ${r}`);return r}bits(e){if(e>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;e;){this.bitPos||(this.bitBuf=this.data[this.pos++],this.bitPos=8);let n=Math.min(e,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,e-=n}return r>>>0}find(e,r=this.pos){if(!Du(e))throw this.err(`find: needle is not bytes! ${e}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!e.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(e[0],n))!==-1;n++){if(n===-1||this.data.length-n<e.length)return;if(wi(e,this.data.subarray(n,n+e.length)))return n}}finish(){if(!(this.isEnd()||this.hasPtr))throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${Wi.encode(this.data.slice(this.pos))}`)}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},WU=class{constructor(e=[],r=[]){this.path=e,this.fieldPath=r,this.buffers=[],this.pos=0,this.ptrs=[],this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Writer(${this.fieldPath.join("/")}): ${e}`)}bytes(e){if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(e),this.pos+=e.length}byte(e){if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([e])),this.pos++}get buffer(){if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let e=jU(...this.buffers);for(let r of this.ptrs){let n=e.length;e=jU(e,r.buffer);let i=r.ptr.encode(n);for(let o=0;o<i.length;o++)e[r.pos+o]=i[o]}return e}length(e,r){if(e===null)return;if(Lg(e))return e.encodeStream(this,r);let n;if(typeof e=="number"?n=e:typeof e=="string"&&(n=$U(this.path,e.split("/"))),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw this.err(`Wrong length: ${n} len=${e} exp=${r}`)}bits(e,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(e>=2**r)throw this.err(`writeBits: value (${e}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|e>>r-n,this.bitPos+=n,r-=n,e&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},GU=t=>Uint8Array.from(t).reverse();function sOe(t,e,r,n){if(n){let i=2n**(r-1n);if(e<-i||e>=i)throw t.err("sInt: value out of bounds")}else if(0n>e||e>=2n**r)throw t.err("uInt: value out of bounds")}function $o(t){return{...t,encode:e=>{let r=new WU;return t.encodeStream(r,e),r.buffer},decode:e=>{let r=new zU(e),n=t.decodeStream(r);return r.finish(),n}}}function $U(t,e){t=Array.from(t);let r=0;for(;r<e.length&&e[r]==="..";r++)t.pop();let n=t.pop();for(;r<e.length;r++){if(!n||n[e[r]]===void 0)return;n=n[e[r]]}return n}function Lg(t){return typeof t.encode=="function"&&typeof t.encodeStream=="function"&&typeof t.decode=="function"&&typeof t.decodeStream=="function"}function HRt(){return{encode:t=>{let e={};for(let[r,n]of t){if(e[r]!==void 0)throw new Error(`coders.dict: same key(${r}) appears twice in struct`);e[r]=n}return e},decode:t=>Object.entries(t)}}var jRt={encode:t=>{if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`coders.number: element bigger than MAX_SAFE_INTEGER=${t}`);return Number(t)},decode:t=>BigInt(t)};function zRt(t){return{encode:e=>t[e],decode:e=>t[e]}}function WRt(t){let e=10n**BigInt(t);return{encode:r=>{let n=(r<0n?-r:r).toString(10),i=n.length-t;i<0&&(n=n.padStart(n.length-i,"0"),i=0);let o=n.length-1;for(;o>=i&&n[o]==="0";o--);let[s,c]=[n.slice(0,i),n.slice(i,o+1)];return s||(s="0"),r<0n&&(s="-"+s),c?`${s}.${c}`:s},decode:r=>{let n=!1;r.startsWith("-")&&(n=!0,r=r.slice(1));let i=r.indexOf(".");i=i===-1?r.length:i;let[o,s]=[r.slice(0,i),r.slice(i+1)],c=BigInt(o)*e,l=Math.min(s.length,t),m=BigInt(s.slice(0,l))*10n**BigInt(t-l),w=c+m;return n?-w:w}}}function GRt(t){return{encode:e=>{for(let r of t){let n=r.encode(e);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${e}`)},decode:e=>{for(let r of t){let n=r.decode(e);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${e}`)}}}var mE={dict:HRt,number:jRt,tsEnum:zRt,decimal:WRt,match:GRt};var Uu=(t,e=!1,r=!1)=>$o({size:t,encodeStream:(n,i)=>{if(typeof i!="number"&&typeof i!="bigint")throw n.err(`bigint: invalid value: ${i}`);let o=BigInt(i),s=BigInt(t);sOe(n,o,8n*s,!!r);let c=2n**(8n*s-1n);r&&o<0&&(o=o|c);let l=[];for(let w=0;w<t;w++)l.push(Number(o&255n)),o>>=8n;let m=new Uint8Array(l).reverse();n.bytes(e?m.reverse():m)},decodeStream:n=>{let i=BigInt(t),o=n.bytes(t);e&&(o=GU(o));let s=GU(o),c=2n**(8n*i-1n),l=0n;for(let m=0;m<s.length;m++)l|=BigInt(s[m])<<8n*BigInt(m);return r&&l&c&&(l=(l^c)-c),sOe(n,l,8n*i,!!r),l}}),s1n=Uu(32,!0),aOe=Uu(32,!1),a1n=Uu(32,!0,!0),c1n=Uu(32,!1,!0),u1n=Uu(16,!0),f1n=Uu(16,!1),l1n=Uu(16,!0,!0),d1n=Uu(16,!1,!0),lT=Uu(8,!0),h1n=Uu(8,!1),cOe=Uu(8,!0,!0),p1n=Uu(8,!1,!0),qh=(t,e=!1,r=!1)=>{if(t>6)throw new Error("int supports size up to 6 bytes (48 bits), for other use bigint");return hT(Uu(t,e,r),mE.number)},oi=qh(4,!0),uOe=qh(4,!1),yE=qh(4,!0,!0),m1n=qh(4,!1,!0),Bne=qh(2,!0),y1n=qh(2,!1),g1n=qh(2,!0,!0),b1n=qh(2,!1,!0),Mp=qh(1,!1),v1n=qh(1,!1,!0),x1n=$o({size:1,encodeStream:(t,e)=>t.byte(e?1:0),decodeStream:t=>{let e=t.byte();if(e!==0&&e!==1)throw t.err(`bool: invalid value ${e}`);return e===1}}),Oi=(t,e=!1)=>$o({size:typeof t=="number"?t:void 0,encodeStream:(r,n)=>{if(!Du(n))throw r.err(`bytes: invalid value ${n}`);Du(t)||r.length(t,n.length),r.bytes(e?GU(n):n),Du(t)&&r.bytes(t)},decodeStream:r=>{let n;if(Du(t)){let i=r.find(t);if(!i)throw r.err("bytes: cannot find terminator");n=r.bytes(i-r.pos),r.bytes(t.length)}else n=r.bytes(t===null?r.leftBytes:r.length(t));return e?GU(n):n}}),dT=(t,e=!1)=>{let r=Oi(t,e);return $o({size:r.size,encodeStream:(n,i)=>r.encodeStream(n,Rne.decode(i)),decodeStream:n=>Rne.encode(r.decodeStream(n))})},w1n=dT(YU),fOe=(t,e=!1,r=!1)=>{let n=Oi(t,e);return $o({size:n.size,encodeStream:(i,o)=>{if(r&&!o.startsWith("0x"))throw new Error("hex(withZero=true).encode input should start with 0x");let s=Wi.decode(r?o.slice(2):o);return n.encodeStream(i,s)},decodeStream:i=>(r?"0x":"")+Wi.encode(n.decodeStream(i))})};function hT(t,e){if(!Lg(t))throw new Error(`apply: invalid inner value ${t}`);return $o({size:t.size,encodeStream:(r,n)=>{let i;try{i=e.decode(n)}catch(o){throw r.err(""+o)}return t.encodeStream(r,i)},decodeStream:r=>{let n=t.decodeStream(r);try{return e.encode(n)}catch(i){throw r.err(""+i)}}})}function nl(t,e){if(!Lg(t))throw new Error(`validate: invalid inner value ${t}`);return $o({size:t.size,encodeStream:(r,n)=>t.encodeStream(r,e(n)),decodeStream:r=>e(t.decodeStream(r))})}var lOe=(t,e=!1)=>$o({size:t.length,encodeStream:(r,n)=>{!!n!==e&&r.bytes(t)},decodeStream:r=>{let n=r.leftBytes>=t.length;return n&&(n=wi(r.bytes(t.length,!0),t),n&&r.bytes(t.length)),n!==e}});function dOe(t,e,r){if(!Lg(e))throw new Error(`flagged: invalid inner value ${e}`);return $o({encodeStream:(n,i)=>{typeof t=="string"?$U(n.path,t.split("/"))?e.encodeStream(n,i):r&&e.encodeStream(n,r):(t.encodeStream(n,!!i),i?e.encodeStream(n,i):r&&e.encodeStream(n,r))},decodeStream:n=>{let i=!1;if(typeof t=="string"?i=$U(n.path,t.split("/")):i=t.decodeStream(n),i)return e.decodeStream(n);r&&e.decodeStream(n)}})}function pT(t,e,r=!0){if(!Lg(t))throw new Error(`flagged: invalid inner value ${t}`);return $o({size:t.size,encodeStream:(n,i)=>t.encodeStream(n,e),decodeStream:n=>{let i=t.decodeStream(n);if(r&&typeof i!="object"&&i!==e||Du(e)&&!wi(e,i))throw n.err(`magic: invalid value: ${i} !== ${e}`)}})}function hOe(t){let e=0;for(let r of t){if(!r.size)return;e+=r.size}return e}function Na(t){if(Array.isArray(t))throw new Error("Packed.Struct: got array instead of object");return $o({size:hOe(Object.values(t)),encodeStream:(e,r)=>{if(typeof r!="object"||r===null)throw e.err(`struct: invalid value ${r}`);e.path.push(r);for(let n in t)e.fieldPathPush(n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},decodeStream:e=>{let r={};e.path.push(r);for(let n in t)e.fieldPathPush(n),r[n]=t[n].decodeStream(e),e.fieldPathPop();return e.path.pop(),r}})}function pOe(t){if(!Array.isArray(t))throw new Error(`Packed.Tuple: got ${typeof t} instead of array`);return $o({size:hOe(t),encodeStream:(e,r)=>{if(!Array.isArray(r))throw e.err(`tuple: invalid value ${r}`);e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},decodeStream:e=>{let r=[];e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),r.push(t[n].decodeStream(e)),e.fieldPathPop();return e.path.pop(),r}})}function mOe(t,e){if(!Lg(e))throw new Error(`prefix: invalid inner value ${e}`);if(Du(t))throw new Error("prefix: len cannot be Uint8Array");let r=Oi(t);return $o({size:typeof t=="number"?t:void 0,encodeStream:(n,i)=>{let o=new WU(n.path,n.fieldPath);e.encodeStream(o,i),r.encodeStream(n,o.buffer)},decodeStream:n=>{let i=r.decodeStream(n);return e.decodeStream(new zU(i,n.path,n.fieldPath))}})}function fc(t,e){if(!Lg(e))throw new Error(`array: invalid inner value ${e}`);return $o({size:typeof t=="number"&&e.size?t*e.size:void 0,encodeStream:(r,n)=>{if(!Array.isArray(n))throw r.err(`array: invalid value ${n}`);Du(t)||r.length(t,n.length),r.path.push(n);for(let i=0;i<n.length;i++){r.fieldPathPush(""+i);let o=n[i],s=r.pos;if(e.encodeStream(r,o),Du(t)){if(t.length>r.pos-s)continue;let c=r.buffer.subarray(s,r.pos);if(wi(c.subarray(0,t.length),t))throw r.err(`array: inner element encoding same as separator. elm=${o} data=${c}`)}r.fieldPathPop()}r.path.pop(),Du(t)&&r.bytes(t)},decodeStream:r=>{let n=[];if(t===null){let i=0;for(r.path.push(n);!r.isEnd()&&(r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop(),!(e.size&&r.leftBytes<e.size)););r.path.pop()}else if(Du(t)){let i=0;for(r.path.push(n);;){if(wi(r.bytes(t.length,!0),t)){r.bytes(t.length);break}r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop()}r.path.pop()}else{r.fieldPathPush("arrayLen");let i=r.length(t);r.fieldPathPop(),r.path.push(n);for(let o=0;o<i;o++)r.fieldPathPush(""+o),n.push(e.decodeStream(r)),r.fieldPathPop();r.path.pop()}return n}})}var S1n=pT(Oi(0),Gi);var{ProjectivePoint:iL,sign:yOe,getPublicKey:YRt}=hE,XU=hE.CURVE.n,yT=(t,e)=>t===void 0?e:t,Di=Du,oL=t=>QCe(ys(t)),Fg=(...t)=>ys(ys(qg(...t))),qg=jU,POe=iOe(ys);function eL(t){if(Array.isArray(t))return t.map(e=>eL(e));if(t instanceof Uint8Array)return Uint8Array.from(t);if(["number","bigint","boolean","string","undefined"].includes(typeof t))return t;if(t===null)return t;if(typeof t=="object")return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,eL(r)]));throw new Error(`cloneDeep: unknown type=${t} (${typeof t})`)}var Da;(function(t){t[t.ecdsa=0]="ecdsa",t[t.schnorr=1]="schnorr"})(Da||(Da={}));function xE(t,e){let r=t.length;if(e===Da.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return iL.fromHex(t),t}else if(e===Da.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return Nu.utils.lift_x(Nu.utils.bytesToNumberBE(t)),t}else throw new Error("Unknown key type")}function lx(t,e){try{return xE(t,e),!0}catch{return!1}}var gOe=t=>t.r<XU/2n;function ZRt(t,e,r=!1){let n=yOe(t,e);if(r&&!gOe(n)){let i=new Uint8Array(32);for(let o=0;o<Number.MAX_SAFE_INTEGER&&(i.set(oi.encode(o)),n=yOe(t,e,{extraEntropy:i}),!gOe(n));o++);}return n.toDERRawBytes()}function ROe(t,e){let r=Nu.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=XU)throw new Error("tweak higher than curve order");return i}function QRt(t,e=new Uint8Array){let r=Nu.utils,n=r.bytesToNumberBE(t),i=iL.fromPrivateKey(n),o=i.hasEvenY()?n:r.mod(-n,XU),s=r.pointToBytes(i),c=ROe(s,e);return r.numberToBytesBE(r.mod(o+c,XU),32)}function BOe(t,e){let r=Nu.utils,n=ROe(t,e),o=r.lift_x(r.bytesToNumberBE(t)).add(iL.fromPrivateKey(n)),s=o.hasEvenY()?0:1;return[r.pointToBytes(o),s]}var Une=nl(Oi(null),t=>xE(t,Da.ecdsa)),tL=nl(Oi(32),t=>xE(t,Da.schnorr)),bOe=nl(Oi(null),t=>{if(t.length!==64&&t.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return t});var Kg={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};var JRt=8,XRt=2,fx=0,COe=4294967295,ZU=new Uint8Array(32),k1n=mE.decimal(JRt);function Lne(t,e){if(!Di(t)||!Di(e))throw new Error(`cmp: wrong type a=${typeof t} b=${typeof e}`);let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!=e[n])return Math.sign(t[n]-e[n]);return Math.sign(t.length-e.length)}var Yo;(function(t){t[t.OP_0=0]="OP_0",t[t.PUSHDATA1=76]="PUSHDATA1",t[t.PUSHDATA2=77]="PUSHDATA2",t[t.PUSHDATA4=78]="PUSHDATA4",t[t["1NEGATE"]=79]="1NEGATE",t[t.RESERVED=80]="RESERVED",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.NOP=97]="NOP",t[t.VER=98]="VER",t[t.IF=99]="IF",t[t.NOTIF=100]="NOTIF",t[t.VERIF=101]="VERIF",t[t.VERNOTIF=102]="VERNOTIF",t[t.ELSE=103]="ELSE",t[t.ENDIF=104]="ENDIF",t[t.VERIFY=105]="VERIFY",t[t.RETURN=106]="RETURN",t[t.TOALTSTACK=107]="TOALTSTACK",t[t.FROMALTSTACK=108]="FROMALTSTACK",t[t["2DROP"]=109]="2DROP",t[t["2DUP"]=110]="2DUP",t[t["3DUP"]=111]="3DUP",t[t["2OVER"]=112]="2OVER",t[t["2ROT"]=113]="2ROT",t[t["2SWAP"]=114]="2SWAP",t[t.IFDUP=115]="IFDUP",t[t.DEPTH=116]="DEPTH",t[t.DROP=117]="DROP",t[t.DUP=118]="DUP",t[t.NIP=119]="NIP",t[t.OVER=120]="OVER",t[t.PICK=121]="PICK",t[t.ROLL=122]="ROLL",t[t.ROT=123]="ROT",t[t.SWAP=124]="SWAP",t[t.TUCK=125]="TUCK",t[t.CAT=126]="CAT",t[t.SUBSTR=127]="SUBSTR",t[t.LEFT=128]="LEFT",t[t.RIGHT=129]="RIGHT",t[t.SIZE=130]="SIZE",t[t.INVERT=131]="INVERT",t[t.AND=132]="AND",t[t.OR=133]="OR",t[t.XOR=134]="XOR",t[t.EQUAL=135]="EQUAL",t[t.EQUALVERIFY=136]="EQUALVERIFY",t[t.RESERVED1=137]="RESERVED1",t[t.RESERVED2=138]="RESERVED2",t[t["1ADD"]=139]="1ADD",t[t["1SUB"]=140]="1SUB",t[t["2MUL"]=141]="2MUL",t[t["2DIV"]=142]="2DIV",t[t.NEGATE=143]="NEGATE",t[t.ABS=144]="ABS",t[t.NOT=145]="NOT",t[t["0NOTEQUAL"]=146]="0NOTEQUAL",t[t.ADD=147]="ADD",t[t.SUB=148]="SUB",t[t.MUL=149]="MUL",t[t.DIV=150]="DIV",t[t.MOD=151]="MOD",t[t.LSHIFT=152]="LSHIFT",t[t.RSHIFT=153]="RSHIFT",t[t.BOOLAND=154]="BOOLAND",t[t.BOOLOR=155]="BOOLOR",t[t.NUMEQUAL=156]="NUMEQUAL",t[t.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",t[t.NUMNOTEQUAL=158]="NUMNOTEQUAL",t[t.LESSTHAN=159]="LESSTHAN",t[t.GREATERTHAN=160]="GREATERTHAN",t[t.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",t[t.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",t[t.MIN=163]="MIN",t[t.MAX=164]="MAX",t[t.WITHIN=165]="WITHIN",t[t.RIPEMD160=166]="RIPEMD160",t[t.SHA1=167]="SHA1",t[t.SHA256=168]="SHA256",t[t.HASH160=169]="HASH160",t[t.HASH256=170]="HASH256",t[t.CODESEPARATOR=171]="CODESEPARATOR",t[t.CHECKSIG=172]="CHECKSIG",t[t.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",t[t.CHECKMULTISIG=174]="CHECKMULTISIG",t[t.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",t[t.NOP1=176]="NOP1",t[t.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",t[t.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",t[t.NOP4=179]="NOP4",t[t.NOP5=180]="NOP5",t[t.NOP6=181]="NOP6",t[t.NOP7=182]="NOP7",t[t.NOP8=183]="NOP8",t[t.NOP9=184]="NOP9",t[t.NOP10=185]="NOP10",t[t.CHECKSIGADD=186]="CHECKSIGADD",t[t.INVALID=255]="INVALID"})(Yo||(Yo={}));var Zo=$o({encodeStream:(t,e)=>{for(let r of e){if(typeof r=="string"){if(Yo[r]===void 0)throw new Error(`Unknown opcode=${r}`);t.byte(Yo[r]);continue}else if(typeof r=="number"){if(r===0){t.byte(0);continue}else if(1<=r&&r<=16){t.byte(Yo.OP_1-1+r);continue}}if(typeof r=="number"&&(r=OOe().encode(BigInt(r))),!Di(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<Yo.PUSHDATA1?t.byte(n):n<=255?(t.byte(Yo.PUSHDATA1),t.byte(n)):n<=65535?(t.byte(Yo.PUSHDATA2),t.bytes(Bne.encode(n))):(t.byte(Yo.PUSHDATA4),t.bytes(oi.encode(n))),t.bytes(r)}},decodeStream:t=>{let e=[];for(;!t.isEnd();){let r=t.byte();if(Yo.OP_0<r&&r<=Yo.PUSHDATA4){let n;if(r<Yo.PUSHDATA1)n=r;else if(r===Yo.PUSHDATA1)n=Mp.decodeStream(t);else if(r===Yo.PUSHDATA2)n=Bne.decodeStream(t);else if(r===Yo.PUSHDATA4)n=oi.decodeStream(t);else throw new Error("Should be not possible");e.push(t.bytes(n))}else if(r===0)e.push(0);else if(Yo.OP_1<=r&&r<=Yo.OP_16)e.push(r-(Yo.OP_1-1));else{let n=Yo[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);e.push(n)}}return e}});function OOe(t=6,e=!1){return $o({encodeStream:(r,n)=>{if(n===0n)return;let i=n<0,o=BigInt(n),s=[];for(let c=i?-o:o;c;c>>=8n)s.push(Number(c&0xffn));s[s.length-1]>=128?s.push(i?128:0):i&&(s[s.length-1]|=128),r.bytes(new Uint8Array(s))},decodeStream:r=>{let n=r.leftBytes;if(n>t)throw new Error(`ScriptNum: number (${n}) bigger than limit=${t}`);if(n===0)return 0n;if(e&&!(r.data[n-1]&127)&&(n<=1||!(r.data[n-2]&128)))throw new Error("Non-minimally encoded ScriptNum");let i=0,o=0n;for(let s=0;s<n;++s)i=r.byte(),o|=BigInt(i)<<8n*BigInt(s);return i>=128&&(o&=2n**BigInt(n*8)-1n>>1n,o=-o),o}})}function eBt(t,e=4,r=!0){if(typeof t=="number")return t;if(Di(t))try{let n=OOe(e,r).decode(t);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}var vOe={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},sL=$o({encodeStream:(t,e)=>{if(typeof e=="number"&&(e=BigInt(e)),0n<=e&&e<=252n)return t.byte(Number(e));for(let[r,n,i,o]of Object.values(vOe))if(!(i>e||e>o)){t.byte(r);for(let s=0;s<n;s++)t.byte(Number(e>>8n*BigInt(s)&0xffn));return}throw t.err(`VarInt too big: ${e}`)},decodeStream:t=>{let e=t.byte();if(e<=252)return BigInt(e);let[r,n,i]=vOe[e],o=0n;for(let s=0;s<n;s++)o|=BigInt(t.byte())<<8n*BigInt(s);if(o<i)throw t.err(`Wrong CompactSize(${8*n})`);return o}}),hd=hT(sL,mE.number),xOe=t=>fc(sL,t),dd=Oi(sL),tBt=Na({txid:Oi(32,!0),index:oi,finalScriptSig:dd,sequence:oi}),bE=Na({amount:lT,script:dd}),rBt={amount:0xffffffffffffffffn,script:Gi},Wne=fc(hd,dd),nBt=Na({version:yE,segwitFlag:lOe(new Uint8Array([0,1])),inputs:xOe(tBt),outputs:xOe(bE),witnesses:dOe("segwitFlag",fc("inputs/length",Wne)),lockTime:oi});function iBt(t){if(t.segwitFlag&&t.witnesses&&!t.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return t}var Kh=nl(nBt,iBt);function Fne(t){let[e,r,n,i,o,s]=t;return{type:e,kc:r,vc:n,reqInc:i,allowInc:o,silentIgnore:s}}var aL=Na({fingerprint:uOe,path:fc(null,oi)}),oBt=Na({version:Mp,internalKey:Oi(32),merklePath:fc(null,Oi(32))}),vE=nl(oBt,t=>{if(t.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return t}),NOe=Na({hashes:fc(hd,Oi(32)),der:aL}),sBt=Oi(78),aBt=Na({pubKey:tL,leafHash:Oi(32)}),cBt=fc(null,Na({depth:Mp,version:Mp,script:dd})),Qo=Oi(null),wOe=Oi(20),mT=Oi(32),Gne={unsignedTx:[0,!1,Kh,[0],[0],!1],xpub:[1,sBt,aL,[],[0,2],!1],txVersion:[2,!1,oi,[2],[2],!1],fallbackLocktime:[3,!1,oi,[],[2],!1],inputCount:[4,!1,hd,[2],[2],!1],outputCount:[5,!1,hd,[2],[2],!1],txModifiable:[6,!1,Mp,[],[2],!1],version:[251,!1,oi,[],[0,2],!1],proprietary:[252,Qo,Qo,[],[0,2],!1]},rL={nonWitnessUtxo:[0,!1,Kh,[],[0,2],!1],witnessUtxo:[1,!1,bE,[],[0,2],!1],partialSig:[2,Une,Qo,[],[0,2],!1],sighashType:[3,!1,oi,[],[0,2],!1],redeemScript:[4,!1,Qo,[],[0,2],!1],witnessScript:[5,!1,Qo,[],[0,2],!1],bip32Derivation:[6,Une,aL,[],[0,2],!1],finalScriptSig:[7,!1,Qo,[],[0,2],!1],finalScriptWitness:[8,!1,Wne,[],[0,2],!1],porCommitment:[9,!1,Qo,[],[0,2],!1],ripemd160:[10,wOe,Qo,[],[0,2],!1],sha256:[11,mT,Qo,[],[0,2],!1],hash160:[12,wOe,Qo,[],[0,2],!1],hash256:[13,mT,Qo,[],[0,2],!1],txid:[14,!1,mT,[2],[2],!0],index:[15,!1,oi,[2],[2],!0],sequence:[16,!1,oi,[],[2],!0],requiredTimeLocktime:[17,!1,oi,[],[2],!1],requiredHeightLocktime:[18,!1,oi,[],[2],!1],tapKeySig:[19,!1,bOe,[],[0,2],!1],tapScriptSig:[20,aBt,bOe,[],[0,2],!1],tapLeafScript:[21,vE,Qo,[],[0,2],!1],tapBip32Derivation:[22,mT,NOe,[],[0,2],!1],tapInternalKey:[23,!1,tL,[],[0,2],!1],tapMerkleRoot:[24,!1,mT,[],[0,2],!1],proprietary:[252,Qo,Qo,[],[0,2],!1]},uBt=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],fBt=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],nL={redeemScript:[0,!1,Qo,[],[0,2],!1],witnessScript:[1,!1,Qo,[],[0,2],!1],bip32Derivation:[2,Une,aL,[],[0,2],!1],amount:[3,!1,cOe,[2],[2],!0],script:[4,!1,Qo,[2],[2],!0],tapInternalKey:[5,!1,tL,[],[0,2],!1],tapTree:[6,!1,cBt,[],[0,2],!1],tapBip32Derivation:[7,tL,NOe,[],[0,2],!1],proprietary:[252,Qo,Qo,[],[0,2],!1]},lBt=[],SOe=fc(YU,Na({key:mOe(hd,Na({type:hd,key:Oi(null)})),value:Oi(hd)})),P1n=Na({type:hd,key:Oi(null)});function $ne(t){let e={};for(let r in t){let[n,i,o]=t[r];e[n]=[r,i,o]}return $o({encodeStream:(r,n)=>{let i=[];for(let o in t){let s=n[o];if(s===void 0)continue;let[c,l,m]=t[o];if(!l)i.push({key:{type:c,key:Gi},value:m.encode(s)});else{let w=s.map(([b,E])=>[l.encode(b),m.encode(E)]);w.sort((b,E)=>Lne(b[0],E[0]));for(let[b,E]of w)i.push({key:{key:b,type:c},value:E})}}if(n.unknown){n.unknown.sort((o,s)=>Lne(o[0].key,s[0].key));for(let[o,s]of n.unknown)i.push({key:o,value:s})}SOe.encodeStream(r,i)},decodeStream:r=>{let n=SOe.decodeStream(r),i={},o={};for(let s of n){let c="unknown",l=s.key.key,m=s.value;if(e[s.key.type]){let[w,b,E]=e[s.key.type];if(c=w,!b&&l.length)throw new Error(`PSBT: Non-empty key for ${c} (key=${Wi.encode(l)} value=${Wi.encode(m)}`);if(l=b?b.decode(l):void 0,m=E.decode(m),!b){if(i[c])throw new Error(`PSBT: Same keys: ${c} (key=${l} value=${m})`);i[c]=m,o[c]=!0;continue}}else l={type:s.key.type,key:s.key.key};if(o[c])throw new Error(`PSBT: Key type with empty key and no key=${c} val=${m}`);i[c]||(i[c]=[]),i[c].push([l,m])}return i}})}function AOe(t,e){if(!wi(t.hash,ys(e)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=Jo.decode(e);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}function qne(t,e,r){if(t){let n=Jo.decode(t);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&e){if(!wi(n.hash,oL(e)))throw new Error("checkScript: sh wrong redeemScript hash");let i=Jo.decode(e);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&AOe(n,r)}if(e){let n=Jo.decode(e);n.type==="wsh"&&r&&AOe(n,r)}}var Yne=nl($ne(rL),t=>{if(t.finalScriptWitness&&!t.finalScriptWitness.length)throw new Error("validateInput: wmpty finalScriptWitness");if(t.partialSig&&!t.partialSig.length)throw new Error("Empty partialSig");if(t.partialSig)for(let[e]of t.partialSig)xE(e,Da.ecdsa);if(t.bip32Derivation)for(let[e]of t.bip32Derivation)xE(e,Da.ecdsa);if(t.requiredTimeLocktime!==void 0&&t.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${t.requiredTimeLocktime}`);if(t.requiredHeightLocktime!==void 0&&(t.requiredHeightLocktime<=0||t.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${t.requiredHeightLocktime}`);if(t.nonWitnessUtxo&&t.index!==void 0){let e=t.nonWitnessUtxo.outputs.length-1;if(t.index>e)throw new Error(`validateInput: index(${t.index}) not in nonWitnessUtxo`);let r=t.nonWitnessUtxo.outputs[t.index];if(t.witnessUtxo&&(!wi(t.witnessUtxo.script,r.script)||t.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(t.tapLeafScript)for(let[e,r]of t.tapLeafScript){if((e.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(t.nonWitnessUtxo&&t.index&&t.txid){if(t.nonWitnessUtxo.outputs.length-1<t.index)throw new Error("nonWitnessUtxo: incorect output index");let r=dx.fromRaw(Kh.encode(t.nonWitnessUtxo)),n=Wi.encode(t.txid);if(r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return t}),Zne=nl($ne(nL),t=>{if(t.bip32Derivation)for(let[e]of t.bip32Derivation)xE(e,Da.ecdsa);return t}),DOe=nl($ne(Gne),t=>{if((t.version||0)===0){if(!t.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");if(t.unsignedTx.segwitFlag||t.unsignedTx.witnesses)throw new Error("PSBTv0: witness in unsingedTx");for(let r of t.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return t}),dBt=Na({magic:pT(dT(new Uint8Array([255])),"psbt"),global:DOe,inputs:fc("global/unsignedTx/inputs/length",Yne),outputs:fc(null,Zne)}),hBt=Na({magic:pT(dT(new Uint8Array([255])),"psbt"),global:DOe,inputs:fc("global/inputCount",Yne),outputs:fc("global/outputCount",Zne)}),R1n=Na({magic:pT(dT(new Uint8Array([255])),"psbt"),items:fc(null,hT(fc(YU,pOe([fOe(hd),Oi(sL)])),mE.dict()))});function Cne(t,e,r){for(let n in r){if(n==="unknown"||!e[n])continue;let{allowInc:i}=Fne(e[n]);if(!i.includes(t))throw new Error(`PSBTv${t}: field ${n} is not allowed`)}for(let n in e){let{reqInc:i}=Fne(e[n]);if(i.includes(t)&&r[n]===void 0)throw new Error(`PSBTv${t}: missing required field ${n}`)}}function EOe(t,e,r){let n={};for(let i in r){let o=i;if(o!=="unknown"){if(!e[o])continue;let{allowInc:s,silentIgnore:c}=Fne(e[o]);if(!s.includes(t)){if(c)continue;throw new Error(`Failed to serialize in PSBTv${t}: ${o} but versions allows inclusion=${s}`)}}n[o]=r[o]}return n}function UOe(t){let e=t&&t.global&&t.global.version||0;Cne(e,Gne,t.global);for(let s of t.inputs)Cne(e,rL,s);for(let s of t.outputs)Cne(e,nL,s);let r=e?t.global.inputCount:t.global.unsignedTx.inputs.length;if(t.inputs.length<r)throw new Error("Not enough inputs");let n=t.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=e?t.global.outputCount:t.global.unsignedTx.outputs.length;if(t.outputs.length<i)throw new Error("Not outputs inputs");let o=t.outputs.slice(i);if(o.length>1||o.length&&Object.keys(o[0]).length)throw new Error(`Unexpected outputs left in tx=${o}`);return t}function One(t,e,r,n){let i={...r,...e};for(let o in t){let s=o,[c,l,m]=t[s],w=n&&!n.includes(o);if(e[o]===void 0&&o in e){if(w)throw new Error(`Cannot remove signed field=${o}`);delete i[o]}else if(l){let b=r&&r[o]?r[o]:[],E=e[s];if(E){if(!Array.isArray(E))throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);E=E.map(k=>{if(k.length!==2)throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);return[typeof k[0]=="string"?l.decode(Wi.decode(k[0])):k[0],typeof k[1]=="string"?m.decode(Wi.decode(k[1])):k[1]]});let I={},M=(k,B,R)=>{if(I[k]===void 0){I[k]=[B,R];return}let U=Wi.encode(m.encode(I[k][1])),P=Wi.encode(m.encode(R));if(U!==P)throw new Error(`keyMap(${s}): same key=${k} oldVal=${U} newVal=${P}`)};for(let[k,B]of b){let R=Wi.encode(l.encode(k));M(R,k,B)}for(let[k,B]of E){let R=Wi.encode(l.encode(k));if(B===void 0){if(w)throw new Error(`Cannot remove signed field=${s}/${k}`);delete I[R]}else M(R,k,B)}i[s]=Object.values(I)}}else if(typeof i[o]=="string")i[o]=m.decode(Wi.decode(i[o]));else if(w&&o in e&&r&&r[o]!==void 0&&!wi(m.encode(e[o]),m.encode(r[o])))throw new Error(`Cannot change signed field=${o}`)}for(let o in i)t[o]||delete i[o];return i}var _Oe=nl(dBt,UOe),TOe=nl(hBt,UOe),Nne=Na({txid:Oi(32,!0),index:oi}),pBt={encode(t){if(!(t.length!==2||!Di(t[0])||!lx(t[0],Da.ecdsa)||t[1]!=="CHECKSIG"))return{type:"pk",pubkey:t[0]}},decode:t=>t.type==="pk"?[t.pubkey,"CHECKSIG"]:void 0};var mBt={encode(t){if(!(t.length!==5||t[0]!=="DUP"||t[1]!=="HASH160"||!Di(t[2]))&&!(t[3]!=="EQUALVERIFY"||t[4]!=="CHECKSIG"))return{type:"pkh",hash:t[2]}},decode:t=>t.type==="pkh"?["DUP","HASH160",t.hash,"EQUALVERIFY","CHECKSIG"]:void 0};var yBt={encode(t){if(!(t.length!==3||t[0]!=="HASH160"||!Di(t[1])||t[2]!=="EQUAL"))return{type:"sh",hash:t[1]}},decode:t=>t.type==="sh"?["HASH160",t.hash,"EQUAL"]:void 0},LOe=(t,e=Kg)=>{let r=t.script;if(!Di(r))throw new Error(`Wrong script: ${typeof t.script}, expected Uint8Array`);let n=oL(r),i=Jo.encode({type:"sh",hash:n});qne(i,r,t.witnessScript);let o={type:"sh",redeemScript:r,script:Jo.encode({type:"sh",hash:n}),address:cL(e).encode({type:"sh",hash:n})};return t.witnessScript&&(o.witnessScript=t.witnessScript),o},gBt={encode(t){if(!(t.length!==2||t[0]!==0||!Di(t[1]))&&t[1].length===32)return{type:"wsh",hash:t[1]}},decode:t=>t.type==="wsh"?[0,t.hash]:void 0};var bBt={encode(t){if(!(t.length!==2||t[0]!==0||!Di(t[1]))&&t[1].length===20)return{type:"wpkh",hash:t[1]}},decode:t=>t.type==="wpkh"?[0,t.hash]:void 0},Qne=(t,e=Kg)=>{if(!lx(t,Da.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(t.length===65)throw new Error("P2WPKH: uncompressed public key");let r=oL(t);return{type:"wpkh",script:Jo.encode({type:"wpkh",hash:r}),address:cL(e).encode({type:"wpkh",hash:r})}},vBt={encode(t){let e=t.length-1;if(t[e]!=="CHECKMULTISIG")return;let r=t[0],n=t[e-1];if(typeof r!="number"||typeof n!="number")return;let i=t.slice(1,-2);if(n===i.length){for(let o of i)if(!Di(o))return;return{type:"ms",m:r,pubkeys:i}}},decode:t=>t.type==="ms"?[t.m,...t.pubkeys,t.pubkeys.length,"CHECKMULTISIG"]:void 0};var xBt={encode(t){if(!(t.length!==2||t[0]!==1||!Di(t[1])))return{type:"tr",pubkey:t[1]}},decode:t=>t.type==="tr"?[1,t.pubkey]:void 0};function wBt(t){let e=Array.from(t);for(;e.length>=2;){e.sort((s,c)=>(c.weight||1)-(s.weight||1));let n=e.pop(),i=e.pop(),o=(i?.weight||1)+(n?.weight||1);e.push({weight:o,childs:[i?.childs||i,n?.childs||n]})}let r=e[0];return r?.childs||r}function SBt(t,e,r=!1){let n=Jo.decode(t);if(n.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(n.type))throw new Error(`P2TR: invalid leaf script=${n.type}`);let i=n;if(!r&&i.pubkeys)for(let o of i.pubkeys){if(wi(o,FOe))throw new Error("Unspendable taproot key in leaf script");if(wi(o,e))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}function Kne(t,e,r=!1){if(!t)throw new Error("taprootHashTree: empty tree");if(Array.isArray(t)&&t.length===1&&(t=t[0]),!Array.isArray(t)){let{leafVersion:c,script:l}=t;if(t.tapLeafScript||t.tapMerkleRoot&&!wi(t.tapMerkleRoot,Gi))throw new Error("P2TR: tapRoot leafScript cannot have tree");let m=typeof l=="string"?Wi.decode(l):l;if(!Di(m))throw new Error(`checkScript: wrong script type=${m}`);return SBt(m,e,r),{type:"leaf",version:c,script:m,hash:JU(m,c)}}if(t.length!==2&&(t=wBt(t)),t.length!==2)throw new Error("hashTree: non binary tree!");let n=Kne(t[0],e,r),i=Kne(t[1],e,r),[o,s]=[n.hash,i.hash];return Lne(s,o)===-1&&([o,s]=[s,o]),{type:"branch",left:n,right:i,hash:Nu.utils.taggedHash("TapBranch",o,s)}}function Vne(t,e=[]){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return{...t,path:e};if(t.type!=="branch")throw new Error(`taprootAddPath: wrong type=${t}`);return{...t,path:e,left:Vne(t.left,[t.right.hash,...e]),right:Vne(t.right,[t.left.hash,...e])}}function Hne(t){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return[t];if(t.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${t}`);return[...Hne(t.left),...Hne(t.right)]}var FOe=ys(iL.BASE.toRawBytes(!1));function qOe(t,e,r=Kg,n=!1){if(!t&&!e)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let i=typeof t=="string"?Wi.decode(t):t||FOe;if(!lx(i,Da.schnorr))throw new Error("p2tr: non-schnorr pubkey");let o=e?Vne(Kne(e,i,n)):void 0,s=o?o.hash:void 0,[c,l]=BOe(i,s||Gi),m;o&&(m=Hne(o).map(E=>({...E,controlBlock:vE.encode({version:(E.version||zne)+l,internalKey:i,merklePath:E.path})})));let w;m&&(w=m.map(E=>[vE.decode(E.controlBlock),qg(E.script,new Uint8Array([E.version||zne]))]));let b={type:"tr",script:Jo.encode({type:"tr",pubkey:c}),address:cL(r).encode({type:"tr",pubkey:c}),tweakedPubkey:c,tapInternalKey:i};return m&&(b.leaves=m),w&&(b.tapLeafScript=w),s&&(b.tapMerkleRoot=s),b}var ABt={encode(t){let e=t.length-1;if(t[e]!=="CHECKSIG")return;let r=[];for(let n=0;n<e;n++){let i=t[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===e-1)return;continue}if(!Di(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:t=>{if(t.type!=="tr_ns")return;let e=[];for(let r=0;r<t.pubkeys.length-1;r++)e.push(t.pubkeys[r],"CHECKSIGVERIFY");return e.push(t.pubkeys[t.pubkeys.length-1],"CHECKSIG"),e}};var EBt={encode(t){let e=t.length-1;if(t[e]!=="NUMEQUAL"||t[1]!=="CHECKSIG")return;let r=[],n=eBt(t[e-1]);if(typeof n=="number"){for(let i=0;i<e-1;i++){let o=t[i];if(i&1){if(o!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!Di(o))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(o)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:t=>{if(t.type!=="tr_ms")return;let e=[t.pubkeys[0],"CHECKSIG"];for(let r=1;r<t.pubkeys.length;r++)e.push(t.pubkeys[r],"CHECKSIGADD");return e.push(t.m,"NUMEQUAL"),e}};var _Bt={encode(t){return{type:"unknown",script:Zo.encode(t)}},decode:t=>t.type==="unknown"?Zo.decode(t.script):void 0},TBt=[pBt,mBt,yBt,gBt,bBt,vBt,xBt,ABt,EBt,_Bt],IBt=hT(Zo,mE.match(TBt)),Jo=nl(IBt,t=>{if(t.type==="pk"&&!lx(t.pubkey,Da.ecdsa))throw new Error("OutScript/pk: wrong key");if((t.type==="pkh"||t.type==="sh"||t.type==="wpkh")&&(!Di(t.hash)||t.hash.length!==20))throw new Error(`OutScript/${t.type}: wrong hash`);if(t.type==="wsh"&&(!Di(t.hash)||t.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(t.type==="tr"&&(!Di(t.pubkey)||!lx(t.pubkey,Da.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((t.type==="ms"||t.type==="tr_ns"||t.type==="tr_ms")&&!Array.isArray(t.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(t.type==="ms"){let e=t.pubkeys.length;for(let r of t.pubkeys)if(!lx(r,Da.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(t.m<=0||e>16||t.m>e)throw new Error("OutScript/multisig: invalid params")}if(t.type==="tr_ns"||t.type==="tr_ms"){for(let e of t.pubkeys)if(!lx(e,Da.schnorr))throw new Error(`OutScript/${t.type}: wrong pubkey`)}if(t.type==="tr_ms"){let e=t.pubkeys.length;if(t.m<=0||e>999||t.m>e)throw new Error("OutScript/tr_ms: invalid params")}return t});function KOe(t,e){if(e.length<2||e.length>40)throw new Error("Witness: invalid length");if(t>16)throw new Error("Witness: invalid version");if(t===0&&!(e.length===20||e.length===32))throw new Error("Witness: invalid length for version")}function Dne(t,e,r=Kg){KOe(t,e);let n=t===0?HU:Pne;return n.encode(r.bech32,[t].concat(n.toWords(e)))}function IOe(t,e){return POe.encode(qg(Uint8Array.from(e),t))}function cL(t=Kg){return{encode(e){let{type:r}=e;if(r==="wpkh")return Dne(0,e.hash,t);if(r==="wsh")return Dne(0,e.hash,t);if(r==="tr")return Dne(1,e.pubkey,t);if(r==="pkh")return IOe(e.hash,[t.pubKeyHash]);if(r==="sh")return IOe(e.hash,[t.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(e){if(e.length<14||e.length>74)throw new Error("Invalid address length");if(t.bech32&&e.toLowerCase().startsWith(t.bech32)){let n;try{if(n=HU.decode(e),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=Pne.decode(e),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==t.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...o]=n.words,s=HU.fromWords(o);if(KOe(i,s),i===0&&s.length===32)return{type:"wsh",hash:s};if(i===0&&s.length===20)return{type:"wpkh",hash:s};if(i===1&&s.length===32)return{type:"tr",pubkey:s};throw new Error("Unknown witness program")}let r=POe.decode(e);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===t.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===t.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}var Ni;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY"})(Ni||(Ni={}));var jne;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",t[t.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",t[t.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",t[t.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(jne||(jne={}));function MBt(t){if(typeof t!="number"||typeof jne[t]!="string")throw new Error(`Invalid SigHash=${t}`);return t}function MOe(t){let e=t&31;return{isAny:!!(t&Ni.ANYONECANPAY),isNone:e===Ni.NONE,isSingle:e===Ni.SINGLE}}function QU(t){if(t.txid===void 0||t.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:t.txid,index:t.index,sequence:yT(t.sequence,COe),finalScriptSig:yT(t.finalScriptSig,Gi)}}function kOe(t){for(let e in t){let r=e;uBt.includes(r)||delete t[r]}}function gE(t){if(t.script===void 0||t.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:t.script,amount:t.amount}}var zne=192,JU=(t,e=zne)=>Nu.utils.taggedHash("TapLeaf",new Uint8Array([e]),dd.encode(t));function kBt(t,e,r,n=Gi){return wi(r,e)&&(t=QRt(t,n),e=Nu.getPublicKey(t)),{privKey:t,pubKey:e}}var PBt={}.toString;function RBt(t){if(t!==void 0&&PBt.call(t)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${t}`);let e={...t,version:yT(t.version,XRt),lockTime:yT(t.lockTime,0),PSBTVersion:yT(t.PSBTVersion,0)};if(typeof e.allowUnknowInput<"u"&&(t.allowUnknownInputs=e.allowUnknowInput),typeof e.allowUnknowOutput<"u"&&(t.allowUnknownOutputs=e.allowUnknowOutput),![-1,0,1,2].includes(e.version))throw new Error(`Unknown version: ${e.version}`);if(typeof e.lockTime!="number")throw new Error("Transaction lock time should be number");if(oi.encode(e.lockTime),e.PSBTVersion!==0&&e.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${e.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=e[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}return Object.freeze(e)}var dx=class t{constructor(e={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=RBt(e);r.lockTime!==fx&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(e,r={}){let n=Kh.decode(e),i=new t({...r,version:n.version,lockTime:n.lockTime});for(let o of n.outputs)i.addOutput(o);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let o=0;o<n.witnesses.length;o++)i.inputs[o].finalScriptWitness=n.witnesses[o];return i}static fromPSBT(e,r={}){let n;try{n=_Oe.decode(e)}catch(b){try{n=TOe.decode(e)}catch{throw b}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let o=n.global.unsignedTx,s=i===0?o?.version:n.global.txVersion,c=i===0?o?.lockTime:n.global.fallbackLocktime,l=new t({...r,version:s,lockTime:c,PSBTVersion:i}),m=i===0?o?.inputs.length:n.global.inputCount;l.inputs=n.inputs.slice(0,m).map((b,E)=>({finalScriptSig:Gi,...n.global.unsignedTx?.inputs[E],...b}));let w=i===0?o?.outputs.length:n.global.outputCount;return l.outputs=n.outputs.slice(0,w).map((b,E)=>({...b,...n.global.unsignedTx?.outputs[E]})),l.global={...n.global,txVersion:s},c!==fx&&(l.global.fallbackLocktime=c),l}toPSBT(e=this.opts.PSBTVersion){if(e!==0&&e!==2)throw new Error(`Wrong PSBT version=${e}`);let r=this.inputs.map(o=>EOe(e,rL,o));for(let o of r)o.partialSig&&!o.partialSig.length&&delete o.partialSig,o.finalScriptSig&&!o.finalScriptSig.length&&delete o.finalScriptSig,o.finalScriptWitness&&!o.finalScriptWitness.length&&delete o.finalScriptWitness;let n=this.outputs.map(o=>EOe(e,nL,o)),i={...this.global};return e===0?(i.unsignedTx=Kh.decode(this.unsignedTx),delete i.fallbackLocktime,delete i.txVersion):(i.version=e,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===fx&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(e===0?_Oe:TOe).encode({global:i,inputs:r,outputs:n})}get lockTime(){let e=fx,r=0,n=fx,i=0;for(let o of this.inputs)o.requiredHeightLocktime&&(e=Math.max(e,o.requiredHeightLocktime),r++),o.requiredTimeLocktime&&(n=Math.max(n,o.requiredTimeLocktime),i++);return r&&r>=i?e:n!==fx?n:this.global.fallbackLocktime||fx}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(e){this.checkInputIdx(e);let r=this.inputs[e];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(e){this.checkInputIdx(e);let r=this.inputType(this.inputs[e]).sighash,n=r===Ni.DEFAULT?Ni.ALL:r&3;return{sigInputs:r&Ni.ANYONECANPAY,sigOutputs:n}}signStatus(){let e=!0,r=!0,n=[],i=[];for(let o=0;o<this.inputs.length;o++){if(this.inputStatus(o)==="unsigned")continue;let{sigInputs:c,sigOutputs:l}=this.inputSighash(o);if(c===Ni.ANYONECANPAY?n.push(o):e=!1,l===Ni.ALL)r=!1;else if(l===Ni.SINGLE)i.push(o);else if(l!==Ni.NONE)throw new Error(`Wrong signature hash output type: ${l}`)}return{addInput:e,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let e=0;e<this.inputs.length;e++)if(this.inputStatus(e)!=="finalized")return!1;return!0}get hasWitnesses(){let e=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(e=!0);return e}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let e=32,r=this.outputs.map(gE);this.hasWitnesses&&(e+=2),e+=4*hd.encode(this.inputs.length).length,e+=4*hd.encode(this.outputs.length).length;for(let n of this.inputs)e+=160+4*dd.encode(n.finalScriptSig||Gi).length;for(let n of r)e+=32+4*dd.encode(n.script).length;if(this.hasWitnesses)for(let n of this.inputs)n.finalScriptWitness&&(e+=Wne.encode(n.finalScriptWitness).length);return e}get vsize(){return Math.ceil(this.weight/4)}toBytes(e=!1,r=!1){return Kh.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(QU).map(n=>({...n,finalScriptSig:e&&n.finalScriptSig||Gi})),outputs:this.outputs.map(gE),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return Wi.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Wi.encode(Fg(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Wi.encode(Fg(this.toBytes(!0)).reverse())}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.inputs.length)throw new Error(`Wrong input index=${e}`)}getInput(e){return this.checkInputIdx(e),eL(this.inputs[e])}get inputsLength(){return this.inputs.length}normalizeInput(e,r,n){let{nonWitnessUtxo:i,txid:o}=e;typeof i=="string"&&(i=Wi.decode(i)),Di(i)&&(i=Kh.decode(i)),i===void 0&&(i=r?.nonWitnessUtxo),typeof o=="string"&&(o=Wi.decode(o)),o===void 0&&(o=r?.txid);let s={...r,...e,nonWitnessUtxo:i,txid:o};s.nonWitnessUtxo===void 0&&delete s.nonWitnessUtxo,s.sequence===void 0&&(s.sequence=COe),s.tapMerkleRoot===null&&delete s.tapMerkleRoot,s=One(rL,s,r,n),Yne.encode(s);let c;return s.nonWitnessUtxo&&s.index!==void 0?c=s.nonWitnessUtxo.outputs[s.index]:s.witnessUtxo&&(c=s.witnessUtxo),c&&!this.opts.disableScriptCheck&&qne(c&&c.script,s.redeemScript,s.witnessScript),s}addInput(e,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(this.normalizeInput(e)),this.inputs.length-1}updateInput(e,r,n=!1){this.checkInputIdx(e);let i;if(!n){let o=this.signStatus();(!o.addInput||o.inputs.includes(e))&&(i=fBt)}this.inputs[e]=this.normalizeInput(r,this.inputs[e],i)}checkOutputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.outputs.length)throw new Error(`Wrong output index=${e}`)}getOutput(e){return this.checkOutputIdx(e),eL(this.outputs[e])}get outputsLength(){return this.outputs.length}normalizeOutput(e,r,n){let{amount:i,script:o}=e;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error("amount must be bigint sats");typeof o=="string"&&(o=Wi.decode(o)),o===void 0&&(o=r?.script);let s={...r,...e,amount:i,script:o};if(s.amount===void 0&&delete s.amount,s=One(nL,s,r,n),Zne.encode(s),s.script&&!this.opts.allowUnknownOutputs&&Jo.decode(s.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownScript=true, if you sure");return this.opts.disableScriptCheck||qne(s.script,s.redeemScript,s.witnessScript),s}addOutput(e,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(e)),this.outputs.length-1}updateOutput(e,r,n=!1){this.checkOutputIdx(e);let i;if(!n){let o=this.signStatus();(!o.addOutput||o.outputs.includes(e))&&(i=lBt)}this.outputs[e]=this.normalizeOutput(r,this.outputs[e],i)}addOutputAddress(e,r,n=Kg){return this.addOutput({script:Jo.encode(cL(n).decode(e)),amount:r})}get fee(){let e=0n;for(let n of this.inputs){let i=this.prevOut(n);if(!i)throw new Error("Empty input amount");e+=i.amount}let r=this.outputs.map(gE);for(let n of r)e-=n.amount;return e}preimageLegacy(e,r,n){let{isAny:i,isNone:o,isSingle:s}=MOe(n);if(e<0||!Number.isSafeInteger(e))throw new Error(`Invalid input idx=${e}`);if(s&&e>=this.outputs.length||e>=this.inputs.length)return aOe.encode(1n);r=Zo.encode(Zo.decode(r).filter(w=>w!=="CODESEPARATOR"));let c=this.inputs.map(QU).map((w,b)=>({...w,finalScriptSig:b===e?r:Gi}));i?c=[c[e]]:(o||s)&&(c=c.map((w,b)=>({...w,sequence:b===e?w.sequence:0})));let l=this.outputs.map(gE);o?l=[]:s&&(l=l.slice(0,e).fill(rBt).concat([l[e]]));let m=Kh.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:c,outputs:l});return Fg(m,yE.encode(n))}preimageWitnessV0(e,r,n,i){let{isAny:o,isNone:s,isSingle:c}=MOe(n),l=ZU,m=ZU,w=ZU,b=this.inputs.map(QU),E=this.outputs.map(gE);o||(l=Fg(...b.map(Nne.encode))),!o&&!c&&!s&&(m=Fg(...b.map(M=>oi.encode(M.sequence)))),!c&&!s?w=Fg(...E.map(bE.encode)):c&&e<E.length&&(w=Fg(bE.encode(E[e])));let I=b[e];return Fg(yE.encode(this.version),l,m,Oi(32,!0).encode(I.txid),oi.encode(I.index),dd.encode(r),lT.encode(i),oi.encode(I.sequence),w,oi.encode(this.lockTime),oi.encode(n))}preimageWitnessV1(e,r,n,i,o=-1,s,c=192,l){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let m=[Mp.encode(0),Mp.encode(n),yE.encode(this.version),oi.encode(this.lockTime)],w=n===Ni.DEFAULT?Ni.ALL:n&3,b=n&Ni.ANYONECANPAY,E=this.inputs.map(QU),I=this.outputs.map(gE);b!==Ni.ANYONECANPAY&&m.push(...[E.map(Nne.encode),i.map(lT.encode),r.map(dd.encode),E.map(k=>oi.encode(k.sequence))].map(k=>ys(qg(...k)))),w===Ni.ALL&&m.push(ys(qg(...I.map(bE.encode))));let M=(l?1:0)|(s?2:0);if(m.push(new Uint8Array([M])),b===Ni.ANYONECANPAY){let k=E[e];m.push(Nne.encode(k),lT.encode(i[e]),dd.encode(r[e]),oi.encode(k.sequence))}else m.push(oi.encode(e));return M&1&&m.push(ys(dd.encode(l||Gi))),w===Ni.SINGLE&&m.push(e<I.length?ys(bE.encode(I[e])):ZU),s&&m.push(JU(s,c),Mp.encode(0),yE.encode(o)),Nu.utils.taggedHash("TapSighash",...m)}prevOut(e){if(e.nonWitnessUtxo){if(e.index===void 0)throw new Error("Unknown input index");return e.nonWitnessUtxo.outputs[e.index]}else{if(e.witnessUtxo)return e.witnessUtxo;throw new Error("Cannot find previous output info")}}inputType(e){let r="legacy",n=Ni.ALL,i=this.prevOut(e),o=Jo.decode(i.script),s=o.type,c=o,l=[o];if(o.type==="tr")return n=Ni.DEFAULT,{txType:"taproot",type:"tr",last:o,lastScript:i.script,defaultSighash:n,sighash:e.sighashType||n};{if((o.type==="wpkh"||o.type==="wsh")&&(r="segwit"),o.type==="sh"){if(!e.redeemScript)throw new Error("inputType: sh without redeemScript");let E=Jo.decode(e.redeemScript);(E.type==="wpkh"||E.type==="wsh")&&(r="segwit"),l.push(E),c=E,s+=`-${E.type}`}if(c.type==="wsh"){if(!e.witnessScript)throw new Error("inputType: wsh without witnessScript");let E=Jo.decode(e.witnessScript);E.type==="wsh"&&(r="segwit"),l.push(E),c=E,s+=`-${E.type}`}let m=l[l.length-1];if(m.type==="sh"||m.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let w=Jo.encode(m),b={type:s,txType:r,last:m,lastScript:w,defaultSighash:n,sighash:e.sighashType||n};if(r==="legacy"&&!this.opts.allowLegacyWitnessUtxo&&!e.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return b}}signIdx(e,r,n,i){this.checkInputIdx(r);let o=this.inputs[r],s=this.inputType(o);if(!Di(e)){if(!o.bip32Derivation||!o.bip32Derivation.length)throw new Error("bip32Derivation: empty");let w=o.bip32Derivation.filter(E=>E[1].fingerprint==e.fingerprint).map(([E,{path:I}])=>{let M=e;for(let k of I)M=M.deriveChild(k);if(!wi(M.publicKey,E))throw new Error("bip32Derivation: wrong pubKey");if(!M.privateKey)throw new Error("bip32Derivation: no privateKey");return M});if(!w.length)throw new Error(`bip32Derivation: no items with fingerprint=${e.fingerprint}`);let b=!1;for(let E of w)this.signIdx(E.privateKey,r)&&(b=!0);return b}n?n.forEach(MBt):n=[s.defaultSighash];let c=s.sighash;if(!n.includes(c))throw new Error(`Input with not allowed sigHash=${c}. Allowed: ${n.join(", ")}`);let{sigOutputs:l}=this.inputSighash(r);if(l===Ni.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let m=this.prevOut(o);if(s.txType==="taproot"){if(o.tapBip32Derivation)throw new Error("tapBip32Derivation unsupported");let w=this.inputs.map(this.prevOut),b=w.map(B=>B.script),E=w.map(B=>B.amount),I=!1,M=Nu.getPublicKey(e),k=o.tapMerkleRoot||Gi;if(o.tapInternalKey){let{pubKey:B,privKey:R}=kBt(e,M,o.tapInternalKey,k),[U,P]=BOe(o.tapInternalKey,k);if(wi(U,B)){let F=this.preimageWitnessV1(r,b,c,E),V=qg(Nu.sign(F,R,i),c!==Ni.DEFAULT?new Uint8Array([c]):Gi);this.updateInput(r,{tapKeySig:V},!0),I=!0}}if(o.tapLeafScript){o.tapScriptSig=o.tapScriptSig||[];for(let[B,R]of o.tapLeafScript){let U=R.subarray(0,-1),P=Zo.decode(U),F=R[R.length-1],V=JU(U,F);if(P.findIndex(ie=>Di(ie)&&wi(ie,M))===-1)continue;let re=this.preimageWitnessV1(r,b,c,E,void 0,U,F),J=qg(Nu.sign(re,e,i),c!==Ni.DEFAULT?new Uint8Array([c]):Gi);this.updateInput(r,{tapScriptSig:[[{pubKey:M,leafHash:V},J]]},!0),I=!0}}if(!I)throw new Error("No taproot scripts signed");return!0}else{let w=YRt(e),b=!1,E=oL(w);for(let k of Zo.decode(s.lastScript))Di(k)&&(wi(k,w)||wi(k,E))&&(b=!0);if(!b)throw new Error(`Input script doesn't have pubKey: ${s.lastScript}`);let I;if(s.txType==="legacy")I=this.preimageLegacy(r,s.lastScript,c);else if(s.txType==="segwit"){let k=s.lastScript;s.last.type==="wpkh"&&(k=Jo.encode({type:"pkh",hash:s.last.hash})),I=this.preimageWitnessV0(r,k,c,m.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${s.txType}`);let M=ZRt(I,e,this.opts.lowR);this.updateInput(r,{partialSig:[[w,qg(M,new Uint8Array([c]))]]},!0)}return!0}sign(e,r,n){let i=0;for(let o=0;o<this.inputs.length;o++)try{this.signIdx(e,o,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(e){if(this.checkInputIdx(e),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[e],n=this.inputType(r);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let l=r.tapLeafScript.sort((m,w)=>vE.encode(m[0]).length-vE.encode(w[0]).length);for(let[m,w]of l){let b=w.slice(0,-1),E=w[w.length-1],I=Jo.decode(b),M=JU(b,E),k=r.tapScriptSig.filter(R=>wi(R[0].leafHash,M)),B=[];if(I.type==="tr_ms"){let R=I.m,U=I.pubkeys,P=0;for(let F of U){let V=k.findIndex(H=>wi(H[0].pubKey,F));if(P===R||V===-1){B.push(Gi);continue}B.push(k[V][1]),P++}if(P!==R)continue}else if(I.type==="tr_ns"){for(let R of I.pubkeys){let U=k.findIndex(P=>wi(P[0].pubKey,R));U!==-1&&B.push(k[U][1])}if(B.length!==I.pubkeys.length)continue}else if(I.type==="unknown"&&this.opts.allowUnknownInputs){let R=Zo.decode(b);if(B=k.map(([{pubKey:U},P])=>{let F=R.findIndex(V=>Di(V)&&wi(V,U));if(F===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:P,pos:F}}).sort((U,P)=>U.pos-P.pos).map(U=>U.signature),!B.length)continue}else throw new Error("Finalize: Unknown tapLeafScript");r.finalScriptWitness=B.reverse().concat([b,vE.encode(m)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=Gi,kOe(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=Gi,o=[];if(n.last.type==="ms"){let l=n.last.m,m=n.last.pubkeys,w=[];for(let b of m){let E=r.partialSig.find(I=>wi(b,I[0]));E&&w.push(E[1])}if(w=w.slice(0,l),w.length!==l)throw new Error(`Multisig: wrong signatures count, m=${l} n=${m.length} signatures=${w.length}`);i=Zo.encode([0,...w])}else if(n.last.type==="pk")i=Zo.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=Zo.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=Gi,o=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let s,c;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(o=Zo.decode(i).map(l=>{if(l===0)return Gi;if(Di(l))return l;throw new Error(`Wrong witness op=${l}`)})),o=o.concat(n.lastScript)),n.txType==="segwit"&&(c=o),n.type.startsWith("sh-wsh-")?s=Zo.encode([Zo.encode([0,ys(n.lastScript)])]):n.type.startsWith("sh-")?s=Zo.encode([...Zo.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(s=i),!s&&!c)throw new Error("Unknown error finalizing input");s&&(r.finalScriptSig=s),c&&(r.finalScriptWitness=c),kOe(r)}finalize(){for(let e=0;e<this.inputs.length;e++)this.finalizeIdx(e)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(e){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==e.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${e.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==e[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${e[i].length}`);let r=this.global.unsignedTx?Kh.encode(this.global.unsignedTx):Gi,n=e.global.unsignedTx?Kh.encode(e.global.unsignedTx):Gi;if(!wi(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=One(Gne,this.global,e.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,e.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,e.outputs[i],!0);return this}clone(){return t.fromPSBT(this.toPSBT(2),this.opts)}};var VOe=Ke(d4()),Jne=Ke(s$());var Xne=t=>t.length===32?t:t.slice(1,33);function CBt(t){return Yc.Buffer.concat([(0,Jne.encode)(t.byteLength),t])}function OBt(t){let{sha256:e}=VOe.crypto,n=e(Yc.Buffer.from("BIP0322-signed-message"));return e(Yc.Buffer.concat([n,n,Yc.Buffer.from(t)])).toString("hex")}var NBt=(t,e)=>{switch(t){case"bip122_p2tr":return Obe.getPublicKey(e);case"bip122_p2sh":return I0(e,!0);case"bip122_p2wpkh":return I0(e,!0);default:throw new Error("Unsupported Address Type")}},DBt=(t,e)=>{let r=Kg;switch(t){case"bip122_p2tr":return qOe(e,void 0,r);case"bip122_p2wpkh":return Qne(e,r);case"bip122_p2sh":{let n=Qne(e,r);return LOe(n,r)}default:throw new Error("Unsupported Address Type")}};function UBt(t,e,r,n){let i=dx.fromPSBT(r,{allowUnknownInputs:!0});try{e.forEach(o=>{let s=Vy("bip122:000000000019d6689c085ae165831e93",o.address),c=t[s];if(!c)throw new Error("missing private key for ("+s+")");let{publicKey:l,privateKey:m}=c;o.signingIndexes.forEach(w=>{let b=i.getInput(w),E=b.witnessUtxo?.script&&Jo.decode(b.witnessUtxo.script);if(!o.isScriptSpend&&!b.tapInternalKey&&E?.type==="tr"&&i.updateInput(w,{tapInternalKey:Xne(Yc.Buffer.from(l))}),o.sigHash)try{i.signIdx(m,w,[o.sigHash],aT(32))}catch{i.signIdx(m,w,void 0,aT(32))}else i.signIdx(m,w,void 0,aT(32));if(n)try{i.finalizeIdx(w)}catch{}})})}catch(o){throw console.error(o),new Error(`Error signing PSBT ${o.toString()}`)}return Promise.resolve(i.toPSBT(0))}var HOe=()=>({type:"keyPair",sign:async(t,e)=>{try{switch(e.signingType){case"message":{let r=e.chainType,n=Yc.Buffer.from(e.message).toString("utf8"),i=t[e.chainType]?.privateKey;if(!i)throw new Error("missing private key for ("+e.chainType+")");let o=Yc.Buffer.from(i).toString("hex"),s=NBt(r,o),c=DBt(r,s),l=Yc.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),m=0,w=4294967295,b=0,E=Zo.encode(["OP_0",Yc.Buffer.from(OBt(n),"hex")]),I=new dx({allowUnknownOutputs:!0,version:m});I.addOutput({amount:BigInt(0),script:c.script}),I.addInput({txid:l,index:w,sequence:b,finalScriptSig:E});let M=new dx({allowUnknownOutputs:!0,version:m});M.addInput({txid:I.id,index:0,sequence:b,tapInternalKey:r==="bip122_p2tr"?s:void 0,witnessUtxo:{script:c.script,amount:BigInt(0)},redeemScript:c.redeemScript}),M.addOutput({script:Zo.encode(["RETURN"]),amount:BigInt(0)}),M.sign(Yc.Buffer.from(o,"hex"),void 0,aT(32)),M.finalize();let k=null,B=M.getInput(0);if(B.finalScriptWitness?.length){let R=(0,Jne.encode)(B.finalScriptWitness?.length);k=Yc.Buffer.concat([R,...B.finalScriptWitness.map(U=>CBt(U))])}else throw new Error("couldnt produce a signature");return{status:"success",signature:k.toString("hex"),message:M.toBytes()}}case"transaction":{let r=await UBt(t,e.inputsToSign??[],Yc.Buffer.from(e.message??"","hex"),e.finalize??!1);return{status:"success",signature:Yc.Buffer.from(r).toString("hex")}}}}catch{return Lr("internalError")}}});d();h();var zOe=Ke(Fa()),WOe=Ke(ls());d();h();var jOe=Ke(Fa());function uL(t,e,r){if(r!=="solana")return Lr("invalidAddressType");if(t instanceof Uint8Array)return t;try{return e==="transaction"?jOe.default.decode(t):Buffer.from(t,"utf8")}catch(n){return Lr("invalidMessageEncoding",`Failed to decode message: ${n instanceof Error?n.message:"Unknown error"}`)}}var GOe=()=>({type:"keyPair",sign:(t,e)=>{let r=e.data,n=uL(r.message,r.signingType,r.chainType);if("status"in n)return Promise.resolve(n);let i=zOe.default.encode(WOe.default.sign.detached(n,t.privateKey));return Promise.resolve({status:"success",signature:i})}});d();h();var wE=Ke(Fn()),$Oe=Ke(ts());var Vh=Ke(ine()),YOe=Ke(Mx());var ZOe=()=>({type:"keyPair",sign:(t,e)=>{try{switch(e.signingType){case"typedData":{switch(e.version){case 1:{let r=wE.Buffer.from(t.privateKey.slice()),n=Vh.SignTypedDataVersion.V1,{data:i}=e,o=(0,Vh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 3:{let r=wE.Buffer.from(t.privateKey.slice()),n=Vh.SignTypedDataVersion.V3,i=e.data,o=(0,Vh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 4:{let r=wE.Buffer.from(t.privateKey.slice()),n=Vh.SignTypedDataVersion.V4,i=e.data,o=(0,Vh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}}break}case"message":{let r=e.message,n=(0,Vh.personalSign)({privateKey:wE.Buffer.from(t.privateKey),data:r});return Promise.resolve({status:"success",signature:n})}case"transaction":{let r=wE.Buffer.from(e.message.replace("0x",""),"hex"),n=new Af(t.privateKey),i=`0x${(0,YOe.keccak256)(r)}`,o=(0,$Oe.joinSignature)(n.signDigest(i));return Promise.resolve({status:"success",signature:o})}}}catch(r){return console.error(r),Promise.resolve(Lr("invalidMessageEncoding"))}}});d();h();var bx=Ke(Fn());d();h();d();h();d();h();d();h();function QOe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function LBt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function eie(t,...e){if(!LBt(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function JOe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");QOe(t.outputLen),QOe(t.blockLen)}function SE(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function XOe(t,e){eie(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();d();h();var fL=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function eNe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var lL=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),pd=(t,e)=>t<<32-e|t>>>e,FBt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!FBt)throw new Error("Non little-endian hardware is not supported");function qBt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function gT(t){if(typeof t=="string"&&(t=qBt(t)),!eNe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function tNe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];if(!eNe(i))throw new Error("Uint8Array expected");e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var AE=class{clone(){return this._cloneInto()}},dvn={}.toString;function rNe(t){let e=n=>t().update(gT(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function nNe(t=32){if(fL&&typeof fL.getRandomValues=="function")return fL.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var dL=class extends AE{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,JOe(e);let n=gT(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return SE(this),this.iHash.update(e),this}digestInto(e){SE(this),eie(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},tie=(t,e,r)=>new dL(t,e).update(r).digest();tie.create=(t,e)=>new dL(t,e);d();h();d();h();var oie={};UF(oie,{bitGet:()=>GBt,bitLen:()=>WBt,bitMask:()=>bT,bitSet:()=>$Bt,bytesToHex:()=>hx,bytesToNumberBE:()=>Pp,bytesToNumberLE:()=>pL,concatBytes:()=>EE,createHmacDrbg:()=>iie,ensureBytes:()=>Lu,equalBytes:()=>jBt,hexToBytes:()=>px,hexToNumber:()=>nie,isBytes:()=>md,numberToBytesBE:()=>Vg,numberToBytesLE:()=>mL,numberToHexUnpadded:()=>aNe,numberToVarBytesBE:()=>HBt,utf8ToBytes:()=>zBt,validateObject:()=>Hg});d();h();var sNe=BigInt(0),hL=BigInt(1),KBt=BigInt(2);function md(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var VBt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hx(t){if(!md(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=VBt[t[r]];return e}function aNe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function nie(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}var kp={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function iNe(t){if(t>=kp._0&&t<=kp._9)return t-kp._0;if(t>=kp._A&&t<=kp._F)return t-(kp._A-10);if(t>=kp._a&&t<=kp._f)return t-(kp._a-10)}function px(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=iNe(t.charCodeAt(o)),c=iNe(t.charCodeAt(o+1));if(s===void 0||c===void 0){let l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+c}return n}function Pp(t){return nie(hx(t))}function pL(t){if(!md(t))throw new Error("Uint8Array expected");return nie(hx(Uint8Array.from(t).reverse()))}function Vg(t,e){return px(t.toString(16).padStart(e*2,"0"))}function mL(t,e){return Vg(t,e).reverse()}function HBt(t){return px(aNe(t))}function Lu(t,e,r){let n;if(typeof e=="string")try{n=px(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(md(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function EE(...t){let e=0;for(let i=0;i<t.length;i++){let o=t[i];if(!md(o))throw new Error("Uint8Array expected");e+=o.length}let r=new Uint8Array(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return r}function jBt(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function zBt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function WBt(t){let e;for(e=0;t>sNe;t>>=hL,e+=1);return e}function GBt(t,e){return t>>BigInt(e)&hL}var $Bt=(t,e,r)=>t|(r?hL:sNe)<<BigInt(e),bT=t=>(KBt<<BigInt(t-1))-hL,rie=t=>new Uint8Array(t),oNe=t=>Uint8Array.from(t);function iie(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=rie(t),i=rie(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},c=(...b)=>r(i,n,...b),l=(b=rie())=>{i=c(oNe([0]),b),n=c(),b.length!==0&&(i=c(oNe([1]),b),n=c())},m=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,E=[];for(;b<e;){n=c();let I=n.slice();E.push(I),b+=n.length}return EE(...E)};return(b,E)=>{s(),l(b);let I;for(;!(I=E(m()));)l();return s(),I}}var YBt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||md(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Hg(t,e,r={}){let n=(i,o,s)=>{let c=YBt[o];if(typeof c!="function")throw new Error(`Invalid validator "${o}", expected function`);let l=t[i];if(!(s&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var Xo=BigInt(0),so=BigInt(1),mx=BigInt(2),ZBt=BigInt(3),sie=BigInt(4),cNe=BigInt(5),uNe=BigInt(8),QBt=BigInt(9),JBt=BigInt(16);function Ua(t,e){let r=t%e;return r>=Xo?r:e+r}function XBt(t,e,r){if(r<=Xo||e<Xo)throw new Error("Expected power/modulo > 0");if(r===so)return Xo;let n=so;for(;e>Xo;)e&so&&(n=n*t%r),t=t*t%r,e>>=so;return n}function Fu(t,e,r){let n=t;for(;e-- >Xo;)n*=n,n%=r;return n}function yL(t,e){if(t===Xo||e<=Xo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ua(t,e),n=e,i=Xo,o=so,s=so,c=Xo;for(;r!==Xo;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==so)throw new Error("invert: does not exist");return Ua(i,e)}function eCt(t){let e=(t-so)/mx,r,n,i;for(r=t-so,n=0;r%mx===Xo;r/=mx,n++);for(i=mx;i<t&&XBt(i,e,t)!==t-so;i++);if(n===1){let s=(t+so)/sie;return function(l,m){let w=l.pow(m,s);if(!l.eql(l.sqr(w),m))throw new Error("Cannot find square root");return w}}let o=(r+so)/mx;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let m=n,w=c.pow(c.mul(c.ONE,i),r),b=c.pow(l,o),E=c.pow(l,r);for(;!c.eql(E,c.ONE);){if(c.eql(E,c.ZERO))return c.ZERO;let I=1;for(let k=c.sqr(E);I<m&&!c.eql(k,c.ONE);I++)k=c.sqr(k);let M=c.pow(w,so<<BigInt(m-I-1));w=c.sqr(M),b=c.mul(b,M),E=c.mul(E,w),m=I}return b}}function tCt(t){if(t%sie===ZBt){let e=(t+so)/sie;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%uNe===cNe){let e=(t-cNe)/uNe;return function(n,i){let o=n.mul(i,mx),s=n.pow(o,e),c=n.mul(i,s),l=n.mul(n.mul(c,mx),s),m=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(m),i))throw new Error("Cannot find square root");return m}}return t%JBt,eCt(t)}var rCt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aie(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=rCt.reduce((n,i)=>(n[i]="function",n),e);return Hg(t,r)}function nCt(t,e,r){if(r<Xo)throw new Error("Expected power > 0");if(r===Xo)return t.ONE;if(r===so)return e;let n=t.ONE,i=e;for(;r>Xo;)r&so&&(n=t.mul(n,i)),i=t.sqr(i),r>>=so;return n}function iCt(t,e){let r=new Array(e.length),n=e.reduce((o,s,c)=>t.is0(s)?o:(r[c]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,c)=>t.is0(s)?o:(r[c]=t.mul(o,r[c]),t.mul(o,s)),i),r}function cie(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function gL(t,e,r=!1,n={}){if(t<=Xo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=cie(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=tCt(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:bT(i),ZERO:Xo,ONE:so,create:l=>Ua(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Xo<=l&&l<t},is0:l=>l===Xo,isOdd:l=>(l&so)===so,neg:l=>Ua(-l,t),eql:(l,m)=>l===m,sqr:l=>Ua(l*l,t),add:(l,m)=>Ua(l+m,t),sub:(l,m)=>Ua(l-m,t),mul:(l,m)=>Ua(l*m,t),pow:(l,m)=>nCt(c,l,m),div:(l,m)=>Ua(l*yL(m,t),t),sqrN:l=>l*l,addN:(l,m)=>l+m,subN:(l,m)=>l-m,mulN:(l,m)=>l*m,inv:l=>yL(l,t),sqrt:n.sqrt||(l=>s(c,l)),invertBatch:l=>iCt(c,l),cmov:(l,m,w)=>w?m:l,toBytes:l=>r?mL(l,o):Vg(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?pL(l):Pp(l)}});return Object.freeze(c)}function fNe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function uie(t){let e=fNe(t);return e+Math.ceil(e/2)}function bL(t,e,r=!1){let n=t.length,i=fNe(e),o=uie(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?Pp(t):pL(t),c=Ua(s,e-so)+so;return r?mL(c,i):Vg(c,i)}d();h();var oCt=BigInt(0),fie=BigInt(1);function dNe(t,e){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=t.ZERO,c=i;for(;o>oCt;)o&fie&&(s=s.add(c)),c=c.double(),o>>=fie;return s},precomputeWindow(i,o){let{windows:s,windowSize:c}=n(o),l=[],m=i,w=m;for(let b=0;b<s;b++){w=m,l.push(w);for(let E=1;E<c;E++)w=w.add(m),l.push(w);m=w.double()}return l},wNAF(i,o,s){let{windows:c,windowSize:l}=n(i),m=t.ZERO,w=t.BASE,b=BigInt(2**i-1),E=2**i,I=BigInt(i);for(let M=0;M<c;M++){let k=M*l,B=Number(s&b);s>>=I,B>l&&(B-=E,s+=fie);let R=k,U=k+Math.abs(B)-1,P=M%2!==0,F=B<0;B===0?w=w.add(r(P,o[R])):m=m.add(r(F,o[U]))}return{p:m,f:w}},wNAFCached(i,o,s,c){let l=i._WINDOW_SIZE||1,m=o.get(i);return m||(m=this.precomputeWindow(i,l),l!==1&&o.set(i,c(m))),this.wNAF(l,m,s)}}}function lie(t){return aie(t.Fp),Hg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cie(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function sCt(t){let e=lie(t);Hg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:aCt,hexToBytes:cCt}=oie,yx={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=yx;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:aCt(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=yx,r=typeof t=="string"?cCt(t):t;if(!md(r))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=yx._parseInt(r.subarray(2)),{d:s,l:c}=yx._parseInt(o);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){let e=m=>Number.parseInt(m[0],16)&8?"00"+m:m,r=m=>{let w=m.toString(16);return w.length&1?`0${w}`:w},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,c=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${c}${n}`}},Rp=BigInt(0),il=BigInt(1),Ovn=BigInt(2),hNe=BigInt(3),Nvn=BigInt(4);function uCt(t){let e=sCt(t),{Fp:r}=e,n=e.toBytes||((M,k,B)=>{let R=k.toAffine();return EE(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),i=e.fromBytes||(M=>{let k=M.subarray(1),B=r.fromBytes(k.subarray(0,r.BYTES)),R=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:B,y:R}});function o(M){let{a:k,b:B}=e,R=r.sqr(M),U=r.mul(R,M);return r.add(r.add(U,r.mul(M,k)),B)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(M){return typeof M=="bigint"&&Rp<M&&M<e.n}function c(M){if(!s(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(M){let{allowedPrivateKeyLengths:k,nByteLength:B,wrapPrivateKey:R,n:U}=e;if(k&&typeof M!="bigint"){if(md(M)&&(M=hx(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(B*2,"0")}let P;try{P=typeof M=="bigint"?M:Pp(Lu("private key",M,B))}catch{throw new Error(`private key must be ${B} bytes, hex or bigint, not ${typeof M}`)}return R&&(P=Ua(P,U)),c(P),P}let m=new Map;function w(M){if(!(M instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(k,B,R){if(this.px=k,this.py=B,this.pz=R,k==null||!r.isValid(k))throw new Error("x required");if(B==null||!r.isValid(B))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required")}static fromAffine(k){let{x:B,y:R}=k||{};if(!k||!r.isValid(B)||!r.isValid(R))throw new Error("invalid affine point");if(k instanceof b)throw new Error("projective point not allowed");let U=P=>r.eql(P,r.ZERO);return U(B)&&U(R)?b.ZERO:new b(B,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let B=r.invertBatch(k.map(R=>R.pz));return k.map((R,U)=>R.toAffine(B[U])).map(b.fromAffine)}static fromHex(k){let B=b.fromAffine(i(Lu("pointHex",k)));return B.assertValidity(),B}static fromPrivateKey(k){return b.BASE.multiply(l(k))}_setWindowSize(k){this._WINDOW_SIZE=k,m.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:k,y:B}=this.toAffine();if(!r.isValid(k)||!r.isValid(B))throw new Error("bad point: x or y not FE");let R=r.sqr(B),U=o(k);if(!r.eql(R,U))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){w(k);let{px:B,py:R,pz:U}=this,{px:P,py:F,pz:V}=k,H=r.eql(r.mul(B,V),r.mul(P,U)),re=r.eql(r.mul(R,V),r.mul(F,U));return H&&re}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:B}=e,R=r.mul(B,hNe),{px:U,py:P,pz:F}=this,V=r.ZERO,H=r.ZERO,re=r.ZERO,J=r.mul(U,U),ie=r.mul(P,P),S=r.mul(F,F),a=r.mul(U,P);return a=r.add(a,a),re=r.mul(U,F),re=r.add(re,re),V=r.mul(k,re),H=r.mul(R,S),H=r.add(V,H),V=r.sub(ie,H),H=r.add(ie,H),H=r.mul(V,H),V=r.mul(a,V),re=r.mul(R,re),S=r.mul(k,S),a=r.sub(J,S),a=r.mul(k,a),a=r.add(a,re),re=r.add(J,J),J=r.add(re,J),J=r.add(J,S),J=r.mul(J,a),H=r.add(H,J),S=r.mul(P,F),S=r.add(S,S),J=r.mul(S,a),V=r.sub(V,J),re=r.mul(S,ie),re=r.add(re,re),re=r.add(re,re),new b(V,H,re)}add(k){w(k);let{px:B,py:R,pz:U}=this,{px:P,py:F,pz:V}=k,H=r.ZERO,re=r.ZERO,J=r.ZERO,ie=e.a,S=r.mul(e.b,hNe),a=r.mul(B,P),f=r.mul(R,F),p=r.mul(U,V),y=r.add(B,R),g=r.add(P,F);y=r.mul(y,g),g=r.add(a,f),y=r.sub(y,g),g=r.add(B,U);let A=r.add(P,V);return g=r.mul(g,A),A=r.add(a,p),g=r.sub(g,A),A=r.add(R,U),H=r.add(F,V),A=r.mul(A,H),H=r.add(f,p),A=r.sub(A,H),J=r.mul(ie,g),H=r.mul(S,p),J=r.add(H,J),H=r.sub(f,J),J=r.add(f,J),re=r.mul(H,J),f=r.add(a,a),f=r.add(f,a),p=r.mul(ie,p),g=r.mul(S,g),f=r.add(f,p),p=r.sub(a,p),p=r.mul(ie,p),g=r.add(g,p),a=r.mul(f,g),re=r.add(re,a),a=r.mul(A,g),H=r.mul(y,H),H=r.sub(H,a),a=r.mul(y,f),J=r.mul(A,J),J=r.add(J,a),new b(H,re,J)}subtract(k){return this.add(k.negate())}is0(){return this.equals(b.ZERO)}wNAF(k){return I.wNAFCached(this,m,k,B=>{let R=r.invertBatch(B.map(U=>U.pz));return B.map((U,P)=>U.toAffine(R[P])).map(b.fromAffine)})}multiplyUnsafe(k){let B=b.ZERO;if(k===Rp)return B;if(c(k),k===il)return this;let{endo:R}=e;if(!R)return I.unsafeLadder(this,k);let{k1neg:U,k1:P,k2neg:F,k2:V}=R.splitScalar(k),H=B,re=B,J=this;for(;P>Rp||V>Rp;)P&il&&(H=H.add(J)),V&il&&(re=re.add(J)),J=J.double(),P>>=il,V>>=il;return U&&(H=H.negate()),F&&(re=re.negate()),re=new b(r.mul(re.px,R.beta),re.py,re.pz),H.add(re)}multiply(k){c(k);let B=k,R,U,{endo:P}=e;if(P){let{k1neg:F,k1:V,k2neg:H,k2:re}=P.splitScalar(B),{p:J,f:ie}=this.wNAF(V),{p:S,f:a}=this.wNAF(re);J=I.constTimeNegate(F,J),S=I.constTimeNegate(H,S),S=new b(r.mul(S.px,P.beta),S.py,S.pz),R=J.add(S),U=ie.add(a)}else{let{p:F,f:V}=this.wNAF(B);R=F,U=V}return b.normalizeZ([R,U])[0]}multiplyAndAddUnsafe(k,B,R){let U=b.BASE,P=(V,H)=>H===Rp||H===il||!V.equals(U)?V.multiplyUnsafe(H):V.multiply(H),F=P(this,B).add(P(k,R));return F.is0()?void 0:F}toAffine(k){let{px:B,py:R,pz:U}=this,P=this.is0();k==null&&(k=P?r.ONE:r.inv(U));let F=r.mul(B,k),V=r.mul(R,k),H=r.mul(U,k);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(H,r.ONE))throw new Error("invZ was invalid");return{x:F,y:V}}isTorsionFree(){let{h:k,isTorsionFree:B}=e;if(k===il)return!0;if(B)return B(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:B}=e;return k===il?this:B?B(b,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),n(b,this,k)}toHex(k=!0){return hx(this.toRawBytes(k))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,I=dNe(b,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function fCt(t){let e=lie(t);return Hg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function pNe(t){let e=fCt(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(g){return Rp<g&&g<r.ORDER}function c(g){return Ua(g,n)}function l(g){return yL(g,n)}let{ProjectivePoint:m,normPrivateKeyToScalar:w,weierstrassEquation:b,isWithinCurveOrder:E}=uCt({...e,toBytes(g,A,_){let v=A.toAffine(),u=r.toBytes(v.x),x=EE;return _?x(Uint8Array.from([A.hasEvenY()?2:3]),u):x(Uint8Array.from([4]),u,r.toBytes(v.y))},fromBytes(g){let A=g.length,_=g[0],v=g.subarray(1);if(A===i&&(_===2||_===3)){let u=Pp(v);if(!s(u))throw new Error("Point is not on curve");let x=b(u),q=r.sqrt(x),L=(q&il)===il;return(_&1)===1!==L&&(q=r.neg(q)),{x:u,y:q}}else if(A===o&&_===4){let u=r.fromBytes(v.subarray(0,r.BYTES)),x=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:u,y:x}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),I=g=>hx(Vg(g,e.nByteLength));function M(g){let A=n>>il;return g>A}function k(g){return M(g)?c(-g):g}let B=(g,A,_)=>Pp(g.slice(A,_));class R{constructor(A,_,v){this.r=A,this.s=_,this.recovery=v,this.assertValidity()}static fromCompact(A){let _=e.nByteLength;return A=Lu("compactSignature",A,_*2),new R(B(A,0,_),B(A,_,2*_))}static fromDER(A){let{r:_,s:v}=yx.toSig(Lu("DER",A));return new R(_,v)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new R(this.r,this.s,A)}recoverPublicKey(A){let{r:_,s:v,recovery:u}=this,x=re(Lu("msgHash",A));if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");let q=u===2||u===3?_+e.n:_;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let L=u&1?"03":"02",C=m.fromHex(L+I(q)),W=l(q),ee=c(-x*W),ne=c(v*W),Ve=m.BASE.multiplyAndAddUnsafe(C,ee,ne);if(!Ve)throw new Error("point at infinify");return Ve.assertValidity(),Ve}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return px(this.toDERHex())}toDERHex(){return yx.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return px(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let U={isValidPrivateKey(g){try{return w(g),!0}catch{return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{let g=uie(e.n);return bL(e.randomBytes(g),e.n)},precompute(g=8,A=m.BASE){return A._setWindowSize(g),A.multiply(BigInt(3)),A}};function P(g,A=!0){return m.fromPrivateKey(g).toRawBytes(A)}function F(g){let A=md(g),_=typeof g=="string",v=(A||_)&&g.length;return A?v===i||v===o:_?v===2*i||v===2*o:g instanceof m}function V(g,A,_=!0){if(F(g))throw new Error("first arg must be private key");if(!F(A))throw new Error("second arg must be public key");return m.fromHex(A).multiply(w(g)).toRawBytes(_)}let H=e.bits2int||function(g){let A=Pp(g),_=g.length*8-e.nBitLength;return _>0?A>>BigInt(_):A},re=e.bits2int_modN||function(g){return c(H(g))},J=bT(e.nBitLength);function ie(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(Rp<=g&&g<J))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Vg(g,e.nByteLength)}function S(g,A,_=a){if(["recovered","canonical"].some(G=>G in _))throw new Error("sign() legacy options not supported");let{hash:v,randomBytes:u}=e,{lowS:x,prehash:q,extraEntropy:L}=_;x==null&&(x=!0),g=Lu("msgHash",g),q&&(g=Lu("prehashed msgHash",v(g)));let C=re(g),W=w(A),ee=[ie(W),ie(C)];if(L!=null){let G=L===!0?u(r.BYTES):L;ee.push(Lu("extraEntropy",G))}let ne=EE(...ee),Ve=C;function ae(G){let he=H(G);if(!E(he))return;let te=l(he),ce=m.BASE.multiply(he).toAffine(),Ye=c(ce.x);if(Ye===Rp)return;let se=c(te*c(Ve+Ye*W));if(se===Rp)return;let le=(ce.x===Ye?0:2)|Number(ce.y&il),Pt=se;return x&&M(se)&&(Pt=k(se),le^=1),new R(Ye,Pt,le)}return{seed:ne,k2sig:ae}}let a={lowS:e.lowS,prehash:!1},f={lowS:e.lowS,prehash:!1};function p(g,A,_=a){let{seed:v,k2sig:u}=S(g,A,_),x=e;return iie(x.hash.outputLen,x.nByteLength,x.hmac)(v,u)}m.BASE._setWindowSize(8);function y(g,A,_,v=f){let u=g;if(A=Lu("msgHash",A),_=Lu("publicKey",_),"strict"in v)throw new Error("options.strict was renamed to lowS");let{lowS:x,prehash:q}=v,L,C;try{if(typeof u=="string"||md(u))try{L=R.fromDER(u)}catch(ce){if(!(ce instanceof yx.Err))throw ce;L=R.fromCompact(u)}else if(typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint"){let{r:ce,s:Ye}=u;L=new R(ce,Ye)}else throw new Error("PARSE");C=m.fromHex(_)}catch(ce){if(ce.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(x&&L.hasHighS())return!1;q&&(A=e.hash(A));let{r:W,s:ee}=L,ne=re(A),Ve=l(ee),ae=c(ne*Ve),G=c(W*Ve),he=m.BASE.multiplyAndAddUnsafe(C,ae,G)?.toAffine();return he?c(he.x)===W:!1}return{CURVE:e,getPublicKey:P,getSharedSecret:V,sign:p,verify:y,ProjectivePoint:m,Signature:R,utils:U}}function lCt(t){return{hash:t,hmac:(e,...r)=>tie(t,e,tNe(...r)),randomBytes:nNe}}function vL(t,e){let r=n=>pNe({...t,...lCt(n)});return Object.freeze({...r(e),create:r})}d();h();d();h();function dCt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var xL=class extends AE{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=lL(this.buffer)}update(e){SE(this);let{view:r,buffer:n,blockLen:i}=this;e=gT(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=lL(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){SE(this),XOe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;dCt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=lL(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var hCt=(t,e,r)=>t&e^~t&r,pCt=(t,e,r)=>t&e^t&r^e&r,mCt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zg=new Uint32Array(64),die=class extends xL{constructor(){super(64,32,8,!1),this.A=jg[0]|0,this.B=jg[1]|0,this.C=jg[2]|0,this.D=jg[3]|0,this.E=jg[4]|0,this.F=jg[5]|0,this.G=jg[6]|0,this.H=jg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)zg[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=zg[b-15],I=zg[b-2],M=pd(E,7)^pd(E,18)^E>>>3,k=pd(I,17)^pd(I,19)^I>>>10;zg[b]=k+zg[b-7]+M+zg[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=pd(c,6)^pd(c,11)^pd(c,25),I=w+E+hCt(c,l,m)+mCt[b]+zg[b]|0,k=(pd(n,2)^pd(n,13)^pd(n,22))+pCt(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){zg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var wL=rNe(()=>new die);var mNe=gL(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),yCt=mNe.create(BigInt("-3")),gCt=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),gx=vL({a:yCt,b:gCt,Fp:mNe,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},wL);var yNe=()=>({type:"keyPair",sign:(t,e)=>{if(!e.isJWT)return Promise.resolve(Lr("invalidAddressType"));if(e.data.payload.iss!==c5)return Promise.resolve(Lr("invalidClaim"));if(e.data.payload.aud!==u5)return Promise.resolve(Lr("invalidClaim"));let r={...e.data.header,kid:ri(bx.Buffer.from(t.publicKey))},n={...e.data.payload,sub:ri(bx.Buffer.from(t.publicKey))},i=ri(bx.Buffer.from(JSON.stringify(r)))+"."+ri(bx.Buffer.from(JSON.stringify(n))),s=gx.sign(bx.Buffer.from(i).toString("hex"),t.privateKey,{prehash:!0}).toCompactRawBytes(),c=ri(bx.Buffer.from(s)),l={header:r,payload:n,signature:c};return Promise.resolve({status:"success",signature:c,signedJWT:l})}});d();h();var gNe=()=>({type:"keyPair",sign:async(t,e)=>{if(!e.isKMSP256OrganizationOwner)return Lr("invalidAddressType");try{let r=Buffer.from(e.data).toString("hex"),i=gx.sign(r,t.privateKey,{prehash:!0}).toCompactRawBytes();return{status:"success",signature:ri(i)}}catch(r){let n=r instanceof Error?r.message:"Failed to sign data for KMS organization owner authentication";return Lr("internalError",n)}}});d();h();var bNe=()=>({type:"kms",sign:async(t,e,r)=>{let n=r.data,i=uL(n.message,n.signingType,n.chainType);if("status"in i)return i;try{let o=ri(i),{result:{signature:s}}=await t.signRawPayload({payload:o,organizationId:e.organizationId,walletId:e.walletId,derivationInfo:{curve:"Ed25519",derivationPath:e.derivationPath,addressFormat:"Solana"},algorithm:"Ed25519"});return{status:"success",signature:Xj(s)}}catch(o){return Lr("internalError",`KMS cash signing failed: ${o instanceof Error?o.message:"Unknown error"}`)}}});d();h();var vNe=Ke(Fn());var hie=Ke(Fa()),xNe=Ke(ls());var wNe=()=>({type:"keyPair",sign:(t,e)=>{if(e.chainType!=="solana")return Promise.resolve(Lr("invalidAddressType"));let r;try{typeof e.message=="string"?e.signingType==="transaction"?r=hie.default.decode(e.message):r=vNe.Buffer.from(e.message,"utf8"):r=e.message}catch{return Promise.resolve(Lr("invalidMessageEncoding"))}let n=hie.default.encode(xNe.default.sign.detached(r,t.privateKey));return Promise.resolve({status:"success",signature:n})}});d();h();d();h();d();h();var wx=Ke(ls(),1);d();h();d();h();d();h();d();h();function _E(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function bCt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function TE(t,...e){if(!bCt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function SNe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_E(t.outputLen),_E(t.blockLen)}function Bp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function SL(t,e){TE(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();var IE=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),AL=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var Gg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,ENe=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,yd=Gg?t=>t:t=>ENe(t);function vx(t){for(let e=0;e<t.length;e++)t[e]=ENe(t[e])}var vCt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function EL(t){TE(t);let e="";for(let r=0;r<t.length;r++)e+=vCt[t[r]];return e}var Cp={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ANe(t){if(t>=Cp._0&&t<=Cp._9)return t-Cp._0;if(t>=Cp._A&&t<=Cp._F)return t-(Cp._A-10);if(t>=Cp._a&&t<=Cp._f)return t-(Cp._a-10)}function _Ne(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=ANe(t.charCodeAt(o)),c=ANe(t.charCodeAt(o+1));if(s===void 0||c===void 0){let l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+c}return n}function xCt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ol(t){return typeof t=="string"&&(t=xCt(t)),TE(t),t}var Wg=class{clone(){return this._cloneInto()}},Fxn={}.toString;function TNe(t){let e=n=>t().update(ol(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function INe(t){let e=(n,i)=>t(i).update(ol(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var MNe=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),_L=class extends Wg{constructor(e,r,n={},i,o,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,_E(e),_E(r),_E(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=IE(this.buffer=new Uint8Array(e))}update(e){Bp(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=ol(e);let o=e.length,s=e.byteOffset,c=e.buffer;for(let l=0;l<o;){this.pos===r&&(Gg||vx(i),this.compress(i,0,!1),Gg||vx(i),this.pos=0);let m=Math.min(r-this.pos,o-l),w=s+l;if(m===r&&!(w%4)&&l+m<o){let b=new Uint32Array(c,w,Math.floor((o-l)/4));Gg||vx(b);for(let E=0;l+r<o;E+=i.length,l+=r)this.length+=r,this.compress(b,E,!1);Gg||vx(b);continue}n.set(e.subarray(l,l+m),this.pos),this.pos+=m,this.length+=m,l+=m}return this}digestInto(e){Bp(this),SL(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),Gg||vx(n),this.compress(n,0,!0),Gg||vx(n);let i=IE(e);this.get().forEach((o,s)=>i[s]=yd(o))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:c}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=o,e.outputLen=s,e.buffer.set(r),e.pos=c,e}};d();h();var TL=BigInt(4294967295),pie=BigInt(32);function kNe(t,e=!1){return e?{h:Number(t&TL),l:Number(t>>pie&TL)}:{h:Number(t>>pie&TL)|0,l:Number(t&TL)|0}}function wCt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=kNe(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var SCt=(t,e)=>BigInt(t>>>0)<<pie|BigInt(e>>>0),ACt=(t,e,r)=>t>>>r,ECt=(t,e,r)=>t<<32-r|e>>>r,_Ct=(t,e,r)=>t>>>r|e<<32-r,TCt=(t,e,r)=>t<<32-r|e>>>r,ICt=(t,e,r)=>t<<64-r|e>>>r-32,MCt=(t,e,r)=>t>>>r-32|e<<64-r,kCt=(t,e)=>e,PCt=(t,e)=>t,RCt=(t,e,r)=>t<<r|e>>>32-r,BCt=(t,e,r)=>e<<r|t>>>32-r,CCt=(t,e,r)=>e<<r-32|t>>>64-r,OCt=(t,e,r)=>t<<r-32|e>>>64-r;function NCt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var DCt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),UCt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,LCt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),FCt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,qCt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),KCt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var VCt={fromBig:kNe,split:wCt,toBig:SCt,shrSH:ACt,shrSL:ECt,rotrSH:_Ct,rotrSL:TCt,rotrBH:ICt,rotrBL:MCt,rotr32H:kCt,rotr32L:PCt,rotlSH:RCt,rotlSL:BCt,rotlBH:CCt,rotlBL:OCt,add:NCt,add3L:DCt,add3H:UCt,add4L:LCt,add4H:FCt,add5H:KCt,add5L:qCt},Nt=VCt;var es=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),St=new Uint32Array(32);function $g(t,e,r,n,i,o){let s=i[o],c=i[o+1],l=St[2*t],m=St[2*t+1],w=St[2*e],b=St[2*e+1],E=St[2*r],I=St[2*r+1],M=St[2*n],k=St[2*n+1],B=Nt.add3L(l,w,s);m=Nt.add3H(B,m,b,c),l=B|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Nt.rotr32H(k,M),Dl:Nt.rotr32L(k,M)},{h:I,l:E}=Nt.add(I,E,k,M),{Bh:b,Bl:w}={Bh:b^I,Bl:w^E},{Bh:b,Bl:w}={Bh:Nt.rotrSH(b,w,24),Bl:Nt.rotrSL(b,w,24)},St[2*t]=l,St[2*t+1]=m,St[2*e]=w,St[2*e+1]=b,St[2*r]=E,St[2*r+1]=I,St[2*n]=M,St[2*n+1]=k}function Yg(t,e,r,n,i,o){let s=i[o],c=i[o+1],l=St[2*t],m=St[2*t+1],w=St[2*e],b=St[2*e+1],E=St[2*r],I=St[2*r+1],M=St[2*n],k=St[2*n+1],B=Nt.add3L(l,w,s);m=Nt.add3H(B,m,b,c),l=B|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Nt.rotrSH(k,M,16),Dl:Nt.rotrSL(k,M,16)},{h:I,l:E}=Nt.add(I,E,k,M),{Bh:b,Bl:w}={Bh:b^I,Bl:w^E},{Bh:b,Bl:w}={Bh:Nt.rotrBH(b,w,63),Bl:Nt.rotrBL(b,w,63)},St[2*t]=l,St[2*t+1]=m,St[2*e]=w,St[2*e+1]=b,St[2*r]=E,St[2*r+1]=I,St[2*n]=M,St[2*n+1]=k}var mie=class extends _L{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=es[0]|0,this.v0h=es[1]|0,this.v1l=es[2]|0,this.v1h=es[3]|0,this.v2l=es[4]|0,this.v2h=es[5]|0,this.v3l=es[6]|0,this.v3h=es[7]|0,this.v4l=es[8]|0,this.v4h=es[9]|0,this.v5l=es[10]|0,this.v5h=es[11]|0,this.v6l=es[12]|0,this.v6h=es[13]|0,this.v7l=es[14]|0,this.v7h=es[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=IE(ol(e.salt));this.v4l^=yd(n[0]),this.v4h^=yd(n[1]),this.v5l^=yd(n[2]),this.v5h^=yd(n[3])}if(e.personalization){let n=IE(ol(e.personalization));this.v6l^=yd(n[0]),this.v6h^=yd(n[1]),this.v7l^=yd(n[2]),this.v7h^=yd(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(ol(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:c,v3h:l,v4l:m,v4h:w,v5l:b,v5h:E,v6l:I,v6h:M,v7l:k,v7h:B}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=c|0,this.v3h=l|0,this.v4l=m|0,this.v4h=w|0,this.v5l=b|0,this.v5h=E|0,this.v6l=I|0,this.v6h=M|0,this.v7l=k|0,this.v7h=B|0}compress(e,r,n){this.get().forEach((l,m)=>St[m]=l),St.set(es,16);let{h:i,l:o}=Nt.fromBig(BigInt(this.length));St[24]=es[8]^o,St[25]=es[9]^i,n&&(St[28]=~St[28],St[29]=~St[29]);let s=0,c=MNe;for(let l=0;l<12;l++)$g(0,4,8,12,e,r+2*c[s++]),Yg(0,4,8,12,e,r+2*c[s++]),$g(1,5,9,13,e,r+2*c[s++]),Yg(1,5,9,13,e,r+2*c[s++]),$g(2,6,10,14,e,r+2*c[s++]),Yg(2,6,10,14,e,r+2*c[s++]),$g(3,7,11,15,e,r+2*c[s++]),Yg(3,7,11,15,e,r+2*c[s++]),$g(0,5,10,15,e,r+2*c[s++]),Yg(0,5,10,15,e,r+2*c[s++]),$g(1,6,11,12,e,r+2*c[s++]),Yg(1,6,11,12,e,r+2*c[s++]),$g(2,7,8,13,e,r+2*c[s++]),Yg(2,7,8,13,e,r+2*c[s++]),$g(3,4,9,14,e,r+2*c[s++]),Yg(3,4,9,14,e,r+2*c[s++]);this.v0l^=St[0]^St[16],this.v0h^=St[1]^St[17],this.v1l^=St[2]^St[18],this.v1h^=St[3]^St[19],this.v2l^=St[4]^St[20],this.v2h^=St[5]^St[21],this.v3l^=St[6]^St[22],this.v3h^=St[7]^St[23],this.v4l^=St[8]^St[24],this.v4h^=St[9]^St[25],this.v5l^=St[10]^St[26],this.v5h^=St[11]^St[27],this.v6l^=St[12]^St[28],this.v6h^=St[13]^St[29],this.v7l^=St[14]^St[30],this.v7h^=St[15]^St[31],St.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},xx=INe(t=>new mie(t));var ST=Ke(S1(),1);d();h();d();h();d();h();d();h();var Zg=32;function PNe(t){return HCt(t)&&jCt(t)===Zg}function Hh(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Zg*2,"0")}`}function HCt(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function jCt(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}d();h();var zCt=/^vector<(.+)>$/,WCt=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,vT=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(zCt);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(WCt);if(i)return{struct:{address:r?Hh(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return __(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function GCt(t){return Y.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function $Ct(t){return Y.enum("Option",{None:null,Some:t})}var Si=Y.bytes(Zg).transform({validate:t=>{let e=typeof t=="string"?t:Oo(t);if(!e||!PNe(Hh(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?Ef(Hh(t)):t,output:t=>Hh(Oo(t))}),qu=Y.vector(Y.u8()).transform({name:"ObjectDigest",input:t=>Qd(t),output:t=>B0(new Uint8Array(t)),validate:t=>{if(Qd(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Zc=Y.struct("SuiObjectRef",{objectId:Si,version:Y.u64(),digest:qu}),yie=Y.struct("SharedObjectRef",{objectId:Si,initialSharedVersion:Y.u64(),mutable:Y.bool()}),gie=Y.enum("ObjectArg",{ImmOrOwnedObject:Zc,SharedObject:yie,Receiving:Zc}),bie=Y.enum("CallArg",{Pure:Y.struct("Pure",{bytes:Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?xn(t):t,output:t=>ur(new Uint8Array(t))})}),Object:gie}),vie=Y.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:Y.lazy(()=>vie),struct:Y.lazy(()=>_ie),u16:null,u32:null,u256:null}),IL=vie.transform({input:t=>typeof t=="string"?vT.parseFromStr(t,!0):t,output:t=>vT.tagToString(t)}),gd=Y.enum("Argument",{GasCoin:null,Input:Y.u16(),Result:Y.u16(),NestedResult:Y.tuple([Y.u16(),Y.u16()])}),xie=Y.struct("ProgrammableMoveCall",{package:Si,module:Y.string(),function:Y.string(),typeArguments:Y.vector(IL),arguments:Y.vector(gd)}),wie=Y.enum("Command",{MoveCall:xie,TransferObjects:Y.struct("TransferObjects",{objects:Y.vector(gd),address:gd}),SplitCoins:Y.struct("SplitCoins",{coin:gd,amounts:Y.vector(gd)}),MergeCoins:Y.struct("MergeCoins",{destination:gd,sources:Y.vector(gd)}),Publish:Y.struct("Publish",{modules:Y.vector(Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?xn(t):t,output:t=>ur(new Uint8Array(t))})),dependencies:Y.vector(Si)}),MakeMoveVec:Y.struct("MakeMoveVec",{type:$Ct(IL).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:Y.vector(gd)}),Upgrade:Y.struct("Upgrade",{modules:Y.vector(Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?xn(t):t,output:t=>ur(new Uint8Array(t))})),dependencies:Y.vector(Si),package:Si,ticket:gd})}),Sie=Y.struct("ProgrammableTransaction",{inputs:Y.vector(bie),commands:Y.vector(wie)}),Aie=Y.enum("TransactionKind",{ProgrammableTransaction:Sie,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),Eie=Y.enum("TransactionExpiration",{None:null,Epoch:GCt()}),_ie=Y.struct("StructTag",{address:Si,module:Y.string(),name:Y.string(),typeParams:Y.vector(vie)}),Tie=Y.struct("GasData",{payment:Y.vector(Zc),owner:Si,price:Y.u64(),budget:Y.u64()}),Iie=Y.struct("TransactionDataV1",{kind:Aie,sender:Si,gasData:Tie,expiration:Eie}),Mie=Y.enum("TransactionData",{V1:Iie}),kie=Y.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Pie=Y.enum("IntentVersion",{V0:null}),Rie=Y.enum("AppId",{Sui:null}),Bie=Y.struct("Intent",{scope:kie,version:Pie,appId:Rie});function Cie(t){return Y.struct(`IntentMessage<${t.name}>`,{intent:Bie,value:t})}var Oie=Y.enum("CompressedSignature",{ED25519:Y.fixedArray(64,Y.u8()),Secp256k1:Y.fixedArray(64,Y.u8()),Secp256r1:Y.fixedArray(64,Y.u8()),ZkLogin:Y.vector(Y.u8())}),Nie=Y.enum("PublicKey",{ED25519:Y.fixedArray(32,Y.u8()),Secp256k1:Y.fixedArray(33,Y.u8()),Secp256r1:Y.fixedArray(33,Y.u8()),ZkLogin:Y.vector(Y.u8())}),Die=Y.struct("MultiSigPkMap",{pubKey:Nie,weight:Y.u8()}),Uie=Y.struct("MultiSigPublicKey",{pk_map:Y.vector(Die),threshold:Y.u16()}),RNe=Y.struct("MultiSig",{sigs:Y.vector(Oie),bitmap:Y.u16(),multisig_pk:Uie}),YCt=Y.vector(Y.u8()).transform({input:t=>typeof t=="string"?xn(t):t,output:t=>ur(new Uint8Array(t))}),Lie=Y.struct("SenderSignedTransaction",{intentMessage:Cie(Mie),txSignatures:Y.vector(YCt)}),BNe=Y.vector(Lie,{name:"SenderSignedData"});d();h();var ZCt=Y.enum("PackageUpgradeError",{UnableToFetchPackage:Y.struct("UnableToFetchPackage",{packageId:Si}),NotAPackage:Y.struct("NotAPackage",{objectId:Si}),IncompatibleUpgrade:null,DigestDoesNotMatch:Y.struct("DigestDoesNotMatch",{digest:Y.vector(Y.u8())}),UnknownUpgradePolicy:Y.struct("UnknownUpgradePolicy",{policy:Y.u8()}),PackageIDDoesNotMatch:Y.struct("PackageIDDoesNotMatch",{packageId:Si,ticketId:Si})}),QCt=Y.struct("ModuleId",{address:Si,name:Y.string()}),CNe=Y.struct("MoveLocation",{module:QCt,function:Y.u16(),instruction:Y.u16(),functionName:Y.option(Y.string())}),JCt=Y.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:Y.struct("IndexOutOfBounds",{idx:Y.u16()}),SecondaryIndexOutOfBounds:Y.struct("SecondaryIndexOutOfBounds",{resultIdx:Y.u16(),secondaryIdx:Y.u16()}),InvalidResultArity:Y.struct("InvalidResultArity",{resultIdx:Y.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),XCt=Y.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),eOt=Y.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:Y.struct("MoveObjectTooBig",{objectSize:Y.u64(),maxObjectSize:Y.u64()}),MovePackageTooBig:Y.struct("MovePackageTooBig",{objectSize:Y.u64(),maxObjectSize:Y.u64()}),CircularObjectOwnership:Y.struct("CircularObjectOwnership",{object:Si}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:Y.option(CNe),MoveAbort:Y.tuple([CNe,Y.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:Y.struct("CommandArgumentError",{argIdx:Y.u16(),kind:JCt}),TypeArgumentError:Y.struct("TypeArgumentError",{argumentIdx:Y.u16(),kind:XCt}),UnusedValueWithoutDrop:Y.struct("UnusedValueWithoutDrop",{resultIdx:Y.u16(),secondaryIdx:Y.u16()}),InvalidPublicFunctionReturnType:Y.struct("InvalidPublicFunctionReturnType",{idx:Y.u16()}),InvalidTransferObject:null,EffectsTooLarge:Y.struct("EffectsTooLarge",{currentSize:Y.u64(),maxSize:Y.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:Y.struct("PackageUpgradeError",{upgradeError:ZCt}),WrittenObjectsTooLarge:Y.struct("WrittenObjectsTooLarge",{currentSize:Y.u64(),maxSize:Y.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:Y.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:Y.vector(Si)}),AddressDeniedForCoin:Y.struct("AddressDeniedForCoin",{address:Si,coinType:Y.string()}),CoinTypeGlobalPause:Y.struct("CoinTypeGlobalPause",{coinType:Y.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ONe=Y.enum("ExecutionStatus",{Success:null,Failed:Y.struct("ExecutionFailed",{error:eOt,command:Y.option(Y.u64())})}),NNe=Y.struct("GasCostSummary",{computationCost:Y.u64(),storageCost:Y.u64(),storageRebate:Y.u64(),nonRefundableStorageFee:Y.u64()}),ME=Y.enum("Owner",{AddressOwner:Si,ObjectOwner:Si,Shared:Y.struct("Shared",{initialSharedVersion:Y.u64()}),Immutable:null}),tOt=Y.struct("TransactionEffectsV1",{status:ONe,executedEpoch:Y.u64(),gasUsed:NNe,modifiedAtVersions:Y.vector(Y.tuple([Si,Y.u64()])),sharedObjects:Y.vector(Zc),transactionDigest:qu,created:Y.vector(Y.tuple([Zc,ME])),mutated:Y.vector(Y.tuple([Zc,ME])),unwrapped:Y.vector(Y.tuple([Zc,ME])),deleted:Y.vector(Zc),unwrappedThenDeleted:Y.vector(Zc),wrapped:Y.vector(Zc),gasObject:Y.tuple([Zc,ME]),eventsDigest:Y.option(qu),dependencies:Y.vector(qu)}),Fie=Y.tuple([Y.u64(),qu]),rOt=Y.enum("ObjectIn",{NotExist:null,Exist:Y.tuple([Fie,ME])}),nOt=Y.enum("ObjectOut",{NotExist:null,ObjectWrite:Y.tuple([qu,ME]),PackageWrite:Fie}),iOt=Y.enum("IDOperation",{None:null,Created:null,Deleted:null}),oOt=Y.struct("EffectsObjectChange",{inputState:rOt,outputState:nOt,idOperation:iOt}),sOt=Y.enum("UnchangedSharedKind",{ReadOnlyRoot:Fie,MutateDeleted:Y.u64(),ReadDeleted:Y.u64(),Cancelled:Y.u64(),PerEpochConfig:null}),aOt=Y.struct("TransactionEffectsV2",{status:ONe,executedEpoch:Y.u64(),gasUsed:NNe,transactionDigest:qu,gasObjectIndex:Y.option(Y.u32()),eventsDigest:Y.option(qu),dependencies:Y.vector(qu),lamportVersion:Y.u64(),changedObjects:Y.vector(Y.tuple([Si,oOt])),unchangedSharedObjects:Y.vector(Y.tuple([Si,sOt])),auxDataDigest:Y.option(qu)}),DNe=Y.enum("TransactionEffects",{V1:tOt,V2:aOt});var Op={...Y,U8:Y.u8(),U16:Y.u16(),U32:Y.u32(),U64:Y.u64(),U128:Y.u128(),U256:Y.u256(),ULEB128:Y.uleb128(),Bool:Y.bool(),String:Y.string(),Address:Si,AppId:Rie,Argument:gd,CallArg:bie,CompressedSignature:Oie,GasData:Tie,Intent:Bie,IntentMessage:Cie,IntentScope:kie,IntentVersion:Pie,MultiSig:RNe,MultiSigPkMap:Die,MultiSigPublicKey:Uie,ObjectArg:gie,ObjectDigest:qu,ProgrammableMoveCall:xie,ProgrammableTransaction:Sie,PublicKey:Nie,SenderSignedData:BNe,SenderSignedTransaction:Lie,SharedObjectRef:yie,StructTag:_ie,SuiObjectRef:Zc,Command:wie,TransactionData:Mie,TransactionDataV1:Iie,TransactionExpiration:Eie,TransactionKind:Aie,TypeTag:IL,TransactionEffects:DNe};function ML(t,e){return Op.IntentMessage(Op.fixedArray(e.length,Op.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}d();h();var Np={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},UNe={ED25519:32,Secp256k1:33,Secp256r1:33},kL={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};d();h();d();h();d();h();function qie(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var kE=class{equals(e){return qie(this.toRawBytes(),e.toRawBytes())}toBase64(){return ur(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return ur(e)}verifyWithIntent(e,r,n){let i=ML(n,e),o=xx(i,{dkLen:32});return this.verify(o,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(Op.vector(Op.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return Hh(EL(xx(this.toSuiBytes(),{dkLen:32})).slice(0,Zg*2))}};d();h();var LNe=t=>{throw TypeError(t)},FNe=(t,e,r)=>e.has(t)||LNe("Cannot "+r),PL=(t,e,r)=>(FNe(t,e,"read from private field"),r?r.call(t):e.get(t)),RL=(t,e,r)=>e.has(t)?LNe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),BL=(t,e,r,n)=>(FNe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),CL,OL,NL,DL,Kie=class extends Error{},UL=class{constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){RL(this,CL),RL(this,OL),RL(this,NL),RL(this,DL),BL(this,CL,e),BL(this,OL,i),BL(this,NL,n),BL(this,DL,(...o)=>r(...o))}async query(e){let r=await PL(this,DL).call(this,PL(this,CL),{method:"POST",headers:{"Content-Type":"application/json",...PL(this,NL)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):R2(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new Kie(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:PL(this,OL)[e]})}};CL=new WeakMap;OL=new WeakMap;NL=new WeakMap;DL=new WeakMap;d();h();var qNe=R_();d();h();function cOt(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function uOt(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=cOt(n);e=e.concat(i)}return e}function fOt(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=uOt(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let o=new Uint8Array(Math.floor(r.length/8)),s=0;for(let c=0;c<r.length;c+=8){let l=r.slice(c,c+8),m=parseInt(l.join(""),2);o[s++]=m}return new TextDecoder().decode(o)}function lOt(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}function KNe(t,e){let r=fOt(t.value,t.indexMod4),[n,i]=lOt(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}d();h();d();h();var VNe=Y.struct("ZkLoginSignature",{inputs:Y.struct("ZkLoginSignatureInputs",{proofPoints:Y.struct("ZkLoginSignatureInputsProofPoints",{a:Y.vector(Y.string()),b:Y.vector(Y.vector(Y.string())),c:Y.vector(Y.string())}),issBase64Details:Y.struct("ZkLoginSignatureInputsClaim",{value:Y.string(),indexMod4:Y.u8()}),headerBase64:Y.string(),addressSeed:Y.string()}),maxEpoch:Y.u64(),userSignature:Y.vector(Y.u8())});function HNe(t){return VNe.parse(typeof t=="string"?xn(t):t)}d();h();function dOt(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}function LL(t,e){let r=t.toString(16);return _Ne(r.padStart(e*2,"0").slice(-e*2))}function Vie(t,e){let r=LL(t,e),n=dOt(r);return n===-1?new Uint8Array([0]):r.slice(n)}var WNe=t=>{throw TypeError(t)},GNe=(t,e,r)=>e.has(t)||WNe("Cannot "+r),Dp=(t,e,r)=>(GNe(t,e,"read from private field"),r?r.call(t):e.get(t)),Hie=(t,e,r)=>e.has(t)?WNe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),PE=(t,e,r,n)=>(GNe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),bd,xT,wT,hOt=class jie extends kE{constructor(e,{client:r}={}){super(),Hie(this,bd),Hie(this,xT),Hie(this,wT),PE(this,xT,r),typeof e=="string"?PE(this,bd,xn(e)):e instanceof Uint8Array?PE(this,bd,e):PE(this,bd,Uint8Array.from(e)),PE(this,wT,Dp(this,bd).length!==Dp(this,bd)[0]+1+32),Dp(this,wT)&&PE(this,bd,jNe(Dp(this,bd)))}equals(e){return super.equals(e)}toSuiAddress(){if(Dp(this,wT)){let e=jNe(Dp(this,bd),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),Hh(EL(xx(r,{dkLen:32})).slice(0,Zg*2))}return super.toSuiAddress()}toRawBytes(){return Dp(this,bd)}flag(){return Np.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=FL(r),i=new jie(n.publicKey).toSuiAddress();return zNe({address:i,bytes:ur(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Dp(this,xT)})}verifyTransaction(e,r){let n=FL(r),i=new jie(n.publicKey).toSuiAddress();return zNe({address:i,bytes:ur(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:Dp(this,xT)})}};bd=new WeakMap;xT=new WeakMap;wT=new WeakMap;var pOt=hOt;function mOt(t,e,r){let n=r?.legacyAddress?Vie(t,32):LL(t,32),i=new TextEncoder().encode(e),o=new Uint8Array(1+i.length+n.length);return o.set([i.length],0),o.set(i,1),o.set(n,1+i.length),new pOt(o,r)}var yOt=qNe(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function jNe(t,e=!1){let r=t[0]+1,n=BigInt(`0x${Oo(t.slice(r))}`),i=e?Vie(n,32):LL(n,32),o=new Uint8Array(r+i.length);return o.set(t.slice(0,r),0),o.set(i,r),o}async function zNe({address:t,bytes:e,signature:r,intentScope:n,client:i=new UL({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let o=await i.query({query:yOt,variables:{bytes:e,signature:r,intentScope:n,author:t}});return o.data?.verifyZkloginSignature.success===!0&&o.data?.verifyZkloginSignature.errors.length===0}function FL(t){let e=typeof t=="string"?xn(t):t;if(e[0]!==Np.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:o}=HNe(r),{issBase64Details:s,addressSeed:c}=n,l=KNe(s,"iss"),m=mOt(BigInt(c),l);return{serializedSignature:ur(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:o,iss:l,addressSeed:BigInt(c)},signature:e,publicKey:m.toRawBytes()}}function $Ne({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([Np[e]]),i.set(t,1),i.set(n,1+t.length),ur(i)}function YNe(t){let e=xn(t),r=kL[e[0]];switch(r){case"MultiSig":let n=Op.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return FL(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=UNe[r],o=e.slice(1,e.length-i),s=e.slice(1+o.length);return{serializedSignature:t,signatureScheme:r,signature:o,publicKey:s,bytes:e};default:throw new Error("Unsupported signature scheme")}}var AT=32;var ZNe="suiprivkey",zie=class{async signWithIntent(e,r){let n=ML(r,e),i=xx(n,{dkLen:32});return{signature:$Ne({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:ur(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(Y.vector(Y.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:ur(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},qL=class extends zie{};function QNe(t){let{prefix:e,words:r}=ST.bech32.decode(t);if(e!==ZNe)throw new Error("invalid private key prefix");let n=new Uint8Array(ST.bech32.fromWords(r)),i=n.slice(1);return{schema:kL[n[0]],secretKey:i}}function JNe(t,e){if(t.length!==AT)throw new Error("Invalid bytes length");let r=Np[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),ST.bech32.encode(ZNe,ST.bech32.toWords(n))}d();h();function Wie(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function gOt(t){return P9(t,"")}function XNe(t){return Oo(gOt(t))}d();h();d();h();var KL=class extends Wg{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,SNe(e);let n=ol(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Bp(this),this.iHash.update(e),this}digestInto(e){Bp(this),TE(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},VL=(t,e,r)=>new KL(t,e).update(r).digest();VL.create=(t,e)=>new KL(t,e);d();h();d();h();function bOt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var HL=class extends Wg{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=AL(this.buffer)}update(e){Bp(this);let{view:r,buffer:n,blockLen:i}=this;e=ol(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=AL(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Bp(this),SL(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;bOt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=AL(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var[vOt,xOt]=Nt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qg=new Uint32Array(80),Jg=new Uint32Array(80),Gie=class extends HL{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let P=0;P<16;P++,r+=4)Qg[P]=e.getUint32(r),Jg[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=Qg[P-15]|0,V=Jg[P-15]|0,H=Nt.rotrSH(F,V,1)^Nt.rotrSH(F,V,8)^Nt.shrSH(F,V,7),re=Nt.rotrSL(F,V,1)^Nt.rotrSL(F,V,8)^Nt.shrSL(F,V,7),J=Qg[P-2]|0,ie=Jg[P-2]|0,S=Nt.rotrSH(J,ie,19)^Nt.rotrBH(J,ie,61)^Nt.shrSH(J,ie,6),a=Nt.rotrSL(J,ie,19)^Nt.rotrBL(J,ie,61)^Nt.shrSL(J,ie,6),f=Nt.add4L(re,a,Jg[P-7],Jg[P-16]),p=Nt.add4H(f,H,S,Qg[P-7],Qg[P-16]);Qg[P]=p|0,Jg[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:B,Hh:R,Hl:U}=this;for(let P=0;P<80;P++){let F=Nt.rotrSH(b,E,14)^Nt.rotrSH(b,E,18)^Nt.rotrBH(b,E,41),V=Nt.rotrSL(b,E,14)^Nt.rotrSL(b,E,18)^Nt.rotrBL(b,E,41),H=b&I^~b&k,re=E&M^~E&B,J=Nt.add5L(U,V,re,xOt[P],Jg[P]),ie=Nt.add5H(J,R,F,H,vOt[P],Qg[P]),S=J|0,a=Nt.rotrSH(n,i,28)^Nt.rotrBH(n,i,34)^Nt.rotrBH(n,i,39),f=Nt.rotrSL(n,i,28)^Nt.rotrBL(n,i,34)^Nt.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;R=k|0,U=B|0,k=I|0,B=M|0,I=b|0,M=E|0,{h:b,l:E}=Nt.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=Nt.add3L(S,f,y);n=Nt.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=Nt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Nt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=Nt.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=Nt.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=Nt.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=Nt.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:B}=Nt.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:R,l:U}=Nt.add(this.Hh|0,this.Hl|0,R|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,B,R,U)}roundClean(){Qg.fill(0),Jg.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var $ie=TNe(()=>new Gie);var wOt=Ke(ls(),1),SOt="ed25519 seed",AOt=2147483648,EOt=new RegExp("^m(\\/[0-9]+')+$"),eDe=t=>t.replace("'",""),_Ot=t=>{let r=VL.create($ie,SOt).update(Ef(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},TOt=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+t.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(t,1),o.set(new Uint8Array(n,0,n.byteLength),t.length+1);let s=VL.create($ie,e).update(o).digest(),c=s.slice(0,32),l=s.slice(32);return{key:c,chainCode:l}};var IOt=t=>EOt.test(t)?!t.split("/").slice(1).map(eDe).some(isNaN):!1,Yie=(t,e,r=AOt)=>{if(!IOt(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=_Ot(e);return t.split("/").slice(1).map(eDe).map(s=>parseInt(s,10)).reduce((s,c)=>TOt(s,c+r),{key:n,chainCode:i})};d();h();var tDe=Ke(ls(),1);var Zie=32,ET=class extends kE{constructor(e){if(super(),typeof e=="string"?this.data=xn(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Zie)throw new Error(`Invalid public key input. Expected ${Zie} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return Np.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=YNe(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!qie(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return tDe.default.sign.detached.verify(e,n,this.toRawBytes())}};ET.SIZE=Zie;var Qie="m/44'/784'/0'/0'/0'",_T=class t extends qL{constructor(e){super(),e?this.keypair=e:this.keypair=wx.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(wx.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let o=QNe(e);if(o.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${o.schema}`);return this.fromSecretKey(o.secretKey,r)}let n=e.length;if(n!==AT)throw new Error(`Wrong secretKey size. Expected ${AT} bytes, got ${n}.`);let i=wx.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),c=wx.default.sign.detached(s,i.secretKey);if(!wx.default.sign.detached.verify(s,c,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new ET(this.keypair.publicKey)}getSecretKey(){return JNe(this.keypair.secretKey.slice(0,AT),this.getKeyScheme())}async sign(e){return wx.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=Qie),!Wie(r))throw new Error("Invalid derivation path");let{key:n}=Yie(r,XNe(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=Qie),!Wie(r))throw new Error("Invalid derivation path");let{key:n}=Yie(r,e);return t.fromSecretKey(n)}};var rDe=()=>({type:"keyPair",sign:async(t,e)=>{let r=_T.fromSecretKey(t.privateKey);try{let n;switch(e.signingType){case"personalMessage":{n=await r.signPersonalMessage(e.message);break}case"transaction":{n=await r.signTransaction(e.transaction);break}}return Promise.resolve({status:"success",signature:n.signature})}catch(n){return console.error(n),Promise.resolve(Lr("invalidMessageEncoding"))}}});d();h();var jL=class{#e;constructor(e){this.#e=e}async signWithKeypair(e,r){if("isJWT"in r)return this.#e.keyPair.JWT.sign(e,r);if("isKMSP256OrganizationOwner"in r)return this.#e.keyPair.KMSP256OrganizationOwner.sign(e,r);if("isAgentWallet"in r)return this.#e.keyPair.Agent.sign(e,r);if("isCash"in r)return this.#e.keyPair.Cash.sign(e,r);let n=r.chainType;switch(n){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return this.#e.keyPair[n].sign(e,r);case"eip155":return this.#e.keyPair[n].sign(e,r);case"solana":return this.#e.keyPair[n].sign(e,r);case"sui":return this.#e.keyPair[n].sign(e,r)}}async signWithHardware(e,r,n){return this.#e.ledger.sign(e,r,n)}async signWithSolanaSeedVault(e,r,n){return this.#e.seedVault.sign(e,r,n)}async signWithKMS(e,r,n){return this.#e.kms.sign(e,r,n)}};d();h();var nDe=t=>one.safeParse(t).success;d();h();var MOt=t=>({getSeed:e=>kOt(t,e),setSeed:(e,r)=>POt(t,e,r),getClientJWTSigner:(e,r)=>ROt(t,e,r),setClientJWTSigner:(e,r,n)=>BOt(t,e,r,n),removeSeeds:e=>iDe(t,e),removeClientJWTKeypairs:e=>oDe(t,e),clear:async()=>{await iDe(t,"all"),await oDe(t,"all")}}),Xg=`${Ru}.cache.secrets`,Jie=t=>`${Ru}.cache.seed.${t}`,Xie=t=>`${Ru}.cache.client-jwt.${t}`,kOt=async({isEnabled:t,secretsStorage:e},r)=>{if(!t())return null;let n=Jie(r),i=null;try{i=await e.getSecureValue(n)}catch{}if(!i)return null;let{bytes:o,encoding:s}=i.seed;return new Uint8Array(Buffer.from(o,s))},POt=async({isEnabled:t,generalStorage:e,secretsStorage:r},n,i)=>{if(!t())return;let o=Jie(n);await r.setSecureValue(o,{version:1,identifier:n,seed:{bytes:Buffer.from(i).toString("base64"),encoding:"base64"}});let s=await e.get(Xg);if(!s)s={version:1,seedIdentifiers:[n],clientJWTKeypairIdentifiers:[]};else{let c=new Set(s.seedIdentifiers);c.add(n),s.seedIdentifiers=Array.from(c)}await e.set(Xg,s)},iDe=async({generalStorage:t,secretsStorage:e},r)=>{let n=await t.get(Xg);if(!n)return;let i=r==="all"?n.seedIdentifiers:r,o=new Set(i),s=n.seedIdentifiers.filter(c=>o.has(c));await e.removeSecureValue(s.map(Jie)),await t.set(Xg,{version:1,seedIdentifiers:n.seedIdentifiers.filter(c=>!o.has(c)),clientJWTKeypairIdentifiers:n.clientJWTKeypairIdentifiers??[]})},ROt=async({isEnabled:t,secretsStorage:e},r,n)=>{if(!t())return null;let i=Xie(r),o=null;try{o=await e.getSecureValue(i)}catch{}if(!o||!o.keyPairs[n])return null;let s=o.keyPairs[n],c=new Uint8Array(Buffer.from(s.p256pubkey.bytes,s.p256pubkey.encoding)),l=new Uint8Array(Buffer.from(s.p256privkey.bytes,s.p256privkey.encoding));return{p256pubkey:c,p256privkey:l}},BOt=async({isEnabled:t,generalStorage:e,secretsStorage:r},n,i,o)=>{if(!t())return;let s=Xie(n),c=await r.getSecureValue(s)??{version:1,identifier:n,keyPairs:{}};c.keyPairs[i]={p256pubkey:{bytes:ri(Buffer.from(o.p256pubkey)),encoding:"base64"},p256privkey:{bytes:ri(Buffer.from(o.p256privkey)),encoding:"base64"}},await r.setSecureValue(s,c);let l=await e.get(Xg);if(!l)l={version:1,seedIdentifiers:[],clientJWTKeypairIdentifiers:[n]};else{let m=new Set(l.clientJWTKeypairIdentifiers??[]);m.add(n),l.clientJWTKeypairIdentifiers=Array.from(m)}await e.set(Xg,l)},oDe=async({generalStorage:t,secretsStorage:e},r)=>{let n=await t.get(Xg);if(!n||!n.clientJWTKeypairIdentifiers||n.clientJWTKeypairIdentifiers.length===0)return;let i=r==="all"?n.clientJWTKeypairIdentifiers:r,o=new Set(i);await e.removeSecureValue(i.map(Xie)),await t.set(Xg,{version:1,seedIdentifiers:n.seedIdentifiers,clientJWTKeypairIdentifiers:n.clientJWTKeypairIdentifiers.filter(s=>!o.has(s))})};d();h();d();h();d();h();d();h();d();h();async function eoe(t){let e=new Uint8Array(Array.from("mnemonic"+(t.passphrase??"")).map(r=>r.charCodeAt(0)));return t.pbkdf2(t.mnemonic,e,2048,64,"sha512")}d();h();var fDe=Ke(Fn());d();h();d();h();function toe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function COt(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function sDe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function OOt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");toe(t.outputLen),toe(t.blockLen)}function NOt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function DOt(t,e){sDe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var UOt={number:toe,bool:COt,bytes:sDe,hash:OOt,exists:NOt,output:DOt},Qc=UOt;d();h();d();h();d();h();var LOt={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var BE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),vd=(t,e)=>t<<32-e|t>>>e,FOt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!FOt)throw new Error("Non little-endian hardware is not supported");var TAn=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function qOt(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function eb(t){if(typeof t=="string"&&(t=qOt(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var RE=class{clone(){return this._cloneInto()}},KOt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function aDe(t,e){if(e!==void 0&&(typeof e!="object"||!KOt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function tb(t){let e=n=>t().update(eb(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}var zL=class extends RE{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Qc.hash(e);let n=eb(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Qc.exists(this),this.iHash.update(e),this}digestInto(e){Qc.exists(this),Qc.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},WL=(t,e,r)=>new zL(t,e).update(r).digest();WL.create=(t,e)=>new zL(t,e);function VOt(t,e,r,n){Qc.hash(t);let i=aDe({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:c}=i;if(Qc.number(o),Qc.number(s),Qc.number(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=eb(e),m=eb(r),w=new Uint8Array(s),b=WL.create(t,l),E=b._cloneInto().update(m);return{c:o,dkLen:s,asyncTick:c,DK:w,PRF:b,PRFSalt:E}}function HOt(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function cDe(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:c,PRFSalt:l}=VOt(t,e,r,n),m,w=new Uint8Array(4),b=BE(w),E=new Uint8Array(c.outputLen);for(let I=1,M=0;M<o;I++,M+=c.outputLen){let k=s.subarray(M,M+c.outputLen);b.setInt32(0,I,!1),(m=l._cloneInto(m)).update(w).digestInto(E),k.set(E.subarray(0,k.length));for(let B=1;B<i;B++){c._cloneInto(m).update(E).digestInto(E);for(let R=0;R<k.length;R++)k[R]^=E[R]}}return HOt(c,l,s,m,E)}d();h();d();h();function jOt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var CE=class extends RE{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=BE(this.buffer)}update(e){Qc.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=eb(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=BE(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qc.exists(this),Qc.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;jOt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=BE(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var zOt=(t,e,r)=>t&e^~t&r,WOt=(t,e,r)=>t&e^t&r^e&r,GOt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rb=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nb=new Uint32Array(64),GL=class extends CE{constructor(){super(64,32,8,!1),this.A=rb[0]|0,this.B=rb[1]|0,this.C=rb[2]|0,this.D=rb[3]|0,this.E=rb[4]|0,this.F=rb[5]|0,this.G=rb[6]|0,this.H=rb[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)nb[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=nb[b-15],I=nb[b-2],M=vd(E,7)^vd(E,18)^E>>>3,k=vd(I,17)^vd(I,19)^I>>>10;nb[b]=k+nb[b-7]+M+nb[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=vd(c,6)^vd(c,11)^vd(c,25),I=w+E+zOt(c,l,m)+GOt[b]+nb[b]|0,k=(vd(n,2)^vd(n,13)^vd(n,22))+WOt(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){nb.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},roe=class extends GL{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},noe=tb(()=>new GL),YAn=tb(()=>new roe);d();h();d();h();var $L=BigInt(4294967295),ioe=BigInt(32);function uDe(t,e=!1){return e?{h:Number(t&$L),l:Number(t>>ioe&$L)}:{h:Number(t>>ioe&$L)|0,l:Number(t&$L)|0}}function $Ot(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=uDe(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var YOt=(t,e)=>BigInt(t>>>0)<<ioe|BigInt(e>>>0),ZOt=(t,e,r)=>t>>>r,QOt=(t,e,r)=>t<<32-r|e>>>r,JOt=(t,e,r)=>t>>>r|e<<32-r,XOt=(t,e,r)=>t<<32-r|e>>>r,eNt=(t,e,r)=>t<<64-r|e>>>r-32,tNt=(t,e,r)=>t>>>r-32|e<<64-r,rNt=(t,e)=>e,nNt=(t,e)=>t,iNt=(t,e,r)=>t<<r|e>>>32-r,oNt=(t,e,r)=>e<<r|t>>>32-r,sNt=(t,e,r)=>e<<r-32|t>>>64-r,aNt=(t,e,r)=>t<<r-32|e>>>64-r;function cNt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var uNt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),fNt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,lNt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),dNt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,hNt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),pNt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,mNt={fromBig:uDe,split:$Ot,toBig:YOt,shrSH:ZOt,shrSL:QOt,rotrSH:JOt,rotrSL:XOt,rotrBH:eNt,rotrBL:tNt,rotr32H:rNt,rotr32L:nNt,rotlSH:iNt,rotlSL:oNt,rotlBH:sNt,rotlBL:aNt,add:cNt,add3L:uNt,add3H:fNt,add4L:lNt,add4H:dNt,add5H:pNt,add5L:hNt},hr=mNt;var[yNt,gNt]=hr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ib=new Uint32Array(80),ob=new Uint32Array(80),OE=class extends CE{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:B}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=B|0}process(e,r){for(let P=0;P<16;P++,r+=4)ib[P]=e.getUint32(r),ob[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=ib[P-15]|0,V=ob[P-15]|0,H=hr.rotrSH(F,V,1)^hr.rotrSH(F,V,8)^hr.shrSH(F,V,7),re=hr.rotrSL(F,V,1)^hr.rotrSL(F,V,8)^hr.shrSL(F,V,7),J=ib[P-2]|0,ie=ob[P-2]|0,S=hr.rotrSH(J,ie,19)^hr.rotrBH(J,ie,61)^hr.shrSH(J,ie,6),a=hr.rotrSL(J,ie,19)^hr.rotrBL(J,ie,61)^hr.shrSL(J,ie,6),f=hr.add4L(re,a,ob[P-7],ob[P-16]),p=hr.add4H(f,H,S,ib[P-7],ib[P-16]);ib[P]=p|0,ob[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:B,Hh:R,Hl:U}=this;for(let P=0;P<80;P++){let F=hr.rotrSH(b,E,14)^hr.rotrSH(b,E,18)^hr.rotrBH(b,E,41),V=hr.rotrSL(b,E,14)^hr.rotrSL(b,E,18)^hr.rotrBL(b,E,41),H=b&I^~b&k,re=E&M^~E&B,J=hr.add5L(U,V,re,gNt[P],ob[P]),ie=hr.add5H(J,R,F,H,yNt[P],ib[P]),S=J|0,a=hr.rotrSH(n,i,28)^hr.rotrBH(n,i,34)^hr.rotrBH(n,i,39),f=hr.rotrSL(n,i,28)^hr.rotrBL(n,i,34)^hr.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;R=k|0,U=B|0,k=I|0,B=M|0,I=b|0,M=E|0,{h:b,l:E}=hr.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=hr.add3L(S,f,y);n=hr.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=hr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=hr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=hr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=hr.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=hr.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=hr.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:B}=hr.add(this.Gh|0,this.Gl|0,k|0,B|0),{h:R,l:U}=hr.add(this.Hh|0,this.Hl|0,R|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,B,R,U)}roundClean(){ib.fill(0),ob.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ooe=class extends OE{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},soe=class extends OE{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},aoe=class extends OE{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},coe=tb(()=>new OE),oEn=tb(()=>new ooe),sEn=tb(()=>new soe),aEn=tb(()=>new aoe);var vNt=Ke(ls());d();h();var uoe=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],lEn=new Set(uoe);var xNt=(t,e,r,n,i)=>{let o;switch(i){case"rmd160":case"md5":case"sha":throw new Error(`${i} is unsupported by noble`);case"ripemd160":case"sha1":case"sha224":case"sha384":throw new Error(`${i} is supported by noble, but we don't need it for bip39`);case"sha256":o=noe;break;case"sha512":o=coe;break}return cDe(o,t,e,{c:r,dkLen:n})},wNt=(t,e,r)=>{for(;t.length<r;)t=e+t;return t},lDe=t=>t.map(e=>wNt(e.toString(2),"0",8)).join(""),SNt=t=>parseInt(t,2),ANt=t=>{let r=t.length*8/32,n=noe(t);return lDe(Array.from(n)).slice(0,r)};var foe=async t=>{let e=uoe;if(t.length<16)throw new Error("LessThanTwelve");if(t.length>32)throw new Error("MoreThanTwentyFour");if(t.length%4!==0)throw new Error("WrongWord");let r,n;try{r=lDe(Array.from(t))}catch{throw new Error("InvalidEntropyBits")}try{n=ANt(t)}catch{throw new Error("InvalidChecksumBits")}let o=(r+n).match(/(.{1,11})/g);if(!o)throw new Error("InvalidChecksum");let s=o.map(m=>{let w=SNt(m);return e[w]}),c=fDe.Buffer.from(s.join(" "));return{seed:await eoe({mnemonic:c,pbkdf2:xNt}),mnemonic:c}};d();h();var ENt=Ke(ls()),_En=new RegExp("^m(\\/[0-9]+')+$");d();h();async function sb(t,e){let r=await Zke(t,e);if(!r)throw new Ap;let n=Mi.from(r.entropy);return r.entropy.fill(0),n}async function Ss(t,e){let r,n=await t.secureCache.getSeed(e);if(n)r=n;else{let o=await sb(t,e),{seed:s}=await o.foldAsync(foe);r=s,await t.secureCache.setSeed(e,r)}let i=Mi.from(r);return r.fill(0),i}d();h();var loe=Ke(Mx());function Sx(t){return t.fold(loe.keccak256)}function ab(t,e,r){let n=gp[r];return loe.keccak256(`${t}:${e}:${n}`)}function jh(t,e,r,n){let i={};for(let o of n){let{publicKey:s}=t.keypairGenerator.generateKeypairFromSeed(e,r,o),c=ma.getAddressType(o);switch(o){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":{i[c]={chainType:c,pathType:o,publicKey:s,addresses:Object.values(Ao).reduce((l,m)=>({...l,[m]:ps({publicKey:s,addressType:c,networkID:m})}),{})};break}case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44Change":case"bip44":case"deprecated":{i[c]={chainType:c,pathType:o,publicKey:ps({publicKey:s,addressType:c})};break}case"bip44Sui":{i[c]={chainType:c,pathType:o,publicKey:s,address:ps({publicKey:s,addressType:c})};break}default:Ct(o)}}return i}async function dDe(t,e){let r=new Set,n=await ni(t);for(let o of n)o.type==="seed"&&o.seedIdentifier===e&&gp[Object.values(o.chains)[0].pathType]===0&&r.add(o.derivationIndex);let i=0;for(let o=0;o<=r.size;o++)if(!r.has(o)){i=o;break}return hDe(t,e,i)}async function hDe(t,e,r){try{return await _Nt(t,e,r)}catch(n){if(n instanceof Ph)return await hDe(t,e,r+1);throw n}}async function _Nt(t,e,r){let n=await Ss(t,e),i=(await t.fetchChainAvailability()).enabledAddressTypes,o=ed(i),s=await ab(e,r,o[0]),c={version:1,type:"seed",identifier:s,seedIdentifier:e,derivationIndex:r,chains:jh(t,n,r,o)};return await Oa(t,c,!1),c}d();h();var xDe=Ke(eR());var wDe=Ke(d4()),SDe=Ke(vDe()),ADe=Ke(Mx());function RNt(t,e,r){let n=gp[r];return ADe.keccak256(`${t}:${e}:${n}`)}async function EDe(t,e,r){let n=[];for(let i of r){if(i.addresses.length===0&&i.publicKeys.length===0)throw new Error("Must have at least 1 address or public key in account to add Ledger account.");let o=i.addresses[0]?.pathType||i.publicKeys[0]?.pathType,s=RNt(e,i.derivationIndex,o);wDe.initEccLib(xDe);let c=(0,SDe.ECPairFactory)(xDe),l={...i.addresses.reduce((w,b)=>{let E=ma.getAddressType(b.pathType);switch(E){case"eip155":case"solana":{w[E]={chainType:E,pathType:b.pathType,publicKey:b.value};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":throw new Error("Bitcoin accounts should be using public key not computed addresses");case"sui":throw new uS("add ledger account");default:Ct(E)}return w},{}),...i.publicKeys.reduce((w,b)=>{let E=ma.getAddressType(b.pathType);switch(E){case"eip155":case"solana":throw new Error("EVM or Solana accounts should be using addreses directly, not public keys");case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let I=c.fromPublicKey(Buffer.from(b.value,"hex")),M=new Uint8Array(I.publicKey);w[E]={chainType:E,pathType:b.pathType,publicKey:M,addresses:Object.values(Ao).reduce((k,B)=>({...k,[B]:ps({publicKey:M,addressType:E,networkID:B})}),{})};break}case"sui":throw new uS("add ledger account");default:Ct(E)}return w},{})},m={version:1,type:"ledger",identifier:s,ledgerGroupIdentifier:e,derivationIndex:i.derivationIndex,chains:l};n.push(m),await Oa(t,m)}return n}d();h();var _De=Ke(Mx());function BNt(t){return _De.keccak256(t)}async function TDe(t,e,r,n){let i=await t.keypairGenerator.generateKeypairFromPrivateKey(r,e),o=await rd(t),s=BNt(i.publicKey);if((o?.privateKeyIdentifiers??[]).includes(s))throw new v5;let m={version:1,identifier:s,name:n,chainType:e,privateKey:Buffer.from(i.privateKey)},w=s,b;switch(e){case"eip155":case"solana":{b={version:1,type:"privateKey",identifier:w,privateKeyIdentifier:s,publicKey:ps({publicKey:i.publicKey,addressType:e}),chainType:e};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{b={version:1,type:"privateKey",identifier:w,privateKeyIdentifier:s,publicKey:i.publicKey,addresses:Object.values(Ao).reduce((E,I)=>({...E,[I]:ps({publicKey:i.publicKey,addressType:e,networkID:I})}),{}),chainType:e};break}case"sui":{b={version:1,type:"privateKey",identifier:w,privateKeyIdentifier:s,publicKey:i.publicKey,address:ps({publicKey:i.publicKey,addressType:e}),chainType:e};break}default:Ct(e)}if(!b)throw new Error("unable to create a private key account based on the address type");return await Oa(t,b),await Qke(t,m),b}d();h();var IDe=Ke(Mx());function CNt(t){return IDe.keccak256(t)}async function MDe(t,e){let r=Object.values(e).find(Boolean);if(!r)throw new g5;let n=CNt(r),i={version:1,type:"readOnly",identifier:n,addresses:e};return await Oa(t,i),i}d();h();async function kDe(t,e){let r=new Set,n=await ni(t);for(let o of n)o.type==="seedless"&&o.seedIdentifier===e&&gp[Object.values(o.chains)[0].pathType]===0&&r.add(o.derivationIndex);let i=0;for(let o=0;o<=r.size;o++)if(!r.has(o)){i=o;break}return PDe(t,e,i)}async function PDe(t,e,r){try{return await ONt(t,e,r)}catch(n){if(n instanceof Ph)return await PDe(t,e,r+1);throw n}}async function ONt(t,e,r){let n=await Ss(t,e),i=(await t.fetchChainAvailability()).enabledAddressTypes,o=ed(i),s=await ab(e,r,o[0]),c={version:1,type:"seedless",identifier:s,seedIdentifier:e,derivationIndex:r,chains:jh(t,n,r,o)};return await Oa(t,c,!1),c}d();h();d();h();d();h();async function UE(t,e){let r=await rd(t),n=Sx(e),i=r?.seedIdentifiers??[],o=r?.seedlessIdentifiers??[];return i.concat(o).includes(n)}async function ZL(t,e,r,n){if((await wD(t)).length>0)throw new pD;if(n.length===0)throw new b5;if(await UE(t,e))throw new Dv;let s=Sx(e),c=e.fold(w=>({version:1,identifier:s,name:r,entropy:new Uint8Array(w)}));await Xke(t,c);let l=[],m=await Ss(t,s);for(let w of n){let b=ab(s,w.derivationIndex,w.derivationPathTypes[0]),E=jh(t,m,w.derivationIndex,w.derivationPathTypes),I={version:1,type:"seedless",identifier:b,seedIdentifier:s,derivationIndex:w.derivationIndex,chains:E};await Oa(t,I),l.push(I)}return l}async function RDe(t,e,r){let n=(await t.fetchChainAvailability()).enabledAddressTypes,i=0,o=ed(n);return(await ZL(t,e,r,[{name:r,derivationIndex:i,derivationPathTypes:o}]))[0]}d();h();d();h();async function QL(t,e,r,n,i=!1){let o=await UE(t,e);if(!i&&o)throw new Dv;let s=Sx(e),c=e.fold(w=>({version:1,identifier:s,name:r,entropy:new Uint8Array(w)}));await Jke(t,c);let l=[],m=await Ss(t,s);for(let w of n){let b=await ab(s,w.derivationIndex,w.derivationPathTypes[0]),E=jh(t,m,w.derivationIndex,w.derivationPathTypes),I={version:1,type:"seed",identifier:b,seedIdentifier:s,derivationIndex:w.derivationIndex,chains:E};await Oa(t,I),l.push(I)}return l}async function BDe(t,e,r){let n=(await t.fetchChainAvailability()).enabledAddressTypes,i=0,o=ed(n);return(await QL(t,e,r,[{name:r,derivationIndex:i,derivationPathTypes:o}]))[0]}d();h();var CDe=Ke(Mx());function NNt(t){return CDe.keccak256(t)}async function ODe(t,e){let r=[];for(let{publicKey:n,derivationPath:i,authToken:o}of e){let s=NNt(n),c={version:1,type:"seedVault",identifier:s,derivationPath:i,authToken:o,publicKey:n,chainType:"solana"};r.push(c),await Oa(t,c)}return r}d();h();d();h();async function JL(t,e,r){let i=(await ni(t)).find(o=>o.identifier===e);if(!i)throw new kh;switch(i.type){case"seed":case"seedless":{let o=i.chains[r]?.pathType;if(!o)throw new _g;let s=await Ss(t,i.seedIdentifier),c=t.keypairGenerator.generateKeypairFromSeed(s,i.derivationIndex,o);return Mi.from(c.privateKey)}case"privateKey":{let o=await Tg(t,i.privateKeyIdentifier);if(o.chainType!==r)throw new _g;let s=t.keypairGenerator.generateKeypairFromPrivateKey(Mi.from(o.privateKey),r);return Mi.from(s.privateKey)}case"ledger":case"seedVault":throw new m5;case"readOnly":throw new y5;default:(o=>{throw new Error("invalid account type")})(i)}}d();h();d();h();d();h();function moe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function DNt(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function NDe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function UNt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");moe(t.outputLen),moe(t.blockLen)}function LNt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function FNt(t,e){NDe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var qNt={number:moe,bool:DNt,bytes:NDe,hash:UNt,exists:LNt,output:FNt},Jc=qNt;d();h();var XL=class extends lE{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Jc.hash(e);let n=Dg(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Jc.exists(this),this.iHash.update(e),this}digestInto(e){Jc.exists(this),Jc.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},yoe=(t,e,r)=>new XL(t,e).update(r).digest();yoe.create=(t,e)=>new XL(t,e);function KNt(t,e,r,n){Jc.hash(t);let i=ICe({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:c}=i;if(Jc.number(o),Jc.number(s),Jc.number(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=Dg(e),m=Dg(r),w=new Uint8Array(s),b=yoe.create(t,l),E=b._cloneInto().update(m);return{c:o,dkLen:s,asyncTick:c,DK:w,PRF:b,PRFSalt:E}}function VNt(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function DDe(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:c,PRFSalt:l}=KNt(t,e,r,n),m,w=new Uint8Array(4),b=dE(w),E=new Uint8Array(c.outputLen);for(let I=1,M=0;M<o;I++,M+=c.outputLen){let k=s.subarray(M,M+c.outputLen);b.setInt32(0,I,!1),(m=l._cloneInto(m)).update(w).digestInto(E),k.set(E.subarray(0,k.length));for(let B=1;B<i;B++){c._cloneInto(m).update(E).digestInto(E);for(let R=0;R<k.length;R++)k[R]^=E[R]}}return VNt(c,l,s,m,E)}d();h();d();h();function HNt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var eF=class extends lE{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=dE(this.buffer)}update(e){Jc.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Dg(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=dE(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jc.exists(this),Jc.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;HNt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=dE(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var jNt=(t,e,r)=>t&e^~t&r,zNt=(t,e,r)=>t&e^t&r^e&r,WNt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ub=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fb=new Uint32Array(64),tF=class extends eF{constructor(){super(64,32,8,!1),this.A=ub[0]|0,this.B=ub[1]|0,this.C=ub[2]|0,this.D=ub[3]|0,this.E=ub[4]|0,this.F=ub[5]|0,this.G=ub[6]|0,this.H=ub[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)fb[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=fb[b-15],I=fb[b-2],M=fd(E,7)^fd(E,18)^E>>>3,k=fd(I,17)^fd(I,19)^I>>>10;fb[b]=k+fb[b-7]+M+fb[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=fd(c,6)^fd(c,11)^fd(c,25),I=w+E+jNt(c,l,m)+WNt[b]+fb[b]|0,k=(fd(n,2)^fd(n,13)^fd(n,22))+zNt(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){fb.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},goe=class extends tF{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},boe=sne(()=>new tF),I_n=sne(()=>new goe);d();h();d();h();var IT=new Error("Unknown error"),rF=new Error("Invalid entropy length"),TT=new Error("Invalid mn*monic sentence length"),woe=new Error("Invalid checksum"),UDe=new RangeError("Invalid mn*monic word"),xoe=new RangeError("Invalid wordlist"),Soe=new RangeError("Invalid wordlist index"),sl=(t,e)=>{if(!t)throw e};function lb(t){sl(t>=128,rF),sl(t<=256,rF),sl(t%32===0,rF)}function MT(t){sl(t>=12,TT),sl(t<=24,TT),sl(t%3===0,TT)}function LE(t){sl(t.length===2048,xoe),sl(t.every(e=>typeof e=="string"),xoe)}function Aoe(t,e){return MT(t),e(t*4/3)}async function nF(t,e){let r=t.length*8;lb(r);let n=r/32,i=await e(t),[o]=i,s=8-n,c=o>>>s<<s>>>0,l=new Uint8Array(t.length+1);return l.set(t,0),l[l.length-1]=c,l}function iF(t){let e=(t.length-1)*8;lb(e);let r=e/32,n=(e+r)/11,i=new ArrayBuffer(n*4),o=new DataView(i),s=0,c=0,l=0;for(let m of t)if(l+=8,c|=m<<32-l,c>>>=0,l>=11){let w=c>>>21;sl(w>=0&&w<=2047,Soe),o.setUint32(s*4,w,!0),s++,c<<=11,c>>>=0,l-=11}return sl(s===n,TT),new Uint32Array(i)}function LDe(t){let e=t.length;MT(e);let r=11,n=t.length*r,i=new ArrayBuffer(Math.ceil(n/8)),o=new DataView(i),s=new DataView(t.buffer),c=t.length,l=0,m=0,w=0,b=8;for(let E=0;E<c;E++){let I=s.getUint32(E*4,!0);sl(I<2048,Soe);let M=r;for(;M>0;){let k=32-M,B=M>=b?b:M;l|=I>>32-k-B&(1<<B)-1,m+=B,l<<=b-B,l>>>=0,M-=B,b-=B,b<=0&&(b=8),m%8===0&&(o.setUint8(w,l),w++,l=0)}}return c%8!==0&&o.setUint8(w,l),new Uint8Array(i)}function Eoe(t){MT(t.length);let e=LDe(t),r=e.slice(0,e.length-1);return e.fill(0),r}async function FE(t,e){let r=t.length*8;lb(r);let n=await nF(t,e),i=iF(n);return n.fill(0),i}function _oe(t,e){LE(e);let r=new Set(e),n=new Uint32Array(24),i=0,o="";for(let c=0;c<t.length;c++){let l=t[c],m=l===32,w=c===t.length-1;if(w&&(o+=String.fromCharCode(l)),m||w){sl(r.has(o),UDe);let b=0;for(let E of e){if(o===E)break;b++}n[i++]=b,o=""}else o+=String.fromCharCode(l)}MT(i);let s=n.slice(0,i);return n.fill(0),s}async function qE(t,e,r){let n=await FE(t,r),i=new Uint8Array(n.reduce((s,c)=>s+e[c].length+1,-1)),o=0;for(let s of n){o>0&&(i[o++]=32);let c=e[s];for(let l of c)i[o++]=l.charCodeAt(0)}return n.fill(0),i}var voe=Uint8Array.of(109,110,101,109,111,110,105,99);async function Ax(t,e,r,n,i){let o=await qE(t,r,n),s=new Uint8Array(voe.length+e.length);s.set(voe,0),s.set(e,voe.length);let c=await i(o,s,2048,64,"sha512");return s.fill(0),o.fill(0),c}d();h();var KE=Ke(sm());d();h();var kT=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];async function Toe(t){switch(t){case"english":return kT}}function Ioe(t){return e=>new t(e)}function Moe(t,e){return async r=>{let n=null,i=null,o=null,s=null,c=null;try{i=Eoe(r),o=await nF(i,e),s=iF(o);let l=r[r.length-1],m=s[s.length-1];if(l!==m)throw woe;c=t.fromEntropy(i)}catch(l){l instanceof Error?n=l:(console.error(l),n=IT)}finally{if(i?.fill(0),o?.fill(0),s?.fill(0),n)throw n;return c}}}function koe(t,e){return async r=>{let n=null,i=null,o=null;try{i=_oe(r,e),o=await t.fromIndexes(i)}catch(s){s instanceof Error?n=s:(console.error(s),n=IT)}finally{if(i?.fill(0),n)throw n;return o}}}function Poe(t,e){return r=>{let n=null,i=null,o=null;try{i=Aoe(r,e),o=t.fromEntropy(i)}catch(s){s instanceof Error?n=s:(console.error(s),n=IT)}finally{if(i?.fill(0),n)throw n;return o}}}var Roe=class{static async webCrypto(e){let r=typeof e=="string"?await Toe(e):e;LE(r);let n=s=>self.crypto.getRandomValues(new Uint8Array(s)),i=async s=>new Uint8Array(await self.crypto.subtle.digest("SHA-256",s)),o=async(s,c,l,m,w)=>{let b="SHA-"+w.substring(3),E=await self.crypto.subtle.importKey("raw",s,"PBKDF2",!1,["deriveBits"]),I=await self.crypto.subtle.deriveBits({name:"PBKDF2",salt:c,iterations:l,hash:b},E,m*8);return new Uint8Array(I)};return class PT{static fromEntropy=Ioe(PT);static fromIndexes=Moe(PT,i);static fromMnemonic=koe(PT,r);static fromSentenceLength=Poe(PT,n);static wordlist=r;#e;constructor(c){lb(c.length*8),this.#e=c.slice()}deriveSeed=(c=new Uint8Array)=>Ax(this.#e,c,r,i,o);getEntropy=()=>this.#e.slice();getIndexes=()=>FE(this.#e,i);getMnemonic=()=>qE(this.#e,r,i);getSentenceLength=()=>{let c=this.#e.length*8,l=c/32;return(c+l)/11}}}static async nodeCrypto(e){let r=typeof e=="string"?await Toe(e):e;LE(r);let n=s=>new Uint8Array((0,KE.randomBytes)(s).buffer),i=s=>new Uint8Array((0,KE.createHash)("sha256").update(s).digest().buffer),o=(...s)=>new Promise((c,l)=>{(0,KE.pbkdf2)(...s,(m,w)=>{if(m)return l(m);c(new Uint8Array(w.buffer))})});return class RT{static fromEntropy=Ioe(RT);static fromIndexes=Moe(RT,i);static fromMnemonic=koe(RT,r);static fromSentenceLength=Poe(RT,n);static wordlist=r;#e;constructor(c){lb(c.length*8),this.#e=c.slice()}deriveSeed=(c=new Uint8Array)=>Ax(this.#e,c,r,i,o);getEntropy=()=>this.#e.slice();getIndexes=()=>FE(this.#e,i);getMnemonic=()=>qE(this.#e,r,i);getSentenceLength=()=>{let c=this.#e.length*8,l=c/32;return(c+l)/11}}}static async customCrypto(e,r){let n=typeof e=="string"?await Toe(e):e;LE(n);let{random:i,sha256:o,pbkdf2:s}=r;return class BT{static fromEntropy=Ioe(BT);static fromIndexes=Moe(BT,o);static fromMnemonic=koe(BT,n);static fromSentenceLength=Poe(BT,i);static wordlist=n;#e;constructor(l){lb(l.length*8),this.#e=l.slice()}deriveSeed=(l=new Uint8Array)=>Ax(this.#e,l,n,o,s);getEntropy=()=>this.#e.slice();getIndexes=()=>FE(this.#e,o);getMnemonic=()=>qE(this.#e,n,o);getSentenceLength=()=>{let l=this.#e.length*8,m=l/32;return(l+m)/11}}}};async function FDe(t,e){let r,n=await t.secureCache.getSeed(e);if(n)r=n;else{let o=await sb(t,e);try{r=await o.foldAsync(async c=>Ax(c,new Uint8Array,kT,boe,(l,m,w,b)=>DDe(boe,l,m,{c:w,dkLen:b})))}catch{throw new Error("InvalidEntropyBip39")}await t.secureCache.setSeed(e,r)}let i=Mi.from(r);return r.fill(0),i}var GNt=new Ap,$Nt=new _g,YNt=new Uv,Xn={unableToLoadAccounts:{status:"unable-to-load-accounts",isOnboarded:!1,reonboardingNeeded:!1},unonboarded:{status:"unonboarded",isOnboarded:!1,reonboardingNeeded:!1},invalidIdentifier:{status:"invalid-identifier",isOnboarded:!0,reonboardingNeeded:!0},fetchIntegrityStorageError:{status:"fetch-integrity-storage-error",isOnboarded:!0,reonboardingNeeded:!0},fetchEntropyStorageError:{status:"fetch-entropy-storage-error",isOnboarded:!0,reonboardingNeeded:!0},fetchPkStorageError:{status:"fetch-pk-storage-error",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropy:{status:"invalid-entropy",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyBip39:{status:"invalid-entropy-bip-39",isOnboarded:!0,reonboardingNeeded:!0},invalidChecksumBits:{status:"invalid-checksum-bits",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyBits:{status:"invalid-entropy-bits",isOnboarded:!0,reonboardingNeeded:!0},invalidChecksum:{status:"invalid-checksum",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthLessThanTwelve:{status:"invalid-entropy-length-less-than-twelve",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthMoreThanTwentyFour:{status:"invalid-entropy-length-more-than-twenty-four",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthWrongWord:{status:"invalid-entropy-length-wrong-word",isOnboarded:!0,reonboardingNeeded:!0},invalidPkAddressType:{status:"invalid-pk-address-type",isOnboarded:!0,reonboardingNeeded:!0},invalidPkIdentifier:{status:"invalid-pk-identifier",isOnboarded:!0,reonboardingNeeded:!0},invalidPk:{status:"invalid-pk",isOnboarded:!0,reonboardingNeeded:!0},internalError:{status:"internal-error",isOnboarded:!0,reonboardingNeeded:!0},safelyOnboarded:{status:"safely-onboarded",isOnboarded:!0,reonboardingNeeded:!1}};async function VDe(t){let e;try{if(e=await ni(t),e.length===0)return Xn.unonboarded}catch{return Xn.unableToLoadAccounts}return ZNt(t,e)}var ZNt=async(t,e)=>{let r=await QNt(t,e);if(r.status!=="safely-onboarded")return r;try{let s=await vte(t);if(s?.version===3&&s?.isSafelyOnboarded)return Xn.safelyOnboarded}catch{return Xn.fetchIntegrityStorageError}let n=await KDe(t,e,"seed"),i=await KDe(t,e,"seedless"),o=await XNt(t,e);return n.status!=="safely-onboarded"?n:i.status!=="safely-onboarded"?i:o.status!=="safely-onboarded"?o:(await bte(t,{version:3,isSafelyOnboarded:!0,lastCheckedTimestamp:Date.now()}),Xn.safelyOnboarded)},QNt=async(t,e)=>{try{if((await vte(t))?.isSafelyOnboarded)return Xn.safelyOnboarded}catch{return Xn.fetchIntegrityStorageError}let r=await qDe(t,e,"seed"),n=await qDe(t,e,"seedless");return r.status!=="safely-onboarded"?r:n.status!=="safely-onboarded"?n:(await bte(t,{version:1,isSafelyOnboarded:!0,lastCheckedTimestamp:Date.now()}),Xn.safelyOnboarded)},qDe=async(t,e,r)=>{let n=new Set;for(let i of e)i.type===r&&n.add(i.seedIdentifier);for(let i of n)try{await sb(t,i)}catch(o){if(o instanceof Error){if(o.message===GNt.message)return Xn.invalidIdentifier;if(o.message.match(/ExpoSecureStorage/))return Xn.fetchEntropyStorageError}return Xn.internalError}return Xn.safelyOnboarded},JNt=t=>{if(!(t instanceof Error))return Xn.invalidEntropy;let e=[[/ExpoSecureStorage/,Xn.fetchEntropyStorageError],[/InvalidEntropyBip39/,Xn.invalidEntropyBip39],[/LessThanTwelve/,Xn.invalidEntropyLengthLessThanTwelve],[/MoreThanTwentyFour/,Xn.invalidEntropyLengthMoreThanTwentyFour],[/WrongWord/,Xn.invalidEntropyLengthWrongWord],[/InvalidChecksumBits/,Xn.invalidChecksumBits],[/InvalidEntropyBits/,Xn.invalidEntropyBits],[/InvalidChecksum/,Xn.invalidChecksum]];for(let[r,n]of e)if(t.message.match(r))return n;return Xn.invalidEntropy},KDe=async(t,e,r)=>{let n=new Set;for(let i of e)i.type===r&&n.add(i.seedIdentifier);for(let i of n)try{await FDe(t,i)}catch(o){return JNt(o)}return Xn.safelyOnboarded},XNt=async(t,e)=>{for(let r of e)if(r.type==="privateKey")try{await JL(t,r.identifier,r.chainType)}catch(n){if(n instanceof Error){if(n.message===$Nt.message)return Xn.invalidPkAddressType;if(n.message===YNt.message)return Xn.invalidPkIdentifier;if(n.message.match(/ExpoSecureStorage/))return Xn.fetchPkStorageError}return Xn.invalidPk}return Xn.safelyOnboarded};d();h();async function HDe(t){let e=(await t.fetchChainAvailability()).enabledAddressTypes,r=!1,n=await ni(t);if(n.length===0)return r;let i=new Map;for(let o of n){if(o.type!=="seed"&&o.type!=="seedless")continue;let s=i.get(o.seedIdentifier);s?s.push(o):i.set(o.seedIdentifier,[o])}for(let[o,s]of i){let c;for(let l of s)if(!(l.chains&&!pte(Object.values(l.chains)[0].pathType)))for(let m of e){if(l.chains[m])continue;c||(c=await Ss(t,o));let b=ed([m]),E=jh(t,c,l.derivationIndex,b);l.chains={...l.chains,...E},r=!0}}return r&&await _p(t,n),r}d();h();d();h();d();h();d();h();var WDe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jDe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eDt=BigInt(1),Boe=BigInt(2),zDe=(t,e)=>(t+e/Boe)/e;function tDt(t){let e=WDe,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),c=BigInt(44),l=BigInt(88),m=t*t*t%e,w=m*m*t%e,b=Fu(w,r,e)*w%e,E=Fu(b,r,e)*w%e,I=Fu(E,Boe,e)*m%e,M=Fu(I,i,e)*I%e,k=Fu(M,o,e)*M%e,B=Fu(k,c,e)*k%e,R=Fu(B,l,e)*B%e,U=Fu(R,c,e)*k%e,P=Fu(U,r,e)*w%e,F=Fu(P,s,e)*M%e,V=Fu(F,n,e)*m%e,H=Fu(V,Boe,e);if(!Coe.eql(Coe.sqr(H),t))throw new Error("Cannot find square root");return H}var Coe=gL(WDe,void 0,void 0,{sqrt:tDt}),oF=vL({a:BigInt(0),b:BigInt(7),Fp:Coe,n:jDe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=jDe,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-eDt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=zDe(o*t,e),l=zDe(-n*t,e),m=Ua(t-c*r-l*i,e),w=Ua(-c*n-l*o,e),b=m>s,E=w>s;if(b&&(m=e-m),E&&(w=e-w),m>s||w>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:m,k2neg:E,k2:w}}}},wL),S4n=BigInt(0);var A4n=oF.ProjectivePoint;async function GDe(){let t=oF.utils.randomPrivateKey();return{publicKey:oF.getPublicKey(t),privateKey:t}}var $De=t=>`${Ru}.perps.agent.keypair.${t}`,sF=async(t,e,r=!1)=>{let n=await rDt(t,e);if(n&&!r)return n;let i=await GDe();return await nDt(t,i,e),i},rDt=async(t,e)=>{let r=$De(e),n=null;try{n=await t.secretsStorage.getSecureValue(r)}catch{}if(!n)return null;let i=n.keyPair,o=new Uint8Array(Buffer.from(i.publicKey.bytes,i.publicKey.encoding)),s=new Uint8Array(Buffer.from(i.privateKey.bytes,i.privateKey.encoding));return{publicKey:o,privateKey:s}},nDt=async(t,e,r)=>{let n=$De(r),i={publicKey:{bytes:Buffer.from(e.publicKey).toString("base64"),encoding:"base64"},privateKey:{bytes:Buffer.from(e.privateKey).toString("base64"),encoding:"base64"}},o={version:1,identifier:r,keyPair:i};await t.secretsStorage.setSecureValue(n,o)};var YDe=async(t,e,r=!1)=>{let{publicKey:n}=await sF(t,e,r);return ps({publicKey:n,addressType:"eip155"})};d();h();d();h();var Ooe="m/23001'/0'";async function VE(t,e){let r;switch(e.type){case"seedless":case"seed":r=e.seedIdentifier;break;case"privateKey":r=e.privateKeyIdentifier;break}let n=await t.secureCache.getClientJWTSigner(r,Ooe);if(n)return{publicKey:n.p256pubkey,privateKey:n.p256privkey};let i;switch(e.type){case"seedless":case"seed":{i=(await Ss(t,e.seedIdentifier)).fold(s=>new pa(s));break}case"privateKey":{let o=await Tg(t,e.privateKeyIdentifier);i=new pa(o.privateKey);break}}try{let o=i.derivePath({ellipticCurve:"ed25519",derivationPath:Ooe,bytesInPrivateKey:64}),s=bL(o.secretKey,gx.CURVE.n),c=gx.getPublicKey(s);return await t.secureCache.setClientJWTSigner(r,Ooe,{p256pubkey:c,p256privkey:s}),{publicKey:c,privateKey:s}}finally{i.cleanup()}}var iDt=t=>t.type==="seed"||t.type==="seedless"||t.type==="privateKey",ZDe=async(t,e)=>{let r=await ni(t);if(r.length===0)throw new Error("No accounts, unable to get authentication public key.");let i=r.filter(iDt).find(s=>s.type==="privateKey"?s.privateKeyIdentifier===e:s.seedIdentifier===e);if(!i)throw new Error("Unable to derive authentication public key for given secret identifier.");let o=await VE(t,i);return ri(o.publicKey)};d();h();var QDe=Ke(Fa());d();h();var oDt="m/24001'/0'",aF=async t=>{let e=await ni(t);if(e.length===0)throw new Error("No accounts, unable to derive cash key.");let r=e[0],n;switch(r.type){case"seed":case"seedless":{n=(await Ss(t,r.seedIdentifier)).fold(o=>new pa(o));break}case"privateKey":{let i=await Tg(t,r.privateKeyIdentifier);n=new pa(i.privateKey);break}default:throw new Error(`Account type ${r.type} is not supported, unable to derive cash key.`)}try{let i=n.derivePath({ellipticCurve:"ed25519",derivationPath:oDt,bytesInPrivateKey:64});return{publicKey:i.publicKey,privateKey:i.secretKey}}finally{n.cleanup()}};var JDe=async t=>{let{publicKey:e}=await aF(t);return QDe.default.encode(e)};d();h();async function XDe(t,e){let r=await ni(t);if(r.length===0)throw new kh;let n=r.filter(i=>i.identifier!==e);await _p(t,n),await gte(t)}d();h();async function eUe(t,e,r){let n=await ni(t);if(r<0||r>=n.length)throw new kh;let i=n.map(s=>s.identifier).indexOf(e);if(i<0)throw new kh;if(i===r)return;let o=n[i];n.splice(i,1),n.splice(r,0,o),await _p(t,n)}d();h();d();h();d();h();d();h();d();h();d();h();var sDt="/v1/wallets/kms/rpc";async function Xr(t,e,r,n){let i=JSON.stringify({method:e,params:r,timestampMs:Date.now()}),o;try{let c=await t.getSignerPublicKey(),l=await t.signP256(i);o=ri(Buffer.from(JSON.stringify({publicKey:c,signature:l,kind:"PKI"}),"utf-8"))}catch{throw new Error(`[KMS] Failed to sign rpc call: ${i}`)}let s=await Rn.api().bearer(!1).post(sDt,i,{headers:{"Content-Type":"application/json","X-Phantom-Stamp":o}});if(!Xl(s))throw new Error(`[KMS] Failed to call KMS RPC method: ${e}, message: ${s.data?.error||"Unknown error"}`);return n.parse(s.data)}d();h();d();h();var Noe=O.enum(["Ed25519","Secp256k1"]),Doe=O.enum(["Ethereum","Solana","BitcoinSegwit","Sui"]),Xc=O.object({curve:Noe,derivationPath:O.string(),addressFormat:Doe}),db=Xc.extend({address:O.string(),publicKey:O.string().regex(d_)}),tUe=O.object({walletId:O.string(),walletName:O.string(),tags:O.array(O.string())}),P8n=O.object({error:O.string(),requestId:O.string().optional()}),Uoe=O.union([O.array(O.number().int().min(0)),O.string()]),uF=O.object({envelope:O.array(O.number().int().min(0)),publicKey:O.array(O.number().int().min(0)),proof:O.array(O.number().int().min(0))}),zh=O.enum(["Ed25519","Secp256r1","Secp256k1","Secp256k1Keccak256"]),R8n=O.object({publicKey:O.array(O.number().int().min(0)),algorithm:zh}),B8n=O.discriminatedUnion("authenticatorKind",[O.object({authenticatorKind:O.literal("keypair"),publicKey:O.array(O.number().int().min(0)),algorithm:zh}),O.object({authenticatorKind:O.literal("passkey")})]),Loe=O.discriminatedUnion("authenticatorKind",[O.object({authenticatorKind:O.literal("keypair"),publicKey:O.string(),algorithm:zh,authenticatorName:O.string()}),O.object({authenticatorKind:O.literal("passkey"),authenticatorName:O.string()})]),aDt=O.discriminatedUnion("authenticatorKind",[O.object({authenticatorKind:O.literal("keypair"),publicKey:O.string(),algorithm:zh,authenticatorName:O.string(),id:O.string()}),O.object({authenticatorKind:O.literal("passkey"),authenticatorName:O.string(),id:O.string()})]),rUe=O.enum(["ADMIN","USER"]),nUe=O.object({username:O.string(),role:rUe,authenticators:O.array(Loe)}),cDt=O.object({username:O.string(),role:rUe,authenticators:O.array(aDt)}),HE=O.object({organizationId:O.string(),organizationName:O.string(),parentOrganizationId:O.string().nullish().default(null),tags:O.array(O.string()),users:O.array(cDt)}),uDt=O.discriminatedUnion("rule",[O.object({rule:O.literal("SystemInstructionLamportsThreshold"),min:O.number().int().min(0).nullish().default(null),max:O.number().int().min(0).nullish().default(null)}),O.object({rule:O.literal("SystemInstructionRecipientAllowlist"),allowlist:O.array(O.string())})]),fDt=O.union([O.object({In:O.array(O.number().int().min(0))}),O.object({Exact:O.number().int().min(0)}),O.literal("Any")]),cF=O.object({programId:O.string(),discriminator:fDt,validate:O.array(uDt).optional()}),C8n=O.object({max:O.number().int().min(0)}),O8n=O.object({maxComputeUnitPrice:O.number().int().min(0).nullish().default(null),maxComputeUnits:O.number().int().min(0).nullish().default(null)}),N8n=O.object({allowlist:O.array(cF)}),D8n=O.object({allowlist:O.array(cF).optional()}),U8n=O.null().default(null),lDt=O.discriminatedUnion("rule",[O.object({rule:O.literal("NoSignerAccountUsage"),allowlist:O.array(cF).optional()}),O.object({rule:O.literal("BundleSizeLimit"),max:O.number().int().min(0)}),O.object({rule:O.literal("ComputeBudgetLimit"),maxComputeUnitPrice:O.number().int().min(0).nullish().default(null),maxComputeUnits:O.number().int().min(0).nullish().default(null)}),O.object({rule:O.literal("NoAddressLookupTables")}),O.object({rule:O.literal("InstructionAllowlist"),allowlist:O.array(cF)}),O.object({rule:O.literal("AllowAll")})]),dDt=O.object({rules:O.array(lDt)}),hDt=O.object({version:O.literal("v0"),solana:dDt.nullish().default(null)}),CT=hDt,pDt=O.enum(["owner","signaturePayload","signatureTransaction"]),mDt=O.object({version:O.literal("v0"),scopes:O.array(pDt),derivationAllowlist:O.array(Xc).nullish().default(null)}),OT=mDt;var yDt=O.object({organizationName:O.string(),tags:O.array(O.string()).optional(),users:O.array(nUe)}),iUe=O.object({result:HE});function Foe(t,e){return Xr(t.signer,"createOrganization",e,iUe)}d();h();var gDt=O.object({organizationId:O.string()}),oUe=O.object({result:HE});function qoe(t,e){return Xr(t.signer,"getOrganization",e,oUe)}d();h();var bDt=O.object({organizationId:O.string(),username:O.string(),authenticator:Loe}),sUe=O.object({result:O.discriminatedUnion("authenticatorKind",[O.object({authenticatorKind:O.literal("keypair"),publicKey:O.string(),algorithm:zh,authenticatorName:O.string(),id:O.string()}),O.object({authenticatorKind:O.literal("passkey"),authenticatorName:O.string(),id:O.string()})])});function Koe(t,e){return Xr(t.signer,"createAuthenticator",e,sUe)}d();h();var vDt=O.object({organizationId:O.string(),username:O.string(),authenticatorId:O.string()}),aUe=O.object({result:O.discriminatedUnion("authenticatorKind",[O.object({authenticatorKind:O.literal("keypair"),publicKey:O.string(),algorithm:zh,authenticatorName:O.string(),id:O.string()}),O.object({authenticatorKind:O.literal("passkey"),authenticatorName:O.string(),id:O.string()})])});function Voe(t,e){return Xr(t.signer,"deleteAuthenticator",e,aUe)}d();h();var xDt=O.object({walletName:O.string(),organizationId:O.string(),mnemonicLength:O.number().int().min(0).default(24).optional(),accounts:O.array(Xc).optional()}),cUe=O.object({result:O.object({walletId:O.string(),walletName:O.string(),accounts:O.array(O.object({curve:Noe,derivationPath:O.string(),addressFormat:Doe,publicKey:O.string()}))})});function Hoe(t,e){return Xr(t.signer,"createWallet",e,cUe)}d();h();var wDt=O.object({organizationId:O.string(),limit:O.number().int().min(0).optional(),offset:O.number().int().min(0).optional()}),uUe=O.object({result:O.object({wallets:O.array(tUe),totalCount:O.number().int().min(0),limit:O.number().int().min(0),offset:O.number().int().min(0)})});function joe(t,e){return Xr(t.signer,"getOrganizationWallets",e,uUe)}d();h();var SDt=O.object({walletName:O.string(),organizationId:O.string(),tag:O.string(),mnemonicLength:O.number().int().min(0).default(24).optional(),accounts:O.array(Xc).optional()}),fUe=O.object({result:O.object({walletId:O.string(),walletName:O.string(),accounts:O.array(db)})});function zoe(t,e){return Xr(t.signer,"getOrCreateWalletWithTag",e,fUe)}d();h();var ADt=O.object({organizationId:O.string(),tag:O.string()}),lUe=O.object({result:O.object({walletId:O.string(),walletName:O.string(),accounts:O.array(db)})});function Woe(t,e){return Xr(t.signer,"getWalletWithTag",e,lUe)}d();h();var EDt=O.object({organizationId:O.string(),walletId:O.string(),publicKey:O.string()}),dUe=O.object({result:O.object({encrypted_bundle:O.string()})});function Goe(t,e){return Xr(t.signer,"exportWallet",e,dUe)}d();h();var _Dt=O.object({ownerOrganizationId:O.string(),targetOrganizationId:O.string(),walletId:O.string(),policy:OT,transactionPolicy:CT.nullish().default(null)}),hUe=O.object({result:O.object({organizationId:O.string(),walletId:O.string(),organizationPolicy:OT,transactionPolicy:CT.nullish().default(null)})});function $oe(t,e){return Xr(t.signer,"grantOrganizationAccess",e,hUe)}d();h();var TDt=O.object({ownerOrganizationId:O.string(),targetOrganizationId:O.string(),walletId:O.string()}),pUe=O.object({result:O.object({organizationId:O.string(),walletId:O.string(),organizationPolicy:OT,transactionPolicy:CT.nullish().default(null)})});function Yoe(t,e){return Xr(t.signer,"revokeOrganizationAccess",e,pUe)}d();h();var IDt=O.object({organizationId:O.string()}),mUe=O.object({result:uF});function Zoe(t,e){return Xr(t.signer,"initWalletImport",e,mUe)}d();h();var MDt=O.object({organizationId:O.string(),importEnvelope:uF,encryptedEntropy:O.array(O.number().int().min(0)),walletName:O.string(),accounts:O.array(Xc),mnemonicLength:O.number().int().min(0).default(24).optional(),tags:O.array(O.string()).optional()}),yUe=O.object({result:O.object({walletId:O.string(),walletName:O.string(),accounts:O.array(db)})});function Qoe(t,e){return Xr(t.signer,"completeImportWallet",e,yUe)}d();h();var kDt=O.object({publicKey:O.string()}),gUe=O.object({result:HE});function Joe(t,e){return Xr(t.signer,"getOrCreatePhantomOrganization",e,gUe)}d();h();var PDt=O.object({payload:O.union([O.array(O.number().int().min(0)),O.string()]),organizationId:O.string(),walletId:O.string(),derivationInfo:Xc,algorithm:zh}),bUe=O.object({result:O.object({signature:O.string(),address:O.string(),publicKey:O.string()})});function Xoe(t,e){let r=Array.isArray(e.payload)?ri(Buffer.from(e.payload)):e.payload;return Xr(t.signer,"signRawPayload",{...e,payload:r},bUe)}d();h();var RDt=O.object({transaction:Uoe,organizationId:O.string(),walletId:O.string(),derivationInfo:Xc.nullish().default(null)}),vUe=O.object({result:O.object({transaction:Uoe,address:O.string(),publicKey:O.string()})});function ese(t,e){return Xr(t.signer,"signTransaction",e,vUe)}d();h();var BDt=O.object({organizationId:O.string(),walletId:O.string(),accounts:O.array(Xc)}),xUe=O.object({result:O.array(db)});function tse(t,e){return Xr(t.signer,"getAccounts",e,xUe)}function rse(t){return{createOrganization:e=>Foe(t,e),getOrganization:e=>qoe(t,e),createAuthenticator:e=>Koe(t,e),deleteAuthenticator:e=>Voe(t,e),createWallet:e=>Hoe(t,e),getOrganizationWallets:e=>joe(t,e),getOrCreateWalletWithTag:e=>zoe(t,e),getWalletWithTag:e=>Woe(t,e),exportWallet:e=>Goe(t,e),grantOrganizationAccess:e=>$oe(t,e),revokeOrganizationAccess:e=>Yoe(t,e),initWalletImport:e=>Zoe(t,e),completeImportWallet:e=>Qoe(t,e),getOrCreatePhantomOrganization:async()=>{let e=await t.signer.getSignerPublicKey();return Joe(t,{publicKey:e})},signRawPayload:e=>Xoe(t,e),signTransaction:e=>ese(t,e),getAccounts:e=>tse(t,e)}}d();h();var fF=Ke(Er()),iIn=(0,fF.createContext)(null);function ODt(t){let e;async function r(){if(e)return e;let o=await ni(t),s=o.find(c=>c.type==="seedless")??o.find(c=>c.type==="seed")??o.find(c=>c.type==="privateKey");if(!s)throw new Error("No suitable account found to derive authentication key");return e=s,e}async function n(){let o=await r();return VE(t,o)}return{getSignerPublicKey:async()=>ri((await n()).publicKey),signP256:async o=>{let s=await n(),c=await t.vaultSigner.signWithKeypair(s,{isKMSP256OrganizationOwner:!0,data:o});if("status"in c&&c.status==="error")throw new Error(c.message);return c.signature}}}function lF(t){return rse({signer:ODt(t)})}async function dF(t,e,r){let n=e.chains[r]?.pathType;if(!n)return Lr("invalidAddressType",`Seed Account does not contain a chain address for the chain type ${r}.`);let i=await Ss(t,e.seedIdentifier);return t.keypairGenerator.generateKeypairFromSeed(i,e.derivationIndex,n)}async function wUe(t,e,r){let n=await ni(t),i=n.find(o=>o.identifier===e);if(!i)return Lr("invalidAccountId",`Vault (${n.length} account(s) found) does not contain an account for the given identifier: ${e}`);if("isAgentWallet"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let o=await sF(t,i.identifier);return t.vaultSigner.signWithKeypair(o,r)}default:return Lr("unsupportedOperation","Invalid signingAccount type provided for paramType")}if("isJWT"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let o=await VE(t,i);return t.vaultSigner.signWithKeypair(o,r)}default:return Lr("unsupportedOperation","Invalid signingAccount type provided for paramType")}if("isKMSP256OrganizationOwner"in r)return Lr("unsupportedOperation","Signing with the KMS P256 organization owner key is not supported through the external vault interface, as this key is reserved for internal authentication purposes.");if("isCash"in r){if("isCashKMS"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let s=lF(t),c=await mte(s);return t.vaultSigner.signWithKMS(s,{organizationId:c.organizationId,walletId:c.walletId,derivationPath:c.account.derivationPath},r)}default:return Lr("unsupportedOperation","Invalid signingAccount type provided for paramType")}let o=await aF(t);return t.vaultSigner.signWithKeypair(o,r)}switch(i.type){case"seedless":case"seed":{switch(r.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{enabledAddressTypes:o}=await t.fetchChainAvailability(),s={},c=Object.keys(i.chains).filter(l=>jd.safeParse(l).success).filter(l=>o.includes(l));for(let l of c){let m=await dF(t,i,l);if("status"in m&&m.status==="error")return m;s[l]=m}return t.vaultSigner.signWithKeypair(s,r)}case"eip155":{let o=await dF(t,i,r.chainType);return"status"in o&&o.status==="error"?o:t.vaultSigner.signWithKeypair(o,r)}case"solana":{let o=await dF(t,i,r.chainType);return"status"in o&&o.status==="error"?o:t.vaultSigner.signWithKeypair(o,r)}case"sui":{let o=await dF(t,i,r.chainType);return"status"in o&&o.status==="error"?o:t.vaultSigner.signWithKeypair(o,r)}}break}case"privateKey":{let o=await Tg(t,i.privateKeyIdentifier);if(o.chainType!==r.chainType)return Lr("invalidAddressType",`Private Key account from accountID is a different chain type from params. Expected ${o.chainType}, got ${r.chainType}`);let s=t.keypairGenerator.generateKeypairFromPrivateKey(Mi.from(o.privateKey),r.chainType);switch(r.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return t.vaultSigner.signWithKeypair({[r.chainType]:s},r);case"eip155":return t.vaultSigner.signWithKeypair(s,r);case"solana":return t.vaultSigner.signWithKeypair(s,r);case"sui":return t.vaultSigner.signWithKeypair(s,r)}break}case"ledger":{let o=i.chains[r.chainType];if(!o)return Lr("invalidAddressType",`Ledger Account does not contain a chain address for the chain type ${r.chainType}.`);let s=hP.safeParse({pathType:o.pathType,index:i.derivationIndex});if(!s.success)return Lr("invalidDerivationPath","Unsupported Derivation Path. Ledger account derivation path type is incompatible with ChainType in signing params.");let c=f_(s.data);return t.vaultSigner.signWithHardware(e,c,r)}case"seedVault":{let{authToken:o,derivationPath:s,chainType:c}=i;return c!==r.chainType?Lr("invalidAddressType",`Solana Seed Vault account from accountID is a different chain type from params. Expected ${c}, got ${r.chainType}`):t.vaultSigner.signWithSolanaSeedVault(o,s,r)}case"readOnly":return Lr("unsupportedOperation","Read Only Accounts cannot sign transactions.");default:(o=>{throw new Error("invalid account type")})(i)}}d();h();function nse(t){switch(t.type){case"seed":return NT(t);case"seedless":return DT(t);case"privateKey":return ose(t);case"ledger":return ise(t);case"seedVault":return sse(t);case"readOnly":return t}}function ise(t){let{chains:e,version:r,...n}=t,i={};for(let o of Object.keys(e)){let s=e[o];if(!s)continue;let c;switch(s.chainType){case"solana":case"eip155":{let{publicKey:l,...m}=s;c={...m,address:l};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:l,...m}=s,w=Object.values(Ao).reduce((b,E)=>{let I=l?l[E]:void 0;if(!I)throw new Nv;return{...b,[E]:I}},{});c={...m,addresses:w};break}case"sui":{c=s;break}}i[o]=c}return{...n,chains:i}}function ose(t){switch(t.chainType){case"solana":case"eip155":{let{publicKey:e,version:r,...n}=t;return{...n,address:e}}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:e,version:r,...n}=t,i=Object.values(Ao).reduce((o,s)=>{let c=e?e[s]:void 0;if(!c)throw new Nv;return{...o,[s]:c}},{});return{...n,addresses:i}}case"sui":return t}}function sse(t){let{publicKey:e,version:r,...n}=t;return{...n,address:e}}function NT(t){let{chains:e,version:r,...n}=t,i={};for(let o of Object.keys(e)){let s=e[o];if(!s)continue;let c;switch(s.chainType){case"solana":case"eip155":{let{publicKey:l,...m}=s;c={...m,address:l};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:l,...m}=s,w=Object.values(Ao).reduce((b,E)=>{let I=l?l[E]:void 0;if(!I)throw new Nv;return{...b,[E]:I}},{});c={...m,addresses:w};break}case"sui":{c=s;break}}i[o]=c}return{...n,chains:i}}function DT(t){let{chains:e,version:r,...n}=t,i={};for(let o of Object.keys(e)){let s=e[o];if(!s)continue;let c;switch(s.chainType){case"solana":case"eip155":{let{publicKey:l,...m}=s;c={...m,address:l};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:l,...m}=s,w=Object.values(Ao).reduce((b,E)=>{let I=l?l[E]:void 0;if(!I)throw new Nv;return{...b,[E]:I}},{});c={...m,addresses:w};break}case"sui":c=s}i[o]=c}return{...n,chains:i}}function NDt(t){return{addSeedWithDefaultAccount:(e,r)=>BDe(t,e,r).then(NT),addAccountForExistingSeed:e=>dDe(t,e).then(NT),addSeedWithMultipleAccounts:(e,r,n,i)=>QL(t,e,r,n,i).then(o=>o.map(NT)),addPrivateKeyAccount:(e,r,n)=>TDe(t,e,r,n).then(ose),addLedgerAccounts:(e,r)=>EDe(t,e,r).then(n=>n.map(ise)),addSolanaSeedVaultAccounts:e=>ODe(t,e).then(r=>r.map(sse)),addReadonlyAccount:e=>MDe(t,e),deriveAddresses:()=>HDe(t),removeAccount:e=>XDe(t,e),reorderAccount:(e,r)=>eUe(t,e,r),exportEntropy:e=>sb(t,e),exportPrivateKey:(e,r)=>JL(t,e,r),fetchAllAccounts:()=>ni(t).then(e=>e.map(nse)),fetchAllSeedMetas:()=>Yke(t),fetchAllSeedlessMetas:()=>wD(t),sign:(e,r)=>wUe(t,e,r),isExistingSeed:e=>UE(t,e),checkVaultIntegrity:()=>VDe(t),clearVault:()=>e7e(t),addSeedlessWithMultipleAccounts:(e,r,n)=>ZL(t,e,r,n).then(i=>i.map(DT)),addSeedlessWithDefaultAccount:(e,r)=>RDe(t,e,r).then(DT),addAccountForExistingSeedless:e=>kDe(t,e).then(DT),getAuthenticationPublicKey:e=>ZDe(t,e),getCashAddress:()=>JDe(t),getAgentAddress:(e,r)=>YDe(t,e,r),getKMSInstance:()=>lF(t)}}d();h();d();h();d();h();function Zs(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(T.NODE_ENV!=="production"){var i=HDt[t],o=i?typeof i=="function"?i.apply(null,r):i:"unknown error nr: "+t;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function jE(t){return!!t&&!!t[Ku]}function _x(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var r=Object.getPrototypeOf(e);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===jDt}(t)||Array.isArray(t)||!!t[kUe]||!!t.constructor[kUe]||yse(t)||gse(t))}function LT(t,e,r){r===void 0&&(r=!1),WE(t)===0?(r?Object.keys:Sse)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function WE(t){var e=t[Ku];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:yse(t)?2:gse(t)?3:0}function lse(t,e){return WE(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function DDt(t,e){return WE(t)===2?t.get(e):t[e]}function PUe(t,e,r){var n=WE(t);n===2?t.set(e,r):n===3?(t.delete(e),t.add(r)):t[e]=r}function UDt(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function yse(t){return KDt&&t instanceof Map}function gse(t){return VDt&&t instanceof Set}function Ex(t){return t.o||t.t}function bse(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=zDt(t);delete e[Ku];for(var r=Sse(e),n=0;n<r.length;n++){var i=r[n],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function vse(t,e){return e===void 0&&(e=!1),xse(t)||jE(t)||!_x(t)||(WE(t)>1&&(t.set=t.add=t.clear=t.delete=LDt),Object.freeze(t),e&&LT(t,function(r,n){return vse(n,!0)},!0)),t}function LDt(){Zs(2)}function xse(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Wh(t){var e=WDt[t];return e||Zs(18,t),e}function SUe(){return T.NODE_ENV==="production"||zE||Zs(0),zE}function ase(t,e){e&&(Wh("Patches"),t.u=[],t.s=[],t.v=e)}function hF(t){dse(t),t.p.forEach(FDt),t.p=null}function dse(t){t===zE&&(zE=t.l)}function AUe(t){return zE={p:[],l:zE,h:t,m:!0,_:0}}function FDt(t){var e=t[Ku];e.i===0||e.i===1?e.j():e.O=!0}function cse(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.g||Wh("ES5").S(e,t,n),n?(r[Ku].P&&(hF(e),Zs(4)),_x(t)&&(t=pF(e,t),e.l||mF(e,t)),e.u&&Wh("Patches").M(r[Ku].t,t,e.u,e.s)):t=pF(e,r,[]),hF(e),e.u&&e.v(e.u,e.s),t!==RUe?t:void 0}function pF(t,e,r){if(xse(e))return e;var n=e[Ku];if(!n)return LT(e,function(o,s){return EUe(t,n,e,o,s,r)},!0),e;if(n.A!==t)return e;if(!n.P)return mF(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=bse(n.k):n.o;LT(n.i===3?new Set(i):i,function(o,s){return EUe(t,n,i,o,s,r)}),mF(t,i,!1),r&&t.u&&Wh("Patches").R(n,r,t.u,t.s)}return n.o}function EUe(t,e,r,n,i,o){if(T.NODE_ENV!=="production"&&i===r&&Zs(5),jE(i)){var s=pF(t,i,o&&e&&e.i!==3&&!lse(e.D,n)?o.concat(n):void 0);if(PUe(r,n,s),!jE(s))return;t.m=!1}if(_x(i)&&!xse(i)){if(!t.h.F&&t._<1)return;pF(t,i),e&&e.A.l||mF(t,i)}}function mF(t,e,r){r===void 0&&(r=!1),t.h.F&&t.m&&vse(e,r)}function use(t,e){var r=t[Ku];return(r?Ex(r):t)[e]}function _Ue(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function hse(t){t.P||(t.P=!0,t.l&&hse(t.l))}function fse(t){t.o||(t.o=bse(t.t))}function pse(t,e,r){var n=yse(e)?Wh("MapSet").N(e,r):gse(e)?Wh("MapSet").T(e,r):t.g?function(i,o){var s=Array.isArray(i),c={i:s?1:0,A:o?o.A:SUe(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=c,m=mse;s&&(l=[c],m=UT);var w=Proxy.revocable(l,m),b=w.revoke,E=w.proxy;return c.k=E,c.j=b,E}(e,r):Wh("ES5").J(e,r);return(r?r.A:SUe()).p.push(n),n}function qDt(t){return jE(t)||Zs(22,t),function e(r){if(!_x(r))return r;var n,i=r[Ku],o=WE(r);if(i){if(!i.P&&(i.i<4||!Wh("ES5").K(i)))return i.t;i.I=!0,n=TUe(r,o),i.I=!1}else n=TUe(r,o);return LT(n,function(s,c){i&&DDt(i.t,s)===c||PUe(n,s,e(c))}),o===3?new Set(n):n}(t)}function TUe(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return bse(t)}var IUe,zE,wse=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",KDt=typeof Map<"u",VDt=typeof Set<"u",MUe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",RUe=wse?Symbol.for("immer-nothing"):((IUe={})["immer-nothing"]=!0,IUe),kUe=wse?Symbol.for("immer-draftable"):"__$immer_draftable",Ku=wse?Symbol.for("immer-state"):"__$immer_state";var HDt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(t){return"Cannot apply patch, path doesn't resolve: "+t},16:'Sets cannot have "replace" patches.',17:function(t){return"Unsupported patch operation: "+t},18:function(t){return"The plugin for '"+t+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+t+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(t){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+t+"'"},22:function(t){return"'current' expects a draft, got: "+t},23:function(t){return"'original' expects a draft, got: "+t},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},jDt=""+Object.prototype.constructor,Sse=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,zDt=Object.getOwnPropertyDescriptors||function(t){var e={};return Sse(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},WDt={},mse={get:function(t,e){if(e===Ku)return t;var r=Ex(t);if(!lse(r,e))return function(i,o,s){var c,l=_Ue(o,s);return l?"value"in l?l.value:(c=l.get)===null||c===void 0?void 0:c.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!_x(n)?n:n===use(t.t,e)?(fse(t),t.o[e]=pse(t.A.h,n,t)):n},has:function(t,e){return e in Ex(t)},ownKeys:function(t){return Reflect.ownKeys(Ex(t))},set:function(t,e,r){var n=_Ue(Ex(t),e);if(n?.set)return n.set.call(t.k,r),!0;if(!t.P){var i=use(Ex(t),e),o=i?.[Ku];if(o&&o.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(UDt(r,i)&&(r!==void 0||lse(t.t,e)))return!0;fse(t),hse(t)}return t.o[e]===r&&typeof r!="number"&&(r!==void 0||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return use(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,fse(t),hse(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=Ex(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Zs(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Zs(12)}},UT={};LT(mse,function(t,e){UT[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),UT.deleteProperty=function(t,e){return T.NODE_ENV!=="production"&&isNaN(parseInt(e))&&Zs(13),UT.set.call(this,t,e,void 0)},UT.set=function(t,e,r){return T.NODE_ENV!=="production"&&e!=="length"&&isNaN(parseInt(e))&&Zs(14),mse.set.call(this,t[0],e,r,t[0])};var GDt=function(){function t(r){var n=this;this.g=MUe,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var c=o;o=i;var l=n;return function(k){var B=this;k===void 0&&(k=c);for(var R=arguments.length,U=Array(R>1?R-1:0),P=1;P<R;P++)U[P-1]=arguments[P];return l.produce(k,function(F){var V;return(V=o).call.apply(V,[B,F].concat(U))})}}var m;if(typeof o!="function"&&Zs(6),s!==void 0&&typeof s!="function"&&Zs(7),_x(i)){var w=AUe(n),b=pse(n,i,void 0),E=!0;try{m=o(b),E=!1}finally{E?hF(w):dse(w)}return typeof Promise<"u"&&m instanceof Promise?m.then(function(k){return ase(w,s),cse(k,w)},function(k){throw hF(w),k}):(ase(w,s),cse(m,w))}if(!i||typeof i!="object"){if((m=o(i))===void 0&&(m=i),m===RUe&&(m=void 0),n.F&&vse(m,!0),s){var I=[],M=[];Wh("Patches").M(i,m,I,M),s(I,M)}return m}Zs(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(m){for(var w=arguments.length,b=Array(w>1?w-1:0),E=1;E<w;E++)b[E-1]=arguments[E];return n.produceWithPatches(m,function(I){return i.apply(void 0,[I].concat(b))})};var s,c,l=n.produce(i,o,function(m,w){s=m,c=w});return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return[m,s,c]}):[l,s,c]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){_x(r)||Zs(8),jE(r)&&(r=qDt(r));var n=AUe(this),i=pse(this,r,void 0);return i[Ku].C=!0,dse(n),i},e.finishDraft=function(r,n){var i=r&&r[Ku];T.NODE_ENV!=="production"&&(i&&i.C||Zs(9),i.I&&Zs(10));var o=i.A;return ase(o,n),cse(void 0,o)},e.setAutoFreeze=function(r){this.F=r},e.setUseProxies=function(r){r&&!MUe&&Zs(20),this.g=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=Wh("Patches").$;return jE(r)?s(r,n):this.produce(r,function(c){return s(c,n)})},t}(),Vu=new GDt,Ase=Vu.produce,SMn=Vu.produceWithPatches.bind(Vu),AMn=Vu.setAutoFreeze.bind(Vu),EMn=Vu.setUseProxies.bind(Vu),_Mn=Vu.applyPatches.bind(Vu),TMn=Vu.createDraft.bind(Vu),IMn=Vu.finishDraft.bind(Vu),MMn=Ase;var Ese=new Error("Failed to add user account metadata to storage"),FT=new Error("Could not find account metadata in storage");async function _se(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw FT;let i=n.accounts[e];i?i.name=r:(i={name:r},n.accounts[e]=i),await t.set(".phantom-labs.account.accountMetadata",n)}async function Tse(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw FT;let i=n.accounts[e];i?i.icon=r:(i={icon:r,name:jp.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[e]=i),await t.set(".phantom-labs.account.accountMetadata",n)}async function Ise(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw FT;let i=n.accounts[e];i?i.balance=r:(i={balance:r,name:jp.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[e]=i),await t.set(".phantom-labs.account.accountMetadata",n)}async function pb(t,e,r){try{let n=await t.get(".phantom-labs.account.accountMetadata");n?n.accounts[e]=r:n={version:1,accounts:{[e]:r}},await t.set(".phantom-labs.account.accountMetadata",n)}catch{throw Ese}}async function Mse(t,e){try{let r=await t.get(".phantom-labs.account.accountMetadata");r?r.accounts=Ase(r.accounts,n=>{for(let[i,o]of Object.entries(e))n[i]||(n[i]={name:""}),n[i].name=o.name,n[i].icon=o.icon??n[i].icon,n[i].balance=o.balance??n[i].balance,n[i].connectedDevices=o.connectedDevices??n[i].connectedDevices}):r={version:1,accounts:{...e}},await t.set(".phantom-labs.account.accountMetadata",r)}catch{throw Ese}}async function qT(t,e){let r=await t.get(".phantom-labs.account.accountMetadata");r||(r={version:1,accounts:{}});let n=r.accounts[e];return n||(n={name:jp.t("onboardingImportAccountsAccountName",{walletIndex:""})}),n}async function KT(t){let e=await t.get(".phantom-labs.account.accountMetadata");return e?e.accounts:{}}async function VT(t,e){let r=await t.get(".phantom-labs.account.accountMetadata");if(!r)throw FT;delete r.accounts[e],await t.set(".phantom-labs.account.accountMetadata",r)}d();h();var kse=class{#e;#t;#n;constructor(e,r,n){this.#e=e,this.#t=r,this.#n=n}identifyAccount=async(e,r,n)=>{let i=!!r.addresses.find(M=>je.isSolanaNetworkID(M.networkID)),o=!!r.addresses.find(M=>je.isEthereumNetworkID(M.networkID)),s=!!r.addresses.find(M=>je.isBitcoinNetworkID(M.networkID)),c=!!r.addresses.find(M=>je.isSuiNetworkID(M.networkID)),l={hasSolanaAddress:i,hasEthereumAddress:o,hasBitcoinAddress:s,hasSuiAddress:c},m=n.enabledChainIDs.map(M=>je[M].name).join(", "),w=new Set;for(let M of e)switch(M.type){case"seed":case"seedless":w.add(M.seedIdentifier);break;case"readOnly":case"privateKey":case"ledger":case"seedVault":break;default:Ct(M);break}let{id:b,type:E}=await this.getIdentifyID(r),I=await this.getUsername();switch(r.type){case"seed":case"seedless":this.#e.identify(b,{...l,accountType:r.type,rootID:r.seedIdentifier,rootIds:Array.from(w),accountID:r.identifier,isReadOnly:!1,enabledChains:m,idType:E,username:I});break;case"readOnly":this.#e.identify(b,{...l,accountType:r.type,isReadOnly:!0,enabledChains:m,idType:E,username:I});break;case"privateKey":case"ledger":case"seedVault":this.#e.identify(b,{...l,accountType:r.type,rootIds:Array.from(w),accountID:r.identifier,isReadOnly:!1,enabledChains:m,idType:E,username:I});break;default:Ct(r)}};getIdentifyID=async e=>{let r=await this.#t.getUser().catch(()=>{});return r?{type:"userID",id:r.userID}:{type:"accountID",id:e.identifier}};getUsername=async()=>{let e=await this.#n.getUserProfile().catch(()=>{});if(e)return e.username};onAppSessionStart=e=>{let r=new Map;for(let n of e){if(n.type==="readOnly")continue;let{addresses:i,identifier:o}=n;for(let s of i){let c=je.getChainName(s.networkID),l={type:n.type,accountId:o,id:s.address};if(!r.get(c))r.set(c,[l]);else{let m=r.get(c)??[];r.set(c,[...m,l])}}}this.#e.capture("appSessionStart",{data:{ids:Object.fromEntries(r)}})}};d();h();d();h();d();h();d();h();var yF=Ke(Er());d();h();var xd=()=>{let t=ac(),{data:[e],isLoading:r}=XQ(["enable-arbitrum"]);return Kr({enabled:!r,queryKey:Tv.chainAvailability({isArbitrumEnabled:e}),queryFn:()=>Mee(t,e)})};d();h();var Pse=()=>{let t=Ut(),e=ac();return Ht({mutationFn:async({addressTypes:n})=>{for(let i of n)await Iee(i,e);yp(t)}})};d();h();var $Dt=()=>{let t=ac(),e=Ut();return Ht({mutationFn:async({chainIDs:n})=>{for(let i of n)await Aee(i,t);yp(e)}})};d();h();d();h();var Rse=()=>{let t=Ut(),e=ac(),r=Jn();return Ht({mutationFn:async({addressTypes:i})=>{for(let o of i)await Tee(o,e);await r.deriveAddresses(),await yp(t)}})};d();h();var YDt=()=>{let t=ac(),e=Ut(),r=Jn();return Ht({mutationFn:async({chainIDs:i})=>{for(let o of i)await Eee(o,t);await r.deriveAddresses(),await yp(e)}})};d();h();var ZDt=()=>{let t=ac(),{mutateAsync:e}=Pse(),{mutateAsync:r}=Rse();return Ht({mutationFn:async({addressTypes:i})=>{if(await _ee(t))await r({addressTypes:i});else{let s=new Set(je.bitcoin.addressTypes);for(let c of i)s.delete(c);if(s.size===je.bitcoin.addressTypes.length&&s.delete("bip122_p2wpkh"),s.size>0){let c=Array.from(s);await e({addressTypes:c})}}}})};var Bse=je.getAllChainIDs().filter(t=>je.isChainDefaultEnabled(t)),BUe=Bse.map(t=>je.getMainnetNetworkID(t)),QDt=BUe.flatMap(t=>je.getAddressTypes(t)),CUe=()=>xd().data?.enabledAddressTypes??QDt,GE=()=>xd().data?.enabledChainIDs??Bse,gPn=()=>xd().data?.supportedChainIDs??Bse,bPn=t=>{let e=xd().data;return e?t?e.enabledNetworkIDs:e.enabledMainnetOnlyNetworkIDs:BUe},vPn=()=>GE().length===1,xPn=()=>{let t=GE();return(0,yF.useMemo)(()=>je.getChainIDs("eip155").some(e=>t.includes(e)),[t])},wPn=()=>{let t=GE();return(0,yF.useMemo)(()=>t.length===1&&t.includes("solana"),[t])},SPn=t=>{let e=GE();return(0,yF.useMemo)(()=>t.map(r=>e.includes(r)),[e,t])};d();h();d();h();d();h();d();h();var $E=async t=>{let e=await t.get("networkSetting");if(!e)return s5();let r=JDt(e);return XDt(t,r)};function JDt(t){let e={...t,setting:{...t.setting}};return e.setting.sui||(e.setting.sui=s5().setting.sui),e}var XDt=async(t,e)=>{let r=!1;eUt(e)&&(r=!0);let n=e.setting.solana;n&&je.isMainnetNetworkID(n)&&(e.setting.solana=hA,r=!0);let i=e.setting.eip155;return i&&je.isMainnetNetworkID(i)&&(e.setting.eip155=pA,r=!0),r&&await t.set("networkSetting",e),e},eUt=t=>{let e=!1,r=t.setting.eip155;return r&&(r.toString()==="eip155:5"&&(t.setting.eip155=Ar.Ethereum.Sepolia,e=!0),r.toString()==="eip155:80001"&&(t.setting.eip155=Ar.Polygon.Amoy,e=!0)),e};var Cse=async(t,e,r)=>{let n=await t.fetchAllAccounts();if(n.length===0)return[];let i=e.get("developerMode"),o=$E(e),s=KT(e),[c,l,m]=await Promise.all([i,o,s]);return n.map(w=>{let b=m[w.identifier];b||(b={name:jp.t("onboardingImportAccountsAccountName",{walletIndex:""})});let E={name:b.name,icon:b.icon,identifier:w.identifier,addresses:x5(w,r.enabledMainnetOnlyNetworkIDs,r.enabledAddressTypes,r.enabledChainIDs,l,c?.isDeveloperMode??!1)};return w.type==="seed"?{...E,type:"seed",seedIdentifier:w.seedIdentifier,isReadOnly:!1}:w.type==="seedless"?{...E,type:"seedless",seedIdentifier:w.seedIdentifier,isReadOnly:!1}:w.type==="readOnly"?{...E,type:"readOnly",isReadOnly:!0}:w.type==="privateKey"?{...E,privateKeyIdentifier:w.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...E,type:w.type,isReadOnly:!1}})};d();h();var La="@phantom/accounts",Ose=`${La}:account-identifier`,Nse=`${La}:selected-account`,gF=`${La}:all-accounts`,Dse=`${La}:all-seeds`,tUt=`${La}:all-secrets`,WPn=`${La}:account-balance`,pr={accountBalance(t){return[`${La}:account-balance`,{identifier:t}]},allAccountBalances(){return[`${La}:all-account-balances`]},allAccounts(t){let e=t?{chainAvailability:{enabledChainIDs:t.enabledChainIDs,enabledAddressTypes:t.enabledAddressTypes}}:{};return[gF,{chainAvailabilityQueryObject:e}]},allSeeds(t){return[Dse,t]},allSecretIdentifiers(){return[tUt]},developerMode(){return[`${La}:developer-mode`]},accountIdentifier(t){return[Ose,{identifier:t}]},selectedAccount(t){let e=t?{chainAvailability:{enabledChainIDs:t.enabledChainIDs,enabledAddressTypes:t.enabledAddressTypes}}:{};return[Nse,e]},selectedAccountIdentifier(){return[`${La}:selected-account-identifier`]},selectedNetworkSetting(){return[`${La}:selected-network-setting`]},trustedApps(){return[`${La}:trusted-apps`]},migratedWithInvalidChecksum(){return[`${La}:migrated-with-invalid-checksum`]},syncUserAccounts(){return[`${La}:sync-user-accounts`]},accountsEligibleToClaim(t,e,r){return[`${La}:are-accounts-eligible-to-claim`,{username:t,selectedAccountIdentifier:e,solanaAddresses:r}]},patchProfileAddresses(t){return[`${La}:patch-profile-addresses`,t]}};function Tx(t){let{isSuccess:e,data:r}=xd(),n=Jn(),i=pr.allAccounts(r),o=er();return Kr({enabled:e,queryKey:i,queryFn:async()=>{if(!r)throw new Error(w5);let c=await Cse(n,o,r);return Qe.addBreadcrumb("account",`Finished fetching all accounts. Num accounts: ${c.length}`,"info"),c},select:t})}var bF=()=>{let{isSuccess:t,isFetching:e,data:r=[]}=Tx(),n=t&&!e&&!!r.length;return n?{enabled:n,accounts:r}:{enabled:n}};d();h();var ei=async t=>{await t.invalidateQueries({queryKey:[Dse]}),await t.invalidateQueries({queryKey:[gF],predicate:e=>e.queryKey[0]===gF}),await t.invalidateQueries({queryKey:[Ose]}),await vF(t)},vF=async t=>{await t.invalidateQueries({predicate:e=>typeof e.queryKey[0]=="string"&&e.queryKey[0]===Nse}),await t.invalidateQueries({queryKey:pr.selectedAccountIdentifier()})};kee(ei);d();h();d();h();d();h();var Qs=[];for(let t=0;t<256;++t)Qs.push((t+256).toString(16).slice(1));function OUe(t,e=0){return(Qs[t[e+0]]+Qs[t[e+1]]+Qs[t[e+2]]+Qs[t[e+3]]+"-"+Qs[t[e+4]]+Qs[t[e+5]]+"-"+Qs[t[e+6]]+Qs[t[e+7]]+"-"+Qs[t[e+8]]+Qs[t[e+9]]+"-"+Qs[t[e+10]]+Qs[t[e+11]]+Qs[t[e+12]]+Qs[t[e+13]]+Qs[t[e+14]]+Qs[t[e+15]]).toLowerCase()}d();h();var Use,rUt=new Uint8Array(16);function Lse(){if(!Use){if(typeof self.crypto>"u"||!self.crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Use=self.crypto.getRandomValues.bind(self.crypto)}return Use(rUt)}d();h();d();h();var nUt=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),Fse={randomUUID:nUt};function iUt(t,e,r){if(Fse.randomUUID&&!e&&!t)return Fse.randomUUID();t=t||{};let n=t.random??t.rng?.()??Lse();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return OUe(n)}var qse=iUt;d();h();function xF(){let t=er(),e=Ut();return Ht({mutationFn:async({metadataBatch:o})=>{Qe.addBreadcrumb("account",`Adding Account Metadata Batch: ${Object.entries(o).length} entries`,"info"),await Mse(t,o)},onSuccess:async()=>{await ei(e)},onError:o=>{Qe.captureError(o,"account")}})}function oUt(){let{mutateAsync:t}=xF(),e=er(),r=Ut(),n=Jn(),{t:i}=Zh();return Ht({mutationFn:async({accounts:l,pairedBLEDevice:m})=>{let w=qse(),b=await n.connectLedgerAccounts(w,l),E=b.reduce((M,k,B)=>{let{name:R,accountIndex:U}=l[B],P;!R||R.length===0?P=i("onboardingImportAccountsLedgerAccountName",{walletIndex:1+U}):P=R;let F;m&&(F=[{...m,version:1,connectionType:"ble",deviceType:"ledger"}]);let V={name:P,icon:void 0,connectedDevices:F};return M[k.identifier]=V,M},{});await t({metadataBatch:E});let I=b[0]?.identifier;return I||(I=(await n.fetchAllAccounts())[0].identifier),await Pu(e,I),r.setQueryData(pr.selectedAccountIdentifier(),I),b},onSettled:async()=>{await ei(r)},onError:l=>Qe.captureError(l,"account")})}d();h();var YE=Ke(Er()),NUe=(0,YE.createContext)(null);function sUt({children:t,analytics:e}){return YE.default.createElement(NUe.Provider,{value:e},t)}function dc(){let t=(0,YE.useContext)(NUe);if(!t)throw new Error("useAnalytics must be used within a AnalyticsProvider");return t}d();h();d();h();function Hu({select:t}={}){let{isSuccess:e,data:r}=xd(),n=bF(),i=n.enabled&&e,o=er(),s=cte(),c=pr.selectedAccount(r);return Kr({queryKey:c,queryFn:async()=>{try{if(!r)throw new Error(w5);if(!n.enabled)throw new Error(AA);let m=await Ep(n.accounts,o);return Qe.addBreadcrumb("account",`Finished fetching selected account: ${m.identifier}`,"info"),s.identifyAccount(n.accounts,m,r),m}catch(m){throw m instanceof Error&&Qe.captureError(m,"account"),m}},enabled:i,select:t})}d();h();var ZE=Ke(Er()),DUe=(0,ZE.createContext)(null);function aUt({children:t,userRepository:e}){return ZE.default.createElement(DUe.Provider,{value:{userRepository:e}},t)}function cUt(){let t=(0,ZE.useContext)(DUe);if(!t)throw new Error("useUserContext must be used within a UserProvider");return t}function ju(){return cUt().userRepository}d();h();d();h();d();h();var HT=t=>`/user/v1/users/${t}/profile`,wF=t=>`/user/v1/profiles/${t}`,UUe=()=>"/user/v1/profiles/creation-check";d();h();d();h();var jT=(i=>(i.PUBLIC="public",i.PRIVATE="private",i.INVISIBLE="invisible",i.HIDDEN="hidden",i))(jT||{}),uUt=Object.values(jT),qUe=O.string().brand("ProfileId"),SF=O.object({id:qUe,username:O.string(),icon:O.string().nullish(),addresses:O.record(O.string(),O.string()),privacyState:O.nativeEnum(jT).optional().default("public"),biography:O.string().nullish(),phantomJoinDate:O.string().nullish()}),Kse=O.string().url().brand("ActorId"),fUt=O.object({id:O.string().optional(),orderedItems:Kse.array(),next:O.string().optional()}),LUe=O.object({id:O.string().url(),current:fUt.optional(),totalItems:O.number().optional()}),FUe=O.object({type:O.string(),value:O.string().optional(),name:O.string().optional()}),lUt=O.object({id:O.string().url().optional(),name:O.string().optional(),type:O.string()}),dUt=O.object({id:Kse,name:O.string(),preferredUsername:O.string(),manuallyApprovesFollowers:O.boolean(),followers:O.union([LUe,O.string().url()]),following:O.union([LUe,O.string().url()]),icon:lUt.nullish(),attachment:O.union([FUe,O.array(FUe)]).optional(),summary:O.string().nullish(),published:O.string().nullish()}).transform(t=>{let{attachment:e,...r}=t,n={},i=!1,o=!1,s=!1,c=!1,l=!1;if(e){let m=Array.isArray(e)?e:[e];for(let w of m)if(!(!w.name||!w.value)){if(w.name.endsWith(":address")){let b=_l.safeParse(w.name.replace(":address",""));if(b.success){let E=b.data;n[E]=w.value}}w.name==="requesting"&&(i=w.value==="true"),w.name==="requestedBy"&&(o=w.value==="true"),w.name==="blocking"&&(s=w.value==="true"),w.name==="following"&&(c=w.value==="true"),w.name==="followedBy"&&(l=w.value==="true")}}return{...r,addresses:n,isSentFollowRequestPending:i,hasPendingFollowRequest:o,isBlocking:s,isFollowing:c,isFollowedBy:l}}),hUt={Image:"image",Emoji:"emoji",ReadOnlyDefault:"read-only-default",Default:"default"},IRn=O.object({type:O.nativeEnum(hUt),imageUrl:O.string().optional(),unicode:O.string().optional()}),Vse=O.object({error:O.object({message:O.string()})});var Hse=async t=>{let e=await Rn.api().get(wF(t)),r=SF.safeParse(e.data);return r.success?r.data:null};var pUt=t=>({getUsernameAvailability:e=>mUt(e),getUserProfile:()=>yUt(t),getUserProfileByUsername:e=>Hse(e),getUserProfileByUsernameOrUserProfileId:e=>Hse(e),setUserProfile:({username:e,addresses:r,icon:n,privacyState:i})=>gUt(t,{username:e,addresses:r,icon:n,privacyState:i}),patchUserProfile:e=>bUt(t,e),deleteUserProfile:()=>vUt(t),isEligibleToClaim:e=>xUt(e)}),mUt=async t=>{switch((await Rn.api().get(wF(t))).status){case 200:return!1;case 403:return!1;case 404:return!0;default:throw new Error("Failed to check for username availability.")}},yUt=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to get user profile.");let{userID:r,accessToken:n}=e,i=await Rn.api().bearer(n).get(HT(r)),o=SF.safeParse(i.data);return o.success?o.data:null},gUt=async({authRepository:t},{username:e,addresses:r,icon:n,privacyState:i})=>{let o=await t.getUser();if(!o)throw new Error("User is not logged in, unable to claim username.");let{userID:s,accessToken:c}=o,l=await Rn.api().bearer(c).post(HT(s),{username:e,icon:n,addresses:r,privacyState:i});if(l.status===201)return;let m=Vse.safeParse(l.data);throw m.success?new Error(m.data.error.message):new Error("Unknown error")},bUt=async({authRepository:t},{username:e,addresses:r,icon:n,privacyState:i,biography:o})=>{let s=await t.getUser();if(!s)throw new Error("User is not logged in, unable to claim username.");let{userID:c,accessToken:l}=s,m=await Rn.api().bearer(l).patch(HT(c),{username:e,addresses:r,icon:n,privacyState:i,biography:o});if(m.status===200)return;Qe.captureMessage(`Failed to patch user profile: ${m.status} ${JSON.stringify(m.data)}`,"Auth");let w=Vse.safeParse(m.data);throw w.success?new Error(w.data.error.message):new Error("Unknown error")},vUt=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to sync down accounts.");let{userID:r,accessToken:n}=e,i=await Rn.api().bearer(n).delete(HT(r));return 200<=i.status&&i.status<300},xUt=async t=>{try{return(await Rn.api().post(UUe(),{addresses:t})).status===200}catch{return!1}};d();h();var AF="@phantom/users",eu={checkUsernameAvailability(t){return["user",`${AF}:check-username-availability`,{username:t}]},userProfile(){return["user",`${AF}:user-profile`]},userProfileAttributeEffect(t){return["user",`${AF}:user-profile-attribute-effect`,{username:t}]}};d();h();var wUt=new Set([eu.userProfile()[1]]),SUt=t=>{let e=t.queryKey[1];return typeof e!="string"||!e?!1:wUt.has(e)};d();h();d();h();var zT=nI(dc,t=>new EF(t)),EF=class{#e;constructor(e){this.#e=e}onClaimFlowStart(){this.#e.capture("userUsernameClaimFlowStart")}onCheckAvailability(e,r){this.#e.capture("userUsernameCheckAvailability",{data:{username:e,isAvailable:r}})}onAvatarSaved(e){this.#e.capture("userUsernameClaimFlowAvatarSaved",{data:{avatarType:e}})}onAnonymousAuthSaved(e,r){this.#e.capture("userUsernameClaimFlowAnonymousAuthSaved",{data:{numAuthFactorsSaved:e,numAuthFactorsShown:r}})}onLinkWalletsSaved(e,r){this.#e.capture("userUsernameClaimFlowLinkWalletsSaved",{data:{numWalletsSaved:e,numWalletsShown:r}})}onPublicAddressesSaved(){this.#e.capture("userUsernameClaimFlowPublicAddressesSaved")}onClaimFlowComplete(e,r){this.#e.capture("userUsernameClaimComplete",{data:{username:e,authUserID:r}})}};d();h();var jse=async t=>{await t.removeQueries({queryKey:eu.userProfile()})},zse=async t=>{await t.resetQueries({queryKey:eu.userProfile()})},Ix=async t=>{await t.invalidateQueries({queryKey:eu.userProfile()})};function AUt(){let t=zT(),e=Gf(),r=ju(),n=Ut(),i=async({username:o,addresses:s,icon:c})=>{Qe.addBreadcrumb("Auth",`Claiming Username: ${o}.`,"debug");let l=await e.getUser();if(!l)throw new Error("Unable to claim username. User not authenticated.");Qe.addBreadcrumb("Auth","Creating user profile to claim username","debug"),await r.setUserProfile({username:o,addresses:s,icon:c,privacyState:"public"}),Qe.addBreadcrumb("Auth","\u2705 Username Claimed!","debug"),await ate(n),await zse(n),await Ov(n),await Ix(n),await Sp(n),t.onClaimFlowComplete(o,l.userID)};return Ht({mutationFn:async o=>{try{return await i(o)}catch(s){Qe.addBreadcrumb("Auth","Could not claim username","error");let c;throw s instanceof Error?c=s:c=new Error("Unable to claim username"),Qe.captureError(c,"Auth"),c}}})}d();h();function EUt(t){let e=zT(),r=ju(),n=eu.checkUsernameAvailability(t);return Kr({enabled:!!t,queryKey:n,queryFn:async()=>{if(!t)return!1;let s=await r.getUsernameAvailability(t);return e.onCheckAvailability(t,s),s}})}d();h();d();h();var WT=class extends Error{constructor(e="No user profile."){super(e),this.name="NoUserProfileError"}},Wse=class extends Error{constructor(e="Missing required username claim params."){super(e),this.name="MissingRequiredUsernameClaimParamsError"}};var _Ut=Hp({days:1}),TUt=Hp({minutes:1});function Gse(){let t=ju(),e=h5(),r=eu.userProfile();return Kr({enabled:e,queryKey:r,queryFn:async()=>{let i=await t.getUserProfile();if(!i)throw new WT;return i},gcTime:_Ut,staleTime:TUt})}d();h();var IUt=()=>{let t=Ut(),e=Gf(),r=ju();return Ht({mutationFn:async()=>{await r.deleteUserProfile(),await e.deleteAllAuthFactors(),await e.logOut(),await jse(t),await ste(t),await Ix(t),await Ov(t),await Sp(t)}})};d();h();var $se=()=>{let t=Ut(),e=ju(),r=async n=>{await e.patchUserProfile(n),await Ix(t)};return Ht({mutationFn:async n=>{try{return await r(n)}catch(i){Qe.addBreadcrumb("Auth",`Could not update user profile: ${JSON.stringify(n)}`,"error");let o;throw i instanceof Error?o=i:o=new Error("Could not update user profile!"),Qe.captureError(o,"Auth"),o}},onMutate:async n=>{let i=eu.userProfile();await t.cancelQueries({queryKey:i});let o=t.getQueryData(i);return t.setQueryData(i,{...o,...n}),{previousData:o}},onSuccess:(n,i)=>{let o=eu.userProfile(),s=t.getQueryData(o);if(s){let c={...s,...i};t.setQueryData(o,c)}},onError:(n,i,o)=>{o&&t.setQueryData(eu.userProfile(),o.previousData)}})};d();h();var MUt=nI(dc,t=>new _F(t)),_F=class{#e;constructor(e){this.#e=e}onAvatarUpdated(e){this.#e.capture("userManageProfileAvatarUpdated",{data:{avatarType:e}})}onAuthFactorsUpdated(e,r){this.#e.capture("userManageProfileAuthFactorsUpdated",{data:{numAuthFactorsSaved:e,numAuthFactorsShown:r}})}onLinkedWalletsUpdated(e,r){this.#e.capture("userManageProfileLinkedWalletsUpdated",{data:{numWalletsSaved:e,numWalletsShown:r}})}onPrivacyStateUpdated(e){this.#e.capture("userManageProfilePrivacyStateUpdated",{data:{privacyState:e}})}onBiographyUpdated(){this.#e.capture("userManageProfileBiographyUpdated")}onPublicAddressesUpdated(e){this.#e.capture("userManageProfilePublicAddressesUpdated",{data:{networkIdsSaved:e}})}};d();h();var kUt=()=>{let{data:t}=Hu();return t?t.type==="ledger":void 0};d();h();var KUe=Ke(Er());var PUt=t=>{let e=(0,KUe.useMemo)(()=>{if(t){if(RUt(t))return n=>n.address===t.address&&n.networkID===t.networkID;if(je.isNetworkID(t))return n=>n.networkID===t;if(rG(t))return n=>n.addressType===t;throw new Error(`Unrecognized filter type: ${t}`)}else return()=>!1},[t]);return Hu({select:n=>{let i=n.addresses.filter(e);if(i.length>1)throw new Error(`Multiple addresses match filter: ${t}`);return i[0]}})};function RUt(t){return typeof t=="object"&&"address"in t&&(typeof t.address=="string"||t.address===void 0)&&"networkID"in t}d();h();d();h();d();h();var VUe=async(t,e)=>(await qT(t,e))?.balance,HUe=async t=>await KT(t);var BUt=(t,e=!0)=>{let r=er(),n=e&&!!t,i=pr.accountBalance(t||"");return Kr({queryKey:i,queryFn:async()=>{try{return t&&await VUe(r,t)||null}catch(s){throw s instanceof Error&&Qe.captureError(s,"account"),s}},enabled:n})},CUt=(t=!0)=>{let e=er(),r=pr.allAccountBalances();return Kr({queryKey:r,queryFn:async()=>{try{return await HUe(e)}catch(i){throw i instanceof Error&&Qe.captureError(i,"account"),i}},enabled:t})};d();h();function OUt(t){let e=bF(),r=e.enabled&&t.length>0,n=pr.accountIdentifier(t);return Kr({enabled:r,queryKey:n,queryFn:async()=>{try{if(Qe.addBreadcrumb("account",`Fetching Account: ${t}`,"info"),!e.enabled)throw new Error(AA);let{accounts:o}=e,s=o.find(c=>c.identifier===t);if(!s)throw new Error(ZMe(o.length,t));return s}catch(o){throw o instanceof Error&&Qe.captureError(o,"account"),o}}})}d();h();d();h();function NUt(){let t=er(),e=Ut(),r=Jn();return Ht({mutationFn:async({name:c,addresses:l,icon:m})=>{let w=await r.addReadonlyAccount(l),b={name:c,icon:m};return await pb(t,w.identifier,b),await Pu(t,w.identifier),w},onSettled:async()=>{await ei(e)},onSuccess:c=>{e.setQueryData(pr.selectedAccountIdentifier(),c.identifier)},onError:c=>Qe.captureError(c,"account")})}d();h();function DUt(){let{t}=Zh(),e=er(),r=Ut(),{fetchAllAccounts:n,addAccountForSeed:i,addAccountForSeedless:o,fetchAllSeedlessMetas:s}=Jn();return Ht({mutationFn:async({name:b,icon:E,seedIdentifier:I})=>{Qe.addBreadcrumb("account",`Adding new account for s**d: ${I}`,"info");let B=(await s()).find(R=>R.identifier===I)?await o(I):await i(I);return await pb(e,B.identifier,{name:b||t("onboardingImportAccountsAccountName",{walletIndex:(await n()).length}),icon:E}),await Pu(e,B.identifier),B},onSettled:async()=>{await ei(r)},onSuccess:b=>{r.setQueryData(pr.selectedAccountIdentifier(),b.identifier)},onError:b=>Qe.captureError(b,"account")})}d();h();d();h();function GT(t){let e=Jn(),r=pr.allSeeds(t);return Kr({queryKey:r,queryFn:async()=>{try{let i;switch(t){case"all":{let o=await e.fetchAllSeedMetas();i=[...await e.fetchAllSeedlessMetas(),...o];break}case"local-only":{i=[...await e.fetchAllSeedMetas()];break}case"recoverable-only":{i=[...await e.fetchAllSeedlessMetas()];break}}return i}catch(i){throw i instanceof Error&&Qe.captureError(i,"account"),i}}})}d();h();d();h();function Yse(){let t=er();return Kr(jUe(t))}function jUe(t){return{queryKey:pr.developerMode(),queryFn:async()=>await t.get("developerMode")||Pee}}d();h();function UUt(){let t=er(),e=Ut(),r=Jn();return Ht({mutationFn:async({chainType:s,privateKey:c,name:l,icon:m})=>{Qe.addBreadcrumb("account","Importing Private Key Account... \u23F3","info");let w=await r.importPrivateKeyAccount(s,c),b={name:l,icon:m};return await pb(t,w.identifier,b),await Pu(t,w.identifier),Qe.addBreadcrumb("account",`Imported Private Key Account \u2705: ${w.identifier}`,"info"),w},onSettled:async()=>{await ei(e)},onSuccess:s=>{e.setQueryData(pr.selectedAccountIdentifier(),s.identifier)}})}d();h();d();h();function LUt(){let t=pr.selectedNetworkSetting(),e=er();return Kr({queryKey:t,queryFn:()=>$E(e)})}d();h();function FUt(){let t=er(),e=dc(),r=Jn(),n=Ut();return Ht({mutationFn:async({identifier:s})=>{Qe.addBreadcrumb("account",`Removing Account... \u23F3: ${s}`,"info"),await Promise.all([r.removeAccount(s),VT(t,s)]),await Ep(await r.fetchAllAccounts(),t),e.capture("removeAccount"),Qe.addBreadcrumb("account",`Removed Account \u2705: ${s}`,"info")},onSuccess:async()=>{await ei(n)}})}d();h();function qUt(){let t=er(),e=dc(),r=Ut(),n=Jn();return Ht({mutationFn:async({seedIdentifier:c})=>{let l=await n.fetchAllAccounts(),m=[];for(let w of l)switch(w.type){case"privateKey":case"ledger":case"seedVault":case"readOnly":continue;case"seed":case"seedless":w.seedIdentifier===c&&m.push(w.identifier);break;default:Ct(w)}for(let w of m)await Promise.all([n.removeAccount(w),VT(t,w)]);e.capture("removeSeed",{data:{numOfAccounts:m.length}})},onSuccess:()=>{ei(r)},onError:c=>{Qe.captureError(c,"account")}})}d();h();function KUt(){let t=er(),e=Ut();return Ht({mutationFn:async({identifier:o,name:s})=>{Qe.addBreadcrumb("account","Renaming Multichain Account","info"),await _se(t,o,s)},onSuccess:async()=>{await ei(e)},onError:o=>Qe.captureError(o,"account")})}d();h();function VUt(){let t=Ut(),e=Jn();return Ht({mutationFn:async({identifier:i,toIndex:o})=>{await e.reorderAccount(i,o)},onSuccess:()=>{ei(t)}})}d();h();function HUt(){let t=pr.selectedAccountIdentifier(),e=er(),r=Jn();return Kr({queryKey:t,queryFn:async()=>{try{let i=await r.fetchAllAccounts(),s=(await Ep(i,e)).identifier;if(!s)throw new Error("Unable to resolve selected account identifier => no available accounts or identifier!");return s}catch(i){throw i instanceof Error&&Qe.captureError(i,"account"),i}}})}d();h();function jUt(){let t=er(),e=Ut();return Ht({mutationFn:async({identifier:i,balance:o})=>(await Ise(t,i,o),{identifier:i,balance:o}),onSuccess:({identifier:i,balance:o})=>{i&&e.invalidateQueries({queryKey:pr.accountBalance(i)}),o&&e.invalidateQueries({queryKey:pr.allAccountBalances()})}})}d();h();function zUt(){let t=er(),e=Ut();return Ht({mutationFn:async({developerMode:i})=>{e.setQueryData(pr.developerMode(),i),await t.set("developerMode",i)},onSuccess:()=>{ei(e)}})}d();h();function WUt(){let t=er(),e=Ut();return Ht({mutationFn:async({identifier:i,icon:o})=>{Qe.addBreadcrumb("account","Setting Multichain Account Icon","info"),await Tse(t,i,o)},onSuccess:async()=>{await ei(e)}})}d();h();function GUt(){let t=er(),e=Ut();return Ht({mutationFn:async({networkSetting:i})=>{e.setQueryData(pr.selectedNetworkSetting(),i),await t.set("networkSetting",i)},onSuccess:()=>{ei(e)}})}d();h();function $Ut(){let t=er(),e=dc(),r=Ut();return Ht({mutationFn:async({identifier:s})=>(await Pu(t,s),e.capture("changeAccount",{data:{identifier:s}}),s),onSuccess:s=>{vF(r),r.setQueryData(pr.selectedAccountIdentifier(),s)},onError:s=>Qe.captureError(s,"account")})}d();h();var WUe=Ke(Er());d();h();var zUe=Ke(Er());var $T=()=>{let{data:t}=Hu();return(0,zUe.useMemo)(()=>{let e=t?.addresses??[];return[...new Set(e.map(r=>r.networkID))]},[t])};var YUt=()=>{let{data:t,isFetching:e}=Tx(),{data:r,isFetching:n}=Hu(),i=$T();return(0,WUe.useMemo)(()=>({data:{"All Accounts":XO(t),"Selected Account":XO(r),"Selected Networks":i.map(o=>je.getNetworkName(o))},isFetching:e||n}),[t,e,n,r,i])};d();h();var GUe=Ke(Er()),ZUt=(t=[])=>{let e=GE();return(0,GUe.useMemo)(()=>t.filter(r=>{let n=je.getParentChain(r.networkID);return n?e.includes(n):!1}),[t,e])};d();h();var bLe=Ke(GLe()),OF=Ke(Er());d();h();var Ei=Ke(Er(),1),JT=t=>t.type==="checkbox",JE=t=>t instanceof Date,tu=t=>t==null,iLe=t=>typeof t=="object",As=t=>!tu(t)&&!Array.isArray(t)&&iLe(t)&&!JE(t),oLe=t=>As(t)&&t.target?JT(t.target)?t.target.checked:t.target.value:t,QUt=t=>t.substring(0,t.search(/.\d/))||t,sLe=(t,e)=>[...t].some(r=>QUt(e)===r),RF=t=>t.filter(Boolean),go=t=>t===void 0,Rt=(t,e,r)=>{if(!e||!As(t))return r;let n=RF(e.split(/[,[\].]+?/)).reduce((i,o)=>tu(i)?i:i[o],t);return go(n)||n===t?go(t[e])?r:t[e]:n},Xse={BLUR:"blur",CHANGE:"change"},wd={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Up={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rae=(t,e)=>{let r=Object.assign({},t);return delete r[e],r},JUt=Ei.default.createContext(null),nae=()=>Ei.default.useContext(JUt);var aLe=(t,e,r,n=!0)=>{function i(s){return()=>{if(s in t)return e[s]!==wd.all&&(e[s]=!n||wd.all),r&&(r[s]=!0),t[s]}}let o={};for(let s in t)Object.defineProperty(o,s,{get:i(s)});return o},zu=t=>As(t)&&!Object.keys(t).length,cLe=(t,e,r)=>{let n=rae(t,"name");return zu(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(i=>e[i]===(!r||wd.all))},TF=t=>Array.isArray(t)?t:[t],uLe=(t,e,r)=>r&&e?t===e:!t||!e||t===e||TF(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function iae(t){let e=Ei.default.useRef(t);e.current=t,Ei.default.useEffect(()=>{let r=i=>{i&&i.unsubscribe()},n=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>r(n)},[t.disabled])}function XUt(t){let e=nae(),{control:r=e.control,disabled:n,name:i,exact:o}=t||{},[s,c]=Ei.default.useState(r._formState),l=Ei.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=Ei.default.useRef(i),w=Ei.default.useRef(!0);m.current=i;let b=Ei.default.useCallback(E=>w.current&&uLe(m.current,E.name,o)&&cLe(E,l.current)&&c(Object.assign(Object.assign({},r._formState),E)),[r,o]);return iae({disabled:n,callback:b,subject:r._subjects.state}),Ei.default.useEffect(()=>()=>{w.current=!1},[]),aLe(s,r._proxyFormState,l.current,!1)}var Gh=t=>typeof t=="string",fLe=(t,e,r,n)=>{let i=Array.isArray(t);return Gh(t)?(n&&e.watch.add(t),Rt(r,t)):i?t.map(o=>(n&&e.watch.add(o),Rt(r,o))):(n&&(e.watchAll=!0),r)},BF=t=>typeof t=="function",oae=t=>{for(let e in t)if(BF(t[e]))return!0;return!1};function eLt(t){let e=nae(),{control:r=e.control,name:n,defaultValue:i,disabled:o,exact:s}=t||{},c=Ei.default.useRef(n);c.current=n;let l=Ei.default.useCallback(b=>{if(uLe(c.current,b.name,s)){let E=fLe(c.current,r._names,b.values||r._formValues);w(go(c.current)||As(E)&&!oae(E)?Object.assign({},E):Array.isArray(E)?[...E]:go(E)?i:E)}},[r,s,i]);iae({disabled:o,subject:r._subjects.watch,callback:l});let[m,w]=Ei.default.useState(go(i)?r._getWatch(n):i);return Ei.default.useEffect(()=>{r._removeUnmounted()}),m}function tLt(t){let e=nae(),{name:r,control:n=e.control,shouldUnregister:i}=t,o=sLe(n._names.array,r),s=eLt({control:n,name:r,defaultValue:Rt(n._formValues,r,Rt(n._defaultValues,r,t.defaultValue)),exact:!o}),c=XUt({control:n,name:r}),l=Ei.default.useRef(n.register(r,Object.assign(Object.assign({},t.rules),{value:s})));return Ei.default.useEffect(()=>{let m=(w,b)=>{let E=Rt(n._fields,w);E&&(E._f.mount=b)};return m(r,!0),()=>{let w=n._options.shouldUnregister||i;o?w&&n._stateFlags.action:w?n.unregister(r):m(r,!1)}},[r,n,o,i]),{field:{name:r,value:s,onChange:Ei.default.useCallback(m=>{l.current.onChange({target:{value:oLe(m),name:r},type:Xse.CHANGE})},[r]),onBlur:Ei.default.useCallback(()=>{l.current.onBlur({target:{value:Rt(n._formValues,r),name:r},type:Xse.BLUR})},[r,n]),ref:Ei.default.useCallback(m=>{let w=Rt(n._fields,r);m&&w&&m.focus&&(w._f.ref={focus:()=>m.focus(),setCustomValidity:b=>m.setCustomValidity(b),reportValidity:()=>m.reportValidity()})},[r,n])},formState:c,fieldState:{invalid:!!Rt(c.errors,r),isDirty:!!Rt(c.dirtyFields,r),isTouched:!!Rt(c.touchedFields,r),error:Rt(c.errors,r)}}}var lLe=t=>t.render(tLt(t)),rLt=(t,e,r,n,i)=>e?Object.assign(Object.assign({},r[t]),{types:Object.assign(Object.assign({},r[t]&&r[t].types?r[t].types:{}),{[n]:i||!0})}):{},sae=t=>/^\w*$/.test(t),dLe=t=>RF(t.replace(/["|']|\]/g,"").split(/\.|\[/));function ko(t,e,r){let n=-1,i=sae(e)?[e]:dLe(e),o=i.length,s=o-1;for(;++n<o;){let c=i[n],l=r;if(n!==s){let m=t[c];l=As(m)||Array.isArray(m)?m:isNaN(+i[n+1])?{}:[]}t[c]=l,t=t[c]}return t}var eae=(t,e,r)=>{for(let n of r||Object.keys(t)){let i=Rt(t,n);if(i){let o=i._f,s=rae(i,"_f");if(o&&e(o.name)){if(o.ref.focus&&go(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else As(s)&&eae(s,e)}}};var $Ue=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));function ZT(t){let e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(r||As(t)){e=r?[]:{};for(let n in t){if(BF(t[n])){e=t;break}e[n]=ZT(t[n])}}else return t;return e}function Zse(){let t=[];return{get observers(){return t},next:i=>{for(let o of t)o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}}var MF=t=>tu(t)||!iLe(t);function XE(t,e){if(MF(t)||MF(e))return t===e;if(JE(t)&&JE(e))return t.getTime()===e.getTime();let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i of r){let o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){let s=e[i];if(JE(o)&&JE(s)||As(o)&&As(s)||Array.isArray(o)&&Array.isArray(s)?!XE(o,s):o!==s)return!1}}return!0}var YUe=t=>({isOnSubmit:!t||t===wd.onSubmit,isOnBlur:t===wd.onBlur,isOnChange:t===wd.onChange,isOnAll:t===wd.all,isOnTouch:t===wd.onTouched}),QT=t=>typeof t=="boolean",aae=t=>t.type==="file",tae=t=>t instanceof HTMLElement,hLe=t=>t.type==="select-multiple",cae=t=>t.type==="radio",nLt=t=>cae(t)||JT(t),ZUe=typeof self<"u"&&typeof self.HTMLElement<"u"&&typeof document<"u",Qse=t=>tae(t)&&t.isConnected;function iLt(t,e){let r=e.slice(0,-1).length,n=0;for(;n<r;)t=go(t)?n++:t[e[n++]];return t}function hc(t,e){let r=sae(e)?[e]:dLe(e),n=r.length==1?t:iLt(t,r),i=r[r.length-1],o;n&&delete n[i];for(let s=0;s<r.slice(0,-1).length;s++){let c=-1,l,m=r.slice(0,-(s+1)),w=m.length-1;for(s>0&&(o=t);++c<m.length;){let b=m[c];l=l?l[b]:t[b],w===c&&(As(l)&&zu(l)||Array.isArray(l)&&!l.filter(E=>As(E)&&!zu(E)||QT(E)).length)&&(o?delete o[b]:delete t[b]),o=l}}return t}function kF(t,e={}){let r=Array.isArray(t);if(As(t)||r)for(let n in t)Array.isArray(t[n])||As(t[n])&&!oae(t[n])?(e[n]=Array.isArray(t[n])?[]:{},kF(t[n],e[n])):tu(t[n])||(e[n]=!0);return e}function pLe(t,e,r){let n=Array.isArray(t);if(As(t)||n)for(let i in t)Array.isArray(t[i])||As(t[i])&&!oae(t[i])?go(e)||MF(r[i])?r[i]=Array.isArray(t[i])?kF(t[i],[]):Object.assign({},kF(t[i])):pLe(t[i],tu(e)?{}:e[i],r[i]):r[i]=!XE(t[i],e[i]);return r}var QUe=(t,e)=>pLe(t,e,kF(e)),JUe={value:!1,isValid:!1},XUe={value:!0,isValid:!0},mLe=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!go(t[0].attributes.value)?go(t[0].value)||t[0].value===""?XUe:{value:t[0].value,isValid:!0}:XUe:JUe}return JUe},yLe=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>go(t)?t:e?t===""?NaN:+t:r&&Gh(t)?new Date(t):n?n(t):t,eLe={isValid:!1,value:null},gLe=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,eLe):eLe;function Jse(t){let e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return aae(e)?e.files:cae(e)?gLe(t.refs).value:hLe(e)?[...e.selectedOptions].map(({value:r})=>r):JT(e)?mLe(t.refs).value:yLe(go(e.value)?t.ref.value:e.value,t)}var oLt=(t,e,r,n)=>{let i={};for(let o of t){let s=Rt(e,o);s&&ko(i,o,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},PF=t=>t instanceof RegExp,YT=t=>go(t)?void 0:PF(t)?t.source:As(t)?PF(t.value)?t.value.source:t.value:t,sLt=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function tLe(t,e,r){let n=Rt(t,r);if(n||sae(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=Rt(e,o),c=Rt(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};i.pop()}return{name:r}}var aLt=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,cLt=(t,e)=>!RF(Rt(t,e)).length&&hc(t,e),IF=t=>Gh(t)||Ei.default.isValidElement(t);function rLe(t,e,r="validate"){if(IF(t)||Array.isArray(t)&&t.every(IF)||QT(t)&&!t)return{type:r,message:IF(t)?t:"",ref:e}}var QE=t=>As(t)&&!PF(t)?t:{value:t,message:""},nLe=async(t,e,r,n)=>{let{ref:i,refs:o,required:s,maxLength:c,minLength:l,min:m,max:w,pattern:b,validate:E,name:I,valueAsNumber:M,mount:k,disabled:B}=t._f;if(!k||B)return{};let R=o?o[0]:i,U=S=>{n&&R.reportValidity&&(R.setCustomValidity(QT(S)?"":S||" "),R.reportValidity())},P={},F=cae(i),V=JT(i),H=F||V,re=(M||aae(i))&&!i.value||e===""||Array.isArray(e)&&!e.length,J=rLt.bind(null,I,r,P),ie=(S,a,f,p=Up.maxLength,y=Up.minLength)=>{let g=S?a:f;P[I]=Object.assign({type:S?p:y,message:g,ref:i},J(S?p:y,g))};if(s&&(!H&&(re||tu(e))||QT(e)&&!e||V&&!mLe(o).isValid||F&&!gLe(o).isValid)){let{value:S,message:a}=IF(s)?{value:!!s,message:s}:QE(s);if(S&&(P[I]=Object.assign({type:Up.required,message:a,ref:R},J(Up.required,a)),!r))return U(a),P}if(!re&&(!tu(m)||!tu(w))){let S,a,f=QE(w),p=QE(m);if(isNaN(e)){let y=i.valueAsDate||new Date(e);Gh(f.value)&&(S=y>new Date(f.value)),Gh(p.value)&&(a=y<new Date(p.value))}else{let y=i.valueAsNumber||parseFloat(e);tu(f.value)||(S=y>f.value),tu(p.value)||(a=y<p.value)}if((S||a)&&(ie(!!S,f.message,p.message,Up.max,Up.min),!r))return U(P[I].message),P}if((c||l)&&!re&&Gh(e)){let S=QE(c),a=QE(l),f=!tu(S.value)&&e.length>S.value,p=!tu(a.value)&&e.length<a.value;if((f||p)&&(ie(f,S.message,a.message),!r))return U(P[I].message),P}if(b&&!re&&Gh(e)){let{value:S,message:a}=QE(b);if(PF(S)&&!e.match(S)&&(P[I]=Object.assign({type:Up.pattern,message:a,ref:i},J(Up.pattern,a)),!r))return U(a),P}if(E){if(BF(E)){let S=await E(e),a=rLe(S,R);if(a&&(P[I]=Object.assign(Object.assign({},a),J(Up.validate,a.message)),!r))return U(a.message),P}else if(As(E)){let S={};for(let a in E){if(!zu(S)&&!r)break;let f=rLe(await E[a](e),R,a);f&&(S=Object.assign(Object.assign({},f),J(a,f.message)),U(f.message),r&&(P[I]=S))}if(!zu(S)&&(P[I]=Object.assign({ref:R},S),!r))return P}}return U(!0),P},uLt={mode:wd.onSubmit,reValidateMode:wd.onChange,shouldFocusError:!0};function fLt(t={}){let e=Object.assign(Object.assign({},uLt),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},n={},i=e.defaultValues||{},o=e.shouldUnregister?{}:ZT(i),s={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,m=0,w={},b={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={watch:Zse(),array:Zse(),state:Zse()},I=YUe(e.mode),M=YUe(e.reValidateMode),k=e.criteriaMode===wd.all,B=(G,he)=>(...te)=>{clearTimeout(m),m=self.setTimeout(()=>G(...te),he)},R=async G=>{let he=!1;return b.isValid&&(he=e.resolver?zu((await re()).errors):await ie(n,!0),!G&&he!==r.isValid&&(r.isValid=he,E.state.next({isValid:he}))),he},U=(G,he,te,ce=[],Ye=!0,se=!0)=>{if(s.action=!0,se&&Array.isArray(Rt(n,G))){let le=he(Rt(n,G),te.argA,te.argB);Ye&&ko(n,G,le)}if(b.errors&&se&&Array.isArray(Rt(r.errors,G))){let le=he(Rt(r.errors,G),te.argA,te.argB);Ye&&ko(r.errors,G,le),cLt(r.errors,G)}if(b.touchedFields&&Array.isArray(Rt(r.touchedFields,G))){let le=he(Rt(r.touchedFields,G),te.argA,te.argB);Ye&&ko(r.touchedFields,G,le)}b.dirtyFields&&(r.dirtyFields=QUe(i,o)),E.state.next({isDirty:a(G,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})},P=(G,he)=>(ko(r.errors,G,he),E.state.next({errors:r.errors})),F=(G,he,te,ce)=>{let Ye=Rt(n,G);if(Ye){let se=Rt(o,G,go(te)?Rt(i,G):te);go(se)||ce&&ce.defaultChecked||he?ko(o,G,he?se:Jse(Ye._f)):y(G,se),s.mount&&R()}},V=(G,he,te,ce,Ye)=>{let se=!1,le={name:G},Pt=Rt(r.touchedFields,G);if(b.isDirty){let ge=r.isDirty;r.isDirty=le.isDirty=a(),se=ge!==le.isDirty}if(b.dirtyFields&&(!te||ce)){let ge=Rt(r.dirtyFields,G);XE(Rt(i,G),he)?hc(r.dirtyFields,G):ko(r.dirtyFields,G,!0),le.dirtyFields=r.dirtyFields,se=se||ge!==Rt(r.dirtyFields,G)}return te&&!Pt&&(ko(r.touchedFields,G,te),le.touchedFields=r.touchedFields,se=se||b.touchedFields&&Pt!==te),se&&Ye&&E.state.next(le),se?le:{}},H=async(G,he,te,ce,Ye)=>{let se=Rt(r.errors,he),le=b.isValid&&r.isValid!==te;if(t.delayError&&ce?(l=l||B(P,t.delayError),l(he,ce)):(clearTimeout(m),ce?ko(r.errors,he,ce):hc(r.errors,he)),((ce?!XE(se,ce):se)||!zu(Ye)||le)&&!G){let Pt=Object.assign(Object.assign(Object.assign({},Ye),le?{isValid:te}:{}),{errors:r.errors,name:he});r=Object.assign(Object.assign({},r),Pt),E.state.next(Pt)}w[he]--,b.isValidating&&!w[he]&&(E.state.next({isValidating:!1}),w={})},re=async G=>e.resolver?await e.resolver(Object.assign({},o),e.context,oLt(G||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation)):{},J=async G=>{let{errors:he}=await re();if(G)for(let te of G){let ce=Rt(he,te);ce?ko(r.errors,te,ce):hc(r.errors,te)}else r.errors=he;return he},ie=async(G,he,te={valid:!0})=>{for(let ce in G){let Ye=G[ce];if(Ye){let se=Ye._f,le=rae(Ye,"_f");if(se){let Pt=await nLe(Ye,Rt(o,se.name),k,e.shouldUseNativeValidation);if(Pt[se.name]&&(te.valid=!1,he))break;he||(Pt[se.name]?ko(r.errors,se.name,Pt[se.name]):hc(r.errors,se.name))}le&&await ie(le,he,te)}}return te.valid},S=()=>{for(let G of c.unMount){let he=Rt(n,G);he&&(he._f.refs?he._f.refs.every(te=>!Qse(te)):!Qse(he._f.ref))&&C(G)}c.unMount=new Set},a=(G,he)=>(G&&he&&ko(o,G,he),!XE(u(),i)),f=(G,he,te)=>{let ce=Object.assign({},s.mount?o:go(he)?i:Gh(G)?{[G]:he}:he);return fLe(G,c,ce,te)},p=G=>RF(Rt(s.mount?o:i,G,t.shouldUnregister?Rt(i,G,[]):[])),y=(G,he,te={})=>{let ce=Rt(n,G),Ye=he;if(ce){let se=ce._f;se&&(!se.disabled&&ko(o,G,yLe(he,se)),Ye=ZUe&&tae(se.ref)&&tu(he)?"":he,hLe(se.ref)?[...se.ref.options].forEach(le=>le.selected=Ye.includes(le.value)):se.refs?JT(se.ref)?se.refs.length>1?se.refs.forEach(le=>le.checked=Array.isArray(Ye)?!!Ye.find(Pt=>Pt===le.value):Ye===le.value):se.refs[0]&&(se.refs[0].checked=!!Ye):se.refs.forEach(le=>le.checked=le.value===Ye):aae(se.ref)||(se.ref.value=Ye,se.ref.type||E.watch.next({name:G})))}(te.shouldDirty||te.shouldTouch)&&V(G,Ye,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&v(G)},g=(G,he,te)=>{for(let ce in he){let Ye=he[ce],se=`${G}.${ce}`,le=Rt(n,se);(c.array.has(G)||!MF(Ye)||le&&!le._f)&&!JE(Ye)?g(se,Ye,te):y(se,Ye,te)}},A=(G,he,te={})=>{let ce=Rt(n,G),Ye=c.array.has(G);ko(o,G,he),Ye?(E.array.next({name:G,values:o}),(b.isDirty||b.dirtyFields)&&te.shouldDirty&&(r.dirtyFields=QUe(i,o),E.state.next({name:G,dirtyFields:r.dirtyFields,isDirty:a(G,he)}))):ce&&!ce._f&&!tu(he)?g(G,he,te):y(G,he,te),$Ue(G,c)&&E.state.next({}),E.watch.next({name:G})},_=async G=>{let he=G.target,te=he.name,ce=Rt(n,te);if(ce){let Ye,se,le=he.type?Jse(ce._f):oLe(G),Pt=G.type===Xse.BLUR,ge=!sLt(ce._f)&&!e.resolver&&!Rt(r.errors,te)&&!ce._f.deps||aLt(Pt,Rt(r.touchedFields,te),r.isSubmitted,M,I),ye=$Ue(te,c,Pt);ko(o,te,le),Pt?ce._f.onBlur&&ce._f.onBlur(G):ce._f.onChange&&ce._f.onChange(G);let Wr=V(te,le,Pt,!1),Ie=!zu(Wr)||ye;if(!Pt&&E.watch.next({name:te,type:G.type}),ge)return Ie&&E.state.next(Object.assign({name:te},ye?{}:Wr));if(!Pt&&ye&&E.state.next({}),w[te]=(w[te],1),b.isValidating&&E.state.next({isValidating:!0}),e.resolver){let{errors:we}=await re([te]),yn=tLe(r.errors,n,te),ve=tLe(we,n,yn.name||te);Ye=ve.error,te=ve.name,se=zu(we)}else Ye=(await nLe(ce,Rt(o,te),k,e.shouldUseNativeValidation))[te],se=await R(!0);ce._f.deps&&v(ce._f.deps),H(!1,te,se,Ye,Wr)}},v=async(G,he={})=>{let te,ce,Ye=TF(G);if(E.state.next({isValidating:!0}),e.resolver){let se=await J(go(G)?G:Ye);te=zu(se),ce=G?!Ye.some(le=>Rt(se,le)):te}else G?(ce=(await Promise.all(Ye.map(async se=>{let le=Rt(n,se);return await ie(le&&le._f?{[se]:le}:le)}))).every(Boolean),!(!ce&&!r.isValid)&&R()):ce=te=await ie(n);return E.state.next(Object.assign(Object.assign(Object.assign({},!Gh(G)||b.isValid&&te!==r.isValid?{}:{name:G}),e.resolver?{isValid:te}:{}),{errors:r.errors,isValidating:!1})),he.shouldFocus&&!ce&&eae(n,se=>Rt(r.errors,se),G?Ye:c.mount),ce},u=G=>{let he=Object.assign(Object.assign({},i),s.mount?o:{});return go(G)?he:Gh(G)?Rt(he,G):G.map(te=>Rt(he,te))},x=G=>{G?TF(G).forEach(he=>hc(r.errors,he)):r.errors={},E.state.next({errors:r.errors})},q=(G,he,te)=>{let ce=(Rt(n,G,{_f:{}})._f||{}).ref;ko(r.errors,G,Object.assign(Object.assign({},he),{ref:ce})),E.state.next({name:G,errors:r.errors,isValid:!1}),te&&te.shouldFocus&&ce&&ce.focus&&ce.focus()},L=(G,he)=>BF(G)?E.watch.subscribe({next:te=>G(f(void 0,he),te)}):f(G,he,!0),C=(G,he={})=>{for(let te of G?TF(G):c.mount)c.mount.delete(te),c.array.delete(te),Rt(n,te)&&(he.keepValue||(hc(n,te),hc(o,te)),!he.keepError&&hc(r.errors,te),!he.keepDirty&&hc(r.dirtyFields,te),!he.keepTouched&&hc(r.touchedFields,te),!e.shouldUnregister&&!he.keepDefaultValue&&hc(i,te));E.watch.next({}),E.state.next(Object.assign(Object.assign({},r),he.keepDirty?{isDirty:a()}:{})),!he.keepIsValid&&R()},W=(G,he={})=>{let te=Rt(n,G),ce=QT(he.disabled);return ko(n,G,{_f:Object.assign(Object.assign(Object.assign({},te&&te._f?te._f:{ref:{name:G}}),{name:G,mount:!0}),he)}),c.mount.add(G),te?ce&&ko(o,G,he.disabled?void 0:Rt(o,G,Jse(te._f))):F(G,!0,he.value),Object.assign(Object.assign(Object.assign({},ce?{disabled:he.disabled}:{}),e.shouldUseNativeValidation?{required:!!he.required,min:YT(he.min),max:YT(he.max),minLength:YT(he.minLength),maxLength:YT(he.maxLength),pattern:YT(he.pattern)}:{}),{name:G,onChange:_,onBlur:_,ref:Ye=>{if(Ye){W(G,he),te=Rt(n,G);let se=go(Ye.value)&&Ye.querySelectorAll&&Ye.querySelectorAll("input,select,textarea")[0]||Ye,le=nLt(se),Pt=te._f.refs||[];if(le?Pt.find(ge=>ge===se):se===te._f.ref)return;ko(n,G,{_f:Object.assign(Object.assign({},te._f),le?{refs:Pt.concat(se).filter(Qse),ref:{type:se.type,name:G}}:{ref:se})}),F(G,!1,void 0,se)}else te=Rt(n,G,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||he.shouldUnregister)&&!(sLe(c.array,G)&&s.action)&&c.unMount.add(G)}})};return{control:{register:W,unregister:C,_executeSchema:re,_getWatch:f,_getDirty:a,_updateValid:R,_removeUnmounted:S,_updateFieldArray:U,_getFieldArray:p,_subjects:E,_proxyFormState:b,get _fields(){return n},set _fields(G){n=G},get _formValues(){return o},set _formValues(G){o=G},get _stateFlags(){return s},set _stateFlags(G){s=G},get _defaultValues(){return i},set _defaultValues(G){i=G},get _names(){return c},set _names(G){c=G},get _formState(){return r},set _formState(G){r=G},get _options(){return e},set _options(G){e=Object.assign(Object.assign({},e),G)}},trigger:v,register:W,handleSubmit:(G,he)=>async te=>{te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let ce=!0,Ye=e.shouldUnregister?ZT(o):Object.assign({},o);E.state.next({isSubmitting:!0});try{if(e.resolver){let{errors:se,values:le}=await re();r.errors=se,Ye=le}else await ie(n);zu(r.errors)&&Object.keys(r.errors).every(se=>Rt(Ye,se))?(E.state.next({errors:{},isSubmitting:!0}),await G(Ye,te)):(he&&await he(r.errors,te),e.shouldFocusError&&eae(n,se=>Rt(r.errors,se),c.mount))}catch(se){throw ce=!1,se}finally{r.isSubmitted=!0,E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zu(r.errors)&&ce,submitCount:r.submitCount+1,errors:r.errors})}},watch:L,setValue:A,getValues:u,reset:(G,he={})=>{let te=G||i,ce=ZT(te),Ye=G&&!zu(G)?ce:i;if(he.keepDefaultValues||(i=te),!he.keepValues){if(ZUe&&go(G))for(let se of c.mount){let le=Rt(n,se);if(le&&le._f){let Pt=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;try{tae(Pt)&&Pt.closest("form").reset();break}catch{}}}o=t.shouldUnregister?he.keepDefaultValues?ZT(i):{}:ce,n={},E.array.next({values:Ye}),E.watch.next({values:Ye})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!b.isValid||!!he.keepIsValid,s.watch=!!t.shouldUnregister,E.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:he.keepDirty?r.isDirty:he.keepDefaultValues?!XE(G,i):!1,isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he.keepDirty?r.dirtyFields:he.keepDefaultValues&&G?Object.entries(G).reduce((se,[le,Pt])=>Object.assign(Object.assign({},se),{[le]:Pt!==Rt(i,le)}),{}):{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(G,he={})=>{Rt(n,G)&&(go(he.defaultValue)?A(G,Rt(i,G)):(A(G,he.defaultValue),ko(i,G,he.defaultValue)),he.keepTouched||hc(r.touchedFields,G),he.keepDirty||(hc(r.dirtyFields,G),r.isDirty=he.defaultValue?a(G,Rt(i,G)):a()),he.keepError||(hc(r.errors,G),b.isValid&&R()),E.state.next(Object.assign({},r)))},clearErrors:x,unregister:C,setError:q,setFocus:G=>{let he=Rt(n,G)._f;(he.ref.focus?he.ref:he.refs[0]).focus()}}}function CF(t={}){let e=Ei.default.useRef(),[r,n]=Ei.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});e.current?e.current.control._options=t:e.current=Object.assign(Object.assign({},fLt(t)),{formState:r});let i=e.current.control,o=Ei.default.useCallback(s=>{cLe(s,i._proxyFormState,!0)&&(i._formState=Object.assign(Object.assign({},i._formState),s),n(Object.assign({},i._formState)))},[i]);return iae({subject:i._subjects.state,callback:o}),Ei.default.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),e.current.formState=aLe(r,i._proxyFormState),e.current}var lLt=({accounts:t,enabledAddressTypes:e,enableAddressTypes:r,editableAccountMetadata:n,addReadOnlyAccount:i,fetchDomainOwner:o})=>{let s=ju(),{t:c}=Zh(),l=dc(),m=n?.networkID||Ar.Solana.Mainnet,{formState:{errors:w},control:b,clearErrors:E,getValues:I,setValue:M,register:k,handleSubmit:B,watch:R,trigger:U}=CF({mode:"all"}),{networkID:P,name:F,address:V,resolvedAddress:H}=R(),re={required:!0},J=(0,OF.useMemo)(()=>({required:{value:!0,message:c("addAccountImportAccountPublicKeyRequired")},validate:(0,bLe.default)(async a=>{if(a==="")return!0;if(!pB(a,P||m))try{let g=(await o(a,P,s,l))?.owner;return g?(M("resolvedAddress",g),t.find(_=>_.addresses.map(v=>v.address).includes(g))?c("addAccountImportAccountDuplicateAddress"):!0):c("addAccountImportAccountIncorrectFormat")}catch{return c("sendFormErrorInvalidDomain")}return M("resolvedAddress",a),t.find(y=>y.addresses.map(g=>g.address).includes(a))?c("addAccountImportAccountDuplicateAddress"):!0},500)}),[c,P,m,M,t,o,s,l]),ie=F&&H&&!w.name&&!w.address,S=(0,OF.useCallback)(async({networkID:a,name:f,resolvedAddress:p},y)=>{let g=Vy(a,p);e.includes(g)||await r({addressTypes:[g]});let A={};A[g]=p,i({name:f,addresses:A,icon:n?.icon}),y(),l.capture("addReadOnlyAccount",{data:{networkID:a,chainType:g}})},[i,n?.icon,r,e,l]);return{Controller:lLe,canSubmit:ie,control:b,errors:w,nameValidations:re,address:V,addressValidations:J,clearErrors:E,getValues:I,handleSubmit:B,onSubmit:S,register:k,setValue:M,trigger:U}};d();h();function dLt(t){let e=CUe();return t.map(r=>p5.get(r.networkID).addressTooltipNetworkName?.(r.networkID,r.address,e)??je.getNetworkName(r.networkID))}d();h();var hLt=Ke(Er());d();h();var vLe=Ke(Er());var pLt=()=>{let{data:t}=Hu(),e=(0,vLe.useMemo)(()=>{if(!t||!t.addresses.length)return je.getChainID("solana:101");let r=t.addresses[0];return je.getChainID(r.networkID)},[t]);return{caip19:hB(mB(e)),tokenName:je.getChainName(e),tokenSymbol:je.getTokenSymbol(e)}};d();h();var mLt=()=>s5();d();h();var yLt=()=>{let{data:t}=Yse();return!!t?.isDeveloperMode},gLt=()=>$T().some(e=>je.isLocalNetworkID(e));d();h();var wLe=Ke(Er());d();h();var xLe=()=>{let{data:t}=xd(),{data:e}=Tx(),{data:r}=Gse();return Kr({queryKey:pr.patchProfileAddresses({chainAvailability:t?.enabledNetworkIDs,accountIdentifiers:e?.map(n=>n.identifier),user:r}),queryFn:t&&e&&r?()=>{let{enabledNetworkIDs:n}=t,i=n?.reduce((w,b)=>{let E=e.find(I=>I.addresses.some(M=>M.networkID===b))?.addresses.find(I=>I.networkID===b)?.address;return E&&(w[b]=E),w},{})??{},o=r?.addresses,s=o?Object.keys(o).filter(je.isNetworkID):[],c=(n??[]).filter(w=>!s.includes(w)).reduce((w,b)=>{let E=i[b];return E&&(w[b]=E),w},{});return Object.keys(c).length>0?{addresses:{...c,...o},addedAddresses:c}:null}:_h})};var bLt=()=>{let{data:t}=xLe(),{mutate:e}=$se(),r=dc();(0,wLe.useEffect)(()=>{if(t){let{addresses:n,addedAddresses:i}=t,o=Object.keys(i);r.capture("autoSyncUsernameAddresses",{data:{addedChains:o}}),e({addresses:n})}},[t,e,r])};d();h();var SLe=Ke(Er());var vLt=t=>{let e=(0,SLe.useCallback)(r=>r.addresses.find(n=>t===je.getChainID(n.networkID))?.networkID,[t]);return Hu({select:e})};d();h();var ALe=Ke(Er()),xLt=({accountBalance:t,accountId:e,enabled:r,value:n,setAccountBalance:i})=>{(0,ALe.useEffect)(()=>{if(r&&e&&n!==void 0&&n!==t){let o=Date.now();i({identifier:e,balance:{timestamp:o,value:n}})}},[t,e,r,n,i])};d();h();var ELe=Ke(Er());var wLt=()=>{let{data:t=[]}=GT("local-only"),{data:e=[]}=GT("recoverable-only");return(0,ELe.useMemo)(()=>t.length+e.length>1,[t.length,e.length])};d();h();d();h();d();h();var pc=Ke(Er());function SLt(t){let e,r=new Set,n=(m,w)=>{let b=typeof m=="function"?m(e):m;if(b!==e){let E=e;e=w?b:Object.assign({},e,b),r.forEach(I=>I(e,E))}},i=()=>e,o=(m,w=i,b=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let E=w(e);function I(){let M=w(e);if(!b(E,M)){let k=E;m(E=M,k)}}return r.add(I),()=>r.delete(I)},l={setState:n,getState:i,subscribe:(m,w,b)=>w||b?o(m,w,b):(r.add(m),()=>r.delete(m)),destroy:()=>r.clear()};return e=t(n,i,l),l}var ALt=typeof self>"u"||!self.navigator||/ServerSideRendering|^Deno\//.test(self.navigator.userAgent),_Le=ALt?pc.useEffect:pc.useLayoutEffect;function NF(t){let e=typeof t=="function"?SLt(t):t,r=(n=e.getState,i=Object.is)=>{let[,o]=(0,pc.useReducer)(B=>B+1,0),s=e.getState(),c=(0,pc.useRef)(s),l=(0,pc.useRef)(n),m=(0,pc.useRef)(i),w=(0,pc.useRef)(!1),b=(0,pc.useRef)();b.current===void 0&&(b.current=n(s));let E,I=!1;(c.current!==s||l.current!==n||m.current!==i||w.current)&&(E=n(s),I=!i(b.current,E)),_Le(()=>{I&&(b.current=E),c.current=s,l.current=n,m.current=i,w.current=!1});let M=(0,pc.useRef)(s);_Le(()=>{let B=()=>{try{let U=e.getState(),P=l.current(U);m.current(b.current,P)||(c.current=U,b.current=P,o())}catch{w.current=!0,o()}},R=e.subscribe(B);return e.getState()!==M.current&&B(),R},[]);let k=I?E:b.current;return(0,pc.useDebugValue)(k),k};return Object.assign(r,e),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let n=[r,e];return{next(){let i=n.length<=0;return{value:n.shift(),done:i}}}},r}var ELt={editableAccountMetadata:void 0,setEditableAccountMetadata:()=>{}},DF=NF(t=>({...ELt,setEditableAccountMetadata:e=>{t({editableAccountMetadata:e})}}));d();h();var TLe={username:"",available:null,usernameAvailabilityError:null,icon:null,secretIdentifiers:[],accountIdentifiersToSync:[],addresses:{}},ILe=NF((t,e)=>({...TLe,setUsername:r=>t({username:r}),setUsernameAvailabilityError:r=>t({usernameAvailabilityError:r}),setAvailable:r=>t({available:r}),setIcon:r=>t({icon:r}),addSecretIdentifier:r=>{let n=[...e().secretIdentifiers];n.includes(r)||n.push(r),t({secretIdentifiers:n})},removeSecretIdentifier:r=>{t({secretIdentifiers:e().secretIdentifiers.filter(n=>n!==r)})},addAccountIdentifierToSync:r=>{let n=[...e().accountIdentifiersToSync];n.includes(r)||n.push(r),t({accountIdentifiersToSync:n})},removeAccountIdentifierToSync:r=>{t({accountIdentifiersToSync:e().accountIdentifiersToSync.filter(n=>n!==r)})},clearAccountIdentifiersToSync:()=>t({accountIdentifiersToSync:[]}),setAccountIdentifiersToSync:r=>t({accountIdentifiersToSync:r}),addAddress:(r,n)=>{let i={...e().addresses};i[r]=n,t({addresses:i})},removeAddress:(r,n)=>{let i={...e().addresses};i[r]===n&&delete i[r],t({addresses:i})},clearAddresses:()=>{t({addresses:{}})},reset:()=>{t(TLe)}}));d();h();var _Lt=Ke(Er());d();h();var MLe=Ke(Fa()),$h=Ke(Er());var TLt=({importPrivateKeyCallback:t,existingAccounts:e,editableAccountMetadata:r,analytics:n})=>{let{t:i}=Zh(),{formState:{errors:o},control:s,clearErrors:c,getValues:l,setValue:m,register:w,handleSubmit:b,watch:E,trigger:I}=CF({mode:"all",defaultValues:{addressType:r?.addressType||"solana",networkID:r?.networkID||Ar.Solana.Mainnet}}),[M,k]=(0,$h.useState)(null),B=DF(f=>f.setEditableAccountMetadata),{name:R}=E(),U=r?.secrets,P=l("networkID"),F=l("addressType"),V=l("privateKey"),H=(0,$h.useMemo)(()=>new U_,[]),re={required:!0},J=(0,$h.useMemo)(()=>({required:{value:!0,message:i("addAccountImportAccountPrivateKeyRequired")},onChange:f=>{f.target.value||k(null)},validate:f=>{try{let p=l("networkID"),y=l("addressType");if(/\s/.test(f)||!y)return i("addAccountImportAccountIncorrectFormat");let g=je.getNetworkDefinition(p).value,A=F_({privateKey:f,addressType:y,networkIDValue:g});B({...r,secrets:A});let _=H.generateKeypairFromPrivateKey(A,y);return e.find(u=>!u.isReadOnly&&(u.addresses.map(x=>x.address).includes(ps({publicKey:_.publicKey,addressType:y,networkID:p}))||u.addresses.filter(x=>"publicKey"in x).map(x=>x.publicKey).find(x=>x?Buffer.from(x).equals(Buffer.from(_.publicKey)):!1)))?i("addAccountImportAccountDuplicatePrivateKey"):!0}catch{return i("addAccountImportAccountIncorrectFormat")}}}),[i,H,e,r,B,l]);(0,$h.useEffect)(()=>{if(o.privateKey){k(null);return}if(V||U)try{let f=je.getNetworkDefinition(P).value,p=U||F_({privateKey:V,addressType:F,networkIDValue:f}),y=H.generateKeypairFromPrivateKey(p,F);if(!V){let g="";switch(F){case"solana":{g=MLe.default.encode(y.privateKey);break}case"eip155":{g="0x"+Buffer.from(y.privateKey).toString("hex");break}case"sui":{g=wP(y.privateKey);break}}m("privateKey",g)}k(ps({publicKey:y.publicKey,addressType:F,networkID:P}))}catch{k(null)}},[o.privateKey,F,H,V,U,m,P]);let ie=(0,$h.useMemo)(()=>!!(R&&V&&!o.name&&!o.privateKey),[o.name,o.privateKey,R,V]),S=(0,$h.useCallback)(async({networkID:f,name:p,privateKey:y,addressType:g})=>{let A=je.getNetworkDefinition(f).value,_=F_({privateKey:y,addressType:g,networkIDValue:A});await t({chainType:g,name:p,icon:r?.icon,privateKey:_}),n.capture("addPrivateKeyAccount",{data:{networkID:f,chainType:g}})},[t,r?.icon,n]);return{formOnSubmitHandler:b(f=>S(f)),canSubmit:ie,control:s,getValues:l,register:w,setValue:m,trigger:I,errors:o,clearErrors:c,nameValidations:re,privateKey:V,privateKeyValidations:J,addressPreview:M}};d();h();var ILt=async(t,e,r)=>{let{enabledAddressTypes:n,enabledChainIDs:i,enabledMainnetOnlyNetworkIDs:o}=r,[s,c]=await Promise.all([e.get("developerMode"),$E(e)]),l=await t.fetchAllAccounts(),m=await Ep(l,e),w=await qT(e,m.identifier),b={name:w.name,icon:w.icon,identifier:m.identifier,addresses:x5(m,o,n,i,c,s?.isDeveloperMode??!1)};return m.type==="seed"?{...b,type:"seed",seedIdentifier:m.seedIdentifier,isReadOnly:!1}:m.type==="seedless"?{...b,type:"seedless",seedIdentifier:m.seedIdentifier,isReadOnly:!1}:m.type==="readOnly"?{...b,type:"readOnly",isReadOnly:!0}:m.type==="privateKey"?{...b,privateKeyIdentifier:m.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...b,type:m.type,isReadOnly:!1}};d();h();export{rm as a,iM as b,pw as c,sm as d,Tme as e,Mme as f,f6 as g,vH as h,Kme as i,fye as j,Ow as k,NH as l,vye as m,DH as n,LH as o,FH as p,KH as q,Eye as r,Tye as s,WH as t,D7 as u,sbe as v,cbe as w,_j as x,Kge as y,pf as z,Tj as A,Yw as B,Ij as C,Mj as D,Yge as E,Zge as F,Qge as G,Jge as H,Xge as I,ebe as J,tbe as K,rbe as L,nbe as M,Urt as N,Ec as O,du as P,h6t as Q,FIe as R,ys as S,Rn as T,I6t as U,M6t as V,Xl as W,k6t as X,f_ as Y,cit as Z,uit as _,fit as $,lit as aa,pa as ba,Tt as ca,W7 as da,jd as ea,Dm as fa,Um as ga,Lm as ha,E0 as ia,Fm as ja,_l as ka,Ar as la,ma,qt as na,htr as oa,k0 as pa,Ybe as qa,m_ as ra,p_ as sa,Qm as ta,Jbe as ua,_P as va,y_ as wa,t1e as xa,_it as ya,Tit as za,ez as Aa,Iit as Ba,Mit as Ca,kit as Da,us as Ea,c1e as Fa,l2 as Ga,iz as Ha,Cit as Ia,Jit as Ja,Xit as Ka,h2 as La,uz as Ma,lz as Na,wz as Oa,_z as Pa,Tz as Qa,uir as Ra,ty as Sa,Qz as Ta,R2 as Ua,R_ as Va,U_ as Wa,V2 as Xa,H9 as Ya,but as Za,Mi as _a,wP as $a,F_ as ab,eR as bb,qG as cb,s$ as db,p$ as eb,kAe as fb,d4 as gb,ps as hb,h4 as ib,umt as jb,qy as kb,nY as lb,uS as mb,je as nb,aEe as ob,rEe as pb,Ky as qb,oEe as rb,sEe as sb,hB as tb,cEe as ub,uEe as vb,fEe as wb,lEe as xb,dEe as yb,hEe as zb,pEe as Ab,mEe as Bb,yEe as Cb,gEe as Db,bEe as Eb,vEe as Fb,pB as Gb,Vy as Hb,mB as Ib,xEe as Jb,wEe as Kb,lY as Lb,See as Mb,o5 as Nb,W1 as Ob,HEe as Pb,qs as Qb,jEe as Rb,H_e as Sb,a8 as Tb,Yxt as Ub,$Q as Vb,c8 as Wb,JQ as Xb,u8 as Yb,Zxt as Zb,XQ as _b,uv as $b,lv as ac,r3t as bc,Qe as cc,l3t as dc,d3t as ec,JO as fc,x3t as gc,w3t as hc,S3t as ic,i5 as jc,UN as kc,eN as lc,er as mc,YTe as nc,ac as oc,E3t as pc,tIe as qc,_h as rc,Qr as sc,dIe as tc,pp as uc,zX as vc,uN as wc,Ut as xc,SIe as yc,Ht as zc,AIe as Ac,F3t as Bc,Kr as Cc,A3t as Dc,j3t as Ec,DIe as Fc,lee as Gc,hee as Hc,P6t as Ic,R6t as Jc,LN as Kc,L6t as Lc,B6t as Mc,C6t as Nc,O6t as Oc,N6t as Pc,Mee as Qc,kee as Rc,j6t as Sc,z6t as Tc,Pee as Uc,ed as Vc,G6t as Wc,$6t as Xc,GMe as Yc,Jn as Zc,hD as _c,p5 as $c,O4t as ad,j4t as bd,w5 as cd,ute as dd,dte as ed,z4t as fd,pte as gd,$4t as hd,Y4t as id,JMe as jd,Z4t as kd,a5 as ld,Q4t as md,Z6t as nd,Q6t as od,J4t as pd,X4t as qd,e8t as rd,XMe as sd,t8t as td,r8t as ud,n8t as vd,jke as wd,wTt as xd,STt as yd,gD as zd,K5 as Ad,ine as Bd,Yf as Cd,d5 as Dd,d4t as Ed,ate as Fd,Ov as Gd,Sp as Hd,m4t as Id,E4t as Jd,_4t as Kd,J6t as Ld,Gf as Md,bp as Nd,T4t as Od,I4t as Pd,h5 as Qd,M4t as Rd,k4t as Sd,P4t as Td,R4t as Ud,one as Vd,Lr as Wd,TCe as Xd,dx as Yd,Xne as Zd,HOe as _d,GOe as $d,ZOe as ae,yNe as be,gNe as ce,bNe as de,wNe as ee,rDe as fe,jL as ge,nDe as he,MOt as ie,vDe as je,Roe as ke,NDt as le,MMn as me,kse as ne,B4t as oe,xd as pe,Pse as qe,$Dt as re,Rse as se,YDt as te,ZDt as ue,CUe as ve,GE as we,gPn as xe,bPn as ye,vPn as ze,xPn as Ae,wPn as Be,SPn as Ce,BUt as De,CUt as Ee,Cse as Fe,Tx as Ge,OUt as He,ei as Ie,xF as Je,NUt as Ke,DUt as Le,GT as Me,oUt as Ne,Yse as Oe,jUe as Pe,UUt as Qe,LUt as Re,sUt as Se,dc as Te,FUt as Ue,qUt as Ve,KUt as We,VUt as Xe,HUt as Ye,Hu as Ze,jUt as _e,zUt as $e,WUt as af,GUt as bf,$Ut as cf,$T as df,YUt as ef,ZUt as ff,qUe as gf,dUt as hf,hUt as if,pUt as jf,SUt as kf,aUt as lf,ju as mf,zse as nf,Ix as of,AUt as pf,EUt as qf,WT as rf,Wse as sf,Gse as tf,IUt as uf,$se as vf,MUt as wf,tLt as xf,lLe as yf,CF as zf,lLt as Af,dLt as Bf,pLt as Cf,mLt as Df,kUt as Ef,yLt as Ff,gLt as Gf,bLt as Hf,PUt as If,vLt as Jf,xLt as Kf,wLt as Lf,NF as Mf,DF as Nf,ILe as Of,TLt as Pf,ILt as Qf};
/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/btc-signer/index.js:
  (*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-S3GUIRR4.js.map
