import{a as A}from"./chunk-BFV33OZC.js";import{De as E,S as T,V as x,Vc as F,ha as b,mb as h}from"./chunk-S6KJ2BHO.js";import{ma as P}from"./chunk-NMZ7IVPZ.js";import{a as t,x as y}from"./chunk-H6ILHDLW.js";import{a as m}from"./chunk-7X4NV6OJ.js";import{f as p,h as i,n as r}from"./chunk-3KENBVE7.js";i();r();var lt={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"token.name",weight:.4},{name:"token.symbol",weight:.4},{name:"token.caip19.chainId",weight:.2}]};var w=30,Rt=6,N=29850,_=5,C=["100","500","1000"];i();r();var W=t.object({name:t.string().nullish().default(null),symbol:t.string().nullish().default(null),decimals:t.number(),caip19:h,logoURI:t.string().nullish().default(null)}),Y=t.object({token:W,quickSelectDenominations:t.array(t.string()).optional(),addressType:b.optional()}),Tt=t.object({groups:t.array(t.object({groupName:t.string(),tokens:t.array(Y)}))}),D=(c=>(c.CARD="CARD",c.MOBILE_WALLET="MOBILE_WALLET",c.BANK_TRANSFER="BANK_TRANSFER",c.EXCHANGE="EXCHANGE",c.LOCAL="LOCAL",c))(D||{}),S=t.object({id:t.string(),type:t.nativeEnum(D),name:t.string(),estimatedArrival:t.string(),assets:t.object({icon:t.string(),roundIcon:t.string()}),description:t.string().optional()}),xt=t.object({paymentMethods:t.array(S)}),I=t.object({id:t.string(),name:t.string(),tag:t.string(),logo:t.string(),quote:t.object({displaySourceAmount:t.string(),displayDestinationAmount:t.string(),displayFee:t.string()}).optional()}),Pt=t.object({providers:t.array(I),paymentMethod:S,token:h}),bt=t.object({provider:I,paymentMethod:S}),Ft=t.object({url:t.string(),sessionId:t.string()}),M=(s=>(s.PENDING="PENDING",s.COMPLETED="COMPLETED",s.FAILED="FAILED",s))(M||{}),Et=t.object({status:t.nativeEnum(M),tokenAmount:t.number().optional(),fiatCurrencyCode:t.string().optional(),usdFiatAmount:t.number().optional(),usdFiatFeeAmount:t.number().optional(),fiatFeeAmount:t.number().optional(),cryptoTransactionId:t.string().optional(),createdAt:t.date().optional(),updatedAt:t.date().optional()}),l=class extends Error{constructor(o){super(o),this.name="FiatRampError"}};i();r();var O={onClose:()=>{},context:"modal",fungible:void 0,purchaseAmount:"",purchaseType:"currency",ownerPublicKey:"",price:0,minPurchaseAmountUsd:_,maxPurchaseAmountUsd:N,quickSelectDenominations:C,paymentMethod:void 0,provider:void 0,checkoutQuoteType:"recommended",redirectURL:void 0},Dt=E(e=>({...O,setState:o=>e(o),reset:()=>{e(O)}}));i();r();i();r();var U=new l("Failed to get FiatRampProviders"),V=async(e,o,n)=>{try{let s=await T.api().headers(e).bearer(n).post("/fiat_ramp/v2/onramp/providers",o);if(!x(s))throw U;return s.data}catch{throw U}};i();r();var u="@phantom/fiat-ramp",z=`${u}:fungibles`,X=`${u}:payment-methods`,G=`${u}:providers`,J=`${u}:recommended-quote`,Z=`${u}:status`,tt=`${u}:completed`,L={fiatRampTokens(e,o,n){return[z,e,o,n]},fiatRampPaymentMethods(e,o,n){return[X,e,o,n]},fiatRampProviders(e,o,n){return[G,e,o,n]},fiatRampRecommendedQuote(e,o,n){return[J,e,o,n]},fiatRampStatus(e,o,n){return[Z,e,o,n]},fiatRampCompleted(e,o,n){return[tt,e,o,n]}};var et=y({seconds:w}),it=y({hours:1}),Gt=(e,o,n,s)=>{let k={"x-client-platform":e,"x-client-app-version":o,"x-client-locale":n},{data:c}=F(),H=c?.userID,B=c?.accessToken;return P({queryKey:L.fiatRampProviders(k,s,H),queryFn:()=>V(k,s,B),gcTime:it,staleTime:et})};i();r();var K=p(m());i();r();var R=p(m());i();r();function g(e,o){if(e==null)throw new Error(o);return e}var rt=R.default.createContext(null),d=()=>g((0,R.useContext)(rt),"useStackRouterState must be used within a StackRouterProvider");var Q=e=>({to:(o,n)=>e.pushView(o,n?.action,n?.params),pop:()=>e.popView(),toStack:(o,n)=>e.pushStack(o,n?.action,n?.display,n?.params),popStack:()=>e.popStack(),toTab:o=>e.setCurrentTab(o)}),v=()=>{let e=d();return(0,K.useMemo)(()=>Q(e),[e])};i();r();var $=p(m());var f=e=>()=>{let o=d();return(0,$.useSyncExternalStore)(n=>o.subscribe(e,n),()=>o[e])},ot=f("hasModal"),nt=f("canPop"),at=f("canPopStack"),st=f("currentAnimation"),ct=f("currentParams");i();r();i();r();var pt=p(m());i();r();var ut=p(m());i();r();var j=p(m());i();r();var q=p(m());i();r();var Ee=A({height:"100%"});i();r();var dt=p(m());i();r();var ft=e=>e;export{lt as a,w as b,Rt as c,C as d,l as e,z as f,L as g,O as h,Dt as i,Gt as j,v as k,ct as l,ft as m};
//# sourceMappingURL=chunk-UFPGJN5T.js.map
