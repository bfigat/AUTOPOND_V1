import{a as te}from"./chunk-KJZVFGWI.js";import{da as ne}from"./chunk-VZIPQGVK.js";import"./chunk-B5HUTZOW.js";import{b as ee}from"./chunk-4BIFBETB.js";import"./chunk-AEGB75R5.js";import{a as R}from"./chunk-TU4CQRN3.js";import"./chunk-GIUU5FZA.js";import"./chunk-I5RT5666.js";import"./chunk-F4B3PU3Z.js";import"./chunk-RAXNGD6N.js";import"./chunk-255U7RYV.js";import"./chunk-RNS57IWG.js";import"./chunk-S24UABH5.js";import"./chunk-GD4PMTOF.js";import"./chunk-MP5POVPU.js";import"./chunk-EGXLQXDH.js";import{a as T}from"./chunk-XNMBE4DK.js";import{b as Z,f as _}from"./chunk-RE3FKPVD.js";import"./chunk-X5D7DNCH.js";import"./chunk-CNOUWZHQ.js";import"./chunk-VL5EYDTL.js";import"./chunk-3P3EBL6I.js";import"./chunk-OVQZ6HTN.js";import{b as K}from"./chunk-EQDXPIVC.js";import"./chunk-ZON27MKP.js";import"./chunk-I6TBOMK3.js";import"./chunk-7PWA24OU.js";import"./chunk-7KE5H3S3.js";import"./chunk-W27Z2YZM.js";import"./chunk-HRJPGCUD.js";import"./chunk-XJTFMD4C.js";import"./chunk-QY4L72L3.js";import"./chunk-VDM5O2ZT.js";import"./chunk-7ZVEM3WY.js";import"./chunk-VQVTLSDS.js";import{b as W,k as X}from"./chunk-BL5NQCM4.js";import{c as Q,db as Y}from"./chunk-ONJA4ZEG.js";import{e as w}from"./chunk-RBBZHETH.js";import"./chunk-ZZPI23JA.js";import"./chunk-UCBZOSRF.js";import"./chunk-ZSQU2ZM6.js";import"./chunk-2THQDEWP.js";import"./chunk-O5D25TI4.js";import{d as $,o as q,u as J}from"./chunk-PKAXVJFX.js";import"./chunk-DUJHHCZR.js";import"./chunk-YOIJCLV6.js";import"./chunk-TBS5VNTB.js";import"./chunk-BTKBODVJ.js";import"./chunk-EQXZ32NI.js";import"./chunk-GS2UJNU3.js";import{G as B,Tb as L,Vb as z,Wb as O,ac as j}from"./chunk-R5HJQXZQ.js";import"./chunk-WFPABEAU.js";import"./chunk-PPMPQKRK.js";import"./chunk-UDFQ3C42.js";import"./chunk-P4LRI3S3.js";import"./chunk-GBKSQA4Y.js";import"./chunk-IBEI3NGL.js";import"./chunk-ALR5MBQI.js";import"./chunk-UFPGJN5T.js";import"./chunk-BFV33OZC.js";import"./chunk-MT5RYI7C.js";import"./chunk-EMR4O6UP.js";import{de as V,gb as b,ze as I}from"./chunk-S6KJ2BHO.js";import{p as N}from"./chunk-7ZZNCPHU.js";import{m as H}from"./chunk-MNQ7RLHG.js";import"./chunk-N7UFQNLW.js";import"./chunk-NMZ7IVPZ.js";import{c as M}from"./chunk-H6ILHDLW.js";import{a as Se}from"./chunk-7X4NV6OJ.js";import"./chunk-UNDMYLJW.js";import{f as fe,h as P,n as G}from"./chunk-3KENBVE7.js";P();G();var e=fe(Se());var Te=w(T).attrs({align:"center"})`
  height: 100%;
`,ye=w(T).attrs({align:"center",justify:"space-between"})`
  height: 100%;
`,be=w(T).attrs({align:"center",paddingTop:"25px"})`
  border-radius: 6px;
`,he=w(Y).attrs({size:38,weight:500,lineHeight:46})`
  margin-top: 18px;
`,Fe=(o,t)=>{let{status:s,data:i}=L({networkID:o}),[n,c]=(0,e.useState)("standard"),{popDetailView:a,pushDetailView:m}=Z(),g;return s!=="error"&&i&&n&&t&&(g=()=>{m(e.default.createElement(te,{onSelectTransactionSpeed:c,selectedTransactionSpeed:n,networkID:o,transactionUnitAmount:t,closeModal:a}))}),{transactionSpeed:n,openGasSettings:g}},Ee=o=>{let{t}=H(),s=Q(),{handleHideModalVisibility:i}=ne(),{chain:n,tokenAddress:c,balance:a,symbol:m,logoUri:g,walletAddress:oe}=o.data,r=n.id,h=b.getNetworkName(r),{data:ae}=V(),re=ae?.addresses??[],{data:d}=I({networkID:r,address:oe}),u=(0,e.useMemo)(()=>({pageHeaderText:t("unwrapFungibleConfirmSwap"),swapTitle:t("unwrapFungibleConfirmSwapTitle",{fromToken:m,toToken:n.symbol}),networkFeeText:t("sendFungibleSummaryNetworkFee"),networkFeeTextDescription:t("networkFeesTooltipDescription",{chainName:h}),confirmSwap:t("commandSwap"),cancelSwap:t("commandClose")}),[n.symbol,h,m,t]),{data:f,isPending:ie}=$({amount:a,caip19:{chainId:r,resourceType:"address",address:c??""},owner:d?.address??""}),p=(0,e.useMemo)(()=>f&&d?N.parse({to:f.to,from:d.address??"",data:f.data}):void 0,[f,d]),F=(0,e.useMemo)(()=>p?{type:"eip155",networkID:r,unsignedTransaction:p}:void 0,[r,p]),{data:se}=z(F),{transactionSpeed:me,openGasSettings:E}=Fe(r,se),{data:l,isFetched:U,isError:k,isSuccess:pe}=O({networkID:r,transactionSpeed:me,multichainTransaction:F,queryOptions:{refetchInterval:!1}}),{data:x}=j(r,l),ce=x?.gasEstimationPriceUSD?t("gasUpTo",{amount:x?.gasEstimationPriceUSD}):void 0,de=B(l),y=ce??de??"",{hasSufficientFunds:v,nativeTokenSymbol:A}=q(r,d?.addressType,l,new M(a??"0",16)),D=U&&!pe,S=(0,e.useMemo)(()=>k?t("transactionGasLimitError"):D?t("transactionGasEstimationError"):v==="insufficient"?t("transactionNotEnoughNative",{nativeTokenSymbol:A}):"",[k,D,v,t,A]),ue=(0,e.useMemo)(()=>[{label:t("commandSend"),value:`+${a} ${n.symbol}`,color:"#21E56F"},{label:t("commandReceive"),value:`-${a} ${m}`,color:"#EB3742"},{label:u.networkFeeText,onClick:E,value:y.length>0?y:e.default.createElement(R,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:"#484848"}),color:S?"#EB3742":"#FFF",leftSubtext:S,subtextColor:"#EB3742",tooltipContent:u.networkFeeTextDescription}],[a,n.symbol,u.networkFeeText,u.networkFeeTextDescription,y,S,E,m,t]),{mutateAsync:C,isPending:le}=J(re),we=(0,e.useCallback)(()=>{C({fungible:o,unsignedUnwrapTx:p,gasEstimation:l}),i("approveUnwrapFungible"),s("/notifications")},[o,l,i,s,p,C]),ge=(0,e.useCallback)(()=>{i("approveUnwrapFungible")},[i]);return{isLoading:ie||!U,isSwapDisabled:le||!p||!!S,logoUri:g,summaryRows:ue,i18nStrings:u,onConfirmSwap:we,onDenySwap:ge}},Ue=({fungible:o})=>{if(b.isEthereumNetworkID(o.data.chain.id)){let t=Ee(o);return e.default.createElement(ke,{...t})}throw new Error(`Unwrap fungible not supported for chain: ${o.data.chain.id}`)},et=Ue,ke=e.default.memo(({isLoading:o,isSwapDisabled:t,logoUri:s,summaryRows:i,i18nStrings:n,onConfirmSwap:c,onDenySwap:a})=>e.default.createElement(Te,null,e.default.createElement(_,null,n.pageHeaderText),e.default.createElement(ye,null,e.default.createElement(be,null,e.default.createElement(K,{image:{type:"icon",preset:"swap"},size:64,badge:{src:s??""}}),e.default.createElement(he,null,n.swapTitle)),e.default.createElement(ee,{rows:i,borderRadius:"6px 6px 6px 6px",padding:16,fontSize:16}),e.default.createElement(W,{mode:"wait",initial:!1},e.default.createElement(X,{primaryText:n.confirmSwap,secondaryText:n.cancelSwap,primaryDisabled:o||t,onPrimaryClicked:c,onSecondaryClicked:a})))));export{Ue as ApproveUnwrapFungible,et as default};
//# sourceMappingURL=ApproveUnwrapFungible-RLMDYQVV.js.map
