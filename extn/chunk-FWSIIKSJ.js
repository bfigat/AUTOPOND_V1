import{d as Rt}from"./chunk-OQ4Y5ES2.js";import{a as or,b as sr,c as nr}from"./chunk-5CXWSHG6.js";import{a as tr}from"./chunk-KNUBZKBJ.js";import{a as j,c as oe,d as G,f as er,h as Ie}from"./chunk-DXHUGLLV.js";import{a as Jt,c as Zt}from"./chunk-5XCOLT7V.js";import{A as Kt,G as $t,L as jt,M as Gt,N as ze,P as Yt,t as ve,w as Vt}from"./chunk-VZIPQGVK.js";import{a as Qt}from"./chunk-TU4CQRN3.js";import{a as J}from"./chunk-I5RT5666.js";import{a as _t}from"./chunk-GD4PMTOF.js";import{b as Ce,g as qt}from"./chunk-MP5POVPU.js";import{b as B,d as zt,g as k}from"./chunk-RE3FKPVD.js";import{a as Xt}from"./chunk-X5D7DNCH.js";import{f as It}from"./chunk-3P3EBL6I.js";import{a as Ut}from"./chunk-QO6WIP3B.js";import{a as rr,b as ir}from"./chunk-46ZZRFKA.js";import{e as kt}from"./chunk-I6TBOMK3.js";import{h as xt,i as At,j as Tt}from"./chunk-W27Z2YZM.js";import{a as Nt}from"./chunk-HRJPGCUD.js";import{a as Bt,b as Ot,j as Ht,k as re}from"./chunk-BL5NQCM4.js";import{A as Lt,D as be,G as Wt,N as Dt,db as F,p as Ne}from"./chunk-ONJA4ZEG.js";import{e as P}from"./chunk-RBBZHETH.js";import{I as bt,K as vt,La as Ft,Ma as Mt,jb as Et}from"./chunk-ZZPI23JA.js";import{a as wt,b as te}from"./chunk-YOIJCLV6.js";import{a as br}from"./chunk-BTKBODVJ.js";import{K as lt,L as dt,N as Te,O as pt,U as mt,V as ut,g as ct,ga as Pt}from"./chunk-P4LRI3S3.js";import{g as et,h as tt,p as pe}from"./chunk-GBKSQA4Y.js";import{a as Ct}from"./chunk-IBEI3NGL.js";import{Z as b,c as ce,i as D,n as U,o as q,w as le}from"./chunk-BFV33OZC.js";import{$d as gt,Ce as ht,Ee as Ve,Id as at,Pd as $,Qd as ft,Vd as ee,Xc as we,bd as rt,cd as ot,gb as Be,gd as st,md as Oe,nd as xe,pd as Ae,qd as nt,rd as it,sd as R,se as St,ue as He,ve as yt}from"./chunk-S6KJ2BHO.js";import{m as g}from"./chunk-MNQ7RLHG.js";import{C as Qe,Ra as Re,_ as Xe,xa as K}from"./chunk-NMZ7IVPZ.js";import{G as Je,H as Pe,I as De,R as Ze}from"./chunk-H6ILHDLW.js";import{a as E}from"./chunk-7X4NV6OJ.js";import{f as v,h as p,i as C,m as Buffer,n as m}from"./chunk-3KENBVE7.js";p();m();var Ke=v(E());var ar=({value:e,onChange:r})=>{let{t}=g();return Ke.default.createElement(vr,null,Ke.default.createElement(qt,{placeholder:t("assetListSearch"),value:e,onChange:s=>{"value"in s.target&&typeof s.target.value=="string"&&r(s.target.value)},showClearIcon:!!e,onClear:()=>{r("")}}))},vr=P.div`
  padding: 14px 0 14px;
  background: #222;
  position: relative;
  border-bottom: none;

  &:after {
    content: "";
    position: absolute;
    bottom: 0;
    left: -20px;
    width: calc(100% + 40px);
    border-bottom: 1px solid #323232; // #474747
  }
`;p();m();var d=v(E());p();m();p();m();p();m();p();m();var Z=v(E()),Cr=({navigateToPublicAddresses:e,toastController:r})=>{let{t}=g(),s=R(),n=He(),{PRIVACY_STATE_DISPLAY_METADATA:a}=Fe(),{mutateAsync:i}=Ae();return Z.default.createElement(U,{direction:"column",width:"100%",gap:16},Z.default.createElement(b,{rows:["public","private","invisible"].map(o=>{let{icon:u,title:S,description:l}=a[o],h=u,f=o===n;return{type:"radio",id:`privacy-state--${o}`,active:f,alignStartNodeItems:"ascender",start:Z.default.createElement(h,{size:18,color:"accentPrimary"}),topLeft:{text:S},bottomLeft:{component:()=>Z.default.createElement(q,{align:"left",font:"label",color:"textSecondary",children:l})},...D(()=>{f||i({privacyState:o},{onSuccess:()=>{s.onPrivacyStateUpdated(o),r.success(t("settingsManageUserProfileUpdatePrivacyStateToast"),{id:"privacy-state-toast"})},onError:()=>r.error(t("settingsManageUserProfileUpdatePrivacyStateToastFailure"),{id:"privacy-state-toast"})})})}})}),Z.default.createElement(b,{rows:[{type:"drawer",disabled:n==="invisible",start:Z.default.createElement(ce.Search,{size:18,color:"accentPrimary"}),topLeft:{text:t("settingsClaimUsernameManageAddressesTitle")},topRight:n==="invisible"?{text:t("pastParticipleDisabled")}:void 0,...D(e)}]}))},Fe=()=>{let{t:e}=g(),r=He(),t=(0,Z.useMemo)(()=>({public:{title:e("settingsManageUserProfilePrivacyStatePublic"),icon:ce.Globe,description:e("settingsManageUserProfilePrivacyStatePublicDescription")},private:{title:e("settingsManageUserProfilePrivacyStatePrivate"),icon:ce.Lock,description:e("settingsManageUserProfilePrivacyStatePrivateDescription")},invisible:{title:e("settingsManageUserProfilePrivacyStateInvisible"),icon:ce.EyeOff,description:e("settingsManageUserProfilePrivacyStateInvisibleDescription")},hidden:{title:e("settingsManageUserProfilePrivacyStatePublic"),icon:ce.Globe,description:e("settingsManageUserProfilePrivacyStatePublicDescription")}}),[e]);return{currentPrivacyState:t[r],PRIVACY_STATE_DISPLAY_METADATA:t}};p();m();var me=v(Ct()),Y=v(E()),Ir=({AccountAvatar:e,toastController:r})=>{let{t}=g(),s=R(),n=at(),{data:a=[]}=$(),i=yt(),{mutateAsync:o,isPending:u}=Ae(),S=(0,Y.useMemo)(()=>n.map(l=>{let h=Be.getChainID(l),I=a.filter(M=>M.addresses.some(L=>(0,me.default)(L.networkID,l))).map(M=>{let L=a.findIndex(w=>(0,me.default)(w.identifier,M.identifier)),y=M.addresses.find(w=>(0,me.default)(w.networkID,l))?.address;if(!y)throw new Error(`Unable to find address for Chain (${l}) in account: ${M.identifier}`);let A=M.addresses.some(w=>(0,me.default)(i?.[l],w.address));return{start:Y.default.createElement(e,{size:"small",accountIcon:M.icon,accountIndex:L,accountName:M.name}),topLeft:{text:M.name,font:"body"},bottomLeft:{text:tt(y||"")},active:A,disabled:u,type:"radio",...D(async()=>{try{let w={...i,[l]:y};await o({addresses:w}),r.success(t("settingsManageUserProfileUpdatePublicAddressToast")),s.onPublicAddressesUpdated(Object.entries(w).filter(([x,z])=>!!z).map(([x])=>x))}catch(w){K.captureError(w,"account"),r.error(t("settingsManageUserProfileUpdatePublicAddressToastFailure"))}})}});return I.length===1&&I[0]?.type==="check"&&I[0]?.active&&(I[0].disabled=!0),Y.default.createElement(U,{key:l,direction:"column",gap:16},Y.default.createElement(U,{direction:"row",gap:12,alignItems:"center",justifyContent:"flex-start"},Y.default.createElement(_t,{networkID:l,size:24}),Y.default.createElement(q,{font:"captionSemibold",color:"textPrimary",children:t(Be.getChainName(h))})),Y.default.createElement(b,{rows:I}))}),[e,a,n,u,s,o,i,t,r]);return Y.default.createElement(U,{direction:"column",width:"100%",gap:24},S)};p();m();var _e=v(Ct()),de=v(E()),Fr=({AccountAvatar:e,toastController:r})=>{let{t}=g(),s=R(),{data:n=[]}=$(),{data:a}=xe(),{mutateAsync:i}=nt(),{mutateAsync:o}=it(),u=(0,de.useMemo)(()=>n.filter(S=>et(S)).map(S=>{let l=n.findIndex(f=>(0,_e.default)(f.identifier,S.identifier)),h=a?.some(f=>(0,_e.default)(f.accountHash,S.identifier))||!1;return{type:"check",active:h,start:de.default.createElement(e,{size:"small",accountIcon:S.icon,accountIndex:l,accountName:S.name}),topLeft:{text:S.name,font:"body"},...D(async()=>{try{let f=a?.length??0;h?(await o(S.identifier),f--):(await i(S.identifier),f++),r.success(t("settingsManageUserProfileUpdateLinkedWalletsToast")),s.onLinkedWalletsUpdated(f,n.length)}catch(f){K.captureError(f,"account"),r.error(t("settingsManageUserProfileUpdateLinkedWalletsToastFailure"))}})}}),[e,n,s,o,a,t,r,i]);return de.default.createElement(U,{width:"100%"},de.default.createElement(b,{rows:u}))};p();m();var se=v(E()),Mr=({getAuthFactorRow:e,toastController:r})=>{let{t}=g(),s=R(),{data:n=[]}=$(),{data:a=[]}=ee("all"),{data:i}=we(),o=Object.values(i||{}).filter(y=>y?.isExistingAuthFactor).length,{mutateAsync:u}=rt(),{mutateAsync:S}=ot(),[l,h]=(0,se.useMemo)(()=>{let y=Object.keys(i||{}),A=new Set,w=new Set;for(let x of n)x.type==="seed"||x.type==="seedless"?x.seedIdentifier&&y.includes(x.seedIdentifier)&&A.add(x.seedIdentifier):x.type==="privateKey"&&x.privateKeyIdentifier&&y.includes(x.privateKeyIdentifier)&&w.add(x.privateKeyIdentifier);return[[...A],[...w]]},[n,i]),f=(0,se.useCallback)(async y=>{try{let A=o;i?.[y]?.isExistingAuthFactor?(await S({authenticationPublicKey:i[y]?.authenticationPublicKey}),A--):(await u({secretIdentifier:y}),A++),r.success(t("settingsManageUserProfileUpdateAuthFactorsToast")),s.onAuthFactorsUpdated(A,l.length+h.length)}catch(A){K.captureError(A,"account"),r.error(t("settingsManageUserProfileUpdateAuthFactorsToastFailure"))}},[u,i,s,S,t,r,o,h.length,l.length]),I=l.map(y=>{let A=pe(n,y).length,w=i?.[y]?.isExistingAuthFactor??!1,x=w&&o===1,z=a.findIndex(ae=>ae.identifier===y);return e({accountTypePrefix:t("addAccountSecretPhraseDefaultLabel",{number:z+1}),numberOfAccountsText:A===1?t("settingsClaimUsernameNoOfAccountsSingular"):A>0?t("settingsClaimUsernameNoOfAccounts",{noOfAccounts:A}):t("settingsClaimUsernameEmptyAccounts"),secretId:y,isActive:w,accounts:n,onSelect:f,disabled:x})}),M=h.map((y,A)=>{let w=pe(n,y).length,x=i?.[y]?.isExistingAuthFactor??!1,z=x&&o===1;return e({accountTypePrefix:t("addAccountPrivateKeyDefaultLabel",{number:A+1}),numberOfAccountsText:w?t("settingsClaimUsernameNoOfAccounts",{noOfAccounts:w}):t("settingsClaimUsernameEmptyAccounts"),secretId:y,isActive:x,accounts:n,onSelect:f,disabled:z})}),L=[...I,...M];return se.default.createElement(U,{width:"100%"},se.default.createElement(b,{rows:L}))};p();m();var _=v(E());var Er=({navigateToEditUsername:e,navigateToAuthFactors:r,navigateToEditBiography:t,navigateToSyncedAccounts:s,navigateToPrivacyState:n,navigateToFollowers:a})=>{let{t:i}=g(),{data:[o]}=Re(["enable-edit-username"]),u=St(),{data:S,isPending:l}=Oe(),h=S?.biography,{data:f,isPending:I}=we(),M=Object.values(f||{}),L=M.filter(T=>T?.isExistingAuthFactor)?.length?.toString(),y=I||M?.length===0,{data:A,isPending:w}=xe(),x=w?void 0:A?.length?.toString()||"0",{currentPrivacyState:z}=Fe(),ae=z?.icon,{data:Se}=Oe(),{isPending:ye}=bt(Se?.id),{formattedFollowers:he}=vt(Se?.id),Ue=(0,_.useMemo)(()=>{let T=[];return o?T.push({type:"drawer",topLeft:{text:i("settingsManageUserProfileAboutUsername")},topRight:u&&{text:`@${u}`},...D(e)}):T.push({topLeft:{text:i("settingsManageUserProfileAboutUsername")},topRight:u&&{text:`@${u}`}}),t&&T.push({type:"drawer",topLeft:{text:i("settingsManageUserProfileAboutBio")},topRight:{text:h},disabled:l,...D(t)}),T},[h,l,t,e,i,u,o]),ke=(0,_.useMemo)(()=>{let T=[{type:"drawer",topLeft:{text:i("settingsManageUserProfileAuthFactors")},topRight:!y&&{text:L},disabled:y,...D(r)},{type:"drawer",topLeft:{text:i("settingsManageUserProfileLinkedWallets")},topRight:x&&{text:x},disabled:w,...D(s)},{type:"drawer",topLeft:{text:i("settingsManageUserProfilePrivacy")},topRight:!l&&{text:z.title,before:_.default.createElement(ae,{size:16,color:"textSecondary"})},disabled:l,...D(n)}];return a&&T.unshift({type:"drawer",topLeft:{text:i("followers")},topRight:{text:he},disabled:ye,...D(a)}),T},[ae,y,z.title,L,he,ye,w,l,r,a,n,s,x,i]);return _.default.createElement(U,{gap:24,width:"100%"},_.default.createElement(U,{gap:"section",width:"100%"},_.default.createElement(q,{font:"bodySemibold",color:"textSecondary",children:i("settingsManageUserProfileAbout")}),_.default.createElement(b,{rows:Ue})),_.default.createElement(U,{gap:"section",width:"100%"},_.default.createElement(q,{font:"bodySemibold",color:"textSecondary",children:i("settingsManageUserProfileManage")}),_.default.createElement(b,{rows:ke})))};p();m();var Q=v(E()),$e=Q.default.memo(({type:e,onSuccess:r,isMobile:t=!1})=>{let{t:s}=g(),[n,a]=Q.default.useState(!1),i=e==="privateKey",o=s(i?"exportSecretPrivateKey":"exportSecretRecoveryPhrase"),u=i?"exportPrivateKey":"exportMnemonic",S=(0,Q.useMemo)(()=>[{key:"warning-1",icon:Q.default.createElement(le,{icon:"Key",backgroundColor:"accentAlert",shape:"square"}),title:s("exportSecretOnlyWayDescription",{secretNameText:o})},{key:"warning-2",icon:Q.default.createElement(le,{icon:"EyeOff",backgroundColor:"accentAlert",shape:"square"}),title:s("exportSecretDoNotShowDescription",{secretNameText:o})},{key:"warning-3",icon:Q.default.createElement(le,{icon:"AlertOctagon",backgroundColor:"accentAlert",shape:"square"}),title:s("exportSecretNeverShareDescription",{secretNameText:o})}],[s,o]);return Q.default.createElement(Vt,{marginX:t?0:"-16",marginBottom:t?0:"-16",mobileTitleSheetInset:t,image:Q.default.createElement(le,{icon:"ShieldWarning",size:64,backgroundColor:"accentAlert",shape:"circle"}),title:s("exportSecretShowSecretRecoveryPhraseModalTitle",{secretNameText:o}),items:S,primaryButton:{theme:"secondary",children:s("commandContinue"),onAction:r,disabled:!n,testID:"primary-button"},displayEvent:{event:u},footer:{checkbox:{shape:"square",label:{text:s("exportSecretWillNotShare",{secretNameText:o})},checked:n,onChange:()=>a(l=>!l),id:"export-secret-warning-checkbox",testID:"export-secret-warning-checkbox"}}})});p();m();var je=v(E());var ue=v(E());var cr=({onSuccess:e,type:r})=>{let{t}=g(),s=r==="privateKey",n=t(s?"exportSecretShowPrivateKey":"exportSecretShowSecretRecoveryPhrase");return ue.default.createElement(ue.default.Fragment,null,ue.default.createElement(k,{shouldWrap:!0},n),ue.default.createElement($e,{onSuccess:e,type:r}))};p();m();var H=v(E());p();m();var ne=v(E());var lr=ne.default.memo(({indexes:e,wordlist:r})=>ne.default.createElement(Lr,null,e.length&&r.length?e.map((t,s)=>ne.default.createElement(Ur,{key:s},ne.default.createElement(Wr,null,`${s+1}.`),ne.default.createElement(Dr,{"data-testid":`secret-recovery-phrase-word-input-${s}`,readOnly:!0,autoComplete:"off",autoCorrect:"off",spellCheck:!1,value:r[t],pattern:"[A-Za-z\\s]+"}))):Array.from({length:e?e.length:12},(t,s)=>ne.default.createElement(kr,{key:s})))),Ur=P(J).attrs({align:"center",justify:"center"})`
  color: #fff;
  background: #181818;
  border: 1px solid #2f2f2f;
  border-radius: 6px;
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
  align-self: center;
  height: 41px;
`,kr=P(Qt).attrs({backgroundColor:"#484848",borderRadius:"6px",height:"41px"})``,Lr=P.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  row-gap: 10px;
  column-gap: 4.5px;
  width: 100%;
`,Wr=P(F).attrs({size:14,weight:400,color:"#999999"})`
  padding-left: 8px;
  padding-right: 2px;
`,Dr=P.input`
  color: #fff;
  background: none;
  border: none;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  padding: 0;
`;p();m();var fe=v(E());var dr=({type:e})=>{let{t:r}=g(),t=e==="privateKey"?r("exportSecretPrivateKey"):r("exportSecretRecoveryPhrase");return fe.default.createElement(Br,{"data-testid":`warning-island-${e}`},fe.default.createElement(Kt,{color:"#EB3742",title:fe.default.createElement(Nt,{i18nKey:"exportSecretWarningPrimaryInterpolated",values:{secretNameText:t}},"Do ",fe.default.createElement("u",null,"not")," share your ",t,"!"),description:r("exportSecretWarningSecondaryInterpolated",{secretNameText:t})}))},Br=P.div`
  margin-bottom: 20px;
`;var pr=({accountIdentifier:e,password:r})=>{let{t}=g(),{popDetailView:s}=B(),[{indexes:n,wordlist:a},i]=(0,H.useState)({indexes:[],wordlist:[]}),{data:o}=ft(e);return(0,H.useEffect)(()=>{(async()=>{if((o?.type==="seed"||o?.type==="seedless")&&o?.seedIdentifier)try{let u=await r.foldAsync(f=>kt(Buffer.from(f).toString("utf-8"),o.seedIdentifier));if(!u)throw new Error("Could not get mnemonic");let S=await Ut(),l=u.fold(S.fromEntropy),h=Array.from(await l.getIndexes());i({indexes:h,wordlist:S.wordlist}),K.addBreadcrumb("account",`\u2705 Exported S*ed for Account: ${e}`,"info"),te.capture("exportMnemonic")}catch{throw K.addBreadcrumb("account",`\u{1F6AB} Failed to Export S*ed for Account: "${e}", account: "${JSON.stringify(o)}"`,"error"),new Error("Could not get mnemonic")}else K.addBreadcrumb("account",`\u{1F6AB} Failed to Export S*ed: Account: "${JSON.stringify(o)}"`,"error")})()},[o,e,r]),H.default.createElement(H.default.Fragment,null,H.default.createElement(k,{shouldWrap:!0},t("exportSecretYourSecretRecoveryPhrase")),H.default.createElement(j,null,H.default.createElement(G,null,H.default.createElement(dr,{type:"mnemonic"}),H.default.createElement(lr,{indexes:n,wordlist:a}))),H.default.createElement(Ht,{onClick:()=>{s(),s(),s()}},t("pastParticipleDone")))};p();m();var c=v(E());var Ge=({navigationCallback:e})=>{let{t:r}=g(),{data:t=[]}=$(),{data:s=[]}=ee("all"),a=!(s?.length>0),i=Ve(l=>l.editableAccountMetadata),o=Ve(l=>l.setEditableAccountMetadata),u=(0,c.useCallback)(l=>{o&&o({...i,seedIdentifier:l})},[i,o]),S=(0,c.useCallback)(l=>{u(l),e(l)},[u,e]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(k,{icon:c.default.createElement(Wt,{fill:"#777"})},r("settingsSelectSecretPhrase")),c.default.createElement(j,null,a?c.default.createElement(q,{children:r("addAccountNoSecretPhrases"),font:"labelBold"}):c.default.createElement(U,{gap:8},c.default.createElement(Vr,null,s?.map((l,h)=>c.default.createElement(Or,{key:`seed-select-${l.identifier}`,accounts:pe(t,l.identifier),seedIdentifier:l.identifier,onClick:S,index:h}))))))},Or=({accounts:e,seedIdentifier:r,index:t,onClick:s})=>{let{t:n}=g(),[a,i]=(0,c.useState)(!1),[o,u]=(0,c.useState)(!1),S=(0,c.useCallback)(()=>{i(!a)},[a,i]),l=(0,c.useCallback)(()=>{o||s(r)},[o,s,r]),h=(0,c.useMemo)(()=>e.length>1?n(a?"addAccountHideAccountsForSeed":"addAccountShowAccountsForSeed",{numOfAccounts:e.length}):e.length===1?n(a?"addAccountHideAccountForSeed":"addAccountShowAccountForSeed"):n("addAccountZeroAccountsForSeed"),[e.length,a,n]),f=(0,c.useMemo)(()=>e.length>=1?{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:S}:null,[e.length,S]);return c.default.createElement(Nr,{onClick:l},c.default.createElement(ur,null,c.default.createElement(zr,null,c.default.createElement(Kr,null,c.default.createElement(_r,null,n("addAccountSecretPhraseDefaultLabel",{number:t+1})),c.default.createElement($r,{...f},h)),c.default.createElement(J,{width:"fit-content"},c.default.createElement(fr,null,c.default.createElement(Ne,{fill:"#777",width:10})))),c.default.createElement(Hr,{accounts:e,expanded:a})))},Hr=({accounts:e,expanded:r})=>{let[t,{height:s}]=It(),n=(0,c.useMemo)(()=>({initial:{opacity:0,height:0},animate:{opacity:1,height:s},exit:{opacity:0,height:0},transition:{delay:0,duration:.2}}),[s]);return c.default.createElement(Ot,{mode:"wait"},r&&e.length>0&&c.default.createElement(mr,{...n},c.default.createElement(mr,{ref:t},c.default.createElement(jr,null,e.map((a,i)=>c.default.createElement(J,{key:`account-${a.identifier}`,justify:"flex-start"},c.default.createElement(tr,{size:24,accountIcon:a.icon,accountName:a.name,accountIndex:i}),c.default.createElement(qr,{style:{marginLeft:6}},a.name)))))))},Vr=P.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 12px;
`,Nr=P(J).attrs({align:"center"})`
  position: relative;
  cursor: pointer;
  background-color: #2a2a2a;
  border-radius: 8px;
  &:hover {
    background-color: #333;
  }
`,zr=P(J).attrs({justify:"space-between"})`
  padding: 15px;
`,Kr=P.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
`,_r=P(F).attrs({size:16,weight:500,lineHeight:19})``,qr=P(F).attrs({size:15,weight:500,lineHeight:19})``,$r=P(F).attrs({size:13,weight:500,lineHeight:19})`
  color: #ab9ff2;
  margin-top: 2px;
`,ur=P.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,jr=P(ur)`
  border-top: 1px solid #222222;
  padding: 15px;
  align-items: flex-start;
  gap: 12px;
`,mr=P(Bt.div)`
  overflow: hidden;
`,Gn=({accounts:e,seedMetas:r,onClick:t,selectedSeedIdentifier:s})=>{let{t:n}=g(),a=(0,c.useMemo)(()=>{if(!r||!s)return 0;let o=r.find(u=>u.identifier===s);return o?r.indexOf(o):0},[r,s]),i=(0,c.useMemo)(()=>!e||!s?[]:e.filter(o=>(o.type==="seed"||o.type==="seedless")&&o.seedIdentifier===s),[e,s]);return c.default.createElement(Gr,null,c.default.createElement(Jr,null,n("addAccountSecretPhraseLabel")),c.default.createElement(Yr,{onClick:t,"data-testid":"select-secret-phrase-button"},c.default.createElement(J,{justify:"space-between"},c.default.createElement(J,null,c.default.createElement(Qr,null,n("addAccountSecretPhraseDefaultLabel",{number:a+1})," ",c.default.createElement(Xr,{as:"span"},"(",i.length>1?n("addAccountNumAccountsForSeed",{numOfAccounts:i.length}):n("addAccountOneAccountsForSeed"),")"))),c.default.createElement(fr,null,c.default.createElement(Ne,{fill:"#777",width:10})))),c.default.createElement(gr,null,n("addAccountSelectSeedDescription")))},Gr=P(Jt)`
  width: 100%;
  position: relative;
`,Yr=P(Zt)`
  padding: 8px 16px 8px 12px;
`,fr=P.div`
  svg {
    transform: rotate(270deg) translateX(2px);
  }
`,Qr=P(F).attrs({size:16,weight:400,lineHeight:19})``,Xr=P(F).attrs({size:16,weight:400,lineHeight:19})`
  display: inline-flex;
  padding: 0 8px;
  color: #777777;
`,gr=P(F).attrs({size:14,weight:400,lineHeight:19,textAlign:"left"})`
  margin-top: 8px;
  color: #777777;
`,Jr=P(gr)`
  margin-top: 24px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  svg {
    margin-left: 6px;
  }
`;p();m();var X=v(E());var ge=[0,1,5,10,15,30,60,240,480],Sr=()=>{let{t:e}=g(),{popDetailView:r}=B(),{data:t}=Te(),{mutateAsync:s}=pt(),n=(0,X.useCallback)(async i=>{try{let o=De(i);await s({lockTimeInMs:o}),te.capture("changeLockTimerDuration",{data:{mins:i}}),r(),t!==o&&ve.success(e("changeLockTimerToast"))}catch(o){console.error(o)}},[t,r,s,e]),a=(0,X.useMemo)(()=>{if(t===void 0)return[];let i=Je(t);return Zr(i),ge.map(o=>({topLeft:{text:Pe(e,De(o))},active:i===o,type:"check",onClick:()=>n(o)}))},[t,n,e]);return X.default.createElement(X.default.Fragment,null,X.default.createElement(k,null,e("changeLockTimerPrimaryText")),X.default.createElement(j,null,X.default.createElement(b,{rows:a})))},Zr=async e=>{if(!ge.includes(e)){let r=ge.findIndex(t=>t>e);r?ge.splice(r,0,e):ge.push(e)}};p();m();var W=v(E());var Rr={currentPassword:"",password:"",confirmPassword:""},eo={currentPassword:void 0,password:void 0,confirmPassword:void 0},yr=()=>{let{t:e}=g(),{popDetailView:r}=B(),[t,s]=(0,W.useState)(Rr),{currentPassword:n,password:a,confirmPassword:i}=t,[o,u]=(0,W.useState)(eo),S=o.password??o.confirmPassword??o.currentPassword,l=!n||!a||!i,[h,f]=(0,W.useState)(!1),I=L=>{let y=L.currentTarget.name,A=L.currentTarget.value;s({...t,[y]:A})};return W.default.createElement(Ie,{onSubmit:async L=>{L.preventDefault(),f(!0);let y,A=or(a)??nr(n,a),w=sr(a,i);if(A||w)return u({...o,password:A,confirmPassword:w}),f(!1);try{if(!await jt(n))throw new Error("Incorrect password");await Gt(i),f(!1),r(),ve.success(e("changePasswordToast"))}catch(x){K.captureError(x,"account"),y=x?.message.includes("Incorrect password")?e("changePasswordErrorIncorrectCurrentPassword"):e("changePasswordErrorGeneric"),u({...o,currentPassword:y}),f(!1)}}},W.default.createElement(k,null,e("changePasswordPrimaryText")),W.default.createElement(oe,{size:"large"},W.default.createElement(G,null,W.default.createElement(Lt,null),W.default.createElement(F,{size:26,weight:500},e("changePasswordPrimaryText")),W.default.createElement(er,null,W.default.createElement(Ce,{type:"password",name:"currentPassword",placeholder:e("changePasswordCurrentPassword"),warning:!!o.currentPassword,onChange:I}),W.default.createElement(Ce,{type:"password",name:"password",placeholder:e("changePasswordNewPassword"),warning:!!o.password,onChange:I}),W.default.createElement(Ce.WithWarning,{type:"password",name:"confirmPassword",placeholder:e("changePasswordConfirmNewPassword"),warning:!!o.confirmPassword,warningMessage:S,onChange:I}))),W.default.createElement(re,{primaryText:e("commandSave"),secondaryText:e("commandCancel"),onSecondaryClicked:r,primaryDisabled:l||h,primaryLoading:h})))};p();m();var O=v(E());var to=P.div`
  border: 1px solid #ffdc62;
  border-radius: 6px;
  padding: 8px 16px;
`,hr=O.default.memo(()=>{let{t:e}=g(),{downloadLogs:r,goSupportDesk:t,isFetching:s}=ir();return O.default.createElement(Ie,{onSubmit:r},O.default.createElement(k,null,e("settingsDownloadApplicationLogs")),O.default.createElement(oe,{size:"medium"},O.default.createElement("div",null),O.default.createElement(G,null,O.default.createElement(Xt,{diameter:96,color:Ze("#AB9FF2",.1)},O.default.createElement(Dt,null)),O.default.createElement(F,{size:28,weight:500,lineHeight:34,margin:"20px 0 0",maxWidth:"280px"},e("settingsDownloadApplicationLogs")),O.default.createElement(F,{size:16,color:"#777777",lineHeight:19,margin:"0 0 4px"},e("settingsDownloadApplicationLogsHelper")),O.default.createElement(to,null,O.default.createElement(F,{size:14,color:"#FFDC62",lineHeight:20,weight:500},e("settingsDownloadApplicationLogsWarning")))),O.default.createElement(re,{primaryDisabled:s,primaryText:e("commandDownload"),secondaryText:e("settingsSupportDesk"),onSecondaryClicked:t})))});p();m();var V=v(E());var Pr=({seedIdentifier:e})=>{let{t:r}=g(),{hideSettingsMenu:t}=zt(),{mutate:s}=gt(),{data:n=[]}=ee("all"),a=n.findIndex(u=>u.identifier===e)??0,i=(0,V.useCallback)(()=>{s({seedIdentifier:e}),te.capture("walletSeeds",{data:{numOfSeeds:n?.length}}),t()},[t,s,e,n]),{popDetailView:o}=B();return V.default.createElement(V.default.Fragment,null,V.default.createElement(k,null,r("settingsRemoveSecretPhrase")),V.default.createElement(oe,{size:"large"},V.default.createElement("div",null),V.default.createElement(G,null,V.default.createElement(be,null),V.default.createElement(F,{size:28,weight:500,lineHeight:34},r("removeSeedPrimaryText",{number:a+1})),V.default.createElement(F,{size:16,color:"#777777",lineHeight:19,maxWidth:"312px"},r("removeSeedSecondaryText",{number:a+1}))),V.default.createElement(re,{primaryText:r("commandContinue"),secondaryText:r("commandCancel"),primaryTheme:"primary",onPrimaryClicked:i,onSecondaryClicked:o})))};p();m();var N=v(E()),wr=v(br());var ro=new wt,xr=()=>{let{t:e}=g(),{mutateAsync:r}=Ft(),{mutateAsync:t}=Mt(),[s,n]=(0,N.useState)("idle"),a=s==="resetting",i=async()=>{n("resetting"),te.capture("resetApp"),await ro.clear(),await rr.logOut(),await $t(),await r(!0),await t(!0),wr.default.runtime.reload()},{popDetailView:o}=B();return N.default.createElement(N.default.Fragment,null,N.default.createElement(k,null,e("settingsResetApp")),N.default.createElement(oe,{size:"large"},N.default.createElement("div",null),N.default.createElement(G,null,N.default.createElement(be,null),N.default.createElement(F,{size:28,weight:500,lineHeight:34},e("resetSeedPrimaryText")),N.default.createElement(F,{size:16,color:"#777777",lineHeight:19,maxWidth:"312px"},e("resetSeedSecondaryText"))),N.default.createElement(re,{primaryDisabled:a,primaryLoading:a,primaryText:e("commandContinue"),secondaryText:e("commandCancel"),primaryTheme:"primary",onPrimaryClicked:i,onSecondaryClicked:o})))};var oo=e=>e.type==="seed"||e.type==="seedless",Oa=()=>{let{t:e}=g(),{pushDetailViewCallback:r,pushDetailView:t}=B(),{data:s=[]}=$(),n=s.filter(oo),a=n.filter(T=>T.type==="seed"),i=n.filter(T=>T.type==="seedless"),{additionalPermissionRows:o}=so(),{data:u=[]}=ee("recoverable-only"),S=ht(),{data:l}=Te(),{data:h,isPending:f}=lt(),{mutate:I}=dt(),{data:M,isPending:L}=mt(),{mutate:y}=ut(),A=(0,d.useCallback)(()=>{I({isAnalyticsOptedOut:!h})},[h,I]),w=(0,d.useCallback)(()=>{y({showWalletShortcuts:!M}),Et.invalidateQueries({queryKey:[Rt]})},[M,y]),x=(0,d.useCallback)(T=>{t(d.default.createElement(Yt,{password:T,seedlessMetas:u}))},[t,u]),z=r(d.default.createElement(ze,{type:"seedless",onSuccess:x})),ae=(0,d.useMemo)(()=>{let T=[{topLeft:{text:e("settingsChangePasswordPrimary")},type:"drawer",onClick:r(d.default.createElement(yr,null))},{topLeft:{text:e("settingsAutoLockTimerPrimary")},topRight:{text:Pe(e,l)},type:"drawer",onClick:r(d.default.createElement(Sr,null))}];return u.length&&T.splice(1,0,{topLeft:{text:e("seedlessResetPinPrimaryText")},type:"drawer",onClick:z}),T},[u.length,l,r,z,e]),Se=(0,d.useMemo)(()=>{let T=[{topLeft:{text:e("settingsResetApp"),color:"accentAlert"},onClick:r(d.default.createElement(xr,null))}];return S&&T.unshift({topLeft:{text:e("settingsRemoveSecretPhrase"),color:"accentAlert"},onClick:r(d.default.createElement(Ge,{navigationCallback:Le=>t(d.default.createElement(Pr,{seedIdentifier:Le}))}))}),T},[t,r,S,e]),ye=(0,d.useMemo)(()=>f?[]:[{id:"toggleAnalytics",active:!h,type:"toggle",topLeft:{text:e("settingsSecurityAnalyticsPrimary")},onClick:A}],[h,f,A,e]),he=(0,d.useMemo)(()=>[{topLeft:{text:e("settingsDownloadApplicationLogs")},type:"drawer",onClick:r(d.default.createElement(hr,null))}],[r,e]),Ue=(0,d.useMemo)(()=>L?[]:[{id:"toggleWalletShortcuts",topLeft:{text:e("settingsWalletShortcutsPrimary")},active:M??ct,type:"toggle",onClick:w}],[M,L,w,e]),ke=(0,d.useMemo)(()=>{let T=[],Le=Ar=>{let Ye=n.find(We=>We.seedIdentifier===Ar);if(!Ye)return;let Tr=We=>{t(d.default.createElement(cr,{type:"mnemonic",onSuccess:()=>t(d.default.createElement(pr,{accountIdentifier:Ye.identifier,password:We}))}))};t(d.default.createElement(ze,{type:"mnemonic",onSuccess:Tr}))};return(a.length||i.length)&&T.push({topLeft:{text:e("exportSecretShowSecretRecoveryPhrase")},type:"drawer",onClick:r(d.default.createElement(Ge,{navigationCallback:Le}))}),T},[r,t,n,a.length,i.length,e]);return d.default.createElement(d.default.Fragment,null,d.default.createElement(k,null,e("settingsSecurityPrimary")),d.default.createElement(j,null,d.default.createElement(U,{gap:"section"},d.default.createElement(b,{rows:ae}),d.default.createElement(b,{rows:he}),o.length>0?d.default.createElement(b,{rows:o}):null,d.default.createElement(b,{rows:Ue}),d.default.createElement(U,{gap:"list"},d.default.createElement(b,{rows:ye}),d.default.createElement(U,{paddingX:4},d.default.createElement(q,{font:"caption",children:e("settingsSecurityAnalyticsHelper"),color:"textSecondary"}))),d.default.createElement(b,{rows:ke}),d.default.createElement(b,{rows:Se}))))};function so(){let e=st(),{t:r}=g(),t=Qe(C.IS_FIREFOX),s=Xe.isFeatureEnabled("always-show-all-sites-permissions"),[n,a]=(0,d.useState)(null),[i,o]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let f=!0;return(async()=>{let I=await xt();f&&a(I)})(),()=>{f=!1}},[a]);let[u,S]=(0,d.useState)(!1),l=(0,d.useCallback)(async()=>{S(!0);try{let f=!!n;if(f)await Tt(),e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:f,newValue:!1}}),a(!1);else{let I=await At();e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:f,newValue:I}}),a(I)}}catch(f){f instanceof Error&&f.message.includes("You cannot remove required permissions")?o(!0):(console.error("Failed to set permissions"),console.error(f))}finally{S(!1)}},[n,e]),h=(0,d.useMemo)(()=>t||s?n===null?[]:[{id:"toggleAllSitesPermissions",active:n,disabled:i||u,onClick:l,type:"toggle",topLeft:r("settingsAllSitesPermissionsTitle"),helperText:r(i?"settingsAllSitesPermissionsDisabled":"settingsAllSitesPermissionsSubtitle")}]:[],[t,s,n,i,u,l,r]);return(0,d.useMemo)(()=>({additionalPermissionRows:h}),[h])}p();m();var ie=v(E());var Ya=()=>{let{t:e}=g(),{popDetailView:r}=B(),{currencyRows:t,searchQuery:s,setSearchQuery:n}=Pt({goBack:r});return ie.default.createElement(ie.default.Fragment,null,ie.default.createElement(k,null,e("settingsCurrency")),ie.default.createElement(ar,{value:s,onChange:n}),ie.default.createElement(j,null,ie.default.createElement(b,{rows:t})))};export{Ge as a,Gn as b,lr as c,dr as d,Cr as e,Ir as f,Fr as g,Mr as h,Er as i,cr as j,pr as k,ar as l,Ya as m,Sr as n,yr as o,hr as p,Pr as q,Oa as r};
//# sourceMappingURL=chunk-FWSIIKSJ.js.map
