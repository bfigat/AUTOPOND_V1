import{b as tr,c as Vr,d as rr,e as cc,f as lc,g as dc,i as uc,j as qr,k as wc}from"./chunk-B5HUTZOW.js";import{a as Sc,b as Do}from"./chunk-4BIFBETB.js";import{a as Tt}from"./chunk-AEGB75R5.js";import{a as po}from"./chunk-TU4CQRN3.js";import{a as vc}from"./chunk-GIUU5FZA.js";import{a as Lt}from"./chunk-I5RT5666.js";import{a as jt}from"./chunk-F4B3PU3Z.js";import{a as Kr}from"./chunk-RAXNGD6N.js";import{d as Wr}from"./chunk-255U7RYV.js";import{d as fc,g as zr,h as li,l as yc,n as gc,o as Fo,s as hc,t as bc,x as xc,y as Hr}from"./chunk-RNS57IWG.js";import{b as ut}from"./chunk-S24UABH5.js";import{a as rc,c as pc,e as mc}from"./chunk-GD4PMTOF.js";import{b as Rr,g as sc,h as ac}from"./chunk-MP5POVPU.js";import{a as nc,b as ic}from"./chunk-EGXLQXDH.js";import{a as or}from"./chunk-XNMBE4DK.js";import{a as me,b as ke,f as Xe,g as $r}from"./chunk-RE3FKPVD.js";import{a as jr}from"./chunk-X5D7DNCH.js";import{a as pt}from"./chunk-CNOUWZHQ.js";import{b as Ia}from"./chunk-VL5EYDTL.js";import{c as ka,d as Aa}from"./chunk-3P3EBL6I.js";import{a as Qe}from"./chunk-OVQZ6HTN.js";import{a as ri,b as lo}from"./chunk-EQDXPIVC.js";import{a as ii}from"./chunk-ZON27MKP.js";import{e as za}from"./chunk-I6TBOMK3.js";import{z as tc}from"./chunk-7PWA24OU.js";import{c as Ur}from"./chunk-7KE5H3S3.js";import{b as Ys}from"./chunk-W27Z2YZM.js";import{a as oc}from"./chunk-HRJPGCUD.js";import{a as It}from"./chunk-XJTFMD4C.js";import{a as Ha}from"./chunk-QY4L72L3.js";import{a as ci}from"./chunk-VQVTLSDS.js";import{a as De,b as uo,c as Zo,d as er,e as Xa,f as si,h as _r,j as Ye,k as Za,l as ec}from"./chunk-BL5NQCM4.js";import{$ as Ja,G as Ka,P as Or,Y as qa,aa as Ga,ab as Ya,ba as Qa,c as Bo,cb as ai,db as Z,v as Wa,x as ja}from"./chunk-ONJA4ZEG.js";import{e as C}from"./chunk-RBBZHETH.js";import{A as ao,Ba as Ma,Ca as Na,Da as Oa,E as Lr,Ea as _a,Ga as Ua,ab as Dr,bb as $a,fa as Lo,ja as Fr,jb as Mr,ka as Fa,ta as Da,w as Ir,x as la,y as pa,z as ma}from"./chunk-ZZPI23JA.js";import{c as At}from"./chunk-UCBZOSRF.js";import{f as La,u as ni,x as Ba}from"./chunk-O5D25TI4.js";import{g as oa,l as ia,m as sa,t as ca}from"./chunk-PKAXVJFX.js";import{d as Nr,e as Va,f as Ra}from"./chunk-DUJHHCZR.js";import{b as he}from"./chunk-YOIJCLV6.js";import{a as Iu}from"./chunk-BTKBODVJ.js";import{a as Pa}from"./chunk-EQXZ32NI.js";import{a as Ea}from"./chunk-GS2UJNU3.js";import{$b as ea,Cc as Qn,Lb as Xs,Pc as na,Qc as Io,Yb as Zs,_c as aa,dd as Yn,fc as ta,fd as Xo,ha as qs,hd as da,ia as Js,ja as Gs,ld as ua,md as Xn,wa as Qs,wb as Gn,xb as Yo,zc as ra}from"./chunk-R5HJQXZQ.js";import{b as Ao}from"./chunk-UDFQ3C42.js";import{Z as Ks}from"./chunk-P4LRI3S3.js";import{h as so,i as Os,k as kr}from"./chunk-GBKSQA4Y.js";import{c as fa,e as ga,f as ba}from"./chunk-ALR5MBQI.js";import{b as Zn,c as ei,h as ya,i as vt,j as ha}from"./chunk-UFPGJN5T.js";import{B as Br,D as va,L as wa,R as Sa,T as Ta,U as co,Z as Wt,a as B,aa as Ca,b as Ne,c as ge,h as ti,j as dt,n as w,o as F,p as wt,t as Je,w as xa,y as St,z as oi}from"./chunk-BFV33OZC.js";import{a as Es}from"./chunk-EMR4O6UP.js";import{Cb as Fs,De as js,Id as Us,Mb as Ds,Pd as $s,S as ht,Sb as Ms,V as bt,Vd as Vs,Xd as Rs,Yb as Ns,Yc as Ar,dd as _s,de as rt,gb as qe,gd as Ve,ib as Se,me as zs,nb as Jn,ob as ko,re as Hs,ze as Ws}from"./chunk-S6KJ2BHO.js";import{N as Kn}from"./chunk-7ZZNCPHU.js";import{a as ee,b as Qo,m as U}from"./chunk-MNQ7RLHG.js";import{Ha as Ke,Ra as Er,_ as ks,ha as xt,ja as je,ma as Eo,q as jn,xa as J}from"./chunk-NMZ7IVPZ.js";import{C as Cr,R as io,U as Bs,a as Ee,f as As,fa as Pr,l as Is,m as Ls,n as qn}from"./chunk-H6ILHDLW.js";import{a as I}from"./chunk-7X4NV6OJ.js";import{f as A,h as d,m as Buffer,n as u}from"./chunk-3KENBVE7.js";d();u();var de=A(I());d();u();var Zr=A(I(),1),ir=A(I(),1),Ft=A(I(),1);d();u();var Lu={data:""},Bu=e=>typeof self=="object"?((e?e.querySelector("#_goober"):self._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Lu;var Fu=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Du=/\/\*[^]*?\*\/|  +/g,Tc=/\n+/g,Kt=(e,t)=>{let o="",r="",n="";for(let i in e){let s=e[i];i[0]=="@"?i[1]=="i"?o=i+" "+s+";":r+=i[1]=="f"?Kt(s,i):i+"{"+Kt(s,i[1]=="k"?"":t)+"}":typeof s=="object"?r+=Kt(s,t?t.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Kt.p?Kt.p(i,s):i+":"+s+";")}return o+(t&&n?t+"{"+n+"}":n)+r},Bt={},Cc=e=>{if(typeof e=="object"){let t="";for(let o in e)t+=o+Cc(e[o]);return t}return e},Mu=(e,t,o,r,n)=>{let i=Cc(e),s=Bt[i]||(Bt[i]=(c=>{let l=0,p=11;for(;l<c.length;)p=101*p+c.charCodeAt(l++)>>>0;return"go"+p})(i));if(!Bt[s]){let c=i!==e?e:(l=>{let p,m,f=[{}];for(;p=Fu.exec(l.replace(Du,""));)p[4]?f.shift():p[3]?(m=p[3].replace(Tc," ").trim(),f.unshift(f[0][m]=f[0][m]||{})):f[0][p[1]]=p[2].replace(Tc," ").trim();return f[0]})(e);Bt[s]=Kt(n?{["@keyframes "+s]:c}:c,o?"":"."+s)}let a=o&&Bt.g?Bt.g:null;return o&&(Bt.g=Bt[s]),((c,l,p,m)=>{m?l.data=l.data.replace(m,c):l.data.indexOf(c)===-1&&(l.data=p?c+l.data:l.data+c)})(Bt[s],t,r,a),s},Nu=(e,t,o)=>e.reduce((r,n,i)=>{let s=t[i];if(s&&s.call){let a=s(o),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=c?"."+c:a&&typeof a=="object"?a.props?"":Kt(a,""):a===!1?"":a}return r+n+(s??"")},"");function nr(e){let t=this||{},o=e.call?e(t.p):e;return Mu(o.unshift?o.raw?Nu(o,[].slice.call(arguments,1),t.p):o.reduce((r,n)=>Object.assign(r,n&&n.call?n(t.p):n),{}):o,Bu(t.target),t.g,t.o,t.k)}var Pc,di,ui,dh=nr.bind({g:1}),Ge=nr.bind({k:1});function Ec(e,t,o,r){Kt.p=t,Pc=e,di=o,ui=r}function Ze(e,t){let o=this||{};return function(){let r=arguments;function n(i,s){let a=Object.assign({},i),c=a.className||n.className;o.p=Object.assign({theme:di&&di()},a),o.o=/ *go\d+/.test(c),a.className=nr.apply(o,r)+(c?" "+c:""),t&&(a.ref=s);let l=e;return e[0]&&(l=a.as||e,delete a.as),ui&&l[0]&&ui(a),Pc(l,a)}return t?t(n):n}}var mo=A(I(),1);var qt=A(I(),1),Ou=e=>typeof e=="function",Xr=(e,t)=>Ou(e)?e(t):e,_u=(()=>{let e=0;return()=>(++e).toString()})(),Ac=(()=>{let e;return()=>{if(e===void 0&&typeof self<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Uu=20,Gr=new Map,$u=1e3,kc=e=>{if(Gr.has(e))return;let t=setTimeout(()=>{Gr.delete(e),fo({type:4,toastId:e})},$u);Gr.set(e,t)},Vu=e=>{let t=Gr.get(e);t&&clearTimeout(t)},pi=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Uu)};case 1:return t.toast.id&&Vu(t.toast.id),{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:o}=t;return e.toasts.find(i=>i.id===o.id)?pi(e,{type:1,toast:o}):pi(e,{type:0,toast:o});case 3:let{toastId:r}=t;return r?kc(r):e.toasts.forEach(i=>{kc(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let n=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+n}))}}},Qr=[],Yr={toasts:[],pausedAt:void 0},fo=e=>{Yr=pi(Yr,e),Qr.forEach(t=>{t(Yr)})},Ru={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zu=(e={})=>{let[t,o]=(0,Zr.useState)(Yr);(0,Zr.useEffect)(()=>(Qr.push(o),()=>{let n=Qr.indexOf(o);n>-1&&Qr.splice(n,1)}),[t]);let r=t.toasts.map(n=>{var i,s;return{...e,...e[n.type],...n,duration:n.duration||((i=e[n.type])==null?void 0:i.duration)||e?.duration||Ru[n.type],style:{...e.style,...(s=e[n.type])==null?void 0:s.style,...n.style}}});return{...t,toasts:r}},Hu=(e,t="blank",o)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...o,id:o?.id||_u()}),sr=e=>(t,o)=>{let r=Hu(t,e,o);return fo({type:2,toast:r}),r.id},Te=(e,t)=>sr("blank")(e,t);Te.error=sr("error");Te.success=sr("success");Te.loading=sr("loading");Te.custom=sr("custom");Te.dismiss=e=>{fo({type:3,toastId:e})};Te.remove=e=>fo({type:4,toastId:e});Te.promise=(e,t,o)=>{let r=Te.loading(t.loading,{...o,...o?.loading});return e.then(n=>(Te.success(Xr(t.success,n),{id:r,...o,...o?.success}),n)).catch(n=>{Te.error(Xr(t.error,n),{id:r,...o,...o?.error})}),e};var Wu=(e,t)=>{fo({type:1,toast:{id:e,height:t}})},ju=()=>{fo({type:5,time:Date.now()})},Ku=e=>{let{toasts:t,pausedAt:o}=zu(e);(0,ir.useEffect)(()=>{if(o)return;let i=Date.now(),s=t.map(a=>{if(a.duration===1/0)return;let c=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(c<0){a.visible&&Te.dismiss(a.id);return}return setTimeout(()=>Te.dismiss(a.id),c)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[t,o]);let r=(0,ir.useCallback)(()=>{o&&fo({type:6,time:Date.now()})},[o]),n=(0,ir.useCallback)((i,s)=>{let{reverseOrder:a=!1,gutter:c=8,defaultPosition:l}=s||{},p=t.filter(y=>(y.position||l)===(i.position||l)&&y.height),m=p.findIndex(y=>y.id===i.id),f=p.filter((y,g)=>g<m&&y.visible).length;return p.filter(y=>y.visible).slice(...a?[f+1]:[0,f]).reduce((y,g)=>y+(g.height||0)+c,0)},[t]);return{toasts:t,handlers:{updateHeight:Wu,startPause:ju,endPause:r,calculateOffset:n}}},qu=Ge`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ju=Ge`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gu=Ge`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Qu=Ze("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ju} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gu} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Yu=Ge`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Xu=Ze("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Yu} 1s linear infinite;
`,Zu=Ge`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ep=Ge`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tp=Ze("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ep} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,op=Ze("div")`
  position: absolute;
`,rp=Ze("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,np=Ge`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ip=Ze("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${np} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sp=({toast:e})=>{let{icon:t,type:o,iconTheme:r}=e;return t!==void 0?typeof t=="string"?mo.createElement(ip,null,t):t:o==="blank"?null:mo.createElement(rp,null,mo.createElement(Xu,{...r}),o!=="loading"&&mo.createElement(op,null,o==="error"?mo.createElement(Qu,{...r}):mo.createElement(tp,{...r})))},ap=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,cp=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,lp="0%{opacity:0;} 100%{opacity:1;}",dp="0%{opacity:1;} 100%{opacity:0;}",up=Ze("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pp=Ze("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mp=(e,t)=>{let o=e.includes("top")?1:-1,[r,n]=Ac()?[lp,dp]:[ap(o),cp(o)];return{animation:t?`${Ge(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ge(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fp=Ft.memo(({toast:e,position:t,style:o,children:r})=>{let n=e.height?mp(e.position||t||"top-center",e.visible):{opacity:0},i=Ft.createElement(sp,{toast:e}),s=Ft.createElement(pp,{...e.ariaProps},Xr(e.message,e));return Ft.createElement(up,{className:e.className,style:{...n,...o,...e.style}},typeof r=="function"?r({icon:i,message:s}):Ft.createElement(Ft.Fragment,null,i,s))});Ec(qt.createElement);var yp=({id:e,className:t,style:o,onHeightUpdate:r,children:n})=>{let i=qt.useCallback(s=>{if(s){let a=()=>{let c=s.getBoundingClientRect().height;r(e,c)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return qt.createElement("div",{ref:i,className:t,style:o},n)},gp=(e,t)=>{let o=e.includes("top"),r=o?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ac()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(o?1:-1)}px)`,...r,...n}},hp=nr`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jr=16,vh=({reverseOrder:e,position:t="top-center",toastOptions:o,gutter:r,children:n,containerStyle:i,containerClassName:s})=>{let{toasts:a,handlers:c}=Ku(o);return qt.createElement("div",{style:{position:"fixed",zIndex:9999,top:Jr,left:Jr,right:Jr,bottom:Jr,pointerEvents:"none",...i},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},a.map(l=>{let p=l.position||t,m=c.calculateOffset(l,{reverseOrder:e,gutter:r,defaultPosition:t}),f=gp(p,m);return qt.createElement(yp,{id:l.id,key:l.id,onHeightUpdate:c.updateHeight,className:l.visible?hp:"",style:f},l.type==="custom"?Xr(l.message,l):n?n(l):qt.createElement(fp,{toast:l,position:p}))}))},wh=Te;d();u();var yo=A(I());var bp=3e3,xp=C.div`
  cursor: pointer;
`,Ic=({copyString:e,children:t,alignment:o})=>{let{t:r}=U(),[n,i,s]=ic(e),[a,c]=(0,yo.useState)(!1),l=r(n?"pastParticipleCopied":"accountHeaderCopyToClipboard"),p=n?"#AB9FF2":"#000",m=()=>c(!0),f=()=>c(!1),y=()=>{i(),s(!0)};return(0,yo.useEffect)(()=>{let g;return n&&(g=setTimeout(()=>{s(!1)},bp)),()=>{g&&clearTimeout(g)}},[n,s]),yo.default.createElement(Wr,{label:l,ariaLabel:l,color:p,isVisible:a,triggerParams:{onMouseEnter:m,onMouseLeave:f},alignment:o},yo.default.createElement(xp,{onClick:y},t))};d();u();var qd=A(I());d();u();d();u();d();u();var pe=A(I());d();u();var nt=A(I()),Bc=e=>nt.default.createElement(w,{flex:1,minHeight:0,alignItems:"center",height:"100%",...e}),Lc={outer:B({display:"column",flex:1,maxWidth:420,minHeight:0,overflow:"auto"}),inner:B({alignItems:"center",display:"column",flexGrow:1,gap:"screen",justifyContent:"center",paddingY:24})},Fc=(0,nt.memo)(({children:e})=>nt.default.createElement("div",{className:Lc.outer},nt.default.createElement("div",{className:Lc.inner},e))),vp=B({justifyContent:"flex-end",alignItems:"center",display:"column",width:"100%"}),Dc=(0,nt.memo)(({children:e})=>nt.default.createElement("div",{className:vp},e)),wp=B({alignItems:"center",display:"column",gap:"screen",paddingX:"screen",width:"100%"}),Mc=(0,nt.memo)(({children:e})=>nt.default.createElement("div",{className:wp},e)),Sp=B({display:"column",flex:1,paddingTop:2,gap:4,paddingRight:2}),Nc=(0,nt.memo)(({children:e})=>nt.default.createElement("div",{className:Sp},e));var Cp=({title:e,description:t,icon:o})=>pe.default.createElement(w,{direction:"row",gap:12},o,pe.default.createElement(Nc,null,e&&pe.default.createElement(F,{font:t?"bodySemibold":"body"},e),t&&pe.default.createElement(F,{paddingTop:1,color:e?"textSecondary":"textPrimary",font:e?"caption":"body"},t))),mi=pe.default.memo(({image:e,title:t,items:o,primaryButton:{analyticsEvent:r,onAction:n,...i},secondaryButton:s,onDisplay:a,displayEvent:c,footer:l,onDismiss:p,mobileTitleSheetInset:m,...f})=>{let y=Ve();(0,pe.useEffect)(()=>{a&&a(),y.capture(c.event,c.payload)},[]);let g=(0,pe.useCallback)(()=>{n(),r&&y.capture(r.event,r.payload)},[r,n,y]),{analyticsEvent:b,onAction:v,...S}=(0,pe.useMemo)(()=>s||{analyticsEvent:void 0,onAction:void 0},[s]),E=(0,pe.useCallback)(()=>{v&&(v(),b&&y.capture(b.event,b.payload))},[b,v,y]),P="children"in S&&S.children;return(0,pe.useLayoutEffect)(()=>()=>p?.(),[p]),pe.default.createElement(Bc,{paddingTop:m?56:0,...f},pe.default.createElement(Fc,null,pe.default.createElement(Dc,null,e),pe.default.createElement(Mc,null,pe.default.createElement(F,{font:"heading4Bold",align:"center",maxWidth:320,width:"100%"},t),o.map(_=>pe.default.createElement(Cp,{..._,key:_.key})))),pe.default.createElement(St,{padded:!0,type:"solid",direction:"column",...l,...l?.checkbox&&{...l.checkbox,label:{...l.checkbox?.label,font:void 0}}},pe.default.createElement(pe.default.Fragment,null,l?.direction==="row"&&P&&pe.default.createElement(w,{onPress:E,asChild:!0},pe.default.createElement(Je,{theme:"secondary",...S})),pe.default.createElement(w,{onPress:g,asChild:!0},pe.default.createElement(Je,{theme:"primary",...i,"data-testid":i.testID})),["column",void 0].includes(l?.direction)&&P&&pe.default.createElement(w,{onPress:E,asChild:!0},pe.default.createElement(Je,{theme:"transparent",...S,"data-testid":S.testID})))))});var h=A(I());d();u();var O=A(I()),Gc=A(Es());d();u();var Mo=A(I(),1);d();u();var $c=typeof self<"u"?Mo.default.useLayoutEffect:()=>{};function en(...e){return(...t)=>{for(let o of e)typeof o=="function"&&o(...t)}}var ar=new Map,Oc=new Set;function _c(){if(typeof self>"u")return;let e=o=>{let r=ar.get(o.target);r||(r=new Set,ar.set(o.target,r),o.target.addEventListener("transitioncancel",t)),r.add(o.propertyName)},t=o=>{let r=ar.get(o.target);if(r&&(r.delete(o.propertyName),r.size===0&&(o.target.removeEventListener("transitioncancel",t),ar.delete(o.target)),ar.size===0)){for(let n of Oc)n();Oc.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?_c():document.addEventListener("DOMContentLoaded",_c));function fi(e){for(Uc(e)&&(e=e.parentElement);e&&!Uc(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function Uc(e){let t=self.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}var Gh=typeof self<"u"&&self.visualViewport;function yi(e){var t;return typeof self<"u"&&self.navigator!=null?e.test(((t=self.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||self.navigator.platform):!1}function Pp(){return yi(/^Mac/i)}function Ep(){return yi(/^iPhone/i)}function kp(){return yi(/^iPad/i)||Pp()&&navigator.maxTouchPoints>1}function Vc(){return Ep()||kp()}function mt(){return mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},mt.apply(this,arguments)}function No(e,t){if(e==null)return{};var o={},r=Object.keys(e),n,i;for(i=0;i<r.length;i++)n=r[i],!(t.indexOf(n)>=0)&&(o[n]=e[n]);return o}var Rc="calc(100% - env(safe-area-inset-top) - 34px)",Qc=typeof self>"u",Ap={ease:"easeOut",duration:.2},Ip={ease:"linear",duration:.01},Lp=.6,Bp=500;function zc(e,t){for(var o=e[0],r=Math.abs(e[0]-t),n=1;n<e.length;n++){var i=Math.abs(e[n]-t);i<r&&(o=e[n],r=i)}return o}function Fp(e){var t=document.querySelector("body"),o=document.querySelector("#"+e);if(o){var r=24,n=self.innerHeight,i=(n-r)/n;t.style.backgroundColor="#000",o.style.overflow="hidden",o.style.willChange="transform",o.style.transition="transform 200ms ease-in-out, border-radius 200ms linear",o.style.transform="translateY(calc(env(safe-area-inset-top) + "+r/2+"px)) scale("+i+")",o.style.borderTopRightRadius="10px",o.style.borderTopLeftRadius="10px"}}function Hc(e){var t=document.querySelector("body"),o=document.getElementById(e);function r(){o.style.removeProperty("overflow"),o.style.removeProperty("will-change"),o.style.removeProperty("transition"),t.style.removeProperty("background-color"),o.removeEventListener("transitionend",r)}o&&(o.style.removeProperty("border-top-right-radius"),o.style.removeProperty("border-top-left-radius"),o.style.removeProperty("transform"),o.addEventListener("transitionend",r))}function Dp(e){for(var t=0;t<e.length;t++)if(e[t+1]>e[t])return!1;return!0}function Wc(e){var t=e.snapTo,o=e.sheetHeight;return t<0&&console.warn("Snap point is out of bounds. Sheet height is "+o+" but snap point is "+(o+Math.abs(t))+"."),Math.max(Math.round(t),0)}function Mp(e){return function(t){e.forEach(function(o){typeof o=="function"?o(t):o&&(o.current=t)})}}function Np(){return typeof self>"u"?!1:"ontouchstart"in self||navigator.maxTouchPoints>0}var bi=Qc?O.useEffect:O.useLayoutEffect;function Op(e,t){var o=Yc(e);(0,O.useEffect)(function(){t&&!o&&e?Fp(t):t&&!e&&o&&Hc(t)},[e,o]),(0,O.useEffect)(function(){return function(){t&&e&&Hc(t)}},[e])}function _p(e,t){var o=Yc(e),r=(0,O.useRef)(!1),n=(0,O.useCallback)(function(){r.current?(t.current.onCloseEnd==null||t.current.onCloseEnd(),r.current=!1):(t.current.onOpenEnd==null||t.current.onOpenEnd(),r.current=!0)},[e,o]);return(0,O.useEffect)(function(){!o&&e?t.current.onOpenStart==null||t.current.onOpenStart():!e&&o&&(t.current.onCloseStart==null||t.current.onCloseStart())},[e,o]),{handleAnimationComplete:n}}function Up(){var e=(0,O.useState)(0),t=e[0],o=e[1];return bi(function(){var r=function(){return o(self.innerHeight)};return self.addEventListener("resize",r),r(),function(){return self.removeEventListener("resize",r)}},[]),t}function Yc(e){var t=(0,O.useRef)();return(0,O.useEffect)(function(){t.current=e}),t.current}function jc(e){var t=(0,O.useRef)();return bi(function(){t.current=e}),(0,O.useCallback)(function(){for(var o=t.current,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return o?.apply(void 0,n)},[])}var Xc=(0,O.createContext)(void 0),on=function(){var t=(0,O.useContext)(Xc);if(!t)throw Error("Sheet context error");return t},Zc=(0,O.createContext)(void 0);function $p(e){var t=e.children,o=on(),r=(0,O.useState)(!!o.disableDrag),n=r[0],i=r[1];function s(){o.disableDrag||i(!1)}function a(){n||i(!0)}return(0,O.createElement)(Zc.Provider,{value:{disableDrag:n,setDragEnabled:s,setDragDisabled:a}},t)}var el=function(){var t=(0,O.useContext)(Zc);if(!t)throw Error("Sheet scroller context error");return t},gi=typeof self<"u"&&self.visualViewport,Vp=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),tn=0,hi;function Rp(e){e===void 0&&(e={});var t=e,o=t.isDisabled;$c(function(){if(!o)return tn++,tn===1&&(Vc()?hi=Hp():hi=zp()),function(){tn--,tn===0&&hi()}},[o])}function zp(){return en(lr(document.documentElement,"paddingRight",self.innerWidth-document.documentElement.clientWidth+"px"),lr(document.documentElement,"overflow","hidden"))}function Hp(){var e,t=0,o=function(f){e=fi(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=function(f){if(e===document.documentElement||e===document.body){f.preventDefault();return}var y=f.changedTouches[0].pageY,g=e.scrollTop,b=e.scrollHeight-e.clientHeight;b!==0&&((g<=0&&y>t||g>=b&&y<t)&&f.preventDefault(),t=y)},n=function(f){var y=f.target;qc(y)&&y!==document.activeElement&&(f.preventDefault(),y.style.transform="translateY(-2000px)",y.focus(),requestAnimationFrame(function(){y.style.transform=""}))},i=function(f){var y=f.target;qc(y)&&(y.style.transform="translateY(-2000px)",requestAnimationFrame(function(){y.style.transform="",gi&&(gi.height<self.innerHeight?requestAnimationFrame(function(){Kc(y)}):gi.addEventListener("resize",function(){return Kc(y)},{once:!0}))}))},s=function(){self.scrollTo(0,0)},a=self.pageXOffset,c=self.pageYOffset,l=en(lr(document.documentElement,"paddingRight",self.innerWidth-document.documentElement.clientWidth+"px"),lr(document.documentElement,"overflow","hidden"),lr(document.body,"marginTop","-"+c+"px"));self.scrollTo(0,0);var p=en(cr(document,"touchstart",o,{passive:!1,capture:!0}),cr(document,"touchmove",r,{passive:!1,capture:!0}),cr(document,"touchend",n,{passive:!1,capture:!0}),cr(document,"focus",i,!0),cr(self,"scroll",s));return function(){l(),p(),self.scrollTo(a,c)}}function lr(e,t,o){var r=e.style[t];return e.style[t]=o,function(){e.style[t]=r}}function cr(e,t,o,r){return e.addEventListener(t,o,r),function(){e.removeEventListener(t,o,r)}}function Kc(e){for(var t=document.scrollingElement||document.documentElement;e&&e!==t;){var o=fi(e);if(o!==document.documentElement&&o!==document.body&&o!==e){var r=o.getBoundingClientRect().top,n=e.getBoundingClientRect().top;n>r+e.clientHeight&&(o.scrollTop+=n-r)}e=o.parentElement}}function qc(e){return e instanceof HTMLInputElement&&!Vp.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var Dt={wrapper:{position:"fixed",top:0,bottom:0,left:0,right:0,overflow:"hidden",pointerEvents:"none"},backdrop:{zIndex:1,position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",touchAction:"none",border:"none"},container:{zIndex:2,position:"absolute",left:0,bottom:0,width:"100%",backgroundColor:"#fff",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxShadow:"0px -2px 16px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",pointerEvents:"auto"},headerWrapper:{width:"100%"},header:{height:"40px",width:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},indicator:{width:"18px",height:"4px",borderRadius:"99px",backgroundColor:"#ddd"},content:{flexGrow:1,display:"flex",flexDirection:"column",minHeight:"0px",position:"relative"},scroller:{height:"100%",overflowY:"auto"}},Wp=(0,O.forwardRef)(function(e,t){var o=e.onOpenStart,r=e.onOpenEnd,n=e.onClose,i=e.onCloseStart,s=e.onCloseEnd,a=e.onSnap,c=e.children,l=e.isOpen,p=e.snapPoints,m=e.rootId,f=e.mountPoint,y=e.style,g=e.detent,b=g===void 0?"full-height":g,v=e.initialSnap,S=v===void 0?0:v,E=e.disableDrag,P=E===void 0?!1:E,_=e.prefersReducedMotion,N=_===void 0?!1:_,j=e.tweenConfig,D=j===void 0?Ap:j,X=No(e,["onOpenStart","onOpenEnd","onClose","onCloseStart","onCloseEnd","onSnap","children","isOpen","snapPoints","rootId","mountPoint","style","detent","initialSnap","disableDrag","prefersReducedMotion","tweenConfig"]),$=(0,O.useRef)(null),K=Zo(0),T=Up(),k=Xa(),Q=!!(N||k),R=mt({type:"tween"},Q?Ip:D),H=Zo(0),se=er(H,function(re){return re>=T?-1:9999999}),ae=er(H,function(re){return re>=T?"hidden":"visible"}),le=(0,O.useRef)({onOpenStart:o,onOpenEnd:r,onCloseStart:i,onCloseEnd:s});bi(function(){le.current={onOpenStart:o,onOpenEnd:r,onCloseStart:i,onCloseEnd:s}}),p&&(p=p.map(function(re){return re>0&&re<=1?Math.round(re*T):re<0?T+re:re}),console.assert(Dp(p)||T===0,"Snap points need to be in descending order got: ["+p+"]"));var M=jc(function(re,Be){var $e=Be.delta,Le=H.getVelocity();Le>0&&K.set(10),Le<0&&K.set(-10),H.set(Math.max(H.get()+$e.y,0))}),ue=jc(function(re,Be){var $e=Be.velocity;if($e.y>Bp)n();else{var Le=$.current,Fe=Le.getBoundingClientRect().height,Ue=H.get(),ct=0;if(p){var no=p.map(function(Sr){return Fe-Math.min(Sr,Fe)});b==="content-height"&&!no.includes(0)&&no.unshift(0),ct=zc(no,Ue)}else Ue/Fe>Lp&&(ct=Fe);if(ct=Wc({snapTo:ct,sheetHeight:Fe}),si(H,ct,R),p&&a){var vr=Math.abs(Math.round(p[0]-ct)),wr=p.indexOf(zc(p,vr));a(wr)}var ot=Math.round(Fe),Ht=ct>=ot;Ht&&n()}K.set(0)});(0,O.useEffect)(function(){if(!(!p||!a)){var re=l?S:p.length-1;a(re)}},[l]),(0,O.useImperativeHandle)(t,function(){return{y:H,snapTo:function(Be){var $e=$.current;if(p&&p[Be]!==void 0&&$e!==null){var Le=$e.getBoundingClientRect().height,Fe=p[Be],Ue=Wc({snapTo:Le-Fe,sheetHeight:Le});si(H,Ue,R),a&&a(Be),Ue>=Le&&n()}}}}),Op(l,m),Rp({isDisabled:!l});var ye=(0,O.useMemo)(function(){var re={drag:"y",dragElastic:0,dragConstraints:{top:0,bottom:0},dragMomentum:!1,dragPropagation:!1,onDrag:M,onDragEnd:ue};return P?void 0:re},[P]),ce={y:H,sheetRef:$,isOpen:l,initialSnap:S,snapPoints:p,detent:b,indicatorRotation:K,callbacks:le,dragProps:ye,windowHeight:T,animationOptions:R,reduceMotion:Q,disableDrag:P},q=(0,O.createElement)(Xc.Provider,{value:ce},(0,O.createElement)(De.div,Object.assign({},X,{ref:t,style:mt({},Dt.wrapper,{zIndex:se,visibility:ae},y)}),(0,O.createElement)(uo,null,l?(0,O.createElement)($p,null,O.Children.map(c,function(re,Be){return(0,O.cloneElement)(re,{key:"sheet-child-"+Be})})):null)));return Qc?q:(0,Gc.createPortal)(q,f??document.body)}),jp=(0,O.forwardRef)(function(e,t){var o=e.children,r=e.style,n=r===void 0?{}:r,i=e.className,s=i===void 0?"":i,a=No(e,["children","style","className"]),c=on(),l=c.y,p=c.isOpen,m=c.callbacks,f=c.snapPoints,y=c.initialSnap,g=y===void 0?0:y,b=c.sheetRef,v=c.windowHeight,S=c.detent,E=c.animationOptions,P=c.reduceMotion,_=_p(p,m),N=_.handleAnimationComplete,j=f?f[0]-f[g]:0,D=f?f[0]:null,X=D!==null?"min("+D+"px, "+Rc+")":Rc;return(0,O.createElement)(De.div,Object.assign({},a,{ref:Mp([b,t]),className:"react-modal-sheet-container "+s,style:mt({},Dt.container,n,S==="full-height"&&{height:X},S==="content-height"&&{maxHeight:X},{y:l}),initial:P?!1:{y:v},animate:{y:j,transition:E},exit:{y:v,transition:E},onAnimationComplete:N}),o)}),Kp=(0,O.forwardRef)(function(e,t){var o=e.children,r=e.style,n=e.disableDrag,i=e.className,s=i===void 0?"":i,a=No(e,["children","style","disableDrag","className"]),c=on(),l=el(),p=n||l.disableDrag?void 0:c.dragProps;return(0,O.createElement)(De.div,Object.assign({},a,{ref:t,className:"react-modal-sheet-content "+s,style:mt({},Dt.content,r)},p),o)}),qp=(0,O.forwardRef)(function(e,t){var o=e.children,r=e.style,n=e.disableDrag,i=No(e,["children","style","disableDrag"]),s=on(),a=s.indicatorRotation,c=s.dragProps,l=n?void 0:c,p=er(a,function(f){return"translateX(2px) rotate("+f+"deg)"}),m=er(a,function(f){return"translateX(-2px) rotate("+-1*f+"deg)"});return(0,O.createElement)(De.div,Object.assign({},i,{ref:t,style:mt({},Dt.headerWrapper,r)},l),o||(0,O.createElement)("div",{className:"react-modal-sheet-header",style:Dt.header},(0,O.createElement)(De.span,{className:"react-modal-sheet-drag-indicator",style:mt({},Dt.indicator,{transform:p})}),(0,O.createElement)(De.span,{className:"react-modal-sheet-drag-indicator",style:mt({},Dt.indicator,{transform:m})})))}),Jc=function(t){return!!t.onClick||!!t.onTap},Jp=(0,O.forwardRef)(function(e,t){var o=e.style,r=o===void 0?{}:o,n=e.className,i=n===void 0?"":n,s=No(e,["style","className"]),a=Jc(s)?De.button:De.div,c=Jc(s)?"auto":"none";return(0,O.createElement)(a,Object.assign({},s,{ref:t,className:"react-modal-sheet-backdrop "+i,style:mt({},Dt.backdrop,r,{pointerEvents:c}),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}))}),Gp=(0,O.forwardRef)(function(e,t){var o=e.draggableAt,r=o===void 0?"top":o,n=e.children,i=e.style,s=e.className,a=s===void 0?"":s,c=No(e,["draggableAt","children","style","className"]),l=el();function p(g){var b=g.scrollTop,v=g.scrollHeight,S=g.clientHeight,E=v>S;if(E){var P=b<=0,_=v-b===S,N=r==="top"&&P||r==="bottom"&&_||r==="both"&&(P||_);N?l.setDragEnabled():l.setDragDisabled()}}function m(g){p(g.currentTarget)}function f(g){p(g.currentTarget)}var y=Np()?{onScroll:m,onTouchStart:f}:void 0;return(0,O.createElement)("div",Object.assign({},c,{ref:t,className:"react-modal-sheet-scroller "+a,style:mt({},Dt.scroller,i)},y),n)}),Oo=Wp;Oo.Container=jp;Oo.Header=qp;Oo.Content=Kp;Oo.Backdrop=Jp;Oo.Scroller=Gp;var go=Oo;d();u();var Re=A(I());d();u();var it=A(I());var Qp={small:16,regular:22},Yp=C.section`
  z-index: 1;
  background-color: #222222;
  padding: 10px 16px;
  display: flex;
  flex-shrink: 0;
  flex-direction: row;
  align-items: center;
  justify-content: ${e=>e.justifyContent};
  backdrop-filter: blur(10px);
  border-bottom: 1px solid #323232;
  height: ${e=>e.height}px;
  width: 100%;
`;Yp.defaultProps={justifyContent:"center",height:Nr};var Xp=C(Z).attrs({size:16,weight:500,lineHeight:25})``;Xp.defaultProps={maxWidth:"280px",noWrap:!0};var Zp=C.div`
  display: flex;
  flex-shrink: 0;
  justify-content: center;
  align-items: center;
  padding-bottom: 17px;
  position: relative;
  width: 100%;
`,em=C(tc)`
  position: absolute;
  right: 0;
`,tm=C(Ur)`
  position: absolute;
  left: 0;
`,rn=({children:e,shouldWrap:t,leftButton:o,dropdown:r,titleSize:n="regular"})=>{let i=(0,it.useMemo)(()=>{if(!o)return it.default.createElement("div",null);let a=o.type==="back"?"header--back":"header--close",c=o.type==="back"?it.default.createElement(Qa,null):it.default.createElement(Or,null);return it.default.createElement(tm,{"data-testid":a,onClick:o.onClick},c)},[o]),s=(r?.sections?.length??0)>0||(r?.items?.length??0)>0;return it.default.createElement(Zp,null,i,it.default.createElement(Z,{weight:500,size:Qp[n],noWrap:!t,maxWidth:"280px"},e),r&&(s||r.onIconClick)?it.default.createElement(em,{sections:r.sections,items:r.items,icon:r.icon||it.default.createElement(Ja,null),onIconClick:r?.onIconClick}):it.default.createElement("div",null))};var tl=({id:e,prompt:t,options:o,context:r,onClose:n})=>{let[i,s]=(0,Re.useState)(""),a=(0,Re.useCallback)(()=>{he.capture("issueReportedByUser",{data:{selected:i,key:e,context:r,options:o.map(l=>l.key)}}),n()},[i,e,o,r,n]),c=o.map(({key:l})=>({type:"check",id:l,topLeft:ee.t(l),onClick:()=>s(l),active:i===l}));return Re.default.createElement("div",null,Re.default.createElement("div",{className:nn.wrapper},Re.default.createElement(rn,{leftButton:{type:"close",onClick:n}},ee.t("reportIssueScreenTitle")),Re.default.createElement("div",{className:nn.table},Re.default.createElement("div",{className:nn.prompt},Re.default.createElement(F,{children:t,font:"title1"})),Re.default.createElement(Wt,{rows:c}))),Re.default.createElement(pt,null,Re.default.createElement("div",{className:nn.button},Re.default.createElement(ec,{buttons:[{text:ee.t("commandSend"),onClick:a,disabled:i==="",theme:"primary"}]}))))},nn={wrapper:B({padding:16,backgroundColor:"bgWallet",height:"100%"}),prompt:B({paddingY:16}),table:B({height:"100%",borderRadius:"table",overflowY:"scroll"}),button:B({paddingX:16,paddingBottom:8})};d();u();var ft=A(I()),ol=A(Es());var om=C(De.div)`
  width: 100%;
  height: ${e=>`calc(100% - ${e.headerHeight}px)`};
  margin: 0;
  padding: ${e=>(e.headerHeight??0)>0?"16px":"0"};
  background: #222;
  top: ${e=>e.headerHeight}px;
  position: absolute;
  z-index: ${e=>e.zIndex};
`,rm=C(De.div)`
  width: 100%;
  height: ${e=>`calc(100% - ${e.headerHeight}px)`};
  margin: 0;
  background: #000000;
  top: ${e=>e.headerHeight}px;
  position: absolute;
  z-index: ${e=>e.zIndex};
`;function nm(e){return e==="slideUpFromBottom"?{initial:{y:self.innerHeight},animate:{y:0},exit:{y:self.innerHeight},transition:{ease:"easeOut",duration:.3}}:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeOut",duration:.1}}}var im=({children:e,isFullScreen:t,isOpen:o,animateOnFirstRender:r,presentationStyle:n="slideUpFromBottom",headerHeight:i=Nr})=>{let s=nm(n);return ft.default.createElement(uo,{initial:r},o&&ft.default.createElement(ft.default.Fragment,null,ft.default.createElement(rm,{zIndex:t?3:0,headerHeight:i,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"linear",duration:.3}}),ft.default.createElement(om,{zIndex:t?Ra:0,headerHeight:i,...s},e)))},rl=({modalId:e=Va,...t})=>{let[o,r]=(0,ft.useState)();return(0,ft.useEffect)(()=>{let n;return e&&(n=setTimeout(()=>{let i=document.getElementById(e);if(!i)throw new Error(`Could not find node with id ${e}`);r(i)},200)),()=>{n&&clearTimeout(n)}},[e]),o?(0,ol.createPortal)(ft.default.createElement(im,{...t}),o):null};d();u();var fe=A(I());var sn=24,sm=C.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  position: relative;
  z-index: 9999;
`,am=C(Ur)`
  left: 16px;
  position: absolute;
`,cm=C.div`
  align-items: center;
  border-bottom: 1px solid #323232;
  display: flex;
  height: 46px;
  padding: 16px;
`,lm=C.div`
  display: flex;
  flex: 1;
  justify-content: center;
`,dm=C(Z).attrs({size:16,weight:500,lineHeight:25})``,um=C.div`
  display: flex;
  flex: 1;
  flex-direction: column;
  overflow-y: scroll;
  padding: ${e=>e.alignBody==="center"?"16px 16px 0 16px":"16px"};
  justify-content: ${e=>e.alignBody==="center"?"flex-start":"top"};
  align-items: center;
`,pm=C(Z).attrs({size:22,weight:600})`
  align-self: center;
  line-height: normal;
  max-width: 85%;
`,mm=C(ai).attrs({color:ci.grayLight,size:16})`
  align-self: center;
  line-height: normal;
  margin-top: 8px;
  max-width: 85%;
`,fm=C.img`
  align-self: center;
  margin-bottom: 16px;
  max-width: 400px;
  max-height: 140px;
`,ym=C.div`
  margin-bottom: 16px;
  text-align: center;
`,gm=C.div`
  margin: 20px 9px 48px;
`,hm=C.div`
  display: flex;
  margin-bottom: 15px;
`,bm=C(Z).attrs({size:16,weight:500,textAlign:"left"})``,xm=C(Z).attrs({color:"#999",size:14,textAlign:"left",lineHeight:20})``,vm=C.div`
  height: ${sn}px;
  width: ${sn}px;
  flex-shrink: 0;
  margin-top: 3px;
  margin-right: 14px;
`,wm=C(pt)`
  height: auto;
  margin: 0;
`,Sm=C.a.attrs({target:"_blank",rel:"noopener noreferrer"})`
  color: ${e=>e.theme.purple};
  text-decoration: none;
  cursor: pointer;
`,Tm=C(ai).attrs({color:ci.grayLight,size:14})`
  align-self: center;
  line-height: normal;
  margin-bottom: 16px;
  max-width: 100%;
`,Cm=({icon:e,title:t,subtitle:o})=>fe.default.createElement(hm,null,fe.default.createElement(vm,null,typeof e=="string"?fe.default.createElement("img",{src:e,width:sn,height:sn}):e),fe.default.createElement("div",null,fe.default.createElement(bm,null,t),fe.default.createElement(xm,null,o))),nl=e=>{let{handleHideModalVisibility:t}=ne(),{bodyTitle:o,bodyDescription:r,details:n,icon:i,onDismiss:s,headerTitle:a,FooterComponent:c,alignBody:l="top",footerNotei18nKey:p,footerNoteLink:m}=e,f=(0,fe.useCallback)(()=>{t("interstitial")},[t]),y=(0,fe.useCallback)(()=>{s?.(),f()},[f,s]);return fe.default.createElement(sm,null,fe.default.createElement(cm,{onClick:y},fe.default.createElement(am,null,fe.default.createElement(Or,null)),fe.default.createElement(lm,null,fe.default.createElement(dm,null,a))),fe.default.createElement(um,{alignBody:l},typeof i=="string"?fe.default.createElement(fm,{src:i}):fe.default.createElement(ym,null,i),fe.default.createElement(pm,null,o),r&&typeof r=="string"?fe.default.createElement(mm,null,r):r,n&&fe.default.createElement(gm,null,n.map(g=>fe.default.createElement(Cm,{key:g.title,...g})))),c&&fe.default.createElement(wm,{removeFooterExpansion:!0},p&&m&&fe.default.createElement(Tm,null,fe.default.createElement(oc,{i18nKey:p},"Our Privacy Policy has changed. ",fe.default.createElement(Sm,{href:m},"Learn More"))),fe.default.createElement(c,null)))};d();u();var il=C(go)`
  .react-modal-sheet-backdrop {
    /* custom styles */
  }
  .react-modal-sheet-container {
    background-color: rgb(34, 34, 34) !important;
  }
  .react-modal-sheet-header {
    /* custom styles */
  }
  .react-modal-sheet-drag-indicator {
    /* custom styles */
  }
  .react-modal-sheet-content {
    margin: 0 15px 15px;
  }
`,sl=C.div`
  height: 15px;
`;d();u();var st=A(I());d();u();var z=A(I());d();u();var Jt=A(I()),al=({children:e,loadNext:t,hasNext:o,isLoadingNext:r,style:n,loadingElement:i=Jt.default.createElement(co,null)})=>{let s=(0,Jt.useRef)(null),a=(0,Jt.useCallback)(()=>{if(s.current){let{scrollTop:c,scrollHeight:l,clientHeight:p}=s.current;l-(c+p)<=1&&o&&!r&&t()}},[t,o,r]);return Jt.default.createElement("div",{className:Pm,style:n,onScroll:a,ref:s},e,r?Jt.default.createElement(w,{alignItems:"center",justifyContent:"center"},i):null)},Pm=B({display:"flex",flexDirection:"column",overflowY:"auto",gap:"list"});d();u();var an=A(I());var Em=C.div`
  padding: 16px 20px;
  background: ${e=>io(e.color,.05)};
  border: 1px solid ${e=>io(e.color,.08)};
  width: 100%;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  gap: 5px;
`,cl=24,km=C(Z).attrs({size:16,lineHeight:cl,weight:600})`
  color: ${e=>e.color};
  max-height: ${e=>e.maxLines?`${e.maxLines*cl}px`:"none"};
  overflow: ${e=>e.maxLines?"hidden":"visible"};
`,Am=C(Z).attrs({size:14,lineHeight:21})`
  color: ${e=>e.color};
`,cn=({title:e,description:t,color:o,titleMaxLines:r})=>an.default.createElement(Em,{color:o},!!e&&an.default.createElement(km,{color:o,maxLines:r},e),!!t&&an.default.createElement(Am,{color:o},t));d();u();var ln=A(I());d();u();var Mt=A(I()),ll=(0,Mt.memo)(({activityItem:{interactionData:e,chainMeta:{status:t,chainId:o},owner:r},size:n="small",onClick:i})=>{let s=(0,Mt.useMemo)(()=>{let a=t==="failed",c=(()=>{switch(e.transactionType){case"TOKEN_SEND":{let f=e.balanceChanges[0],{token:{tokenType:y,logoURI:g,symbol:b,id:v},to:S}=f,E=r.toLowerCase()===S.toLowerCase()?"receive":"send",P=ao(y)?void 0:b||kr(Ir(v)||""),_=ao(y)?"collectible":"fungible";return{badge:{type:"icon",preset:E},image:{type:_,src:g,fallback:P},onClick:i}}case"TOKEN_BURN":{let{token:{tokenType:m,logoURI:f,symbol:y,id:g}}=e,b=ao(m)?void 0:y||kr(Ir(g)||""),v=ao(m)?"collectible":"fungible";return{badge:{type:"icon",preset:"burn"},image:{type:v,src:f,fallback:b},onClick:i}}case"TOKEN_SWAP":{let{receiveToken:m,sendToken:f,dapp:y}=e;return m.logoURI&&f.logoURI&&!a?{image:{type:"swap"},tokenBuy:{src:m.logoURI},tokenSell:{src:f.logoURI},onClick:i}:{image:{type:"icon",preset:"swap"},...y&&{badge:{src:y.logoURI}}}}case"BRIDGE_INIT":return{image:{type:"icon",preset:"swap"},onClick:i};case"TOKEN_UNWRAP":{let{token:m}=e;return m.logoURI?{image:{type:"fungible",src:m.logoURI},badge:{type:"icon",preset:"receive"},onClick:i}:{image:{type:"icon",preset:"swap"},onClick:i}}case"STAKE":case"WITHDRAW_STAKE":case"DEACTIVATE_STAKE":switch(o){case Se.Solana.Devnet:case Se.Solana.Localnet:case Se.Solana.Testnet:case Se.Solana.Mainnet:return{image:{type:"fungible",preset:"sol"},badge:{type:"icon",preset:"star"},onClick:i};default:return{image:{type:"icon",preset:"star"},onClick:i}}case"COLLECTIBLE_LIST":case"COLLECTIBLE_BUY_ITEM":case"COLLECTIBLE_CANCEL_BID":case"COLLECTIBLE_BID_ITEM":case"COLLECTIBLE_UNLIST":case"COLLECTIBLE_SELL_ITEM":{let{dapp:m,item:f}=e;return f.logoURI?{image:{type:"collectible",src:f.logoURI},...m&&{badge:{src:m.logoURI}},onClick:i}:{image:{type:"dapp",src:m?.logoURI},onClick:i}}case"TOKEN_APPROVAL":{let{dapp:m,token:f}=e,y=ao(f.tokenType)?"collectible":"fungible";if(f.logoURI||!ao(f.tokenType)){let g=f.symbol||kr(Ir(f.id)||"");return{image:{type:y,src:f.logoURI,fallback:g},...m&&{badge:{src:m.logoURI}},onClick:i}}else return{image:{type:"dapp",src:m?.logoURI},onClick:i}}case"COLLECTION_APPROVAL":{let{dapp:m,collection:f}=e;return f.logoURI?{image:{type:"collectible",src:f.logoURI},...m&&{badge:{src:m.logoURI}},onClick:i}:{image:{type:"dapp",src:m?.logoURI},onClick:i}}case"CANCEL_TX":return{image:{type:"icon",preset:"x"},dimmed:!1,badge:void 0,onClick:i};case"CANCEL_ORDER":case"UNCLASSIFIED_APP_INTERACTION":default:{let{dapp:m}=e;return m?.logoURI?{image:{type:"dapp",src:m.logoURI},onClick:i}:{image:{type:"icon",preset:a?"x":"check"},dimmed:!1,badge:void 0,onClick:i}}}})(),l=c.image.type==="icon"&&c.image.preset==="x",p={...a&&!l&&{badge:{type:"icon",preset:"x"},dimmed:!0}};return{...c,...p}},[t,e,r,i,o]);return Mt.default.createElement(lo,{...s,size:ri[n]})}),dl=(0,Mt.memo)(({pendingTransactionType:e,size:t="small",logoUri:o,isError:r,isConfirmed:n})=>{let i=(0,Mt.useMemo)(()=>{let s=(()=>{switch(e){case"cancel":return{image:{type:"icon",preset:"x"}};case"send":return o?{image:{type:"fungible",src:o},badge:{type:"icon",preset:"send"}}:{image:{type:"icon",preset:"send"}};case"swap":return{image:{type:"icon",preset:"swap"}};case"createAccountAndDelegateStake":case"delegateStake":case"deactivateState":case"withdrawStake":return{image:{type:"icon",preset:"star"}};case"burn":return{image:{type:"icon",preset:"burn"}};case"dappInteraction":return o?{image:{type:"dapp",src:o}}:{image:{type:"icon",preset:"check"}};case"createListing":case"editListing":case"removeListing":return o?{image:{type:"collectible",src:o}}:{image:{type:"icon",preset:"check"}};case"unwrapSOL":return o?{image:{type:"fungible",src:o},badge:{type:"icon",preset:"receive"}}:{image:{type:"icon",preset:"check"}};case"createAssociatedTokenAccount":case"solanaPayTransaction":default:return o?{image:{type:"fungible",src:o}}:{image:{type:"icon",preset:"check"}}}})(),a=s.image.type==="icon"&&s.image.preset==="x",c={loading:!n,...r&&!a&&{badge:{type:"icon",preset:"x"},dimmed:!0}};return{...s,...c}},[n,r,o,e]);return Mt.default.createElement(lo,{...i,size:ri[t]})});var Im=({activityItem:e,onClick:t})=>{let{t:o}=U(),{getKnownAddressLabel:r}=Ks(),{data:n}=rt(),i=pa(e,o,ll,r,n?.addresses??[]);return ln.default.createElement(wt,{verticalAlign:"baseline",onClick:t,start:i.start,topLeft:i.topLeft,topRight:i.topRight,bottomLeft:i.bottomLeft,bottomRight:i.bottomRight})},dn=(0,ln.memo)(Im);d();u();var ul=A(I());var pl=({pendingTransaction:e,onClick:t})=>{let o=ma(e,dl);return ul.default.createElement(wt,{truncate:"left",onClick:t,start:o.start,topLeft:o.topLeft,topRight:o.topRight,bottomLeft:o.bottomLeft,bottomRight:o.bottomRight})};var Lm=e=>e.reduce((t,o)=>{let r=Cr((o?.timestamp??0)*1e3).format("YYYY-MM-DD");return(t[r]=t[r]||[]).push(o),t},{}),Bm=(e,t,o)=>{let r=!1,n=Lm(e),i=Object.keys(n).sort((s,a)=>a.localeCompare(s)).map(s=>{let a=Cr(s),c=Cr().diff(a,"days");r=r||c===0;let l=t("richTransactionsToday");return c>1?l=a.format("MMM D, YYYY"):c>0&&(l=t("richTransactionsYesterday")),{title:l,data:n[s]}});return o&&!r&&i.unshift({title:t("richTransactionsToday"),data:[]}),i},Fm=(e,t,o)=>{let[r,n]=(0,z.useState)(!1);(0,z.useEffect)(()=>{t&&e.current&&r&&(e.current.scrollIntoView(!1),n(!1))},[t,e,r]),(0,z.useEffect)(()=>{o&&n(!0)},[o])},dr=({header:e,pendingTransactions:t,dataPages:o,isLoading:r,fetchNextPage:n,refetch:i,hasNextPage:s,isFetchingNextPage:a,isError:c,isRefreshError:l,isRefreshingConfirmedTxs:p,isDeveloperMode:m,showActivityItemModal:f,showPendingTransactionModal:y})=>{let{t:g}=U(),b=(0,z.useRef)(null);Fm(b,c,a);let v=(0,z.useMemo)(()=>(o||[]).reduce((D,X)=>[...D,...X?.results??[]],[]),[o]),S=(0,z.useRef)(null),E=(0,z.useMemo)(()=>{let D=v.filter(X=>!(t||[]).find($=>{let K;switch($.networkID){case Se.Base.Mainnet:case Se.Base.Sepolia:case Se.Monad.Mainnet:case Se.Monad.Testnet:case Se.Monad.Devnet:case Se.Ethereum.Mainnet:case Se.Ethereum.Sepolia:case Se.Polygon.Mainnet:case Se.Polygon.Amoy:{K=$.data.transactions.some(T=>T.hash===X.chainMeta.transactionId);break}case Se.Solana.Mainnet:case Se.Solana.Testnet:case Se.Solana.Devnet:case Se.Solana.Localnet:{K=$.data.signature===X.chainMeta.transactionId;break}case Se.Bitcoin.Mainnet:case Se.Bitcoin.Testnet:{K=$.data.txID===X.chainMeta.transactionId;break}case Se.Sui.Mainnet:case Se.Sui.Testnet:{K=$.data.digest===X.chainMeta.transactionId;break}}return K}));return D.length?Bm(D,g,p):[]},[v,g,t,p]),P=!!E.length;if(!P&&!r&&!c&&!t?.length)return z.default.createElement(z.default.Fragment,null,e,z.default.createElement(tr,null,g("transactionsNoActivity")));let _=D=>{f({activityItem:D}),he.capture("activityItemDetailOpenClick",{data:{networkId:D.chainMeta.chainId,chainId:D.chainMeta.chainId,transactionType:D.interactionData.transactionType}})},N=D=>qe.isEVMNetworkID(D.networkID)||qe.isBitcoinNetworkID(D.networkID)?()=>{y?.({pendingTransactionId:D.id}),he.capture("transactionDetailOpenClick",{data:{chainID:D.networkID}})}:void 0,j=null;return c&&m?j=z.default.createElement("div",{ref:b},z.default.createElement(cn,{color:"#EB3742",title:g("activityItemsTestnetNotAvailable")})):c&&!m&&!P?j=z.default.createElement(w,{marginTop:48},z.default.createElement(Vr,{title:g("errorAndOfflineSomethingWentWrong"),description:g("errorAndOfflineUnableToFetchTransactionHistory"),buttonText:g("commandRetry"),refetch:i})):c&&!m&&P&&(j=z.default.createElement("div",{ref:b},z.default.createElement(cn,{color:"#EB3742",title:g("activityItemsPagingFailed")}))),z.default.createElement(al,{style:{margin:`-${Ne.paddingScreen}`,padding:Ne.paddingScreen},loadNext:n,hasNext:!!s,isLoadingNext:a},z.default.createElement(w,{ref:S,alignItems:"center"},e||null,z.default.createElement(w,{testID:"activity-list-transactions-container",alignItems:"stretch",overflow:"hidden",width:"100%",gap:"list"},r&&z.default.createElement(Nm,null),!r&&z.default.createElement(z.default.Fragment,null,l&&P&&z.default.createElement(cn,{color:"#EB3742",title:g("activityItemsRefreshFailed")}),z.default.createElement(uo,null,!!t?.length&&z.default.createElement(Mm,{pendingTransactions:t,onClickPendingTransaction:N})),E.map(({title:D,data:X},$)=>z.default.createElement(Dm,{key:`${D}-${$}`,title:D,activityItems:X,isLoading:$===0&&p,onClickItem:_})),j))))},Dm=({title:e,activityItems:t,isLoading:o,onClickItem:r})=>z.default.createElement(z.default.Fragment,null,z.default.createElement(ml,null,e),o&&z.default.createElement(co,null),t.map(n=>z.default.createElement(dn,{"data-testid":"activity-list-transaction-row",key:n.owner+"-"+n.id,activityItem:n,onClick:()=>r(n)}))),Mm=({pendingTransactions:e,onClickPendingTransaction:t})=>{let{t:o}=U();return z.default.createElement(De.div,{exit:{height:0,opacity:0},transition:{duration:.2}},z.default.createElement(w,{gap:"list"},z.default.createElement(ml,null,o("richTransactionDetailPending")),z.default.createElement(uo,null,e.map(r=>z.default.createElement(De.div,{key:r.ownerAddress+"-"+r.id,exit:{height:0,opacity:0},transition:{duration:.2}},z.default.createElement(pl,{pendingTransaction:r,onClick:t(r)}))))))},Nm=()=>z.default.createElement(z.default.Fragment,null,z.default.createElement(w,{marginTop:14},z.default.createElement(dt,{height:9,width:80})),[1,2,3,4].map(e=>z.default.createElement(co,{key:`fungible-token-row-loader-${e}`}))),ml=({children:e})=>z.default.createElement(F,{font:"bodyMedium",color:"textSecondary",marginTop:6},e);var fl=({isSpam:e})=>{let{t}=U(),{data:o}=rt(),[r,n]=(0,st.useMemo)(()=>{let{addresses:b=[]}=o??{};return[b,b.map(v=>Qs(v))]},[o]),i=la({accounts:n,isSpam:e}),{data:s}=ta(r);(0,st.useEffect)(()=>{s?.removedPendingTransactions&&s?.removedPendingTransactions.length>0&&i.refetch()},[s,n,e]);let{data:a=Ms,status:c}=Rs(),l=a.isDeveloperMode,p=i.isPending||c==="pending",{handleShowModalVisibility:m,handleHideModalVisibility:f}=ne(),y=(0,st.useCallback)(b=>m("activityItem",b),[m]),g=(0,st.useCallback)(b=>m("pendingTransaction",b),[m]);if(e){let b=()=>{f("spamActivity")};return st.default.createElement(dr,{dataPages:i.data?.pages,fetchNextPage:i.fetchNextPage,hasNextPage:i.hasNextPage,header:st.default.createElement(Xe,{onLeftButtonClick:b,useCloseButton:!0},t("spamActivityTitle")),isDeveloperMode:l,isError:i.isError,isFetchingNextPage:i.isFetchingNextPage,isLoading:p,isRefreshError:i.isRefetchError,isRefreshingConfirmedTxs:i.isRefetching,refetch:i.refetch,showActivityItemModal:y})}else{let b=[{label:t("recentActivityRefresh"),key:"refresh-activity",onClick:i.refetch},{label:t("spamActivityAction"),key:"view-spam-activity",onClick:()=>{m("spamActivity",void 0,{event:"showspamActivityModal"})}}];return st.default.createElement(dr,{dataPages:i.data?.pages,fetchNextPage:i.fetchNextPage,hasNextPage:i.hasNextPage,header:st.default.createElement(Xe,{items:b},t("recentActivityPrimaryText")),isDeveloperMode:l,isError:i.isError,isFetchingNextPage:i.isFetchingNextPage,isLoading:p,isRefreshError:i.isRefetchError,isRefreshingConfirmedTxs:i.isRefetching,pendingTransactions:s?.pendingTransaction||[],refetch:i.refetch,showActivityItemModal:y,showPendingTransactionModal:g})}};d();u();var be=A(I());d();u();var un=A(I()),yl=({text:e,copied:t})=>un.default.createElement(w,{direction:"row",alignItems:"center",justifyContent:"flex-end",gap:4,minWidth:96},un.default.createElement(F,{font:"caption",color:"textSecondary"},e),t&&un.default.createElement(ge.Check,{name:"check",size:12,color:"textSecondary"}));var Om=B({display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"}),gl=({accountIdentifier:e})=>{let{data:t}=$s(o=>o.find(r=>r.identifier===e));return t?be.default.createElement(w,{height:"100%"},be.default.createElement(_m,null),be.default.createElement(Um,{account:t}),be.default.createElement($m,{chainAddress:t.addresses[0]})):null},_m=()=>{let{t:e}=U(),{handleHideModalVisibility:t}=ne();return be.default.createElement(w,{direction:"row",alignItems:"center",padding:16,borderBottomWidth:1,borderBottomColor:"borderSecondary",borderBottomStyle:"solid"},be.default.createElement("div",{className:Om,onClick:()=>t("additionalNetworks")},be.default.createElement(ge.X,{size:16})),be.default.createElement(w,{justifyContent:"center",direction:"row",flex:1},be.default.createElement(F,{font:"title1"},e("additionalNetworksTitle"))))},Um=({account:e})=>{let{t}=U(),[o,r]=(0,be.useState)(null),[n,i]=(0,be.useState)(null),s=zs(e.addresses),a=Hs(s),c=(0,be.useMemo)(()=>s.map((p,m)=>({name:a[m],chainAddress:p})),[s,a]),l=p=>{n&&clearTimeout(n),r(p);let m=setTimeout(()=>r(null),3e3);i(m)};return be.default.createElement(w,{paddingTop:16,paddingLeft:16,paddingRight:16,flex:1,overflow:"auto",gap:8},be.default.createElement(F,{font:"body",color:"textPrimary"},t("copyAddressRowAdditionalNetworksHeader")),be.default.createElement(Wt,{rows:c.map(({name:p,chainAddress:m})=>({onClick:()=>l(m),"data-testid":`account-header-chain-${m.networkID}`,topLeft:{before:be.default.createElement(rc,{networkID:m.networkID,size:18,className:B({marginRight:4})}),text:p},bottomRight:be.default.createElement(yl,{text:o===m?t("pastParticipleCopied"):so(m.address,4),copied:o===m})}))}),be.default.createElement(F,{font:"body",color:"textPrimary"},t("copyAddressRowAdditionalNetworksDescription")))},$m=({chainAddress:e})=>{let{t}=U(),{handleHideModalVisibility:o}=ne(),r=()=>{nc(e.address),o("additionalNetworks"),Te.success(t("pastParticipleCopied"))};return be.default.createElement(w,{padding:16},be.default.createElement(St,{direction:"row"},be.default.createElement(Je,{onClick:()=>o("additionalNetworks"),theme:"secondary"},t("commandClose")),be.default.createElement(Je,{onClick:r,theme:"primary"},t("commandCopy"))))};d();u();d();u();d();u();var Vm=Ee.record(Ee.string(),Ee.number()),Rm=Ee.object({type:Ee.union([Ee.literal("Buffer"),Ee.literal("Object")]),data:Ee.array(Ee.number())}),zm=Ee.union([Vm,Rm]),hl=Ee.object({seeds:Ee.array(Ee.tuple([Ee.string(),zm]))}),bl=e=>Hm(e)?new Uint8Array(Buffer.from(e.data)):new Uint8Array(Object.values(e)),Hm=e=>!!e&&typeof e=="object"&&qn("type",e)&&typeof e.type=="string"&&qn("data",e)&&Array.isArray(e.data)&&e.data.every(t=>!Number.isNaN(parseInt(t))),xl=Ee.object({deviceId:Ee.string(),encryptionKey:Ee.string().length(44).base64()});d();u();d();u();var Gt="/seedless",vl="/seedless",xi="https://phantom-wallet.zendesk.com/hc/en-us/articles/32775281256851";d();u();var ur=class extends Error{reasonString;reasonCode;constructor(t){super("Failed to backup share from Juicebox"),this.reasonCode=t,this.reasonString=vi[t]}},_o=class extends Error{guessesRemaining;reasonString;reasonCode;constructor(t,o){super("Failed to recover share from Juicebox"),this.guessesRemaining=o,this.reasonCode=t,this.reasonString=Qt[t]}},pn=class extends Error{reasonString;reasonCode;constructor(t){super("Failed to delete share from Juicebox"),this.reasonCode=t,this.reasonString=wl[t]}},vi=(n=>(n[n.InvalidAuth=0]="InvalidAuth",n[n.UpgradeRequired=1]="UpgradeRequired",n[n.Assertion=2]="Assertion",n[n.Transient=3]="Transient",n))(vi||{}),Qt=(a=>(a[a.InvalidPin=0]="InvalidPin",a[a.NotRegistered=1]="NotRegistered",a[a.InvalidAuth=2]="InvalidAuth",a[a.UpgradeRequired=3]="UpgradeRequired",a[a.Assertion=4]="Assertion",a[a.Transient=5]="Transient",a[a.CooldownTimer=6]="CooldownTimer",a))(Qt||{}),wl=(i=>(i[i.InvalidAuth=0]="InvalidAuth",i[i.UpgradeRequired=1]="UpgradeRequired",i[i.RateLimitExceeded=2]="RateLimitExceeded",i[i.Assertion=3]="Assertion",i[i.Transient=4]="Transient",i))(wl||{});var pr=e=>e instanceof _o;globalThis.JuiceboxGetAuthToken=async e=>{let t=Buffer.from(e).toString("hex");return globalThis.JuiceboxTokens[t]};var wi=class{encoder;provider;constructor(t){this.encoder=new TextEncoder,this.provider=t}async getJwts(t){let o=await ht.api().bearer(t).post(`${vl}/v1/juiceboxtoken`);(bt(o)||o.status===304)&&this.provider.setJuiceboxTokens(o.data)}async sendJuiceboxShare(t,o,r,n){await this.getJwts(n);try{await this.provider.backupShare(t,o,this.encoder.encode(r),this.encoder.encode("phantom"),7),J.addBreadcrumb("se*dless","Successful backup share to Juicebox","debug")}catch(i){J.captureMessage("se*dless","Failed to backup share to Juicebox","error",{errorCode:i});let s=new ur(i);throw J.captureError(s,"se*dless"),s}return!0}async getJuiceboxShare(t,o,r){await this.getJwts(r);try{let n=await this.provider.recoverShare(t,this.encoder.encode(o),this.encoder.encode("phantom"));return J.addBreadcrumb("se*dless","Successfully recovered share from Juicebox","debug"),n}catch(n){let i=n.guessesRemaining!==void 0?n.guessesRemaining:n.guesses_remaining;J.captureMessage("se*dless","Failed to recover share from Juicebox","error",{errorCode:n.reason,guessesRemaining:i});let s=new _o(n.reason,i);throw J.captureError(s,"se*dless"),s}}async deleteShare(t,o){await this.getJwts(o);try{await this.provider.deleteShare(t),J.addBreadcrumb("se*dless","Successfully deleted share from Juicebox","debug")}catch(r){J.captureMessage("se*dless","Failed to delete share from Juicebox","error",{errorCode:r});let n=new pn(r);throw J.captureError(n,"se*dless"),n}}};d();u();d();u();var $o=A(I()),Sl=(0,$o.createContext)(null);function Wm({children:e,seedlessRepository:t}){return $o.default.createElement(Sl.Provider,{value:{seedlessRepository:t}},e)}function jm(){let e=(0,$o.useContext)(Sl);if(!e)throw new Error("useSeedlessContext must be used within a SeedlessProvider");return e}function Ae(){return jm().seedlessRepository}d();u();var Ti="@phantom/seedless",ho={hasSeedlessBundle:["seedless",`${Ti}:has_seedless_bundle`],needsBundleUpdate:["seedless",`${Ti}:needs_bundle_update`],timeLeftCooldown:["seedless",`${Ti}:time_left_cooldown`]};function Km(){let e=ho.hasSeedlessBundle,t=Ae(),o=Ar();return Eo({enabled:o,queryKey:e,queryFn:async()=>await t.hasSeedlessBundle()})}d();u();d();u();var mn=async e=>{await e.invalidateQueries({queryKey:ho.hasSeedlessBundle})},Vo=async e=>{await e.invalidateQueries({queryKey:ho.needsBundleUpdate})},Tl=async e=>{await e.invalidateQueries({refetchType:"all",predicate:t=>t.queryKey[0]!=="authEnabled"})};function qm(){let e=Ae(),t=xt(),o=Ve();return je({mutationFn:async n=>await e.backup(n),onSuccess:async()=>{o.capture("seedlessBackupSuccess"),await mn(t),await Vo(t)},onError:()=>{o.capture("seedlessBackupError")}})}d();u();function Pi(){let e=Ae();return je({mutationFn:async()=>e.backupCleanup()})}d();u();function Ei(){let e=Ae(),t=xt(),o=Ve();return je({mutationFn:async n=>await e.recover(n),onSuccess:async()=>{o.capture("seedlessRecoverSuccess"),await Vo(t)},onError:()=>{o.capture("seedlessRecoverError")}})}d();u();function ki(){let e=Ae(),t=Ve();return je({mutationFn:async r=>{await e.verifyPin(r)},onSuccess:()=>{t.capture("seedlessVerifyPinSuccess")},onError:()=>{t.capture("seedlessVerifyPinError")}})}d();u();function Jm(){let e=Ae(),t=xt();return je({mutationFn:async()=>await e.deleteBundle(),onSuccess:async()=>{await mn(t),await Vo(t)}})}d();u();function Ai(){let e=Ae(),t=Ve();return je({mutationFn:async r=>await e.resetBundleFromDevice(r.pin,r.seedlessEntropies),onSuccess:()=>{t.capture("seedlessResetPinSuccess")},onError:()=>{t.capture("seedlessResetPinError")}})}d();u();var Gm=1e3,Qm=500;function Ii(){let e=ho.timeLeftCooldown,t=Ae(),o=Ar();return Eo({enabled:o,queryKey:e,queryFn:async()=>await t.timeLeftCooldown(),refetchInterval:Gm,refetchOnMount:"always",staleTime:Qm})}d();u();var fn=A(I()),Cl=1e3,Li=()=>{let[e,t]=(0,fn.useState)(0);return(0,fn.useEffect)(()=>{if(!e)return;let o=setInterval(async()=>{t(e-Cl)},Cl);return()=>clearInterval(o)},[e]),{cooldownTimer:e,setCooldownTimer:t}};d();u();var Bi=A(I());var Ym="seedless-pin-verification-timer-in-ms",Xm=Ee.string().transform(e=>Number(e)).pipe(Ee.number()).nullish().catch(null),Zm=()=>{let e=Ae(),{data:[t]}=Er(["enable-seedless-mock-pin-verification-timer"]),o=(0,Bi.useMemo)(()=>ks.getMultivariateAssignment(Ym),[]),r=(0,Bi.useMemo)(()=>Xm.parse(o),[o]),n=async()=>{let{expired:i,timestampInMs:s}=await e.getPinVerificationTimer({timerInMs:r,mock:t});return{expired:i,timestampInMs:s}};return Eo({queryKey:["seedlessPinVerificationLockTimerInMs"],queryFn:n})};d();u();var bo=()=>{let e=xt(),t=Ae();return je({mutationFn:async()=>{await t.setPinVerificationTimer(Date.now())},onSuccess:async()=>{await e.invalidateQueries({queryKey:["seedlessPinVerificationLockTimerInMs"]})}})};d();u();var Ot=A(I());d();u();d();u();d();u();d();u();function Fi(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ef(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Pl(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function tf(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Fi(e.outputLen),Fi(e.blockLen)}function of(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function rf(e,t){Pl(e);let o=t.outputLen;if(e.length<o)throw new Error(`digestInto() expects output buffer of length at least ${o}`)}var nf={number:Fi,bool:ef,bytes:Pl,hash:tf,exists:of,output:rf},yn=nf;d();u();d();u();var mr={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var hn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),yt=(e,t)=>e<<32-t|e>>>t,sf=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!sf)throw new Error("Non little-endian hardware is not supported");var af=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bn(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let o=0;o<e.length;o++)t+=af[e[o]];return t}function El(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let o=0;o<t.length;o++){let r=o*2,n=e.slice(r,r+2),i=Number.parseInt(n,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[o]=i}return t}function cf(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function Di(e){if(typeof e=="string"&&(e=cf(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}var gn=class{clone(){return this._cloneInto()}};function Mi(e){let t=r=>e().update(Di(r)).digest(),o=e();return t.outputLen=o.outputLen,t.blockLen=o.blockLen,t.create=()=>e(),t}function fr(e=32){if(mr.web)return mr.web.getRandomValues(new Uint8Array(e));if(mr.node)return new Uint8Array(mr.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}function lf(e,t,o,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,o,r);let n=BigInt(32),i=BigInt(4294967295),s=Number(o>>n&i),a=Number(o&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}var xn=class extends gn{constructor(t,o,r,n){super(),this.blockLen=t,this.outputLen=o,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=hn(this.buffer)}update(t){yn.exists(this);let{view:o,buffer:r,blockLen:n}=this;t=Di(t);let i=t.length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let c=hn(t);for(;n<=i-s;s+=n)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(o,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){yn.exists(this),yn.output(t,this),this.finished=!0;let{buffer:o,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;o[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let m=s;m<n;m++)o[m]=0;lf(r,n-8,BigInt(this.length*8),i),this.process(r,0);let a=hn(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,p=this.get();if(l>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<l;m++)a.setUint32(4*m,p[m],i)}digest(){let{buffer:t,outputLen:o}=this;this.digestInto(t);let r=t.slice(0,o);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:o,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return t.length=n,t.pos=a,t.finished=i,t.destroyed=s,n%o&&t.buffer.set(r),t}};var df=(e,t,o)=>e&t^~e&o,uf=(e,t,o)=>e&t^e&o^t&o,pf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xt=new Uint32Array(64),vn=class extends xn{constructor(){super(64,32,8,!1),this.A=Yt[0]|0,this.B=Yt[1]|0,this.C=Yt[2]|0,this.D=Yt[3]|0,this.E=Yt[4]|0,this.F=Yt[5]|0,this.G=Yt[6]|0,this.H=Yt[7]|0}get(){let{A:t,B:o,C:r,D:n,E:i,F:s,G:a,H:c}=this;return[t,o,r,n,i,s,a,c]}set(t,o,r,n,i,s,a,c){this.A=t|0,this.B=o|0,this.C=r|0,this.D=n|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,o){for(let m=0;m<16;m++,o+=4)Xt[m]=t.getUint32(o,!1);for(let m=16;m<64;m++){let f=Xt[m-15],y=Xt[m-2],g=yt(f,7)^yt(f,18)^f>>>3,b=yt(y,17)^yt(y,19)^y>>>10;Xt[m]=b+Xt[m-7]+g+Xt[m-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:c,G:l,H:p}=this;for(let m=0;m<64;m++){let f=yt(a,6)^yt(a,11)^yt(a,25),y=p+f+df(a,c,l)+pf[m]+Xt[m]|0,b=(yt(r,2)^yt(r,13)^yt(r,22))+uf(r,n,i)|0;p=l,l=c,c=a,a=s+y|0,s=i,i=n,n=r,r=y+b|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,p=p+this.H|0,this.set(r,n,i,s,a,c,l,p)}roundClean(){Xt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Ni=class extends vn{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},kl=Mi(()=>new vn),xw=Mi(()=>new Ni);var Nt=e=>{let t=Oi(e),o=JSON.stringify(t);return bn(kl(o))};function Ro(e){return/^\d+$/.test(e)}var gt=e=>e.length!==4?!1:Ro(e),Oi=e=>{if(Array.isArray(e))return e.map(t=>typeof t=="object"?Oi(t):t).sort();if(typeof e=="object"&&e!==null){let t={},o=Object.keys(e).sort();for(let r of o)t[r]=Oi(e[r]);return t}else return e},_i=e=>{let t=Math.max(0,Math.floor(e/1e3)),o=Math.floor(t/60).toString(),r=t%60>9?`${t%60}`:`0${t%60}`;return{minutes:o,seconds:r}};var Ui=({t:e,onVerifyCallback:t,onForgot:o,onSuccess:r,onError:n})=>{let[i,s]=(0,Ot.useState)(""),[a,c]=(0,Ot.useState)(!1),[l,p]=(0,Ot.useState)(void 0),m=xt(),{mutateAsync:f,isPending:y,isSuccess:g}=ki(),{mutateAsync:b}=bo();(0,Ot.useEffect)(()=>{g&&(t(),setTimeout(()=>{r()},200))},[g,r,t]);let v=(0,Ot.useCallback)(P=>{c(!1),P!==""&&!Ro(P)?(c(!0),s("")):s(P)},[c,s]),S=(0,Ot.useCallback)(async()=>{try{if(!gt(i)){c(!0);return}await f(i),p(void 0),J.addBreadcrumb("se*dless","Successfully verified PIN for user","info"),await b(),await Tl(m)}catch(P){if(s(""),P instanceof Error&&J.captureError(P,"se*dless"),P&&pr(P)&&P.reasonCode===0){if(c(!0),P.guessesRemaining===0){o();return}p(P.guessesRemaining)}else n()}},[n,o,i,m,b,p,f]),E=!i||i.length!==4;return{pin:i,isInvalidPin:a,triesLeft:l,setPin:v,onVerify:S,onVerifyCallback:t,onForgot:o,title:e("seedlessVerifyPinPrimaryText"),description:e("seedlessVerifyPinSecondaryText"),confirmButtonText:e("seedlessPinConfirmButtonText"),forgotButtonText:e("seedlessVerifyPinForgotButtonText"),disabled:E||y}};d();u();var zo=A(I());var $i=({t:e,seedlessMetas:t,onExportEntropy:o,onResetCallback:r,onSuccess:n,onError:i})=>{let[s,a]=(0,zo.useState)(""),{mutateAsync:c}=bo(),{mutateAsync:l,isSuccess:p,isPending:m}=Ai(),{mutateAsync:f}=Pi();(0,zo.useEffect)(()=>{p&&(r(),setTimeout(()=>{n()},400))},[p,r,n,e]);let y=(0,zo.useCallback)(async()=>{if(t?.length)try{let g=await o();await l({pin:s,seedlessEntropies:g}),await c(),await f()}catch(g){g instanceof Error&&J.captureError(g,"se*dless"),i()}},[t,s,f,l,c,o,i]);return{pin:s,setPin:a,onReset:y,title:e("seedlessVerifyPinPrimaryText"),description:e("seedlessResetPinSecondaryText"),confirmButtonText:e("seedlessPinConfirmButtonText"),disabled:m}};d();u();var Zt=A(I());d();u();var Ho=class extends Error{result;constructor(t){super(`Unable to recover seedless bundle: ${t.type}`),this.result=t}},wn=e=>e instanceof Ho,Vi=e=>wn(e)&&e.result.type==="error-juicebox-recover"&&e.result.reason===0,Ri=e=>wn(e)&&e.result.type==="cooldown",zi=e=>wn(e)&&e.result.type==="upgrade-required";var mf=e=>{let{t,hasEnrolledAuthentication:o,syncedAccounts:r,onAccountsAdded:n,onOnboardingDone:i,onOnboardingProtect:s,onImportAndSyncAccounts:a,onForgot:c}=e,l=Ve(),{refetch:p}=Ii(),{mutateAsync:m}=bo(),[f,y]=(0,Zt.useState)(!1),[g,b]=(0,Zt.useState)({isInvalidPin:!1,triesLeft:void 0,pin:""}),{mutateAsync:v}=Ei(),[S,E]=(0,Zt.useState)(!1),{cooldownTimer:P,setCooldownTimer:_}=Li(),{minutes:N,seconds:j}=_i(P),[D,X]=(0,Zt.useState)(null);return(0,Zt.useEffect)(()=>{!g.triesLeft||g.triesLeft>0||c()},[g.triesLeft,c]),(0,Zt.useEffect)(()=>{(async()=>{let{data:k=0}=await p();return k})().then(k=>_(k))},[]),{isLoading:S,isError:f,handleInput:T=>{b(k=>({...k,isInvalidPin:T!==""&&!Ro(T),pin:T}))},onSubmit:async()=>{if(!S){if(!gt(g.pin)){b(T=>({...T,isInvalidPin:!0,triesLeft:void 0,pin:""}));return}try{E(!0),y(!1),b(k=>({...k,isInvalidPin:!1,triesLeft:void 0}));let{entropy:T}=await v(g.pin);await a(T),await m(),l.capture("seedlessEnterPinContinue"),r.length>1&&n?n():!o&&i?i():s()}catch(T){if(Vi(T)||Ri(T)){let k;if("guessesRemaining"in T.result&&(k=T.result.guessesRemaining),k===0){b(H=>({...H,isInvalidPin:!0,triesLeft:k,pin:""})),c();return}let Q=!1;"reason"in T.result&&T.result.reason===0&&(Q=!0);let{data:R=0}=await p();_(R),l.capture("seedlessPinError",{data:{triesLeft:k,cooldownTimer:R}}),b(H=>({...H,isInvalidPin:Q,triesLeft:k,pin:""}))}else zi(T)?(y(!0),X({title:t("seedlessRecoverErrorUpgradeRequiredTitle"),description:t("seedlessRecoverErrorUpgradeRequiredDescription")})):(J.captureError(T,"se*dless"),y(!0),X({title:t("seedlessEnterPinUnknownErrorPrimaryText"),description:t("seedlessEnterPinUnknownErrorSecondaryText"),buttonText:t("seedlessTryAgain")}))}finally{E(!1)}}},onForgot:c,pinAttemptsLeft:g.triesLeft,isPinError:g.isInvalidPin,hasCooldownTimer:P>0,disabled:P>0||g.isInvalidPin||!g.pin||g.pin.length<4,pin:g.pin,continueButtonText:t("seedlessContinueText"),forgotButtonText:t("seedlessVerifyPinForgotButtonText"),attemptsLeftText:t("seedlessEnterPinNumTriesLeft",{numTries:g.triesLeft}),cooldownTimerText:t("seedlessEnterPinCooldown",{minutesLeft:N,secondsLeft:j}),invalidPinText:t("seedlessEnterPinInvalidPinError"),title:t("seedlessEnterPinPrimaryText"),loadingTitle:t("seedlessLoadingWalletPrimaryText"),loadingDescription:t("seedlessLoadingWalletSecondaryText"),errorTitle:D?D.title:t("seedlessLoadingWalletErrorPrimaryText"),errorDescription:D?D.description:t("seedlessErrorSecondaryText"),tryAgainButtonText:D?D.buttonText:t("seedlessTryAgain")}};d();u();d();u();async function Sn(e,t,o){let r=await e.decryptionKeySharePhantom.foldAsync(async l=>Buffer.from(new Uint8Array(l)).toString("base64")),n=Buffer.from(e.encryptedAccounts,"hex").toString("base64"),i=Buffer.from(e.encryptionKey,"hex").toString("base64"),s={ciphertext:n,encryptionKey:i,share:r,externalId:t,mode:"JUICEBOX"},a=await ht.api().bearer(o).headers({"Content-Type":"application/json"}).post(`${Gt}/v1/bundles`,s),c=bt(a);return c||J.addBreadcrumb("se*dless","Failed to backup bundle to backend","error",{status:a.status,statusText:a.statusText}),c}async function Tn(e,t){let o=await ht.api().bearer(t).get(`${Gt}/v1/bundles/${e}?mode=JUICEBOX`);if(o.status===404)throw new Error("bundle not found");if(!bt(o)){J.addBreadcrumb("se*dless","Failed to recover bundle from backend","error",{status:o.status,statusText:o.statusText});let r=new Error("Got invalid response from seedless backend: "+o.statusText);throw J.captureError(r,"se*dless"),r}if(!("share"in o.data)){J.addBreadcrumb("se*dless","No share found in bundle","error");let r=new Error("Did not receive share from seedless backend");throw J.captureError(r,"se*dless"),r}try{let r=Ke.from(new Uint8Array(Buffer.from(o.data.share,"base64"))),n=Buffer.from(o.data.ciphertext,"base64").toString("hex"),i=Buffer.from(o.data.encryptionKey,"base64").toString("hex");return{id:o.data.externalId,encryptedAccounts:n,encryptionKey:i,decryptionKeyShare1:r}}catch{throw new Error("Unable to parse bundle. Incorrect format.")}}async function Al(e,t){let o=await ht.api().bearer(t).get(`${Gt}/v1/bundles/${e}?mode=JUICEBOX&populate=none`);J.addBreadcrumb("se*dless","Checking if user has a se*dless bundle","info");let r=new Error("Failed to check for se*dless bundle.");if(bt(o))return J.addBreadcrumb("se*dless","A se*dless bundle has been found for this user","info",{status:o.status,statusText:o.statusText}),!0;if(o.status===404)return J.addBreadcrumb("se*dless","No se*dless bundle found for user","info",{status:o.status,statusText:o.statusText}),!1;throw J.captureError(r,"se*dless"),r}async function Cn(e,t){let o=ht.api().bearer(t).headers({"Content-Type":"application/json"});e!=="latest"&&(o=o.retry(3,500));let r=await o.delete(`${Gt}/v1/bundles/${e}`,{mode:"JUICEBOX"});if(J.addBreadcrumb("se*dless","Deleting se*dless bundle","info"),bt(r))return J.addBreadcrumb("se*dless","A se*dless bundle has been deleted for this user","info",{status:r.status,statusText:r.statusText}),!0;if(r.status===404)return J.addBreadcrumb("se*dless","No se*dless bundle found for user","info",{status:r.status,statusText:r.statusText}),!1;let n=new Error("Failed to delete se*dless bundle.");throw J.captureError(n,"se*dless"),n}async function Hi(e,t){let o=await ht.api().bearer(e).get(`${Gt}/v1/device-encryption-keys/${t}`);if(o.status===404)return J.addBreadcrumb("se*dless","No device encryption key found for user","info"),null;if(!bt(o))throw new Error("Unable to get device encryption key.");try{let{encryptionKey:r}=xl.parse(o.data);return Ke.from(new Uint8Array(Buffer.from(r,"base64")))}catch{throw new Error("Unable to parse device encryption key from response.")}}async function Il(e,t,o){let r=await ht.api().bearer(e).post(`${Gt}/v1/device-encryption-keys`,{deviceId:t,encryptionKey:o.fold(n=>Buffer.from(n).toString("base64"))});if(!bt(r))throw new Error("Unable to set device encryption key.")}async function Ll(e,t){let o=await ht.api().bearer(e).delete(`${Gt}/v1/device-encryption-keys/${t}`);if(!bt(o))throw new Error("Unable to delete device encryption key.")}d();u();d();u();d();u();d();u();function Wo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Wi(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function ji(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ie(e,...t){if(!ji(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Ki(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Bl(e,t){Ie(e);let o=t.outputLen;if(e.length<o)throw new Error(`digestInto() expects output buffer of length at least ${o}`)}var _t=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Fl=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ff=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ff)throw new Error("Non little-endian hardware is not supported");function qi(e){if(typeof e!="string")throw new Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Pn(e){if(typeof e=="string")e=qi(e);else if(ji(e))e=e.slice();else throw new Error(`Uint8Array expected, got ${typeof e}`);return e}function Dl(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];Ie(n),t+=n.length}let o=new Uint8Array(t);for(let r=0,n=0;r<e.length;r++){let i=e[r];o.set(i,n),n+=i.length}return o}function Ml(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Nl(e,t){if(e.length!==t.length)return!1;let o=0;for(let r=0;r<e.length;r++)o|=e[r]^t[r];return o===0}var Ji=(e,t)=>(Object.assign(t,e),t);function Gi(e,t,o,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,o,r);let n=BigInt(32),i=BigInt(4294967295),s=Number(o>>n&i),a=Number(o&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}d();u();var Oe=(e,t)=>e[t++]&255|(e[t++]&255)<<8,Qi=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=Pn(t),Ie(t,32);let o=Oe(t,0),r=Oe(t,2),n=Oe(t,4),i=Oe(t,6),s=Oe(t,8),a=Oe(t,10),c=Oe(t,12),l=Oe(t,14);this.r[0]=o&8191,this.r[1]=(o>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let p=0;p<8;p++)this.pad[p]=Oe(t,16+2*p)}process(t,o,r=!1){let n=r?0:2048,{h:i,r:s}=this,a=s[0],c=s[1],l=s[2],p=s[3],m=s[4],f=s[5],y=s[6],g=s[7],b=s[8],v=s[9],S=Oe(t,o+0),E=Oe(t,o+2),P=Oe(t,o+4),_=Oe(t,o+6),N=Oe(t,o+8),j=Oe(t,o+10),D=Oe(t,o+12),X=Oe(t,o+14),$=i[0]+(S&8191),K=i[1]+((S>>>13|E<<3)&8191),T=i[2]+((E>>>10|P<<6)&8191),k=i[3]+((P>>>7|_<<9)&8191),Q=i[4]+((_>>>4|N<<12)&8191),R=i[5]+(N>>>1&8191),H=i[6]+((N>>>14|j<<2)&8191),se=i[7]+((j>>>11|D<<5)&8191),ae=i[8]+((D>>>8|X<<8)&8191),le=i[9]+(X>>>5|n),M=0,ue=M+$*a+K*(5*v)+T*(5*b)+k*(5*g)+Q*(5*y);M=ue>>>13,ue&=8191,ue+=R*(5*f)+H*(5*m)+se*(5*p)+ae*(5*l)+le*(5*c),M+=ue>>>13,ue&=8191;let ye=M+$*c+K*a+T*(5*v)+k*(5*b)+Q*(5*g);M=ye>>>13,ye&=8191,ye+=R*(5*y)+H*(5*f)+se*(5*m)+ae*(5*p)+le*(5*l),M+=ye>>>13,ye&=8191;let ce=M+$*l+K*c+T*a+k*(5*v)+Q*(5*b);M=ce>>>13,ce&=8191,ce+=R*(5*g)+H*(5*y)+se*(5*f)+ae*(5*m)+le*(5*p),M+=ce>>>13,ce&=8191;let q=M+$*p+K*l+T*c+k*a+Q*(5*v);M=q>>>13,q&=8191,q+=R*(5*b)+H*(5*g)+se*(5*y)+ae*(5*f)+le*(5*m),M+=q>>>13,q&=8191;let re=M+$*m+K*p+T*l+k*c+Q*a;M=re>>>13,re&=8191,re+=R*(5*v)+H*(5*b)+se*(5*g)+ae*(5*y)+le*(5*f),M+=re>>>13,re&=8191;let Be=M+$*f+K*m+T*p+k*l+Q*c;M=Be>>>13,Be&=8191,Be+=R*a+H*(5*v)+se*(5*b)+ae*(5*g)+le*(5*y),M+=Be>>>13,Be&=8191;let $e=M+$*y+K*f+T*m+k*p+Q*l;M=$e>>>13,$e&=8191,$e+=R*c+H*a+se*(5*v)+ae*(5*b)+le*(5*g),M+=$e>>>13,$e&=8191;let Le=M+$*g+K*y+T*f+k*m+Q*p;M=Le>>>13,Le&=8191,Le+=R*l+H*c+se*a+ae*(5*v)+le*(5*b),M+=Le>>>13,Le&=8191;let Fe=M+$*b+K*g+T*y+k*f+Q*m;M=Fe>>>13,Fe&=8191,Fe+=R*p+H*l+se*c+ae*a+le*(5*v),M+=Fe>>>13,Fe&=8191;let Ue=M+$*v+K*b+T*g+k*y+Q*f;M=Ue>>>13,Ue&=8191,Ue+=R*m+H*p+se*l+ae*c+le*a,M+=Ue>>>13,Ue&=8191,M=(M<<2)+M|0,M=M+ue|0,ue=M&8191,M=M>>>13,ye+=M,i[0]=ue,i[1]=ye,i[2]=ce,i[3]=q,i[4]=re,i[5]=Be,i[6]=$e,i[7]=Le,i[8]=Fe,i[9]=Ue}finalize(){let{h:t,pad:o}=this,r=new Uint16Array(10),n=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=n,n=t[a]>>>13,t[a]&=8191;t[0]+=n*5,n=t[0]>>>13,t[0]&=8191,t[1]+=n,n=t[1]>>>13,t[1]&=8191,t[2]+=n,r[0]=t[0]+5,n=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+n,n=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(n^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)t[a]=t[a]&i|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let s=t[0]+o[0];t[0]=s&65535;for(let a=1;a<8;a++)s=(t[a]+o[a]|0)+(s>>>16)|0,t[a]=s&65535}update(t){Ki(this);let{buffer:o,blockLen:r}=this;t=Pn(t);let n=t.length;for(let i=0;i<n;){let s=Math.min(r-this.pos,n-i);if(s===r){for(;r<=n-i;i+=r)this.process(t,i);continue}o.set(t.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(o,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){Ki(this),Bl(t,this),this.finished=!0;let{buffer:o,h:r}=this,{pos:n}=this;if(n){for(o[n++]=1;n<16;n++)o[n]=0;this.process(o,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)t[i++]=r[s]>>>0,t[i++]=r[s]>>>8;return t}digest(){let{buffer:t,outputLen:o}=this;this.digestInto(t);let r=t.slice(0,o);return this.destroy(),r}};function yf(e){let t=(r,n)=>e(n).update(Pn(r)).digest(),o=e(new Uint8Array(32));return t.outputLen=o.outputLen,t.blockLen=o.blockLen,t.create=r=>e(r),t}var Ol=yf(e=>new Qi(e));d();u();var Ul=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),gf=Ul("expand 16-byte k"),hf=Ul("expand 32-byte k"),bf=_t(gf),$l=_t(hf),IS=$l.slice();function L(e,t){return e<<t|e>>>32-t}function Yi(e){return e.byteOffset%4===0}var En=64,xf=16,Vl=2**32-1,_l=new Uint32Array;function vf(e,t,o,r,n,i,s,a){let c=n.length,l=new Uint8Array(En),p=_t(l),m=Yi(n)&&Yi(i),f=m?_t(n):_l,y=m?_t(i):_l;for(let g=0;g<c;s++){if(e(t,o,r,p,s,a),s>=Vl)throw new Error("arx: counter overflow");let b=Math.min(En,c-g);if(m&&b===En){let v=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let S=0,E;S<xf;S++)E=v+S,y[E]=f[E]^p[S];g+=En;continue}for(let v=0,S;v<b;v++)S=g+v,i[S]=n[S]^l[v];g+=b}}function Xi(e,t){let{allowShortKeys:o,extendNonceFn:r,counterLength:n,counterRight:i,rounds:s}=Ml({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Wo(n),Wo(s),Wi(i),Wi(o),(a,c,l,p,m=0)=>{Ie(a),Ie(c),Ie(l);let f=l.length;if(p||(p=new Uint8Array(f)),Ie(p),Wo(m),m<0||m>=Vl)throw new Error("arx: counter overflow");if(p.length<f)throw new Error(`arx: output (${p.length}) is shorter than data (${f})`);let y=[],g=a.length,b,v;if(g===32)b=a.slice(),y.push(b),v=$l;else if(g===16&&o)b=new Uint8Array(32),b.set(a),b.set(a,16),v=bf,y.push(b);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);Yi(c)||(c=c.slice(),y.push(c));let S=_t(b);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(v,S,_t(c.subarray(0,16)),S),c=c.subarray(16)}let E=16-n;if(E!==c.length)throw new Error(`arx: nonce must be ${E} or 16 bytes`);if(E!==12){let _=new Uint8Array(12);_.set(c,i?0:12-c.length),c=_,y.push(c)}let P=_t(c);for(vf(e,v,S,P,l,p,m,s);y.length>0;)y.pop().fill(0);return p}}function Hl(e,t,o,r,n,i=20){let s=e[0],a=e[1],c=e[2],l=e[3],p=t[0],m=t[1],f=t[2],y=t[3],g=t[4],b=t[5],v=t[6],S=t[7],E=n,P=o[0],_=o[1],N=o[2],j=s,D=a,X=c,$=l,K=p,T=m,k=f,Q=y,R=g,H=b,se=v,ae=S,le=E,M=P,ue=_,ye=N;for(let q=0;q<i;q+=2)j=j+K|0,le=L(le^j,16),R=R+le|0,K=L(K^R,12),j=j+K|0,le=L(le^j,8),R=R+le|0,K=L(K^R,7),D=D+T|0,M=L(M^D,16),H=H+M|0,T=L(T^H,12),D=D+T|0,M=L(M^D,8),H=H+M|0,T=L(T^H,7),X=X+k|0,ue=L(ue^X,16),se=se+ue|0,k=L(k^se,12),X=X+k|0,ue=L(ue^X,8),se=se+ue|0,k=L(k^se,7),$=$+Q|0,ye=L(ye^$,16),ae=ae+ye|0,Q=L(Q^ae,12),$=$+Q|0,ye=L(ye^$,8),ae=ae+ye|0,Q=L(Q^ae,7),j=j+T|0,ye=L(ye^j,16),se=se+ye|0,T=L(T^se,12),j=j+T|0,ye=L(ye^j,8),se=se+ye|0,T=L(T^se,7),D=D+k|0,le=L(le^D,16),ae=ae+le|0,k=L(k^ae,12),D=D+k|0,le=L(le^D,8),ae=ae+le|0,k=L(k^ae,7),X=X+Q|0,M=L(M^X,16),R=R+M|0,Q=L(Q^R,12),X=X+Q|0,M=L(M^X,8),R=R+M|0,Q=L(Q^R,7),$=$+K|0,ue=L(ue^$,16),H=H+ue|0,K=L(K^H,12),$=$+K|0,ue=L(ue^$,8),H=H+ue|0,K=L(K^H,7);let ce=0;r[ce++]=s+j|0,r[ce++]=a+D|0,r[ce++]=c+X|0,r[ce++]=l+$|0,r[ce++]=p+K|0,r[ce++]=m+T|0,r[ce++]=f+k|0,r[ce++]=y+Q|0,r[ce++]=g+R|0,r[ce++]=b+H|0,r[ce++]=v+se|0,r[ce++]=S+ae|0,r[ce++]=E+le|0,r[ce++]=P+M|0,r[ce++]=_+ue|0,r[ce++]=N+ye|0}function wf(e,t,o,r){let n=e[0],i=e[1],s=e[2],a=e[3],c=t[0],l=t[1],p=t[2],m=t[3],f=t[4],y=t[5],g=t[6],b=t[7],v=o[0],S=o[1],E=o[2],P=o[3];for(let N=0;N<20;N+=2)n=n+c|0,v=L(v^n,16),f=f+v|0,c=L(c^f,12),n=n+c|0,v=L(v^n,8),f=f+v|0,c=L(c^f,7),i=i+l|0,S=L(S^i,16),y=y+S|0,l=L(l^y,12),i=i+l|0,S=L(S^i,8),y=y+S|0,l=L(l^y,7),s=s+p|0,E=L(E^s,16),g=g+E|0,p=L(p^g,12),s=s+p|0,E=L(E^s,8),g=g+E|0,p=L(p^g,7),a=a+m|0,P=L(P^a,16),b=b+P|0,m=L(m^b,12),a=a+m|0,P=L(P^a,8),b=b+P|0,m=L(m^b,7),n=n+l|0,P=L(P^n,16),g=g+P|0,l=L(l^g,12),n=n+l|0,P=L(P^n,8),g=g+P|0,l=L(l^g,7),i=i+p|0,v=L(v^i,16),b=b+v|0,p=L(p^b,12),i=i+p|0,v=L(v^i,8),b=b+v|0,p=L(p^b,7),s=s+m|0,S=L(S^s,16),f=f+S|0,m=L(m^f,12),s=s+m|0,S=L(S^s,8),f=f+S|0,m=L(m^f,7),a=a+c|0,E=L(E^a,16),y=y+E|0,c=L(c^y,12),a=a+c|0,E=L(E^a,8),y=y+E|0,c=L(c^y,7);let _=0;r[_++]=n,r[_++]=i,r[_++]=s,r[_++]=a,r[_++]=v,r[_++]=S,r[_++]=E,r[_++]=P}var Sf=Xi(Hl,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Tf=Xi(Hl,{counterRight:!1,counterLength:8,extendNonceFn:wf,allowShortKeys:!1});var Cf=new Uint8Array(16),Rl=(e,t)=>{e.update(t);let o=t.length%16;o&&e.update(Cf.subarray(o))},Pf=new Uint8Array(32);function zl(e,t,o,r,n){let i=e(t,o,Pf),s=Ol.create(i);n&&Rl(s,n),Rl(s,r);let a=new Uint8Array(16),c=Fl(a);Gi(c,0,BigInt(n?n.length:0),!0),Gi(c,8,BigInt(r.length),!0),s.update(a);let l=s.digest();return i.fill(0),l}var Wl=e=>(t,o,r)=>(Ie(t,32),Ie(o),{encrypt:(i,s)=>{let a=i.length,c=a+16;s?Ie(s,c):s=new Uint8Array(c),e(t,o,i,s,1);let l=zl(e,t,o,s.subarray(0,-16),r);return s.set(l,a),s},decrypt:(i,s)=>{let a=i.length,c=a-16;if(a<16)throw new Error("encrypted data must be at least 16 bytes");s?Ie(s,c):s=new Uint8Array(c);let l=i.subarray(0,-16),p=i.subarray(-16),m=zl(e,t,o,l,r);if(!Nl(p,m))throw new Error("invalid tag");return e(t,o,l,s,1),s}}),_S=Ji({blockSize:64,nonceLength:12,tagLength:16},Wl(Sf)),Zi=Ji({blockSize:64,nonceLength:24,tagLength:16},Wl(Tf));d();u();d();u();var xo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function jl(e=32){if(xo&&typeof xo.getRandomValues=="function")return xo.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function es(){if(xo&&typeof xo.subtle=="object"&&xo.subtle!=null)return xo.subtle;throw new Error("crypto.subtle must be defined")}function ts(e){return Wo(e.nonceLength),(t,...o)=>({encrypt:(r,...n)=>{let{nonceLength:i}=e,s=jl(i),a=e(t,s,...o).encrypt(r,...n),c=Dl(s,a);return a.fill(0),c},decrypt:(r,...n)=>{let{nonceLength:i}=e,s=r.subarray(0,i),a=r.subarray(i);return e(t,s,...o).decrypt(a,...n)}})}var Kl={async encrypt(e,t,o,r){let n=es(),i=await n.importKey("raw",e,t,!0,["encrypt"]),s=await n.encrypt(o,i,r);return new Uint8Array(s)},async decrypt(e,t,o,r){let n=es(),i=await n.importKey("raw",e,t,!0,["decrypt"]),s=await n.decrypt(o,i,r);return new Uint8Array(s)}},Ct={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function Ef(e,t,o){if(e===Ct.CBC)return{name:Ct.CBC,iv:t};if(e===Ct.CTR)return{name:Ct.CTR,counter:t,length:64};if(e===Ct.GCM)return o?{name:Ct.GCM,iv:t,additionalData:o}:{name:Ct.GCM,iv:t};throw new Error("unknown aes block mode")}function os(e){return(t,o,r)=>{Ie(t),Ie(o);let n={name:e,length:t.length*8},i=Ef(e,o,r);return{encrypt(s){return Ie(s),Kl.encrypt(t,n,i,s)},decrypt(s){return Ie(s),Kl.decrypt(t,n,i,s)}}}}var qS=os(Ct.CBC),JS=os(Ct.CTR),GS=os(Ct.GCM);d();u();d();u();function rs(e){return self.crypto.getRandomValues(new Uint8Array(e))}var An=new Uint8Array([0,255,200,8,145,16,208,54,90,62,216,67,153,119,254,24,35,32,7,112,161,108,12,127,98,139,64,70,199,75,224,14,235,22,232,173,207,205,57,83,106,39,53,147,212,78,72,195,43,121,84,40,9,120,15,33,144,135,20,42,169,156,214,116,180,124,222,237,177,134,118,164,152,226,150,143,2,50,28,193,51,238,239,129,253,48,92,19,157,41,23,196,17,68,140,128,243,115,66,30,29,181,240,18,209,91,65,162,215,44,233,213,89,203,80,168,220,252,242,86,114,166,101,47,159,155,61,186,125,194,69,130,167,87,182,163,122,117,79,174,63,55,109,71,97,190,171,211,95,176,88,175,202,94,250,133,228,77,138,5,251,96,183,123,184,38,74,103,198,26,248,105,37,179,219,189,102,221,241,210,223,3,141,52,217,146,13,99,85,170,73,236,188,149,60,132,11,245,230,231,229,172,126,110,185,249,218,142,154,201,36,225,10,21,107,58,160,81,244,234,178,151,158,93,34,136,148,206,25,1,113,76,165,227,197,49,187,204,31,45,59,82,111,246,46,137,247,192,104,27,100,4,6,191,131,56]),ql=new Uint8Array([1,229,76,181,251,159,252,18,3,52,212,196,22,186,31,54,5,92,103,87,58,213,33,90,15,228,169,249,78,100,99,238,17,55,224,16,210,172,165,41,51,89,59,48,109,239,244,123,85,235,77,80,183,42,7,141,255,38,215,240,194,126,9,140,26,106,98,11,93,130,27,143,46,190,166,29,231,157,45,138,114,217,241,39,50,188,119,133,150,112,8,105,86,223,153,148,161,144,24,187,250,122,176,167,248,171,40,214,21,142,203,242,19,230,120,97,63,137,70,13,53,49,136,163,65,128,202,23,95,83,131,254,195,155,69,57,225,245,158,25,94,182,207,75,56,4,185,43,226,193,74,221,72,12,208,125,61,88,222,124,216,20,107,135,71,232,121,132,115,60,189,146,201,35,139,151,149,68,220,173,64,101,134,162,164,204,127,236,192,175,145,253,247,79,129,47,91,234,168,28,2,209,152,113,237,37,227,36,6,104,179,147,44,111,62,108,10,184,206,174,116,177,66,180,30,211,73,233,156,200,198,199,34,110,219,32,191,67,81,82,102,178,118,96,218,197,243,246,170,205,154,160,117,84,14,1]);function kn(e,t){if(!Number.isInteger(e)||e<0||e>255)throw new RangeError("Number is out of Uint8 range");if(!Number.isInteger(t)||t<0||t>255)throw new RangeError("Number is out of Uint8 range");return e^t}function kf(e,t){if(!Number.isInteger(e)||e<0||e>255)throw new RangeError("Number is out of Uint8 range");if(!Number.isInteger(t)||t<0||t>255)throw new RangeError("Number is out of Uint8 range");if(t===0)throw new Error("cannot divide by zero");let o=An[e],r=An[t],n=(o-r+255)%255,i=ql[n];return e===0?0:i}function ns(e,t){if(!Number.isInteger(e)||e<0||e>255)throw new RangeError("Number is out of Uint8 range");if(!Number.isInteger(t)||t<0||t>255)throw new RangeError("Number is out of Uint8 range");let o=An[e],r=An[t],n=(o+r)%255,i=ql[n];return e===0||t===0?0:i}function Af(e,t,o){if(e.length!==t.length)throw new Error("sample length mistmatch");let r=e.length,n=0,i=0;for(let s=0;s<r;s++){n=1;for(let a=0;a<r;++a){if(s===a)continue;let c=kn(o,e[a]),l=kn(e[s],e[a]),p=kf(c,l);n=ns(n,p)}i=kn(i,ns(t[s],n))}return i}function If(e,t,o){if(t===0)throw new Error("cannot evaluate secret polynomial at zero");let r=e[o];for(let n=o-1;n>=0;n--){let i=e[n];r=kn(ns(r,t),i)}return r}function Jl(){return rs(1)[0]}function Lf(){for(;;){let e=Jl();if(e>0)return e}}function Bf(e,t){let o=new Uint8Array(t+1);o[0]=e;for(let r=1;r<=t;r++){let n=r===t;o[r]=n?Lf():Jl()}return o}function Ff(){let e=new Uint8Array(255);for(let o=0;o<255;o++)e[o]=o+1;let t=rs(255);for(let o=0;o<255;o++){let r=t[o]%255,n=e[o];e[o]=e[r],e[r]=n}return e}var et={instanceOf(e,t,o){if(e.constructor!==t)throw new TypeError(o)},inRange(e,t,o,r){if(!(t<o&&e>=t&&e<o))throw new RangeError(r)},greaterThanOrEqualTo(e,t,o){if(e<t)throw new Error(o)},equalTo(e,t,o){if(e!==t)throw new Error(o)}};async function Gl(e,t,o){et.instanceOf(e,Uint8Array,"secret must be a Uint8Array"),et.greaterThanOrEqualTo(e.byteLength,1,"secret cannot be empty"),et.instanceOf(t,Number,"shares must be a number"),et.inRange(t,2,256,"shares must be at least 2 and at most 255"),et.instanceOf(o,Number,"threshold must be a number"),et.inRange(o,2,256,"threshold must be at least 2 and at most 255"),et.greaterThanOrEqualTo(t,o,"shares cannot be less than threshold");let r=[],n=e.byteLength,i=Ff();for(let a=0;a<t;a++){let c=new Uint8Array(n+1);c[n]=i[a],r.push(c)}let s=o-1;for(let a=0;a<n;a++){let c=e[a],l=Bf(c,s);for(let p=0;p<t;++p){let m=i[p],f=If(l,m,s);r[p][a]=f}}return r}async function Ql(e){et.instanceOf(e,Array,"shares must be an Array"),et.inRange(e.length,2,256,"shares must have at least 2 and at most 255 elements");let t=e[0];et.instanceOf(t,Uint8Array,"each share must be a Uint8Array");for(let l of e)et.instanceOf(l,Uint8Array,"each share must be a Uint8Array"),et.greaterThanOrEqualTo(l.byteLength,2,"each share must be at least 2 bytes"),et.equalTo(l.byteLength,t.byteLength,"all shares must have the same byte length");let o=e.length,r=t.byteLength,n=r-1,i=new Uint8Array(n),s=new Uint8Array(o),a=new Uint8Array(o),c=new Set;for(let l=0;l<o;l++){let m=e[l][r-1];if(c.has(m))throw new Error("shares must contain unique values but a duplicate was found");c.add(m),s[l]=m}for(let l=0;l<n;l++){for(let p=0;p<o;++p)a[p]=e[p][l];i[l]=Af(s,a,0)}return i}var In=async(e,t)=>{if(e.length!==32)throw new Error("encryption key must be 32 bytes");Mf(e);let o={seeds:[]};for(let l of t){let p="unused",m=l.fold(f=>new Uint8Array(f));o.seeds.push([p,m])}let r=ts(Zi)(e),n=qi(JSON.stringify(o)),i=r.encrypt(n),[s,a]=await Gl(e,2,2);return{encryptedAccounts:bn(i),decryptionKeySharePhantom:Ke.from(s),decryptionKeyShareExternal:Ke.from(a),encryptionKey:"unused"}},eo=class extends Error{reason;constructor(t){super(`Unable to decrypt seedless bundle: ${t}`),this.reason=t}},Yl=async e=>{let t;try{t=await Df(e.decryptionKeySharePhantom,e.decryptionKeyShareExternal)}catch{throw new eo("incompatible-shares")}let o;try{o=ts(Zi)(t).decrypt(El(e.encryptedAccounts))}catch{throw new eo("incorrect-decryption-key")}let r;try{r=JSON.parse(Buffer.from(o).toString())}catch{throw new eo("invalid-json")}let n=hl.safeParse(r);if(!n.success)throw new eo("invalid-format");return n.data.seeds.map(a=>{let c=a[1],l=bl(c);return Ke.from(l)})},Df=async(e,t)=>{let o=e.fold(i=>new Uint8Array(i)),r=t.fold(i=>new Uint8Array(i));return await Ql([o,r])},Mf=e=>{if(e.every(t=>t===0))throw new Error("encryption key must not be all zeros")};d();u();var Ln=class{subscribers={seedlessRotationResult:[],seedlessRecoverResult:[]};subscribe(t,o){return this.subscribers[t].push(o),()=>{this.subscribers[t].splice(this.subscribers[t].indexOf(o),1)}}emitRotationResult(t){this.subscribers.seedlessRotationResult.forEach(o=>o(t))}emitRecoverResult(t){this.subscribers.seedlessRecoverResult.forEach(o=>{"reason"in t?typeof t.reason=="string"?o({type:t.type,reason:t.reason}):o({type:t.type,reason:Qt[t.reason]}):o({type:t.type})})}};d();u();var Xl={realms:[{id:"a4caa86247c60f61b2454d8cbdb1ba2a",address:"https://production-juicebox.phantom.dev"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var Zl={realms:[{id:"a4caa86247c60f61b2454d8cbdb1ba2a",address:"https://production-juicebox.phantom.app"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var ed={realms:[{id:"497efc0c17f850465b9387a549affb2b",address:"https://development-juicebox.phantom.dev"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var td={realms:[{id:"497efc0c17f850465b9387a549affb2b",address:"https://development-juicebox.phantom.dev/"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var od={realms:[{id:"497efc0c17f850465b9387a549affb2b",address:"https://development-juicebox.phantom.dev"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],uuid_nonce:"f76005fd-80e5-483e-9d84-c09ef7c60ba3",register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var rd={realms:[{id:"497efc0c17f850465b9387a549affb2b",address:"https://development-juicebox.phantom.app"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],uuid_nonce:"153ebe7b-400c-4d27-be76-139248bb3acd",register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var nd={realms:[{id:"497efc0c17f850465b9387a549affb2b",address:"https://development-juicebox.phantom.app"},{id:"7dd7ac88b0584725a2db014818631f8c",address:"https://juicebox.rpcpool.com"}],uuid_nonce:"f577175c-3f1e-4f4a-91d1-cb30aaa0d5d4",register_threshold:2,recover_threshold:2,pin_hashing_mode:"Standard2019"};var id=[Xl,Zl],Hf=id.reduce((e,t)=>(e[Nt(t)]=t,e),{}),sd=[ed,td,od,rd,nd],Wf=sd.reduce((e,t)=>(e[Nt(t)]=t,e),{});function Bn(){return jn()?Hf:Wf}function vo(){let e=jn()?id:sd;return e[e.length-1]}d();u();var is="seedlessJuiceboxPinCooldownTimer",ad={5:30,4:60,3:120,2:300,1:300},cd=async(e,t)=>{let o=ad[e];if(!(e in ad))return;let r=Date.now()+o*1e3;t.set(is,r)},ld=async e=>{await e.remove(is)},yr=async e=>{let t=await e.get(is),o=Date.now();return t===null||t<0?0:t-o};d();u();d();u();var Ut={success:{type:"success",didRotate:!0},unauthorized:{type:"unauthorized",didRotate:!1},bundleConfigHashesMatch:{type:"bundle-config-hashes-match",didRotate:!1},errorEncryptionFailed:{type:"error-encryption-failed",didRotate:!1},errorBackendUpload:{type:"error-backend-upload",didRotate:!1},recoveredFromJuiceboxError:{type:"recovered-juicebox-error",didRotate:!1},errorBackendDelete:{type:"error-backend-delete",didRotate:!1}},dd=async({authRepository:e,juiceboxClient:t},{seedlessEntropy:o,pin:r,currentConfigHash:n})=>{let i;try{if(i=await e.getUser(),!i)return Ut.unauthorized}catch{return Ut.unauthorized}let s=vo(),a=Nt(s);if(n===a)return Ut.bundleConfigHashesMatch;let c;try{let f=fr(32);c=await In(f,[o])}catch{return Ut.errorEncryptionFailed}try{if(!await Sn(c,a,i.accessToken))return Ut.errorBackendUpload}catch{return Ut.errorBackendUpload}let l=c.decryptionKeyShareExternal.fold(f=>new Uint8Array(f)),p=await t(),m=!0;try{m=await p.sendJuiceboxShare(s,l,r,i.accessToken)}catch{m=!1}if(!m)try{return await Cn(a,i.accessToken),Ut.recoveredFromJuiceboxError}catch{return Ut.errorBackendDelete}return Ut.success};var jf=5,Kf=e=>{let t="unknown";return e instanceof Error&&(e.message.includes("bundle not found")?t="bundle-not-found":e.message.includes("Got invalid response from seedless backend")?t="non-ok-response":e.message.includes("Did not receive share from seedless backend")?t="no-share-in-bundle":e.message.includes("Unable to parse bundle. Incorrect format.")&&(t="incorrect-format")),{type:"error-backend-recover",reason:t}},ud=async(e,t,{pin:o})=>{let{authRepository:r,juiceboxClient:n,storage:i}=e,s=await yr(i);if(s>0)return{type:"cooldown",timeRemaining:s};if(!gt(o))return{type:"invalid-pin-format"};let a=await r.getUser();if(!a)return{type:"unauthorized"};let{accessToken:c}=a,l;try{l=await Tn("latest",c)}catch(v){return Kf(v)}let p=Bn()[l.id];if(!p)return{type:"upgrade-required"};let m=await n(),f;try{f=new Uint8Array(await m.getJuiceboxShare(p,o,c)),await ld(i)}catch(v){return pr(v)?typeof v.guessesRemaining<"u"&&v.guessesRemaining<=jf?(await cd(v.guessesRemaining,i),{type:"cooldown",timeRemaining:await yr(i)}):{type:"error-juicebox-recover",reason:v.reasonCode,guessesRemaining:v.guessesRemaining}:{type:"error-juicebox-recover",reason:"unknown"}}if(f.every(v=>v===0))return{type:"error-juicebox-share-zero"};let g;try{g=await Yl({encryptedAccounts:l.encryptedAccounts,encryptionKey:l.encryptionKey,decryptionKeySharePhantom:l.decryptionKeyShare1,decryptionKeyShareExternal:Ke.from(f)})}catch(v){let S;return v instanceof eo?S=v.reason:S="unknown",{type:"error-decrypt-accounts",reason:S}}if(g.length===0)return{type:"error-no-entropies"};let b=await dd(e,{seedlessEntropy:g[0],pin:o,currentConfigHash:l.id});return t.emitRotationResult(b),{type:"success",entropy:g[0]}};var gr,Fn,Qf=e=>{let t=new Ln,o=new ii,r={recover:s=>o.runExclusive(async()=>await md(e,s,t)),verifyPin:s=>o.runExclusive(async()=>await ey(e,s,t))},n=new ii;return{backup:s=>Yf(e,s),backupCleanup:()=>Xf(),...r,resetBundleFromDevice:(s,a)=>Zf(e,s,a),hasSeedlessBundle:()=>fd(e),deleteBundle:()=>yd(e),needsBundleUpdate:()=>ty(e),timeLeftCooldown:()=>oy(e),getPinVerificationTimer:({timerInMs:s,mock:a})=>ry({...e,timerInMs:s,mock:a}),setPinVerificationTimer:s=>ny(e,s),...{getDeviceEncryptionKey:()=>n.runExclusive(async()=>await iy(e))},generateDeviceEncryptionKey:hd,setDeviceEncryptionKey:s=>xd(e,s),deleteDeviceEncryptionKey:()=>sy(e),getOrCreateSeedlessDeviceID:()=>bd(e),subscribe:(s,a)=>t.subscribe(s,a)}},as={},Yf=async(e,t)=>{if(!gt(t))throw new Error("Invalid PIN provided. Only numbers are accepted.");return await vd(e),pd(e,t,[Fn])},Xf=async()=>{Fn=void 0,gr=void 0},Zf=async(e,t,o)=>{if(!gt(t))throw new Error("Invalid PIN provided. Only numbers are accepted.");return await yd(e),await vd(e),pd(e,t,o)},pd=async(e,t,o)=>{if(!gt(t))throw new Error("Invalid PIN provided. Only numbers are accepted.");if(!gr)throw new Error("bundle encryption key should be set");let r=await e.authRepository.getUser();if(!r)throw new Error("User is not logged in");let{accessToken:n}=r,i=Nt(vo());if(await fd(e,i))return{entropy:o[0]};let a=gr.fold(y=>new Uint8Array(y)),c=await In(a,o),l=await c.decryptionKeyShareExternal.fold(y=>new Uint8Array(y));if(!await(await e.juiceboxClient()).sendJuiceboxShare(vo(),l,t,n))throw new Error("Failed to send share to Juicebox");if(!await Sn(c,i,n))throw new Error("Failed to backup bundle to backend");return J.captureMessage("S**dless: Successful Backup \u2705","se*dless","info"),{entropy:o[0]}},md=async(e,t,o)=>{let r=await ud(e,o,{pin:t});if(o.emitRecoverResult(r),r.type!=="success")throw new Ho(r);return{entropy:r.entropy}},ey=async(e,t,o)=>{await md(e,t,o)},fd=async({authRepository:e},t="latest")=>{let o=await e.getUser();if(!o)throw new Error("User is not logged in, cannot check for se*dless bundle");let{accessToken:r}=o;return await Al(t,r)},ty=async({authRepository:e})=>{let t=await e.getUser();if(!t)throw new Error("User is not logged in, cannot check for seedless bundle update");let{accessToken:o}=t,r,n=Nt(vo());try{r=await Tn("latest",o)}catch(s){if(s instanceof Error&&s.message==="bundle not found")return!1;throw s}return!!Bn()[r.id]&&r.id!==n},yd=async({authRepository:e})=>{let t=await e.getUser();if(!t)throw new Error("User is not logged in, cannot delete seedless bundle");let{accessToken:o}=t,r=Nt(vo());return await Cn(r,o)},oy=async({storage:e})=>await yr(e),ry=async({storage:e,timerInMs:t,mock:o})=>{let r=Date.now(),n=await e.get("seedlessPinVerificationLockTimerInMs")??Date.now();return o?{expired:r>=3e5,timestampInMs:n}:{expired:r>=n+(t??2592e6),timestampInMs:n}},ny=async({storage:e},t)=>{await e.set("seedlessPinVerificationLockTimerInMs",t)},cs=async e=>(await e.get("seedlessDeviceID"))?.deviceID??null,gd=async(e,t)=>{await e.set("seedlessDeviceID",{version:1,deviceID:t})},hd=()=>{let e=fr(32);try{return Promise.resolve(Ke.from(e))}finally{e.fill(0)}},bd=async({storage:e})=>{let t=await cs(e);return t||(t=Kn(),await gd(e,t)),t},iy=async e=>{let{authRepository:t}=e,o=await t.getUser();if(!o)throw new Error("User not logged in, cannot retrieve device encryption key.");let r=await bd(e),n=as[r];if(n)return n;let i=await Hi(o.accessToken,r);return i||(i=await hd(),await xd(e,i)),as[r]=i,i},xd=async({authRepository:e,storage:t},o)=>{let r=await e.getUser();if(!r)throw new Error("User not logged in, cannot set device encryption key.");let n=await cs(t);return n||(n=Kn(),await gd(t,n)),await Il(r.accessToken,n,o),as[n]=o,o},sy=async({authRepository:e,storage:t})=>{let o=await e.getUser();if(!o)throw new Error("User not logged in, cannot delete device encryption key.");let r=await cs(t);if(!r)return null;let n=await Hi(o.accessToken,r);return n?(await Ll(o.accessToken,r),n):null},vd=async({mnemonicProvider:e})=>{Fn||(Fn=await e()),gr||(gr=new Ke(fr(32)))};var te=A(I());d();u();var we=A(I());d();u();var $t=A(Iu());var cC=async()=>{let e=It("hasOnboarded"),t=await At($t.default.runtime,e);if("error"in t)throw new Error(t.error.message);return t.result},lC=async()=>{let e=It("resetHasOnboarded"),t=await At($t.default.runtime,e);if("error"in t)throw new Error(t.error.message);return t.result},dC=async e=>{let t=It("unlockExtension",e),o=await J.startSpan({name:"unlockExtension"},()=>At($t.default.runtime,t));if("error"in o)throw new Error(o.error.message);if(!o.result)throw new Error("Missing unlock extension response.");let{isUnlocked:r,migrationResult:n}=o.result;if(r===void 0)throw new Error("Missing isUnlocked in unlock response.");if(n===void 0)throw new Error("Missing migrationResult in unlock response.");switch(n){case"success":await Mr.invalidateQueries({refetchType:"all"});break;case"no-migration":case"failure":break;default:Is(n)}return{isUnlocked:r,migrationResult:n}},uC=async()=>{let e=It("IsExtensionUnlocked"),t=await J.startSpan({name:"isExtensionUnlocked"},()=>At($t.default.runtime,e));if("error"in t)throw new Error(t.error.message);return t.result},pC=async()=>{let e=It("lockExtension"),t=await J.startSpan({name:"lockExtension"},()=>At($t.default.runtime,e));if("error"in t)throw new Error(t.error.message);return t.result},mC=async e=>{let t=It("setPassword",e),o=await J.startSpan({name:"setPassword"},()=>At($t.default.runtime,t));if("error"in o)throw new Error(o.error.message);return o.result},wd=async e=>{let t=It("verifyPassword",e),o=await J.startSpan({name:"verifyPassword"},()=>At($t.default.runtime,t));if("error"in o)throw new Error(o.error.message);return o.result},fC=async e=>{let t=It("updatePassword",e),o=await J.startSpan({name:"updatePassword"},()=>At($t.default.runtime,t));if("error"in o)throw new Error(o.error.message);return o.result};var Sd="Incorrect password",Td=we.default.memo(({type:e,onSuccess:t})=>{let o=(0,we.useRef)(null),r=(0,we.useRef)(null),[n,i]=(0,we.useState)(""),[s,a]=(0,we.useState)(!1),c=(0,we.useCallback)(v=>{v.preventDefault();let S=r.current?.selectionStart||0,E=r.current?.selectionEnd||0;S<E&&r.current?.setSelectionRange(E,E),a(P=>!P)},[]),{t:l}=U(),p=e==="privateKey",m=e==="seedless",f=l(p?"exportSecretPrivateKey":m?"exportSecretPIN":"exportSecretRecoveryPhrase"),y=l(p?"exportSecretShowPrivateKey":m?"exportSecretResetPin":"exportSecretShowSecretRecoveryPhrase"),g=(0,we.useCallback)(async({value:v})=>{try{if(!await wd(v))throw new Error(Sd);return{status:"pass"}}catch(S){return{status:"fail",message:S.message.includes(Sd)?l("exportSecretErrorIncorrectPassword"):l("exportSecretErrorGeneric")}}},[l]),b=(0,we.useCallback)(async v=>{v.preventDefault(),(await o.current?.validate())?.status==="pass"?t(Ke.from(new Uint8Array(Buffer.from(n)))):r.current?.select()},[t,n]);return we.default.createElement(we.default.Fragment,null,we.default.createElement($r,{shouldWrap:!0},y),we.default.createElement(w,{flex:1,width:"100%",gap:56,alignItems:"center",asChild:!0},we.default.createElement("form",{onSubmit:b},we.default.createElement(w,{flex:1,width:"100%",maxWidth:320,justifyContent:"center",alignItems:"center",gap:"section"},we.default.createElement(xa,{icon:"ShieldWarning",size:64,backgroundColor:"accentAlert",shape:"circle"}),we.default.createElement(F,{align:"center",font:"body",color:"textSecondary",children:l("exportSecretPasswordHeading",{secretNameText:f})}),we.default.createElement(va,{autoFocus:!0,ref:o,inputRef:r,value:n,setValue:i,id:"password",type:s?"text":"password",placeholder:l("exportSecretPassword"),validateOn:"command",validator:g,shakeOnInvalid:!0,selectOnFocus:!0,label:l("unlockEnterPassword"),showLabel:!1,clearButton:"never",end:we.default.createElement(Br,{icon:"Eye",onMouseDown:c,onMouseUp:c,onFocus:c,onBlur:c,label:l("revealPassword"),disabled:!n,backgroundColor:{hover:"borderSecondary",active:"bgButton",focusVisible:"bgButton"},color:{base:"textSecondary",hover:"textPrimary",active:"accentPrimary",focusVisible:"accentPrimary"}})})),we.default.createElement(St,null,we.default.createElement(Je,{theme:"secondary",type:"submit",disabled:!n,testID:"primary-button"},l("commandContinue"))))))});d();u();var Me=A(I());d();u();var Vt={content:"_9vsidt1 _51gazn1z _51gazn3i _51gazn19j _51gazn1h8 _51gazn6k",w100:"_51gazn19j",pinInputContainer:"_51gazn1kn _51gazn1jn _51gaznji",pinInput:"_9vsidt5 _51gazn3dx _51gazn1ux _51gazn2 _51gazn19j",buttonWrapper:"_9vsidt6",textButton:"t8qixv0 t8qixv1 t8qixv6 t8qixve _51gazn67 _51gazn4o _51gazn7q _51gazn35 _51gazn1hf _51gazn1ja _51gazn1jn _51gazn19j _51gazn4fw _51gazn3d3 _51gazn38y",flexNone:"_51gazn1me",table:"_51gazn1if _51gaznji _51gazn1dp",toastPosition:"_9vsidta",errorTextContainer:"_51gazn1kn _51gazn1ja",errorTextSeparation:"_51gaznat",navigationHeader:"_51gazn1ja _51gazn1kn _51gazn1jr _51gazn19j"};var cy=(0,Me.memo)(({pin:e,setPin:t,onReset:o,disabled:r,confirmButtonText:n,title:i,description:s})=>Me.default.createElement(w,{flex:1},Me.default.createElement($r,null,i),Me.default.createElement(w,{marginY:28,gap:8},Me.default.createElement(F,{align:"center",font:"body",color:"textSecondary",children:s})),Me.default.createElement(w,{className:Vt.pinInputContainer},Me.default.createElement(Rr,{className:Vt.pinInput,value:e,onChange:t,maxLength:4,placeholder:"\u2022\u2022\u2022\u2022",color:Ne.colors.legacy.textPrimary,type:"password",inputMode:"numeric",borderRadius:"16px"})),Me.default.createElement(w,{marginTop:"auto"},Me.default.createElement(St,null,Me.default.createElement(Je,{theme:"primary",children:n,onClick:o,disabled:r}))))),Cd=({seedlessMetas:e,password:t,onVerifyCallback:o})=>{let{t:r}=U(),{popDetailView:n}=ke(),i=(0,Me.useCallback)(()=>{n(),n(),o&&o()},[n,o]),s=$i({t:r,seedlessMetas:e,onExportEntropy:(0,Me.useCallback)(async()=>await Promise.all(e.map(async function(a){let c=a.identifier;return await t.foldAsync(l=>za(Buffer.from(l).toString("utf-8"),c))})),[e,t]),onResetCallback:i,onSuccess:(0,Me.useCallback)(()=>Te.success(r("seedlessResetPinSuccessText")),[r]),onError:(0,Me.useCallback)(()=>Te.error(r("localizedErrorUnknownError")),[r])});return Me.default.createElement(cy,{...s,title:r("seedlessResetPinPrimaryText"),setPin:a=>s.setPin(a.target.value)})};var ly=(0,te.memo)(({pin:e,isInvalidPin:t,triesLeft:o,setPin:r,onVerify:n,onDismissed:i,onForgot:s,disabled:a,title:c,description:l,confirmButtonText:p,forgotButtonText:m})=>te.default.createElement(w,{flex:1,padding:"screen"},te.default.createElement(w,{className:Vt.navigationHeader},te.default.createElement("a",{href:xi,target:"_blank",rel:"noopener noreferrer"},te.default.createElement(ge.HelpCircle,{size:20,color:"white"})),te.default.createElement(Br,{label:"close",onClick:i,icon:"X",color:"white",backgroundColor:"bgWallet",shape:"circle"})),te.default.createElement(w,{marginY:28,gap:8},te.default.createElement(F,{align:"center",font:"heading3Semibold",children:c}),te.default.createElement(F,{align:"center",font:"body",color:"textSecondary",children:l})),te.default.createElement(w,{className:Vt.pinInputContainer},te.default.createElement(Rr,{className:Vt.pinInput,value:e,onChange:f=>r(f.target.value),maxLength:4,placeholder:"\u2022\u2022\u2022\u2022",color:Ne.colors.legacy.textPrimary,type:"password",inputMode:"numeric",borderRadius:"16px"})),t?te.default.createElement(w,null,te.default.createElement(w,{className:Vt.errorTextContainer,gap:4},te.default.createElement(w,null,te.default.createElement(ge.XCircle,{size:14,color:"accentAlert"})),te.default.createElement(F,{color:"accentAlert",font:"label",children:Qo("seedlessEnterPinInvalidPinError")})),te.default.createElement(w,{className:Vt.errorTextContainer,gap:4},o?te.default.createElement(F,{marginLeft:"screen",color:"accentAlert",font:"label",children:Qo("seedlessEnterPinNumTriesLeft",{numTries:o})}):null)):null,te.default.createElement(w,{marginTop:"auto"},te.default.createElement(St,null,te.default.createElement(Je,{children:m,onClick:s}),te.default.createElement(Je,{children:p,onClick:n,disabled:a}))))),Pd=()=>{let{handleHideModalVisibility:e}=ne(),{pushDetailView:t,pushDetailViewCallback:o}=ke(),{t:r}=U(),{data:n=[]}=Vs("recoverable-only"),i=(0,te.useCallback)(()=>{e("seedlessVerifyPinPage")},[e]),s=(0,te.useCallback)(()=>{e("seedlessVerifyPinPage"),he.capture("seedlessVerifyPinDismissed")},[e]),a=(0,te.useCallback)(p=>{t(te.default.createElement(w,{paddingX:"screen",paddingBottom:"screen",height:"100%"},te.default.createElement(Cd,{password:p,seedlessMetas:n,onVerifyCallback:i})))},[t,n,i]),c=o(te.default.createElement(w,{paddingX:"screen",paddingBottom:"screen",height:"100%"},te.default.createElement(Td,{type:"seedless",onSuccess:a}))),l=Ui({t:r,onVerifyCallback:i,onForgot:c,onSuccess:(0,te.useCallback)(()=>Te.success(r("seedlessVerifyToastSuccessText")),[r]),onError:(0,te.useCallback)(p=>Te.error(p??r("localizedErrorUnknownError")),[r])});return(0,te.useEffect)(()=>{he.capture("seedlessVerifyPinOpen")},[]),te.default.createElement(ly,{...l,onDismissed:s})};d();u();var Ce=A(I());d();u();var ze=A(I());d();u();var V=A(I());var dy=74,uy=22,ls=10,py=dy+ls,my=uy+2*ls,Ed=C.div`
  display: flex;
  flex-direction: column;
  flex: 1;
`,Ad=C.div`
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`,kd=C.div`
  margin-bottom: 16px;
`,fy=C.div``,yy=C.div`
  flex: 1 1 auto; // https://github.com/bvaughn/react-virtualized-auto-sizer#can-i-use-this-component-with-flexbox
`,gy=()=>V.default.createElement(fy,null,[...Array(4)].map((e,t)=>V.default.createElement(cc,{key:`row-loader-${t}`,hideTextRight:!0}))),hy=V.default.memo(({localizedError:e})=>V.default.createElement(Ad,null,V.default.createElement(tr,null,e.message))),by=V.default.memo(({text:e})=>V.default.createElement(Ad,null,V.default.createElement(tr,null,e))),xy=({title:e,iconUrl:t,button:o})=>V.default.createElement(w,{direction:"row",paddingY:ls,backgroundColor:"bgWallet",justifyContent:"space-between"},V.default.createElement(w,{direction:"row"},t?V.default.createElement(w,{marginRight:8},V.default.createElement(Tt,{src:t})):null,V.default.createElement(F,{children:e,font:"bodyMedium"})),o?V.default.createElement(F,{children:o.label,font:"labelSemibold",color:"textSecondary",onPress:o.onClick}):null),vy=({localizedError:e,isFetching:t,filterKey:o,initialFilterKey:r,filterLabels:n=[],alwaysShowFilters:i=!1,emptyListCopy:s="",sections:a,searchRef:c,renderItem:l,keyExtractor:p,setSearchQuery:m})=>{let[f,y]=(0,V.useState)(""),g=(0,V.useRef)(null),b=(0,V.useRef)(null),{t:v}=U(),S=v("assetListSearch"),E=Aa(c),P=(0,V.useMemo)(()=>!o||n.length===0||f===rr?a:a.map(T=>({...T,data:T.data.filter(k=>Ls(k,o)===f)})),[f,a,o,n.length]);(0,V.useEffect)(()=>{setTimeout(()=>b.current?.focus(),200)},[]),(0,V.useEffect)(()=>{g.current?.resetAfterIndex(0,!0),E!==c&&g.current?.scrollTo(0,0)},[P,c]),(0,V.useEffect)(()=>{let T=g.current;return T&&T.scrollTop!==0&&(T.scrollTop=0),()=>{T?.current&&(T.current=null)}},[f]);let _=(0,V.useCallback)(T=>{m?.(T.currentTarget.value)},[m]),N=(0,V.useMemo)(()=>P.reduce((T,k)=>{if(k.header&&k.data.length>0){let R={data:k.header,type:"header"};T.push(R)}let Q=k.data.map(R=>({data:R,type:"data"}));return T.concat(Q)},[]),[P]),j=(0,V.useMemo)(()=>o&&n.length>0?dc({data:a.flatMap(T=>T.data),activeFilterId:f,filterKey:o,filterLabels:n,alwaysShowFilters:i}):[],[f,n,o,i,a]);(0,V.useEffect)(()=>{if(f||j.length===0)return;let T=j.find(k=>k.id===r);y(T?.id??j[0].id)},[j,r,f]);let D=j.length>2||j.length===2&&!j.find(T=>T.id===rr),X=(0,V.useCallback)(({index:T,style:k,data:Q})=>{let R=Q[T];return R?.type==="header"?V.default.createElement("div",{key:`list-title-${R.data.title}`,style:k},V.default.createElement(xy,{...R.data})):V.default.createElement("div",{key:p(R.data,T),style:k},l({item:R.data,index:T}))},[p,l]),$=(0,V.useMemo)(()=>N.length===0?()=>V.default.createElement(by,{text:s}):void 0,[s,N.length]),K=(0,V.useCallback)(T=>N[T].type==="header"?my:py,[N]);return e?V.default.createElement(Ed,null,V.default.createElement(hy,{localizedError:e})):V.default.createElement(Ed,null,V.default.createElement(kd,null,V.default.createElement(sc,{ref:b,tabIndex:0,placeholder:S,onChange:_,maxLength:Ds})),D&&V.default.createElement(kd,null,V.default.createElement(lc,{onPress:y,filters:j})),t?V.default.createElement(gy,null):V.default.createElement(yy,null,V.default.createElement(wa,null,({height:T,width:k})=>V.default.createElement(Ia,{ref:g,innerElementType:$,height:T,itemSize:K,itemData:N,itemCount:N.length,width:k},X))))},Id=V.default.memo(vy);d();u();var xe=A(I());var wy=74,Sy=C(Lt).attrs({align:"center",padding:"15px"})`
  cursor: pointer;
  background-color: #2a2a2a;
  border-radius: ${Ne.radiusRow};
  height: ${wy}px;
  &:hover {
    background-color: #333;
  }
`,Ty=C.figure`
  margin-right: 10px;
`,Cy=C.div`
  margin-left: 10px;
  position: relative;
`,Ld=C(Lt).attrs({justify:"space-between"})``,Py=C.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`,Bd=C(Z).attrs({textAlign:"left"})`
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;
  word-break: break-all;
`,Ey=B({marginLeft:4}),Fd=xe.default.memo(e=>{let{tokenAddress:t,walletAddress:o,balance:r,chainMetadata:n,currencyValue:i,currencyChange:s,isLoadingPrices:a,logoUri:c,name:l,onClick:p,onMouseEnter:m,showCurrencyValues:f=!0,hideEmptyCurrency:y=!1,enableAnimations:g=!1,showBalance:b=!0,symbol:v,type:S,tooltip:E,spamStatus:P,visibilityOverrideValue:_,accessory:N}=e,j=t?so(t):void 0,D=v??j??"",X=i!==void 0?xe.default.createElement(Qe,{font:"captionMedium",value:i,minimumResolutionValue:.01,intlNumberFormatOptions:Xo}):y?"":"\u2013",$=s!==void 0?xe.default.createElement(Qe,{signConfig:"always",color:"sentiment",font:"captionMedium",value:s,minimumResolutionValue:.01,intlNumberFormatOptions:Xo}):y?"":"-",K=b?`${Pr(r)} ${D}`:D,T=`${v??(t&&so(t))}`,k=`fungible-token-row-${qe.getChainName(n.id).toLowerCase()}-${T}`;o&&Ns(n.id,o)&&(k+=`-${Fs(n.id,o)}`);let Q=Xs(_,{spamStatus:P})==="POSSIBLE_SPAM";return xe.default.createElement(Sy,{"data-testid":k,onMouseEnter:m,onClick:p,role:"button"},xe.default.createElement(Ty,null,xe.default.createElement(lo,{enableAnimations:g,image:{type:"fungible",src:c,fallback:v||t},tokenType:S,chainMeta:n})),xe.default.createElement(Py,null,xe.default.createElement(Ld,{margin:"0 0 2.5px 0"},xe.default.createElement(pc,{networkID:n.id,walletAddress:o},xe.default.createElement(xe.default.Fragment,null,xe.default.createElement(Bd,{size:16,weight:600,lineHeight:19},l),Q?xe.default.createElement(ja,{className:Ey,fill:Ne.colors.legacy.accentWarning,height:16,width:16}):null)),f?a?xe.default.createElement(po,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:"#484848"}):xe.default.createElement(xe.default.Fragment,null,X):null),xe.default.createElement(Ld,{margin:"2.5px 0 0 0"},xe.default.createElement(Bd,{size:14,lineHeight:17,color:"#777777"},K),f?a?xe.default.createElement(po,{width:"35px",height:"8px",borderRadius:"8px",backgroundColor:"#484848"}):xe.default.createElement(xe.default.Fragment,null,$):null)),N,E&&E.visible&&xe.default.createElement(Cy,null,xe.default.createElement(Ca,{alignment:"left",index:0,content:E.content,bottomOffset:E.bottomOffset},xe.default.createElement(qa,null))))}),Dd=(e,t)=>{let{balance:o,chain:r,name:n,symbol:i,logoUri:s,tokenAddress:a,usd:c,usd_24h_change:l,walletAddress:p,spamStatus:m,key:f}=e.data,y=n||Qo("assetDetailUnknownToken"),g=t?.get(f);return{balance:o,chainMetadata:r,currencyChange:l,currencyValue:c,logoUri:s,name:y,symbol:i,tokenAddress:a,walletAddress:p,spamStatus:m,visibilityOverrideValue:g,type:e.type}};var Md="data.chain.id",Ay={iconContainer:B({marginLeft:10})},Iy=ze.default.memo(({fungible:e,index:t,onFungiblePress:o,onInfoPress:r,showCurrencyValues:n,hideEmptyCurrency:i,showInfoTooltip:s,visibilityOverrides:a=new Map})=>{let c=(0,ze.useCallback)(()=>{o(e,t)},[e,o,t]),l=(0,ze.useMemo)(()=>ze.default.createElement("div",{className:Ay.iconContainer,onClick:r?p=>r(p,e):void 0},ze.default.createElement(ge.InfoCircle,{size:12})),[e,r]);return ze.default.createElement(Fd,{...Dd(e,a),onClick:c,showCurrencyValues:n,hideEmptyCurrency:i,isLoadingPrices:!1,accessory:s?l:null})}),ds=ze.default.memo(({onFungiblePress:e,onInfoPress:t,direction:o,showCurrencyValues:r=!1,hideEmptyCurrency:n=!1,showInfoTooltip:i=!0,bottomOffset:s,...a})=>{let{data:c}=rt(),{data:l}=na(c?.identifier??""),p=Fr(),m=(0,ze.useCallback)(({item:b,index:v})=>ze.default.createElement(Iy,{fungible:b,index:v,visibilityOverrides:l,onFungiblePress:e,onInfoPress:t,showCurrencyValues:r,hideEmptyCurrency:n,showInfoTooltip:i,listBottomOffset:s}),[l,e,t,r,n,i,s]),f=Us(),y=(0,ze.useMemo)(()=>[o==="sell"?{id:rr,label:ee.t("allFilter")}:null,...f.filter(p).map(b=>({id:b,label:qe.getChainName(b)}))].filter(As),[o,f,p]),g=o==="sell"?ee.t("swapNoAssetsFound"):ee.t("swapNoTokensFound");return a.enableLiveSearch?ze.default.createElement(Id,{...a,sections:a.sections??[],renderItem:m,fuseOptions:Yn,keyExtractor:Qn,filterKey:Md,filterLabels:y,alwaysShowFilters:o==="buy",emptyListCopy:g,setSearchQuery:a.setSearchQuery}):ze.default.createElement(uc,{...a,data:a.data??[],renderItem:m,fuseOptions:Yn,keyExtractor:Qn,filterKey:Md,filterLabels:y,alwaysShowFilters:o==="buy",emptyListCopy:g,enableLiveSearch:a.enableLiveSearch})});d();u();var Nd=A(I());var Ly={ugcWarning:"ugcWarning"},Od=()=>{let{handleShowModalVisibility:e}=ne();return(0,Nd.useCallback)(t=>{let o=Ly[t];if(!o)throw new Error(`Select interceptor modal not found or configured for ${t}.`);e(o)},[e])};d();u();var Dn={assetSelectionContainer:"_51gazn1hf _51gazn1km _51gaznvi _51gazn1b2 _51gazn19j",fullWidthDetailView:"_51gaznfe _51gazncg _51gaznic _51gazn9i _51gazn1if"};var By=84,Fy=()=>{let{t:e}=U(),t=Ve(),{handleHideModalVisibility:o}=ne(),{setSearchQuery:r}=Lo(),{pushDetailView:n}=ke(),{executeInterceptors:i}=_a(),s=Od(),a=Ma(),c=(0,Ce.useCallback)((m,f)=>{switch(t.capture("swapperAssetSelectionClosed",{data:{assetSelected:!0,name:m.data.name??"",symbol:m.data.symbol??"",tokenAddress:m.data.tokenAddress??"",tokenType:m.type,networkId:m.data.chain.id,type:"buy",searchQuery:Lo.getState().searchQuery,numSearchResults:Lo.getState().numSearchResults,searchRank:f}}),i(m,s)){case"interrupt":break;case"continue":r(""),a(m),o("swapBuyAssetSelect");break}},[t,i,s,r,a,o]),l=(0,Ce.useCallback)(()=>{t.capture("swapperAssetSelectionClosed",{data:{assetSelected:!1,type:"buy",searchQuery:Lo.getState().searchQuery,numSearchResults:Lo.getState().numSearchResults}}),r(""),o("swapBuyAssetSelect")},[t,o,r]),p=(0,Ce.useCallback)((m,f)=>{let{key:y,name:g}=f.data,b=ko(Io(f));n(Ce.default.createElement("div",{className:Dn.fullWidthDetailView},Ce.default.createElement(hr,{caip19:b,fungibleKey:y,title:g??void 0,entryPoint:"swapperSearch"}))),m.stopPropagation()},[n]);return{t:e,onClose:l,onSelect:c,onInfoPress:p}},Dy=()=>{let e=Fy(),{assets:t,initialFilterKey:o,isFetching:r,error:n,searchRef:i,setSearchQuery:s}=Da();return{sections:Ua(t),initialFilterKey:o,isFetching:r,error:n,searchRef:i,setSearchQuery:s,...e}},My=Ce.default.memo(()=>{let{error:e,initialFilterKey:t,isFetching:o,onClose:r,onInfoPress:n,onSelect:i,sections:s,searchRef:a,setSearchQuery:c,t:l}=Dy();return Ce.default.createElement("div",{className:Dn.assetSelectionContainer},Ce.default.createElement(ds,{sections:s??[],isFetching:o,localizedError:e,onFungiblePress:i,onInfoPress:n,initialFilterKey:t,showCurrencyValues:!0,hideEmptyCurrency:!0,showInfoTooltip:!0,direction:"buy",bottomOffset:By,enableLiveSearch:!0,setSearchQuery:c,searchRef:a}),Ce.default.createElement(pt,null,Ce.default.createElement(Ye,{onClick:r},l("commandClose"))))}),_d=()=>Ce.default.createElement(Oa,null,Ce.default.createElement(My,null)),Ny=()=>{let{t:e}=U(),t=Ve(),{handleHideModalVisibility:o}=ne(),{assets:r,isLoading:n,error:i}=Fa({enablePrices:!0,enableSorting:!0}),s=Na(),a=(0,Ce.useCallback)(l=>{t.capture("swapperAssetSelectionClosed",{data:{assetSelected:!0,symbol:l.data.symbol??"",networkId:l.data.chain.id,type:"sell"}}),s(l),o("swapSellAssetSelect")},[t,o,s]),c=(0,Ce.useCallback)(()=>{t.capture("swapperAssetSelectionClosed",{data:{assetSelected:!1,type:"sell"}}),o("swapSellAssetSelect")},[t,o]);return{assets:r,isFetching:n,error:i,onClose:c,onSelect:a,t:e}},Oy=Ce.default.memo(({assets:e,isFetching:t,error:o,onClose:r,onSelect:n,t:i})=>Ce.default.createElement("div",{className:Dn.assetSelectionContainer},Ce.default.createElement(ds,{data:e??[],isFetching:t,localizedError:o,onFungiblePress:n,showCurrencyValues:!0,showInfoTooltip:!1,searchRef:"",direction:"sell"}),Ce.default.createElement(pt,null,Ce.default.createElement(Ye,{onClick:r},i("commandClose"))))),Ud=()=>{let e=Ny();return Ce.default.createElement(Oy,{...e})};var _y=(0,h.lazy)(()=>import("./ActivityItemDetail-ADWWGWUI.js")),Uy=(0,h.lazy)(()=>import("./PendingTransactionDetail-PQSGWFEZ.js")),$y=(0,h.lazy)(()=>import("./ApproveUnwrapFungible-RLMDYQVV.js")),Vy=(0,h.lazy)(()=>import("./SendFungibleFormPage-6JTBJZJM.js")),Ry=(0,h.lazy)(()=>import("./SendFungibleSelectPage-ILRGOTLL.js")),zy=(0,h.lazy)(()=>import("./SwapSettings-Y3DGCTED.js")),Hy=(0,h.lazy)(()=>import("./SwapPricing-TG6Q5IWA.js")),Wy=(0,h.lazy)(()=>import("./CollectiblesVisibilityPage-2ADR55GG.js")),jy=(0,h.lazy)(()=>import("./NetworkHealth-HDDF56VQ.js")),Ky=(0,h.lazy)(()=>import("./WarningInfoModal-QYXK77JH.js")),qy=(0,h.lazy)(()=>import("./ShortcutsModal-T5IYKTPC.js")),Jy=(0,h.lazy)(()=>import("./Modal-SX4WMNHO.js")),Gy=(0,h.lazy)(()=>import("./InsufficientBalance-MTII4FLL.js")),Qy=(0,h.lazy)(()=>import("./AdditionalPermissions-T6VZXEEI.js")),Yy=(0,h.lazy)(()=>import("./BitcoinAddressTypes-XIJTUF7C.js")),Xy=(0,h.lazy)(()=>import("./ForceUpgrade-HHN2RGEQ.js")),Zy=(0,h.lazy)(()=>import("./InstantSellSummary-67GSX6UP.js")),eg=(0,h.lazy)(()=>import("./FiatRampFungiblesPage-52WSGWSU.js")),tg=(0,h.lazy)(()=>import("./FungibleVisibilityPage-OYUXONII.js")),og=(0,h.lazy)(()=>import("./ReceivePage-4NKWGDVL.js")),rg=(0,h.lazy)(()=>import("./SendCollectibleFormPage-VGQ2SQ7J.js")),ng=(0,h.lazy)(()=>import("./ConvertToJitoSOLInfoPage-XZ6WKGCB.js")),ig=(0,h.lazy)(()=>import("./ConvertStakeAccountListPage-OADAMI7Y.js")),sg=(0,h.lazy)(()=>import("./ConvertStakeAccountStatusPage-LDYUEKSI.js")),ag=(0,h.lazy)(()=>import("./StakingMethodSelectionPage-GJ3BCJJ4.js")),cg=(0,h.lazy)(()=>import("./MintJitoSOLInfoPage-OWNTVHUJ.js")),lg=(0,h.lazy)(()=>import("./MintLiquidStakeAmountPage-Y7VHCJZT.js")),dg=(0,h.lazy)(()=>import("./MintLiquidStakeStatusPage-TJX53BSK.js")),ug=(0,h.lazy)(()=>import("./SwapProvidersPage-OWC7CG67.js")),pg=(0,h.lazy)(()=>import("./SwapReviewPage-DI3SGJAZ.js")),mg=(0,h.lazy)(()=>import("./SwapConfirmationPage-5I6FFVFF.js")),fg=(0,h.lazy)(()=>import("./SwapTermsOfServicePage-FOFQ5JTK.js")),yg=(0,h.lazy)(()=>import("./ClaimUsernameIntroPage-Z65QMSVD.js")),gg=(0,h.lazy)(()=>import("./SearchPage-EZU6F7CV.js")),hg=(0,h.lazy)(()=>import("./UGCTradeWarning-32QWKXE7.js")),bg=(0,h.lazy)(()=>import("./AutoSlippageOptIn-42GW6HKW.js")),G=e=>({...e,visibility:!1,render:function(t){return h.default.createElement(rl,{isOpen:this.visibility,isFullScreen:this.fullScreen,presentationStyle:this.presentationStyle,headerHeight:this.fullScreen?0:void 0},h.default.createElement(h.Suspense,null,e.render(t)))}}),xg=e=>({...e,visibility:!1,render:function(t){let o=()=>Mn.getState().handleHideModalVisibility(this.modalName);return h.default.createElement(il,{rootId:"root",isOpen:this.visibility,onClose:o,detent:this.detent},h.default.createElement(go.Container,null,h.default.createElement(go.Header,null,h.default.createElement(sl,null)),h.default.createElement(go.Content,{disableDrag:!0},e.render(t),h.default.createElement(Ye,{onClick:()=>Mn.getState().handleHideModalVisibility(this.modalName)},ee.t("commandClose")))),h.default.createElement(go.Backdrop,{onTap:o}))}}),vg={fungibleVisibility:G({render:function(){return h.default.createElement(me,null,h.default.createElement(tg,null))}}),sendFungibleForm:G({render:function(){return h.default.createElement(me,null,h.default.createElement(Vy,null))}}),sendFungibleSelect:G({render:function(){return h.default.createElement(me,null,h.default.createElement(Ry,null))}}),collectiblesVisibility:G({render:function(){return h.default.createElement(me,null,h.default.createElement(Wy,null))}}),networkHealth:G({render:function(e){return e?h.default.createElement(jy,{...e}):null}}),instantSell:G({render:function(e){return e?h.default.createElement(me,null,h.default.createElement(Zy,{...e})):null}}),insufficientBalance:G({render:function(e){return h.default.createElement(me,null,h.default.createElement(Gy,{...e}))}}),approveUnwrapFungible:G({render:function(e){return h.default.createElement(me,null,h.default.createElement($y,{...e}))}}),interstitial:G({fullScreen:!0,render:function(e){return h.default.createElement(nl,{...e})}}),claimUsername:G({fullScreen:!0,render:function(){return h.default.createElement(me,null,h.default.createElement(yg,null))}}),shortcutsSheet:xg({detent:"content-height",modalName:"shortcutsSheet",render(e){return h.default.createElement(qy,{...e})}}),callToActionSheet:G({fullScreen:!0,render(e){return h.default.createElement(Jy,{...e})}}),receive:G({render(e){return h.default.createElement(me,null,h.default.createElement(og,{...e}))}}),onramp:G({render:function(){return h.default.createElement(me,null,h.default.createElement(eg,null))}}),swapSellAssetSelect:G({render:function(){return h.default.createElement(me,null,h.default.createElement(Ud,null))}}),swapBuyAssetSelect:G({render:function(){return h.default.createElement(me,null,h.default.createElement(_d,null))}}),swapProviders:G({render:function(){return h.default.createElement(ug,null)}}),swapReview:G({fullScreen:!0,render:function(){return h.default.createElement(me,null,h.default.createElement(pg,null))}}),swapConfirmation:G({fullScreen:!0,render:function(){return h.default.createElement(mg,null)}}),swapTermsOfService:G({fullScreen:!0,render:function(){return h.default.createElement(fg,null)}}),txSubmissionCheckFailure:G({fullScreen:!0,render:function(e){return h.default.createElement(me,null,h.default.createElement(Ky,{...e}))}}),additionalPermissions:G({fullScreen:!0,render:()=>h.default.createElement(Qy,null)}),bitcoinAddressTypes:G({fullScreen:!0,render:()=>h.default.createElement(Yy,null)}),sendCollectibleForm:G({render:()=>h.default.createElement(me,null,h.default.createElement(rg,null))}),swapSettings:G({fullScreen:!0,render:function(){return h.default.createElement(me,null,h.default.createElement(zy,null))}}),swapPricing:G({fullScreen:!0,render:function(){return h.default.createElement(me,null,h.default.createElement(Hy,null))}}),spamActivity:G({render(){return h.default.createElement(me,{shouldPushDetailView:!0},h.default.createElement(fl,{isSpam:!0}))}}),activityItem:G({render(e){return h.default.createElement(me,null,h.default.createElement(_y,{...e}))}}),pendingTransaction:G({render(e){return h.default.createElement(me,null,h.default.createElement(Uy,{...e}))}}),forceUpgrade:G({fullScreen:!0,render:function(e){return h.default.createElement(Xy,{...e})}}),unifiedInterstitial:G({fullScreen:!0,render:function(e){return h.default.createElement(mi,{...e})}}),convertJitoInfo:G({fullScreen:!0,render(e){return h.default.createElement(ng,{...e})}}),convertStakeAccounts:G({render(){return h.default.createElement(me,null,h.default.createElement(ig,null))}}),convertStakeStatus:G({fullScreen:!0,render(){return h.default.createElement(sg,null)}}),stakingMethods:G({render(e){return h.default.createElement(me,null,h.default.createElement(ag,{...e}))}}),mintJitoInfo:G({fullScreen:!0,render(e){return h.default.createElement(cg,{...e})}}),mintStakeAmount:G({render(){return h.default.createElement(me,null,h.default.createElement(lg,null))}}),mintStakeStatus:G({fullScreen:!0,render(){return h.default.createElement(dg,null)}}),reportIssue:G({fullScreen:!0,render(e){return h.default.createElement(me,null,h.default.createElement(tl,{...e}))}}),searchPage:G({fullScreen:!0,presentationStyle:"fadeIn",render(){return h.default.createElement(me,null,h.default.createElement(gg,null))}}),ugcWarning:G({fullScreen:!0,render(){return h.default.createElement(hg,null)}}),autoSlippageOptIn:G({fullScreen:!0,render(){return h.default.createElement(bg,null)}}),seedlessVerifyPinPage:G({fullScreen:!0,presentationStyle:"fadeIn",render(){return h.default.createElement(me,null,h.default.createElement(Pd,null))}}),additionalNetworks:G({fullScreen:!0,render(e){return h.default.createElement(me,null,h.default.createElement(gl,{...e}))}})},Mn=js((e,t)=>({modals:vg,getModal:o=>t().modals[o],closeAllModals:()=>{let{modals:o}=t(),r=Object.entries(o).filter(([n,i])=>i.visibility);r.length>0&&e(n=>{let i={...n.modals};for(let[s]of r)i[s].visibility=!1;return{modals:i}})},handleShowModalVisibility:(o,r,n)=>{e(i=>{let s=i.modals[o];return n&&he.capture(n.event,n?.payload),r?{modals:{...i.modals,[o]:{...s,data:r,visibility:!0}}}:{modals:{...i.modals,[o]:{...s,visibility:!0}}}})},handleHideModalVisibility:o=>{e(r=>{let n=r.modals[o];return{modals:{...r.modals,[o]:{...n,visibility:!1}}}})}})),ne=()=>{let[e,t,o,r]=Mn(s=>[s.getModal,s.closeAllModals,s.handleShowModalVisibility,s.handleHideModalVisibility]),{closeAllModals:n}=ut();function i(){t(),n&&n()}return{getModal:e,closeAllModals:i,handleShowModalVisibility:o,handleHideModalVisibility:r}},eA=({children:e})=>{let t=Mn(r=>r.modals),o=(0,h.useMemo)(()=>Object.entries(t).map(([r,n])=>h.default.createElement(h.Fragment,{key:r},n.render(n?.data))),[t]);return h.default.createElement(h.Fragment,null,e,o)};d();u();var Y=A(I());d();u();var Pe=A(I());d();u();var Pt=A(I());d();u();var Rt=A(I());var Vd=()=>Rt.default.createElement(po,{align:"center",width:"100%",height:"74px",backgroundColor:"#2D2D2D",borderRadius:"8px",margin:"0 0 10px 0",padding:"10px"},Rt.default.createElement(wg,null,Rt.default.createElement(po,{width:"44px",height:"44px",backgroundColor:"#434343",borderRadius:"50%"})),Rt.default.createElement(or,null,Rt.default.createElement(Lt,{margin:"0 0 10px",justify:"space-between"},Rt.default.createElement($d,{width:"120px"})),Rt.default.createElement(Lt,{justify:"space-between"},Rt.default.createElement($d,{width:"75px"})))),wg=C.div`
  width: 44px;
  height: 44px;
  margin-right: 15px;
`,$d=C(po).attrs({height:"8px",backgroundColor:"#484848",borderRadius:"8px"})``;var Sg=20,On=({header:e,content:t,footer:o,isLoading:r,isEmpty:n,emptyStateText:i,context:s})=>Pt.default.createElement("div",{className:Nn.container,style:{padding:s==="publicFungible"?16:"initial"}},e&&Pt.default.createElement("div",{className:Nn.headerContainer},e),Pt.default.createElement("div",{className:Nn.contentContainer},r?Pt.default.createElement("div",{style:{marginTop:Sg}},[1,2,3,4].map(a=>Pt.default.createElement(Vd,{key:a}))):n?Pt.default.createElement("div",{className:Nn.emptyStateContainer},Pt.default.createElement(F,{children:i,font:"body",color:"textTertiary",align:"center"})):t,o&&s!=="publicFungible"&&Pt.default.createElement(Pt.default.Fragment,null,o))),Nn={container:B({display:"flex",flexDirection:"column",height:"100%",maxHeight:"100%",minHeight:"100%",width:"100%",maxWidth:"100%",minWidth:"100%"}),headerContainer:B({paddingY:8}),contentContainer:B({display:"flex",flexDirection:"column",flex:1,overflowY:"auto",overflowX:"hidden"}),emptyStateContainer:B({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:1})};d();u();var wo=A(I());var Rd=wo.default.memo(e=>{let{t}=U(),{name:o,logo:r,tag:n,quote:i,onClick:s,index:a}=e,c={start:wo.default.createElement(Tt,{className:B({size:44,borderRadius:"circle"}),src:r,alt:o}),topLeft:o,bottomLeft:n&&{text:n,color:a===0?"accentSuccess":"textSecondary"},onClick:()=>s(e)},l=i?{...c,topRight:i.displayDestinationAmount,bottomRight:`\u2248 ${i.displaySourceAmount}`}:{...c,end:wo.default.createElement(w,{direction:"row",alignItems:"center",gap:4},wo.default.createElement(F,{children:t("buyThirdPartyScreenViewQuote"),font:"caption",color:"textSecondary"}),wo.default.createElement(ge.ChevronRight,{color:"textSecondary",size:16}))};return wo.default.createElement(wt,{...l})});d();u();var to=A(I());d();u();var jo=A(I());var zd=({assets:e,name:t,onClick:o,estimatedArrival:r,description:n})=>jo.default.createElement(wt,{start:jo.default.createElement(Tt,{className:B({size:44,borderRadius:"circle"}),src:e?.roundIcon,alt:t}),topLeft:t,bottomLeft:{before:jo.default.createElement(ge.Clock,{color:"textSecondary",size:14}),text:r},end:n?jo.default.createElement(Wr,{label:n,ariaLabel:t},jo.default.createElement(ge.InfoCircle,{color:"textSecondary",size:16})):void 0,onClick:o});var Hd=()=>{let{t:e}=U(),{paymentMethods:t,moveToNextPage:o,closeModal:r,isLoading:n,context:i}=Tg();return to.default.createElement(On,{isLoading:n,isEmpty:t.length===0,emptyStateText:e("buyThirdPartyScreenPaymentMethodEmptyState"),header:to.default.createElement(Xe,null,e("buyThirdPartyScreenPaymentMethodTitle")),content:to.default.createElement(w,{gap:8,marginTop:16,marginBottom:96},t.map(s=>to.default.createElement(zd,{key:s.id,onClick:()=>{o(s)},...s})),to.default.createElement(F,{color:"textSecondary",children:e("buyThirdPartyScreenPaymentMethodFooter"),font:"caption"})),footer:to.default.createElement(pt,null,to.default.createElement(Ye,{onClick:r},e("commandClose"))),context:i})},Tg=()=>{let e=vt(),t=vt(c=>c.setState),{popDetailView:o}=ke(),{currencyCode:r}=Ao(),{version:n}=chrome.runtime.getManifest(),{data:i,isPending:s}=ga("web",n,ee.language,{token:e.fungible?.caip19,purchaseAmount:e.purchaseAmount,purchaseType:e.purchaseType,fiatCurrencyCode:r}),a=c=>{t({...e,paymentMethod:c,provider:void 0,checkoutQuoteType:"recommended"}),he.capture("fiatOnrampPaymentMethodSelected",{data:{paymentMethodId:c.id}}),o()};return{context:e.context,moveToNextPage:a,closeModal:e.onClose,isLoading:s,paymentMethods:i?.paymentMethods||[]}};var jd=()=>{let{t:e}=U(),{pushDetailViewCallback:t}=ke(),{closeModal:o,onProviderSelected:r,isLoading:n,providers:i,paymentMethod:s,quoteTimeToExpiry:a,quoteTimeToExpiryColor:c,context:l}=Cg();return Pe.default.createElement(On,{isLoading:n,isEmpty:i.length===0,emptyStateText:e("buyThirdPartyScreenProvidersEmptyState"),header:Pe.default.createElement(Xe,null,e("fiatRampQuotes")),content:Pe.default.createElement(Pe.default.Fragment,null,Pe.default.createElement(w,{gap:8,marginBottom:96},Pe.default.createElement(Pa,{marginBottom:12}),Pe.default.createElement(Wt,{rows:[{type:"drawer",id:"selected-payment-method",onClick:t(Pe.default.createElement(Hd,null)),start:s?.assets?.icon&&Pe.default.createElement(Tt,{src:s.assets.icon,width:24,height:24}),topLeft:s?.name||e("buyThirdPartyScreenPaymentMethod")}]}),Pe.default.createElement(w,{direction:"row",justifyContent:"space-between"},Pe.default.createElement(F,{font:"bodyMedium",color:"textSecondary",children:e("buyThirdPartyScreenProviders")}),Pe.default.createElement("div",null,Pe.default.createElement(F,{font:"captionMedium",color:"textSecondary",children:`${e("fiatRampNewQuote")}:`})," ",Pe.default.createElement(F,{className:B({width:32}),font:"captionMedium",color:c,children:a}))),i.map((p,m)=>Pe.default.createElement(Rd,{key:`${p.id}-${m}`,index:m,onClick:r,...p})))),footer:Pe.default.createElement(pt,null,Pe.default.createElement(Ye,{onClick:o},e("commandClose"))),context:l})},Cg=()=>{let{popDetailView:e}=ke(),{handleHideModalVisibility:t}=ne(),o=vt(),r=vt(N=>N.setState),{fungible:n,purchaseAmount:i,purchaseType:s,paymentMethod:a,ownerPublicKey:c,context:l}=o;if(!n)throw new Error("No fungible asset selected");let{currencyCode:p}=Ao(),{version:m}=chrome.runtime.getManifest(),{data:f,isPending:y}=ha("web",m,ee.language,{...s==="currency"?{fiatAmount:i}:{tokenAmount:i},token:n.caip19,fiatCurrencyCode:p,paymentMethodId:a?.id,destinationAddress:{address:c,chainId:n.caip19.chainId,resourceType:"address"}}),g=a||f?.paymentMethod,b=f?.providers||[],v=(0,Pe.useCallback)(N=>{he.capture("fiatOnrampProviderSelected",{data:{chainId:f?.token?.chainId,providerId:N.id,paymentMethodId:g?.id,destinationAmount:N.quote?.displayDestinationAmount,sourceAmount:N.quote?.displaySourceAmount,asset:f?.token,tag:N.tag}}),r({...o,provider:N,paymentMethod:g,checkoutQuoteType:"selected"}),e()},[o,e,f?.token,g,r]),[S,E]=(0,Pe.useState)(Zn);ka(()=>{y||b.length===0||(S===0?(E(Zn),Mr.invalidateQueries({refetchType:"active"})):E(S-1))},y?null:1e3);let P=S<10?`0:0${S}`:`0:${S}`,_=S<=10?"accentWarning":"textPrimary";return{providers:b,paymentMethod:g,onProviderSelected:v,closeModal:()=>t("onramp"),isLoading:y,quoteTimeToExpiry:P,quoteTimeToExpiryColor:_,context:l}};var Kd=()=>{let{t:e}=U(),{pushDetailView:t}=ke(),[o,r]=(0,Y.useState)(void 0),n=vt(),{quickSelectDenominations:i,minPurchaseAmountUsd:s,maxPurchaseAmountUsd:a,context:c,purchaseType:l,fungible:p,onClose:m,ownerPublicKey:f,purchaseAmount:y,setState:g,paymentMethod:b,provider:v,checkoutQuoteType:S}=n,E=parseFloat(y),P=l==="currency",{name:_,symbol:N,decimals:j,caip19:D,logoURI:X}=p||{},$=D?.chainId,{data:K=""}=rt({select:ve=>ve?.name}),{data:T}=Zs({query:{data:D}}),k=T?T?.usd:void 0,{currencySymbol:Q,currencyCode:R,toUsd:H,fromUsd:se}=Ao(),ae=(0,Y.useMemo)(()=>{if(o)return!1;let ve=y.length>0,lt=E>0,Po=Number.isFinite(E);return ve&&lt&&Po},[o,y,E]),le=(0,Y.useMemo)(()=>{if(!k)return`??? ${N}`;if(P){let lt=ra.get($).formDisplayPrecision,Po=H(E),Tr=Yo(Po,k,lt),Go=aa(Tr,lt);return y===""?`0 ${N}`:Go.length+(N?.length??0)<15?`~${Go} ${N}`:`~${Go.substring(0,8)}... ${N}`}let ve=y===""?0:Gn(E,k);return Y.default.createElement(Qe,{value:ve,font:"caption",color:"textSecondary"})},[N,$,y,E,P,H,k]),[M,ue]=(0,Y.useState)(500),ye=Bs({purchaseAmount:y,purchaseType:l},M),{purchaseAmount:ce,purchaseType:q}=ye,re=(0,Y.useCallback)(ve=>{let lt=parseFloat(ve),Po=P?Number(se(s)):Yo(s,k??0,ei),Tr=P?Number(se(a)):Yo(a,k??0,ei),Go=lt<Po,Au=lt>Tr,Cs=P?R?.toUpperCase():N,Ps=Go?e("buyAssetScreenMinPurchasePriceInterpolated",{amount:`${Po} ${Cs}`}):Au?e("buyAssetScreenMaxPurchasePriceInterpolated",{amount:`${Tr} ${Cs}`}):void 0;ue(500),g({...n,purchaseAmount:ve,checkoutQuoteType:"recommended"}),r(Ps||void 0)},[n,N,R,se,a,s,g,P,e,k]),Be=(0,Y.useCallback)(ve=>{he.capture("fiatOnrampAmountSelected",{data:{networkId:$,chainId:qe.getChainID($),asset:{name:_,symbol:N,type:"fungible"},amount:ve}}),ue(100),g({...n,purchaseAmount:ve,purchaseType:"currency",checkoutQuoteType:"recommended"}),r(void 0)},[n,N,_,$,g]),$e=(0,Y.useCallback)(()=>{if(!k)return;let ve=P?Yo(H(E),k,j):se(Gn(E,k));ue(100),g({...n,purchaseAmount:ve.toString(),purchaseType:P?"token":"currency"}),r(void 0)},[n,j,se,E,g,P,H,k]),Le=(0,Y.useMemo)(()=>({...q==="currency"?{fiatAmount:ce}:{tokenAmount:ce},token:D,fiatCurrencyCode:R,destinationAddress:{address:f,chainId:D?.chainId,resourceType:"address"}}),[D,ce,q,R,f]),{version:Fe}=chrome.runtime.getManifest(),Ue=S==="selected",ct=!Ue&&ae&&!!ce,{data:no,isLoading:vr,isError:wr}=ba("web",Fe,ee.language,{...Le,paymentMethodId:b?.id,providerId:v?.id},ct),ot=Ue?b:no?.paymentMethod,Ht=Ue?v:no?.provider,Sr=(0,Y.useCallback)(()=>{g({...n,paymentMethod:ot}),t(Y.default.createElement(jd,null))},[n,t,ot,g]),xs=(0,Y.useMemo)(()=>ct&&vr?{id:"recommended-quote-loading",topLeft:e("buyThirdPartyScreenLoadingQuote"),end:Y.default.createElement(_r,{diameter:20}),disabled:!0}:!ae||!ot||!Ht||wr?{type:"drawer",id:"no-quote",topLeft:e("buyThirdPartyScreenChoseQuote"),disabled:!0,onClick:()=>null}:{type:"drawer",id:"selected-quote",onClick:Sr,topLeft:{text:ot?.name,before:ot?.assets?.icon?Y.default.createElement(Tt,{src:ot?.assets?.icon,width:24,height:24}):void 0},topRight:{text:Ht?.name}},[Sr,ae,ct,wr,vr,ot,Ht,e]),[vs,ws]=(0,Y.useState)(!1),Ss=ae&&(!!no||!!b&&!!v),Eu=(0,Y.useMemo)(()=>({...Le,paymentMethodId:ot?.id||"",providerId:Ht?.id||""}),[Le,ot?.id,Ht?.id]),ku=_s(),Ts=async ve=>{if(Ss){ve&&ve.preventDefault(),he.capture("fiatOnrampBuyClickedByUser",{data:{networkId:$,chainId:qe.getChainID($),asset:{name:_,symbol:N,type:"fungible"},purchaseType:l,amount:ce,paymentMethod:ot?.id,provider:Ht?.id}}),g({...n,price:k??0}),ws(!0);try{let{url:lt}=await Ea("web",Fe,ee.language,Eu,ku);await Ys({url:lt})}catch(lt){J.captureError(lt,"onRamp")}ws(!1)}};return Y.default.createElement(Pg,{context:c},Y.default.createElement(Eg,null,Y.default.createElement(Xe,null,e("buyAssetInterpolated",{tokenSymbol:N})),Y.default.createElement(kg,{iconUrl:X,width:94,alt:_??""}),Y.default.createElement(Ag,null,Y.default.createElement(vc,{name:K,publicKey:f})),Y.default.createElement(Ig,{onSubmit:Ts},Y.default.createElement(Dg,null,Y.default.createElement(ac,{value:y,onKeyPress:ve=>!ae&&ve.key==="Enter"&&ve.preventDefault(),onUserInput:re,placeholder:e("amount"),warning:!!o,decimalLimit:j}),Y.default.createElement(Lg,null,P?R:N)),o?Y.default.createElement(Z,{color:"#EB3742",size:16,textAlign:"left"},o):Y.default.createElement(Lt,{justify:"space-between"},Y.default.createElement(Ng,null,Y.default.createElement(Og,{onClick:$e},k?Y.default.createElement(Y.default.Fragment,null,le,k===0?null:Y.default.createElement(Ga,{width:13,height:13})):`??? ${N}`)),Y.default.createElement(Bg,null,i.map(ve=>Y.default.createElement(Fg,{key:ve,fontSize:12,fontWeight:600,borderRadius:"25px",theme:y===ve?"primary":"secondary",onClick:()=>Be(ve)},Q,ve)))))),xs&&Y.default.createElement("div",{className:B({marginBottom:16,width:"100%"})},Y.default.createElement(Wt,{rows:[xs]})),Y.default.createElement(Mg,{primaryText:e("commandBuy"),primaryTheme:ae?"primary":"default",primaryDisabled:!Ss||vs,onPrimaryClicked:Ts,secondaryText:e("commandCancel"),onSecondaryClicked:m,primaryLoading:vs}))},Pg=C(or).attrs({justify:"space-between"})`
  height: 100%;
  padding: ${e=>e.context==="publicFungible"?"16px":"0"};
`,Eg=C(or).attrs({align:"center"})`
  flex: 1;
`,kg=C(Kr)`
  margin: 20px 0;
`,Ag=C(Lt)`
  cursor: not-allowed;
  padding: 12px 15px;
  background: #181818;
  border: 1px solid #2f2f2f;
  border-radius: 6px;
  box-shadow: inset 0px 0px 4px rgba(0, 0, 0, 0.25);
  margin-bottom: 10px;
  p:first-child {
    margin-right: 6px;
  }
`,Ig=C.form`
  width: 100%;
`,Lg=C(Z).attrs({size:16,color:"#777777",lineHeight:27})`
  position: absolute;
  right: 12px;
  top: calc(50% - 27px / 2);
  display: flex;
  align-items: center;
`,Bg=C.div`
  display: flex;
  flex-direction: row;
`,Fg=C(Ye)`
  margin: 0px 2px 0px 2px;
  padding: 4px 12px 4px 12px;
`,Dg=C.div`
  position: relative;
  margin-bottom: 10px;
`,Mg=C(Za)`
  width: 100%;
`,Ng=C.div`
  align-self: start;
  width: 50%;
`,Og=C(Z).attrs({size:14,color:"#777777",hoverColor:"#AB9FF2"})`
  display: flex;
  align-items: center;
  &:hover {
    svg {
      fill: #ab9ff2;
    }
  }
  svg {
    fill: #777777;
    margin-left: 4px;
  }
`;var Jd=({addressType:e,caip19:t,context:o,analyticsEvent:r})=>{let{setState:n}=vt(),{closeAllModals:i}=ne(),{pushDetailView:s,popDetailView:a}=ke(),{version:c}=chrome.runtime.getManifest(),{tokenToBuy:l,destinationAddress:p,quickSelectDenominations:m}=fa({clientPlatform:"web",appVersion:c,locale:ee.language,caip19:t,addressType:e}),f=!!l&&!!p;return{canBuy:f,openBuy:()=>{f&&(n({...ya,onClose:o==="modal"?i:a,ownerPublicKey:p,fungible:l.token,quickSelectDenominations:m,context:o}),he.capture("fiatOnrampInitiated"),r&&he.capture(r),s(qd.default.createElement(Kd,null)))}}};d();u();d();u();d();u();var Ko=A(I()),us=({onMarkNotSpam:e})=>{let[t,o]=(0,Ko.useState)(!1),r=(0,Ko.useCallback)(()=>{e?.(),o(!0)},[e,o]);return e&&!t?Ko.default.createElement(Sa,{level:"2-alert",actions:[{children:ee.t("commandReportAsNotSpam"),onPress:r}]},ee.t("tokenSpamWarning")):null};var oe=A(I());d();u();var ie=A(I());d();u();var Et=A(I());d();u();var ps=A(I());var _n=()=>{let{handleShowModalVisibility:e}=ne(),{trackConvertModalContinue:t}=yc(),o=(0,ps.useCallback)(()=>{e("convertJitoInfo")},[e]),r=(0,ps.useCallback)(()=>{t(),e("convertStakeAccounts")},[e,t]);return Hr({method:"convert",goToInfoPage:o,goToInitFlowPage:r})};d();u();var W=A(I());var Gd=()=>{let{t:e}=U();(0,W.useEffect)(()=>(he.capture("showStakeAccountList"),()=>{he.capture("hideStakeAccountList")}),[]);let{data:t}=rt(),{solanaPublicKey:o,connection:r}=(0,W.useMemo)(()=>{let a=(t?.addresses??[]).find(m=>qe.isSolanaNetworkID(m.networkID)),c=a?.address??"",l=a?.networkID,p=Js(Gs(l));return{solanaChainAddress:a,solanaPublicKey:c,connection:p}},[t]),n=zr(r,o),i=n.data??[],s=()=>{n.isFetching||n.refetch()};return W.default.createElement(wc,{isLoading:!n.isFetched},n.isError?W.default.createElement(Vr,{title:e("errorAndOfflineSomethingWentWrong"),description:e("stakeAccountListErrorFetching"),refetch:s}):W.default.createElement(_g,{data:i,connection:r}),W.default.createElement("br",null))},_g=e=>{let{t}=U(),o=Rg(e.connection),r=e.data.slice().sort((s,a)=>s.lamports>a.lamports?-1:1),n=r.filter(s=>s.type==="delegated"),i=r.filter(s=>s.type==="initialized");return!n.length&&!i.length?W.default.createElement(Ug,null,W.default.createElement(Z,{size:16,color:"#666666"},t("stakeAccountListNoStakingAccounts"))):W.default.createElement(W.default.Fragment,null,n.length>0&&W.default.createElement(W.default.Fragment,null,n.map(s=>{let{stake:a,voter:c}=s.info.stake.delegation,l=o.get(c),p=l?.info?.name,m=l?.info?.keybaseUsername,f=l?.info?.iconUrl,y=s.info.meta.rentExemptReserve;return W.default.createElement($g,{key:s.pubkey,pubkey:s.pubkey,rentExemptReserve:Number(y),balance:s.lamports,delegatedStake:Number(a),inflationReward:s.inflationReward,voteAccountPubkey:c,name:p,keybaseUsername:m,iconUrl:f,connection:e.connection})})),i.length>0&&W.default.createElement(W.default.Fragment,null,i.map(s=>W.default.createElement(Vg,{key:s.pubkey,pubkey:s.pubkey,balance:s.lamports,inflationReward:s.inflationReward,connection:e.connection}))))},Ug=C.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: calc(100% - 42px);
`,Qd=C(qr)`
  display: grid;
  grid-template-columns: 44px auto;
  column-gap: 10px;
`,Yd=C(Kr).attrs({width:44})``,Xd=C.div`
  overflow: hidden;
`,Un=C.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
`,Zd=C(Z)`
  color: ${e=>e.activationState==="active"?"#21E56F":e.activationState==="inactive"?"#EB3742":e.activationState==="activating"||e.activationState==="deactivating"?"#FFE920":"#777777"};
`,$g=e=>{let{t}=U(),{showStakeAccountDetailModal:o}=ut(),{data:r}=fc(e.keybaseUsername),n=e.name??e.keybaseUsername??so(e.voteAccountPubkey),s=li(e.connection,e.pubkey).data,a=e.inflationReward&&e.inflationReward>0,l=s?.state==="inactive"?e.balance-e.rentExemptReserve:e.delegatedStake;return W.default.createElement(Qd,{onClick:()=>{o({stakeAccountPubkey:e.pubkey})}},W.default.createElement(Yd,{iconUrl:e.iconUrl??r}),W.default.createElement(Xd,null,W.default.createElement(Un,null,W.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left",noWrap:!0},n),W.default.createElement(Z,{size:14,weight:400,lineHeight:19,textAlign:"right",noWrap:!0},W.default.createElement(jt,null,l))),W.default.createElement(Un,null,W.default.createElement(Zd,{size:14,activationState:s?.state,lineHeight:19,textAlign:"left",textTransform:"capitalize",noWrap:!0},s?.state==="activating"?t("stakeAccountListActivationActivating"):"",s?.state==="active"?t("stakeAccountListActivationActive"):"",s?.state==="inactive"?t("stakeAccountListActivationInactive"):"",s?.state==="deactivating"?t("stakeAccountListActivationDeactivating"):""),W.default.createElement(Z,{size:14,color:`${a?"#21E56F":"#777777"}`,lineHeight:19,textAlign:"right",noWrap:!0},a?W.default.createElement(W.default.Fragment,null,"+",W.default.createElement(jt,null,e.inflationReward)):"-"))))},Vg=e=>{let{t}=U(),{showStakeAccountDetailModal:o}=ut(),n=li(e.connection,e.pubkey).data,i=e.inflationReward&&e.inflationReward>0;return W.default.createElement(Qd,{onClick:()=>o({stakeAccountPubkey:e.pubkey})},W.default.createElement(Yd,null),W.default.createElement(Xd,null,W.default.createElement(Un,null,W.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left",noWrap:!0},e.pubkey),W.default.createElement(Z,{size:14,weight:400,lineHeight:19,textAlign:"right",noWrap:!0},W.default.createElement(jt,null,e.balance))),W.default.createElement(Un,null,W.default.createElement(Zd,{size:14,activationState:n?.state,lineHeight:19,textAlign:"left",textTransform:"capitalize",noWrap:!0},n?.state==="activating"?t("stakeAccountListActivationActivating"):"",n?.state==="active"?t("stakeAccountListActivationActive"):"",n?.state==="inactive"?t("stakeAccountListActivationInactive"):"",n?.state==="deactivating"?t("stakeAccountListActivationDeactivating"):""),W.default.createElement(Z,{size:14,color:`${i?"#21E56F":"#777777"}`,lineHeight:19,textAlign:"right",noWrap:!0},i&&"+",W.default.createElement(jt,null,e.inflationReward)))))},Rg=e=>{let t=Ba(e),o=t.results??[],r=(0,W.useRef)(o);return r.current=o,(0,W.useMemo)(()=>new Map(r.current.map(i=>[i.voteAccountPubkey,i])),[t.dataUpdatedAt,r])};d();u();var $n=A(I());var Vn=()=>{let{t:e}=U(),t=Bo(),{pushDetailView:o}=ke(),r=ni(i=>i.navigateTo),n=ni(i=>i.setNavigateTo);(0,$n.useEffect)(()=>{if(r){if(r.screen==="Activity")t("/notifications");else if(r.screen==="FungibleDetail"){let{data:i}=r.fungible,s=Io(r.fungible),a=ko(s);o($n.default.createElement(hr,{caip19:a,fungibleKey:i.key,entryPoint:"liquidStaking"}))}n(null)}},[t,r,n,o,e])};var ms={container:B({height:"100%",display:"flex",flexDirection:"column",padding:"screen"}),accountList:B({height:"100%",overflow:"auto"}),buttonContainer:B({width:"100%",paddingTop:"screen"})},tu=()=>{let{t:e}=U(),{showValidatorListModal:t,hideValidatorListModal:o}=ut(),{handleShowModalVisibility:r}=ne(),{isSupported:n,defaultProvider:i}=Fo(qe.solana.mainnetID);Vn();let{hasConvertibleStakeAccounts:s}=gc(i),a=(0,Et.useCallback)(()=>{n?r("stakingMethods",{onSelectNativeStaking:()=>t({onClose:o})}):t({onClose:o})},[r,o,n,t]),c=_n();return Et.default.createElement("div",{className:ms.container},Et.default.createElement(Xe,{onIconClick:a,icon:Et.default.createElement(Ka,null)},e("stakeAccountListViewPrimaryText")),Et.default.createElement("div",{className:ms.accountList},Et.default.createElement(Gd,null)),n&&s?Et.default.createElement("div",{className:ms.buttonContainer},Et.default.createElement(Ye,{theme:"primary",onClick:c},e("convertToJitoSOL"))):null)};var zg=C(qr)`
  display: grid;
  grid-template-columns: 44px auto;
  column-gap: 10px;
  margin-bottom: 0;
`,Hg=C.div`
  overflow: hidden;
`,fs=C.div`
  display: grid;
  grid-template-columns: 1fr;
`,ou=C.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
`,ru=()=>{let{t:e}=U(),{pushDetailView:t}=ke(),{showValidatorListModal:o,hideValidatorListModal:r}=ut(),{handleShowModalVisibility:n}=ne(),{data:i}=Ws("solana"),{isSupported:s,isLoading:a}=Fo(i?.networkID),c=i?.address??"",l=(0,ie.useMemo)(()=>qs(i?.networkID),[i?.networkID]),p=zr(l,c),{isFetching:m,isError:f}=p,y=m||a,{totalStake:g,totalRewards:b,numAccounts:v}=(0,ie.useMemo)(()=>{let E=p.data??[];return{totalStake:E.reduce((P,_)=>P+_.lamports,0),totalRewards:E.reduce((P,_)=>P+(_.inflationReward??0),0),numAccounts:E.length}},[p.data]),S=(0,ie.useCallback)(()=>{if(f){p.refetch();return}y||(v>0?t(ie.default.createElement(tu,null)):s?n("stakingMethods",{onSelectNativeStaking:()=>o({onClose:r})}):o({onClose:r}))},[s,n,r,f,y,v,t,o,p]);return ie.default.createElement(zg,{role:"button",isDisabled:y,onClick:S},y?ie.default.createElement(jr,{diameter:44,color:io("#AB9FF2",.2)},ie.default.createElement(_r,{diameter:28})):f?ie.default.createElement(jr,{diameter:44,color:io("#EB3742",.1)},ie.default.createElement(Wa,null)):ie.default.createElement(jr,{diameter:44,color:`${io(Ne.colors.brand.green,.1)}`},ie.default.createElement(ge.TrendingUp,{color:"accentSuccess"})),ie.default.createElement(Hg,null,y?ie.default.createElement(fs,null,ie.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left"},e("startEarningSolLoading")),ie.default.createElement(Z,{color:"#777777",size:14,lineHeight:17,textAlign:"left",noWrap:!0},e("startEarningSolSearching"))):f?ie.default.createElement(fs,null,ie.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left"},e("startEarningSolErrorTroubleLoading")),ie.default.createElement(Z,{color:"#777777",size:14,lineHeight:17,textAlign:"left",noWrap:!0},e("startEarningSolErrorClosePhantom"))):v?ie.default.createElement(ie.default.Fragment,null,ie.default.createElement(ou,null,ie.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left"},e("startEarningSolYourStake")),ie.default.createElement(Z,{size:14,weight:400,lineHeight:17,textAlign:"right",noWrap:!0},ie.default.createElement(jt,null,g))),ie.default.createElement(ou,null,ie.default.createElement(Z,{color:"#777777",size:14,lineHeight:19,textAlign:"left",noWrap:!0},v," ",v===1?"account":"accounts"),ie.default.createElement(Z,{size:14,color:`${b>0?"#21E56F":"#777777"}`,lineHeight:17,textAlign:"right",noWrap:!0},b>0?ie.default.createElement(ie.default.Fragment,null,"+",ie.default.createElement(jt,null,b)):"\u2013"))):ie.default.createElement(fs,null,ie.default.createElement(Z,{size:16,weight:600,lineHeight:19,textAlign:"left"},e("startEarningSolPrimaryText")),ie.default.createElement(Z,{color:"#777777",size:14,lineHeight:17,textAlign:"left",noWrap:!0},e("startEarningSolStakeTokens")))))};d();u();var qo=A(I()),nu=({partialErrorMessage:e})=>qo.default.createElement(w,{backgroundColor:"bgArea",padding:16,borderRadius:16,width:"100%",display:"flex",direction:"row",gap:8,position:"relative"},qo.default.createElement(w,null,qo.default.createElement(ge.InfoCircle,{size:18,color:"textSecondary"})),qo.default.createElement(w,{flex:1},qo.default.createElement(F,{font:"caption",color:"textSecondary"},e)));d();u();var To=A(I());d();u();var So=A(I());var iu=({fungible:e,leftButton:t})=>{let{handleShowModalVisibility:o}=ne(),r=(0,So.useCallback)(c=>o("activityItem",c),[o]),n=(0,So.useCallback)(c=>o("pendingTransaction",c),[o]),{activityItemsData:i,isLoadingHistory:s,isDeveloperMode:a}=Lr({fungible:e});return So.default.createElement(w,{paddingX:"screen",paddingTop:16},So.default.createElement(rn,{leftButton:t},"Activity"),So.default.createElement(dr,{dataPages:i.data?.pages,isLoading:s,fetchNextPage:i.fetchNextPage,refetch:i.refetch,hasNextPage:i.hasNextPage,isFetchingNextPage:i.isFetchingNextPage,isError:i.isError,isRefreshError:i.isRefetchError,isRefreshingConfirmedTxs:!1,isDeveloperMode:a,showActivityItemModal:r,showPendingTransactionModal:n}))};d();u();var He=A(I());var su=({refetch:e})=>He.default.createElement(He.default.Fragment,null,He.default.createElement(F,{color:"textSecondary",align:"center"},ee.t("unifiedTokenDetailTransactionActivityError")),e&&He.default.createElement(F,{align:"center",onPress:()=>e(),children:ee.t("commandRetry")})),Wg=({fungible:e})=>{let{activityItemsData:t}=Lr({fungible:e}),{handleShowModalVisibility:o}=ne(),r=(0,He.useCallback)(n=>o("activityItem",{activityItem:n}),[o]);return He.default.createElement(w,{gap:8},t.status==="error"?He.default.createElement(su,{refetch:t.refetch}):t.status==="success"?t.data.pages[0]?.results.slice(0,3).map((n,i)=>He.default.createElement(w,{key:i,gap:8},He.default.createElement(dn,{activityItem:n,onClick:()=>r(n)}))):Array.from({length:3}).map((n,i)=>He.default.createElement(co,{key:`row-loader-${i}`})))},au=({fungible:e})=>He.default.createElement(Ha,{fallback:He.default.createElement(su,null)},He.default.createElement(Wg,{fungible:e}));var cu=({fungible:e})=>{let{pushDetailView:t,popDetailView:o}=ke();return To.default.createElement(w,{gap:8},To.default.createElement(w,{direction:"row",justifyContent:"space-between"},To.default.createElement(F,{font:"bodySemibold",color:"textSecondary"},ee.t("unifiedTokenDetailTransactionActivity")),To.default.createElement(F,{color:"brandPrimary",onPress:()=>t(To.default.createElement(iu,{leftButton:{type:"back",onClick:o},fungible:e}))},ee.t("unifiedTokenDetailSeeMoreTransactionActivity"))),To.default.createElement(au,{fungible:e}))};d();u();var Jo=A(I());var lu=({fungible:e})=>{let{name:t,balance:o,symbol:r,tokenAddress:n,logoUri:i,chain:s,usd:a,usd_24h_change:c}=e.data,l=`${Pr(o)} ${r}`,{t:p}=U();return Jo.default.createElement(wt,{truncate:"left",start:Jo.default.createElement(lo,{image:{type:"fungible",src:i,fallback:r||n},tokenType:e.type,chainMeta:s}),topLeft:{text:t??p("assetDetailUnknownToken"),after:Jo.default.createElement(mc,{networkID:s.id,address:e.data.walletAddress})},bottomLeft:l,topRight:Jo.default.createElement(Qe,{fontWeight:"semibold",value:a,testID:"here"}),bottomRight:Jo.default.createElement(Qe,{signConfig:"exceptZero",color:"sentiment",font:"caption",value:c})})};d();u();var oo=A(I());var jg=C.button`
  background: none;
  background-color: rgba(60, 49, 91, 0.4);
  border: 1px solid rgb(60, 49, 91);
  border-radius: ${Ne.radiusRow};
  cursor: pointer;
  height: 74px;
  padding: 10px 12px;
  width: 100%;

  &:hover {
    background-color: rgba(60, 49, 91, 0.6);
  }
`,Kg=C.div`
  align-items: center;
  display: flex;
`,qg=C.div`
  margin-right: 12px;
`,Jg=C(Z).attrs({lineHeight:17,size:14})`
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  display: -webkit-box;
  flex: 1;
  overflow: hidden;
  text-align: left;
`,Gg=e=>{let t=_n();return Vn(),hc({fungible:e,goToConvertStake:t})},Qg=oo.default.memo(({title:e,onPress:t})=>oo.default.createElement(jg,{onClick:t},oo.default.createElement(Kg,null,oo.default.createElement(qg,null,oo.default.createElement(Ya,null)),oo.default.createElement(Jg,{weight:600},e)))),du=({fungible:e})=>{let t=Gg(e);return t.canConvertStake?oo.default.createElement(Qg,{...t}):null};d();u();var zt=A(I());d();u();var tt=A(I());var pu=({stateType:e,progressPercentage:t})=>{let o=Yg(e,t),r=Xg(e,t);return tt.default.createElement(Zg,{percentageContent:o,progress:r})},Yg=(e,t)=>{let o=tt.default.createElement(F,{font:"bodySemibold",color:"textPrimary"},t,"%");switch(e){case"BondingCurve":return o;case"BondingCurveRefreshing":return tt.default.createElement(w,{direction:"row",alignItems:"center"},tt.default.createElement(dt,{width:40,height:20,borderRadius:10}))}},Xg=(e,t)=>{switch(e){case"BondingCurve":return tt.default.createElement(th,{progressPercentage:t});case"BondingCurveRefreshing":return tt.default.createElement(dt,{width:40,height:20,borderRadius:10})}},Zg=({percentageContent:e,progress:t})=>{let{t:o}=U();return tt.default.createElement(w,{gap:8,backgroundColor:"bgRow",borderTopRadius:"row",padding:"screen",borderColor:"bgWallet",borderBottomWidth:1,marginBottom:1},tt.default.createElement(w,{direction:"row",gap:8,alignItems:"center",justifyContent:"space-between"},tt.default.createElement(Sc,{label:o("bondingCurveProgressLabel"),tooltipContent:o("bondingCurveInfoDescription")},tt.default.createElement(F,{font:"captionMedium",color:"textPrimary"},e))),t)},eh=B({height:"100%",borderRadius:10,backgroundColor:"accentPrimary"}),th=({progressPercentage:e})=>tt.default.createElement(w,{width:"100%",height:8,borderRadius:10,backgroundColor:"bgArea"},tt.default.createElement("div",{className:eh,style:{width:`${e}%`}}));var mu=({caip19:e,rows:t})=>{let o=Dr(e);switch(o.type){case"BondingCurve":case"BondingCurveRefreshing":return zt.default.createElement("div",null,zt.default.createElement(pu,{stateType:o.type,progressPercentage:o.progressPercentage}),zt.default.createElement(Do,{rows:t,borderRadius:`0 0 ${Ne.radiusRow} ${Ne.radiusRow}`}));case"Graduated":return zt.default.createElement(oh,{rows:t,ugcProgram:o.ugcProgram});default:return zt.default.createElement(Do,{rows:t})}},oh=({rows:e,ugcProgram:t})=>{let{t:o}=U(),r=(0,zt.useMemo)(()=>(e[0]={label:o("ugcCreatedRowLabel"),value:t.name},e[1]={label:o("ugcStatusRowLabel"),value:o("ugcStatusRowValue")},e),[e,o,t.name]);return zt.default.createElement(Do,{rows:r})};d();u();var kt=A(I()),fu=({caip19:e,spamStatus:t})=>{let o=Dr(e),r=(0,kt.useMemo)(()=>t?t!=="VERIFIED":!1,[t]);switch(o.type){case"BondingCurve":return o.progressPercentage<100?kt.default.createElement(ys,{warning:ee.t("ugcFungibleWarningBanner",{programName:o.ugcProgram?.name??""})}):r&&kt.default.createElement(ys,{warning:ee.t("fungibleDetailUnverifiedToken")});case"NoBondingCurve":return r&&kt.default.createElement(ys,{warning:ee.t("fungibleDetailUnverifiedToken")});default:return null}},ys=({warning:e})=>kt.default.createElement(w,{direction:"row",flex:1,gap:8,backgroundColor:"bgRow",borderWidth:1,borderColor:"bgRow",borderRadius:"row",padding:16},kt.default.createElement(w,{flexShrink:0},kt.default.createElement(ge.AlertTriangle,{size:18})),kt.default.createElement(F,{font:"caption"},e));d();u();var Co=A(I());d();u();var br=new ua(he);var yu=Co.default.memo(({actions:e,shortcuts:t,hostname:o,headerText:r,maxButtons:n,uiContextName:i,disabled:s=!1})=>{let{t:a}=U(),c=e.primary.length+e.more.length+(t?.length??0),l=e.more.length>0,{handleShowModalVisibility:p,handleHideModalVisibility:m}=ne(),f=(0,Co.useCallback)((y,g)=>{br.ctaBarTrackPrimaryButtonsClick({uiContext:{name:i},position:g,type:y.type,typeSpecificMetadata:y.typeSpecificMetadata,maxButtons:n,primaryActions:e.primary,moreActions:e.more})},[n,e.more,e.primary,i]);return Co.default.createElement(w,{gap:8,direction:"row",width:"100%"},e.primary.map(y=>Co.default.createElement(oi,{key:y.type,label:y.singleWordAltText??y.text,disabled:s,icon:Xn(y.type),onClick:()=>{f(y,"primary"),y.onClick(y.type)}})),l?Co.default.createElement(oi,{disabled:s,label:a("commandMore"),icon:Xn("more"),onClick:()=>{br.ctaBarTrackMoreButtonClick({uiContext:{name:i},maxButtons:n,totalButtons:c}),p("callToActionSheet",{headerText:r,actions:e,shortcuts:t,hostname:o,onClose:()=>{m("callToActionSheet")},trackAction:y=>{f(y,"more")}})}}):null)});d();u();var at=A(I());var rh=C.p`
  display: -webkit-box;
  -webkit-line-clamp: ${({isExpanded:e})=>e?"none":3};
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
`,gu=({text:e})=>{let{t}=U(),[o,r]=(0,at.useState)(!1),[n,i]=(0,at.useState)(!1),s=(0,at.useRef)(null),a=()=>{r(!o)};return(0,at.useLayoutEffect)(()=>{(()=>{if(s.current){let l=s.current.scrollHeight>s.current.clientHeight;i(l)}})()},[e]),at.default.createElement("div",null,at.default.createElement(rh,{ref:s,className:gs.text,isExpanded:o,onClick:a},e),n&&at.default.createElement("div",{className:gs.readMoreContainer,onClick:a},at.default.createElement("span",{className:gs.readMoreText},t(o?"publicFungibleDetailShowLess":"publicFungibleDetailShowMore"))))},gs={text:B({font:"body",whiteSpace:"pre-line",color:"textSecondary"}),readMoreContainer:B({paddingTop:8}),readMoreText:B({color:"accentPrimary",cursor:"pointer"})};d();u();var _e=A(I()),nh=16,ih={discord:ge.Discord,telegram:ge.Telegram,website:ge.Globe,x:ge.XTwitter},sh={discord:"Discord",telegram:"Telegram",website:"Website",x:"X"},ah=({link:{type:e,url:t},trackAction:o})=>{let r=ih[e],n=sh[e],i=(0,_e.useCallback)(()=>{self.open(t),o(t)},[o,t]);return _e.default.createElement("div",{className:Rn.button,onClick:i},_e.default.createElement(r,{className:Rn.image,size:14}),_e.default.createElement(F,{className:Rn.text,color:"white",children:n}))},hu=({data:e})=>{let t=Zo(0),o=(0,_e.useRef)(null),[r,n]=(0,_e.useState)(0),i=(0,_e.useMemo)(()=>{let s=self.innerWidth-r-nh*2;return Math.min(0,s)},[r]);return(0,_e.useEffect)(()=>{o.current&&n(o.current.scrollWidth)},[e]),_e.default.createElement(De.div,{ref:o},_e.default.createElement(De.div,{className:Rn.scrollView,style:{x:t},drag:"x",dragConstraints:{left:i,right:0}},e.links.map(s=>_e.default.createElement(ah,{key:s.url,link:s,trackAction:e.trackAction}))))},Rn={scrollView:B({display:"flex",flexDirection:"row",gap:8,overflow:"visible"}),button:B({display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:{base:"bgRow",hover:"bgButton"},cursor:"pointer",borderRadius:48,paddingX:12,paddingY:6}),image:B({marginRight:4}),text:B({font:"captionSemibold",color:"white"})};d();u();var We=A(I());d();u();var ro={priceContainer:"_51gazn4v _51gazn3e _51gazn6g _51gazn1v _51gazn19j _51gazn1hf _51gazn1km _51gazn1jn _51gazn1ja _51gazn1hu",priceSubTextContainer:"_51gazn1hf _51gazn1ja _51gazn1jn _51gazn1kj _51gaznjo",priceChangePercentageContainer:"_1nbc0st4 _51gaznrn _51gaznsl _51gaznuh _51gazntj _51gazn1r _51gazn3a _51gazn4r _51gazn6a _51gazn1hf _51gazn1ja",priceLineChartContainer:"_1nbc0st7",timeFrameContainer:"_1nbc0st8 _51gazne0 _51gazn19j _51gazn1hf _51gaznjn",timeFrameButton:"_51gaznrp _51gaznsn _51gaznuj _51gazntl _51gazn1hf _51gazn1jn _51gazn1ja _51gazn1k9 _51gazn1px _51gazn3d3 _51gazn1to _51gazn1uj",timeFrameButtonActive:"_51gaznrp _51gaznsn _51gaznuj _51gazntl _51gazn1hf _51gazn1jn _51gazn1ja _51gazn1k9 _51gazn1px _51gazn3d3 _51gazn1to _51gazn1uj _51gazn1ui _51gazn1uy _51gazn3dx"};var ch={left:0,right:32},zn=({caip19:e})=>{let{activeTimeFrame:t,currentPrice:o,currentPriceChange:r,formatTimeFrameText:n,formattedPercentageChange:i,isPending:s,errorText:a,overallPriceChange:c,prices:l,setActiveTimeFrame:p,setScrubValue:m,timeFrames:f,hidePriceAmounts:y,hideTimeFrames:g}=ea({caip19:e,userLocale:navigator.language}),b=ti(r),v=ti(c);return We.default.createElement("div",null,We.default.createElement("div",{className:ro.priceContainer,style:{minHeight:"86px"}},!y&&We.default.createElement(We.default.Fragment,null,We.default.createElement(Qe,{value:o,font:"heading1Semibold"}),We.default.createElement("div",{className:ro.priceSubTextContainer},We.default.createElement(Qe,{value:r,signConfig:"exceptZero",font:"title1Semibold",color:"sentiment"}),i?We.default.createElement("div",{className:`${ro.priceChangePercentageContainer} ${b.backgroundColor}`},We.default.createElement(F,{children:i,font:"captionSemibold",color:"bgWallet"})):null))),We.default.createElement("div",{className:ro.priceLineChartContainer},We.default.createElement(Ta,{onMouseOverValueChange:m,interactive:!0,prices:l,errorText:a,formatTooltip:n,isLoading:s,lineColor:v.__colorValue__,xAxisPadding:ch})),We.default.createElement("div",{className:ro.timeFrameContainer},!g&&f.map(({timeFrame:S,label:E})=>We.default.createElement("div",{className:t===S?ro.timeFrameButtonActive:ro.timeFrameButton,key:S,onClick:()=>{p(S)}},We.default.createElement(F,{children:E,font:"labelBold"})))))};var lh=()=>oe.default.createElement(w,{className:xr.unverifiedBanner},oe.default.createElement(ge.AlertTriangle,{size:18}),oe.default.createElement(F,{children:ee.t("unverifiedToken"),font:"caption"}));function vu(e){if(e.type==="staking")return{key:e.type,element:oe.default.createElement(oe.default.Fragment,null,oe.default.createElement(du,{fungible:e.data}),oe.default.createElement(ru,null))};if(e.type==="partialError")return{key:e.type,element:oe.default.createElement(nu,{partialErrorMessage:e.data})};if(e.type==="spamTreatment")return{key:e.type,element:oe.default.createElement(w,{marginTop:12},oe.default.createElement(us,{onMarkNotSpam:e.data.markAsNotSpam}))};if(e.type==="unverifiedBanner")return{element:oe.default.createElement(lh,null),key:e.type};if(e.type==="sectionHeader")return{element:oe.default.createElement(F,{color:"textSecondary",className:xr.sectionTitle,children:e.data}),key:[e.type,e.data].join(":")};if(e.type==="about"&&e.data.status==="success")return{element:oe.default.createElement(gu,{text:e.data.description}),key:e.type};if(e.type==="links")return{element:oe.default.createElement(w,{className:xr.linkContainer},oe.default.createElement(hu,{data:e.data})),key:e.type};if(e.type==="priceHistory")return{element:oe.default.createElement(zn,{...e.data}),key:e.type};if(e.type==="cta"&&e.data.status==="success")return{element:oe.default.createElement(w,{className:xr.ctaContainer},oe.default.createElement(yu,{actions:e.data.actions,uiContextName:"unifiedFungibleDetail",maxButtons:4})),key:e.type};if(e.type==="table")return xu(e.data.rows),bu(e.data.rows),{element:oe.default.createElement(Do,{rows:e.data.rows}),key:[e.type,e.data.key].join(":")};if(e.type==="ugcWarningBanner")return{element:oe.default.createElement(w,{marginTop:12},oe.default.createElement(fu,{caip19:e.data.caip19,spamStatus:e.data.spamStatus})),key:e.type};if(e.type==="tableWithBondingCurveProgress")return xu(e.data.rows),bu(e.data.rows),{element:oe.default.createElement(mu,{caip19:e.data.caip19,rows:e.data.rows}),key:[e.type,e.data.key].join(":")};if(e.type==="balance"&&e.data.status==="success"){let{fungible:t}=e.data;return{element:oe.default.createElement(oe.default.Fragment,null,oe.default.createElement(F,{color:"textSecondary",className:xr.sectionTitle},ee.t("publicFungibleDetailYourBalance")),oe.default.createElement(w,null,oe.default.createElement(lu,{fungible:t}))),key:e.type}}return e.type==="transactionHistory"?{element:oe.default.createElement(w,{marginTop:16},oe.default.createElement(cu,{fungible:e.data.fungible,caip19:e.data.caip19,fungibleKey:e.data.fungibleKey??""})),key:e.type}:e.type==="error"?{element:oe.default.createElement(w,{flex:1,padding:16,justifyContent:"center",alignItems:"center"},oe.default.createElement(F,{color:"textSecondary"},ee.t("publicFungibleDetailErrorLoading"))),key:e.type}:null}function bu(e){for(let t of e)if("change"in t){let o=t.change;if(!t.value)return;let r=o.charAt(0)==="-";t.value=oe.default.createElement(w,{direction:"row"},oe.default.createElement(F,{font:"captionMedium",children:t.value}),oe.default.createElement(F,{paddingLeft:6,font:"captionMedium",color:r?"accentAlert":"accentSuccess",children:o}))}}function xu(e){for(let t of e)if("usdValue"in t){let o=t.usdValue;if(!o)return;t.value=oe.default.createElement(w,{direction:"row"},oe.default.createElement(Qe,{value:o,font:"captionMedium",intlNumberFormatOptions:{...Xo,notation:"compact"}}))}}var xr={sectionTitle:B({font:"bodySemibold",paddingTop:12}),linkContainer:B({paddingTop:16}),ctaContainer:B({paddingTop:16}),unverifiedBanner:B({display:"flex",flex:1,gap:8,backgroundColor:"bgRow",padding:16,borderRadius:16})};d();u();var hs=A(I());var wu=()=>{let{handleShowModalVisibility:e}=ne(),{trackMintModalContinue:t}=bc(),o=(0,hs.useCallback)(()=>{e("mintJitoInfo",{presentNext:!0})},[e]),r=(0,hs.useCallback)(()=>{t(),e("mintStakeAmount")},[e,t]);return Hr({method:"mint",goToInfoPage:o,goToInitFlowPage:r})};d();u();var Tu=A(I());var Su=(e,t)=>{if(e)return e;if(t)return ko(Io(t))},Cu=()=>{let e=Bo(),{closeAllModals:t}=ne();return(0,Tu.useCallback)(({sellFungible:r,sellFungibleCaip19:n,buyFungible:i,buyFungibleCaip19:s,sellAmount:a})=>{let c=Su(n,r),l=Su(s,i),p=new URLSearchParams;c&&p.append("sellFungible",c),l&&p.append("buyFungible",l),a&&p.append("sellAmount",a),t(),e(`/swap?${p.toString()}`)},[t,e])};d();u();var Hn=A(I()),bs={container:B({display:"flex",flexDirection:"column",height:"100%",maxHeight:"100%",minHeight:"100%",width:"100%",maxWidth:"100%",minWidth:"100%",overflow:"hidden"}),headerContainer:B({paddingX:16,paddingTop:16}),contentContainer:B({display:"flex",flexDirection:"column",flex:1,overflowY:"auto",overflowX:"hidden",paddingX:16,paddingBottom:"screen"})},Pu=({header:e,content:t})=>Hn.default.createElement("div",{className:bs.container},Hn.default.createElement("div",{className:bs.headerContainer},e),Hn.default.createElement("div",{className:bs.contentContainer},t));var hr=({caip19:e,fungibleKey:t,title:o,entryPoint:r,splTokenAccount:n})=>{let i=Cu(),s=(0,de.useMemo)(()=>q=>{i({sellFungibleCaip19:q.sellFungibleCaip19,buyFungibleCaip19:q.buyFungibleCaip19})},[i]),a=(0,de.useCallback)((q,re)=>{switch(re){case"buy":s({buyFungibleCaip19:q});break;case"sell":s({sellFungibleCaip19:q})}},[s]),{data:c}=rt(),{handleShowModalVisibility:l}=ne(),{showDepositFungibleModal:p,hideDepositFungibleModal:m,showValidatorListModal:f,hideValidatorListModal:y}=ut(),g=(0,de.useCallback)(q=>{self.open(q)},[]),b=Fr(),v=da(t),{canBuy:S,openBuy:E}=Jd({...v&&{addressType:v},caip19:e,context:"publicFungible",analyticsEvent:"fiatOnrampFromPublicFungible"}),P=(0,de.useCallback)(q=>{navigator.clipboard.writeText(q),Te(ee.t("publicFungibleDetailLinkCopied"))},[]),{mutateAsync:_}=ia(),N=Bo(),j=(0,de.useCallback)(async()=>{await _(),N("/notifications")},[N,_]),{mutateAsync:D}=sa(),X=(0,de.useCallback)(async q=>{await D(q),N("/notifications")},[D,N]),$=(0,de.useCallback)(()=>f({onClose:y}),[y,f]),K=wu(),T=(0,de.useCallback)(()=>{self.open(La,"_blank")},[]),k=xc(e),Q=Jn(e),{isSupported:R}=Fo(Q.chainId),H=R&&"slip44"in Q,se=oa(q=>q.setSendFungibleKey),ae=(0,de.useCallback)(q=>{se(q.data.key,n??(q.type==="SPL"?q.data.splTokenAccountPubkey:void 0)),l("sendFungibleForm")},[se,l,n]),le=(0,de.useCallback)(q=>{p({accountName:c?.name??"",walletAddress:q.data.walletAddress,address:t,symbol:q.data.symbol,onClose:m,networkID:q.data.chain.id})},[m,p,t,c?.name]),M=(0,de.useMemo)(()=>{let q=Jn(e);return q.resourceType==="address"?de.default.createElement(Ic,{copyString:q.address},Os(q.address)):null},[e]),{data:[ue]}=Er(["enable-ugc-swaps"]),ye=$a(e),ce=ca({caip19:e,canBuy:S,canSwap:b,copyAddress:M,entryPoint:r,fungibleAnalytics:br,fungibleKey:t,includeUgcItemTypes:ue,onNativeMintLSTPress:H?K:void 0,onReceive:le,onSend:ae,onShare:P,onStakeLSTPress:k?K:void 0,onStakeSol:$,onUnstakeLSTPress:k?T:void 0,onUnwrapWrappedSol:j,onDecompressSpl:X,openBuy:E,openLink:g,openSwapper:s,openBuySellToken:a,refetchBondingCurve:ye,title:o});return de.default.createElement(Pu,{header:de.default.createElement(Xe,null,ce.title),content:ce.isLoading?de.default.createElement(w,{gap:"list"},de.default.createElement(zn,{caip19:e}),de.default.createElement(w,{gap:8,direction:"row",className:Wn.ctaContainer},Array.from({length:3}).map((q,re)=>de.default.createElement(w,{flexGrow:1,flexShrink:1,key:re},de.default.createElement(dt,{height:80,borderRadius:22})))),de.default.createElement(w,{gap:16,paddingTop:12,className:Wn.sectionTitle},de.default.createElement(dt,{height:22,borderRadius:16,width:"40%"}),de.default.createElement(dt,{height:80,borderRadius:16})),de.default.createElement(w,{gap:16,className:Wn.sectionTitle},de.default.createElement(dt,{height:22,borderRadius:16,width:"40%"}),de.default.createElement(dt,{height:200,borderRadius:16}))):de.default.createElement(w,{className:Wn.container},ce.items.map(q=>{let re=vu(q);return re?de.default.createElement(de.default.Fragment,{key:re.key},re.element):null}))})},lM=hr,Wn={container:B({display:"flex",flexDirection:"column",gap:"list",paddingBottom:8}),sectionTitle:B({font:"bodySemibold",paddingTop:12}),ctaContainer:B({paddingTop:16})};export{xi as a,wi as b,Wm as c,Km as d,qm as e,Pi as f,Ei as g,Jm as h,Ai as i,Zm as j,bo as k,gt as l,mf as m,Qf as n,nr as o,Ge as p,Ec as q,Ze as r,Xr as s,Te as t,vh as u,wh as v,mi as w,rn as x,rl as y,nl as z,cn as A,ll as B,dl as C,fl as D,yl as E,cC as F,lC as G,dC as H,uC as I,pC as J,mC as K,wd as L,fC as M,Td as N,Vt as O,Cd as P,wy as Q,Fd as R,Dd as S,Ic as T,Sg as U,On as V,Kd as W,Jd as X,nu as Y,br as Z,yu as _,wu as $,Cu as aa,hr as ba,lM as ca,ne as da,eA as ea};
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-VZIPQGVK.js.map
