import{a as tt}from"./chunk-ECTFIIM4.js";import{b as q,e as J,g as z,h as Z}from"./chunk-6DCWQLZT.js";import{e as Q,f as X}from"./chunk-FTVLZLLN.js";import{a as p}from"./chunk-CGOPRBQO.js";import{a as R,ic as j}from"./chunk-DC74PDKK.js";import{b as S}from"./chunk-6QNUOYSW.js";import{b as I,c as N}from"./chunk-T66NYVB2.js";import{J as M,K,L as U,N as c,P as $,Y as B,b as m,g as G}from"./chunk-CXKBWI2Z.js";import{n as V}from"./chunk-4MBFYWFI.js";import{c as v}from"./chunk-2UCAAWZM.js";import{a as H,g as W}from"./chunk-OYJH24PS.js";import{a as Y,c as x}from"./chunk-FVJIE3BT.js";import{T as C,ha as F,n as P}from"./chunk-C5GK3F6I.js";import{Ec as k,Lc as h,ac as b,ef as D,fd as O,jc as L,zd as w}from"./chunk-S3GUIRR4.js";import{M as _,c as gt,v as y}from"./chunk-DAZNTGG2.js";import{f as pt,h as a,n as s}from"./chunk-YJSZZTEX.js";a();s();var lt={...h,...N,...v,...V},ot=L.getInstance({storage:tt,keyRegistry:lt,authRepository:p,queryClient:j,isOnboardingDone:X});p.subscribe("user",async()=>{ot.hydrateIfNeeded()});p.subscribe("loggedOut",async()=>{ot.clear()});a();s();a();s();a();s();var ut=m(e=>{let t=Object.fromEntries(Object.entries(e(c).data?.updates??{}).map(([o,r])=>[o,{name:r.name,quantity:r.totalQuantity/10**r.decimals,timestamp:r.timestamp}]));return{errors:e(z),walletCaip19:e(M),totalValue:e(J),portfolioValueStatus:e(q).status,balanceUpdatesStatus:e(c).status,balancesStatus:e(K).status,balancesFromUnixTimestamp:Math.floor(e(U)/1e3),updatesFromUnixTimestamp:(e(c).data?.lastTimestamp??0)/1e6,updates:t,hasNextPage:e($),fungibleTokens:e(B).map(o=>o.encodedCaip19)}}),et=ut;var rt=m(e=>({...e(et),visibleTokens:e(Z).map(t=>t.encodedCaip19)}));var n=pt(gt());a();s();var l=class{async get(t){let o=null;try{if(o=self.localStorage.getItem(t),typeof o!="string")return null;try{return JSON.parse(o)}catch{return console.warn(`[DeprecatedLocalStorage.get] Error parsing JSON for key "${t}"`),o}}catch(r){let i=`[DeprecatedLocalStorage.get] Error getting key (${t}): ${r}`;throw new Error(i)}}async getAll(t){try{let o={};t=t||Object.keys(self.localStorage);for(let r of t)o[r]=await this.get(r);return o}catch(o){let r=`[DeprecatedLocalStorage.getAll] Error getting key(s) (${t}): ${o}`;throw new Error(r)}}async remove(t){let o=`[DeprecatedLocalStorage.remove] Error removing key(s) (${t}): Method not implemented`;throw new Error(o)}async set(t,o){let r=`[DeprecatedLocalStorage.set] Error setting key (${t}): Method not implemented`;throw new Error(r)}async setAll(t){let r=`[DeprecatedLocalStorage.setAll] Error setting key (${Object.keys(t)}): Method not implemented`;throw new Error(r)}subscribe(t){return console.warn("[DeprecatedLocalStorage.subscribe] Method not implemented"),()=>{}}async update(t){let o=`[DeprecatedLocalStorage.update] Error updating key(s) (${t}): Method not implemented`;throw new Error(o)}};var ft=new Y,dt=new l,St=[...O,...R,I,w,"i18nextLng"],Ao=()=>{let{data:e,isFetching:t}=D(),{data:o,isFetching:r}=F(),{data:i,isFetching:at}=k([{key:"Local Storage",storage:ft},{key:"Deprecated Local Storage",storage:dt}],St),{data:E}=C(),A=Q(),[T]=G(rt),u=(0,n.useCallback)(async()=>{let{version:f}=chrome.runtime.getManifest(),d=await x.getDeviceId(),ct=await A();return{"App Version":f,"Platform Information":H,"Display Language":P(_.language),"Phantom Auth":ct,"Device Id":d,Portfolio:T,"Auto Lock Timer(ms)":E,...e,...o,...i}},[T,e,o,i,A,E]),st=t||r||at,nt=(0,n.useCallback)(async f=>{f?.preventDefault();let d=await u();await b.downloadLog(d)},[u]),it=(0,n.useCallback)(()=>{S({url:W})},[]),mt=(0,n.useCallback)(()=>{S({url:y})},[]);return{appState:u,isFetching:st,goCreateTicket:it,goSupportDesk:mt,downloadLogs:nt}};export{Ao as a,ot as b};
//# sourceMappingURL=chunk-7FFRPFVP.js.map
