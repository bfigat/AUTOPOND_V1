import{za as M}from"./chunk-R3TVD7ZG.js";import"./chunk-5L73R4BT.js";import"./chunk-KZ5DTHAI.js";import"./chunk-KTETFJNC.js";import"./chunk-MZXI3U4A.js";import"./chunk-DDDNAWUZ.js";import"./chunk-YEA3RDR6.js";import"./chunk-XQXZVJWW.js";import"./chunk-6OVSPI3T.js";import"./chunk-U2ESYN6B.js";import"./chunk-MVPAPIC5.js";import"./chunk-FQHIVBIR.js";import"./chunk-WF7GYM4L.js";import"./chunk-M5BU2PW7.js";import"./chunk-44CPIUAN.js";import"./chunk-D4L3JZNR.js";import"./chunk-2LWT7HCH.js";import"./chunk-IWKHOUY6.js";import"./chunk-KLYKJSXB.js";import"./chunk-64KUFJMR.js";import"./chunk-QCLMZS5E.js";import"./chunk-FTVLZLLN.js";import"./chunk-WGGKE3W4.js";import"./chunk-5ANSHKRX.js";import{db as I,eb as L,ha as $,qa as P}from"./chunk-DC74PDKK.js";import"./chunk-SYKKPS5X.js";import"./chunk-N37TUQ6O.js";import"./chunk-6QNUOYSW.js";import"./chunk-T66NYVB2.js";import"./chunk-CXKBWI2Z.js";import"./chunk-T7KN34I4.js";import"./chunk-4MBFYWFI.js";import"./chunk-DR6UT56S.js";import"./chunk-54A4UP2W.js";import"./chunk-CWW3WR5J.js";import"./chunk-K5JGLO2R.js";import"./chunk-SOBOWLRY.js";import{c as H}from"./chunk-OA5YQ6R3.js";import"./chunk-6QC2YHQA.js";import"./chunk-TEXQAPAF.js";import"./chunk-IHGFL7KF.js";import"./chunk-2UCAAWZM.js";import"./chunk-OYJH24PS.js";import"./chunk-FVJIE3BT.js";import"./chunk-MW7L7CKT.js";import"./chunk-GYYECUZK.js";import"./chunk-XA7AAXB6.js";import{Y as A}from"./chunk-C5GK3F6I.js";import{Ze as v,nb as C}from"./chunk-S3GUIRR4.js";import"./chunk-JAJRGPOT.js";import"./chunk-AG2PIQR6.js";import{Ia as F,R as D,Yb as R,c as X,ob as V}from"./chunk-DAZNTGG2.js";import"./chunk-2POO4JJE.js";import"./chunk-PQWATTJB.js";import"./chunk-OLIHMAK6.js";import{f as O,h as N,n as h}from"./chunk-YJSZZTEX.js";N();h();var t=O(X());var Y=o=>self.open(o,"_blank"),Z=()=>{let{handleHideModalVisibility:o}=M(),e=H(),{data:c}=v(),l=c?.type==="ledger",u="swapSDKConfirmation",s=(0,t.useCallback)(()=>{o(u)},[o,u]),i=(0,t.useCallback)(()=>{s(),e("/notifications")},[s,e]);return L({isLedger:l,goToSwapTab:s,goToActivityTab:i})},ee=()=>{let o=(0,t.useRef)(null),{t:e}=D(),c=$(),g=Z(),{data:l}=A(),u=e("swapTxConfirmationViewTransaction"),{isBridge:s,sellAsset:i,buyAsset:p,estimatedTime:K,isClosable:U,isSuccess:z,txErrorHelpButtonLink:Q,onClose:W,onSwapSuccess:_}=g,[d,j]=(0,t.useState)(void 0),[n,q]=(0,t.useState)(void 0),[y,G]=(0,t.useState)(!1),a,r,b,f,E=e("commandClose"),k,w=U||!1,S,B;if(s&&i){let m=`${i.amount} ${i.symbol}`,x=C.getNetworkName(i.networkID),T=`${p.amount} ${p.symbol}`,J=C.getNetworkName(p.networkID);a=e("swapTxBridgeSubmitting"),r=e("swapTxBridgeSubmittingDescription",{sellAmount:m,sellNetwork:x,buyAmount:T,buyNetwork:J})}else r=`${p.symbol||e("swapTxConfirmationTokens")} ${e("swapTxConfirmationTokensWillBeDeposited")} `,a=e("swapTxConfirmationSwappingTokens");return n?.type==="executeSwapStarted"&&o.current?.start(),n?.type==="transactionConfirmed"&&(s?(a=e("swapTxBridgeSubmitted"),r=e("swapTxBridgeSubmittedDescription",{estimatedTime:K}),b=e("swapTxBridgeSubmittedDisclaimer")):(a=e("swapTxConfirmationTokensDepositedTitle"),r=e("swapTxConfirmationTokensDepositedBody")),f={theme:"primary"},w=!0,o.current?.success()),(n?.type==="simulationFailed"||n?.type==="transactionConfirmationFailed"||n?.type==="transactionSubmissionFailed")&&(f={theme:"secondary"},E=e("commandClose"),w=!0,k=t.default.createElement(F,{alignItems:"flex-end"},t.default.createElement(V,{icon:"HelpCircle",size:32,onClick:()=>Y(Q),backgroundColor:[null,"bgButton"],color:["textSecondary","textPrimary"],label:e("commandHelp")}))),n?.type==="simulationFailed"&&(a=`${e("swapTxConfirmationSwapFailed")} ${i.symbol} \u2192 ${p.symbol}`,r=P(n.error),o.current?.fail()),(n?.type==="transactionConfirmationFailed"||n?.type==="transactionSubmissionFailed")&&(a=e("swapTxConfirmationSwapFailed"),r=e("swapTxConfirmationSwapFailedUnknownError"),o.current?.fail()),(0,t.useEffect)(()=>{!S&&setTimeout(()=>{!y&&o.current?.start(),G(!0)},200)},[y,S]),(0,t.useEffect)(()=>{let m=c.subscribeExecution({onStateChange:(x,T)=>{j(T),q(x)}});return()=>m()},[c]),d?.type==="confirmingTransaction"&&(B=I({txReceipt:d?.txReceipt,networkID:d?.executingQuote.sell.data.chain.id,preferredExplorers:l})),t.default.createElement(R,{ref:o,title:a,txLink:B,txTitle:u,description:r,disclaimer:b,isClosable:w,buttonVariant:f,buttonText:E,onClose:z?_:W,header:k,customIcon:S})},Te=ee;export{ee as SwapperSDKSwapConfirmationPage,Te as default};
//# sourceMappingURL=SwapperSDKSwapConfirmationPage-KQEEAZ4Q.js.map
